<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ADB A4001N bcm6328 based board</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p168995">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gmtII</div>
					<div class="post-datetime">
						3 Jun 2012, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I really can&#039;t get OpenWrt to boot on this board ( <a href="http://www.adbglobal.com/broadband/data/pdg-a4001n-revb.html">http://www.adbglobal.com/broadband/data â€¦ -revb.html</a> ) following changeset 32004 patches for 963281T_TEF board.</p><p>It seems like it isn&#039;t detecting CFE boot nor spi flash partition layout ...</p><p>any help please?</p><p>TIA</p><br /><p>CFE version 1.0.37-106.24 for A4001N TEF 0002 BCM96328 (32bit,SP,BE)<br />Build Date: Wed Jan 26 12:59:25 CET 2011 (zu1costast@thorold)<br />Copyright (C) 2000-2009 Broadcom Corporation.</p><p>HS Serial flash device: name MX25L128, id 0xc218 size 16384KB<br />Total Flash size: 16384K with 4096 sectors<br />Chip ID: BCM6328B0, MIPS: 320MHz, DDR: 320MHz, Bus: 160MHz<br />Main Thread: TP0<br />Memory Test Passed<br />Total Memory: 33554432 bytes (32MB)<br />Boot Address: 0xb8000000</p><p>Board IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 192.168.1.1:ffffff00&nbsp; <br />Host IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 192.168.1.10&nbsp; <br />Gateway IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :&nbsp; &nbsp;<br />Run from flash/host (f/h)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: f&nbsp; <br />Default host run file name&nbsp; &nbsp; &nbsp; &nbsp; : run.bin&nbsp; <br />Default host flash file name&nbsp; &nbsp; &nbsp; : 2.bin&nbsp; <br />Boot delay (0-9 seconds)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 9&nbsp; <br />Boot image (0=latest, 1=previous) : 0&nbsp; <br />Board Id (0-4)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 963281T_TEF&nbsp; <br />Number of MAC Addresses (1-32)&nbsp; &nbsp; : 11&nbsp; <br />Base MAC Address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 30:39:f2:87:8f:41&nbsp; <br />PSI Size (1-64) KBytes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 24&nbsp; <br />Enable Backup PSI [0|1]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 1&nbsp; <br />System Log Size (0-256) KBytes&nbsp; &nbsp; : 0&nbsp; <br />Main Thread Number [0|1]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 0&nbsp; <br />Voice Board Configuration (0-11)&nbsp; :&nbsp; &nbsp;</p><p>*** Press any key to stop auto run (9 seconds) ***<br />Auto run second count down: 8<br />web info: Waiting for connection on socket 0.<br />CFE&gt; <br />web info: Waiting for connection on socket 1.<br />CFE&gt; r<br />Booting from latest image (0xb8800000) ...<br />Code Address: 0x80010000, Entry Address: 0x80010000<br />LZMA: Prossible old LZMA format, trying to decompress..<br />Decompression OK!<br />Entry at 0x80010000<br />Closing network.<br />Disabling Switch ports.<br />Flushing Receive Buffers...<br />2 buffers found.<br />Closing DMA Channels.<br />Starting program at 0x80010000<br />[&nbsp; &nbsp; 0.000000] Linux version 3.3.7 (chisco@chisco-aluminio) (gcc version 4.6.3 20120201 (prerelease) (Li2<br />[&nbsp; &nbsp; 0.000000] Detected Broadcom 0x6328 CPU revision 10b0<br />[&nbsp; &nbsp; 0.000000] CPU frequency is 320 MHz<br />[&nbsp; &nbsp; 0.000000] 32MB of RAM installed<br />[&nbsp; &nbsp; 0.000000] registering 32 GPIOs<br />[&nbsp; &nbsp; 0.000000] gpiochip_add: registered GPIOs 0 to 31 on device: bcm63xx-gpio<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: Boot address 0xb8000000<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: CFE version: unknown<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 0002a075 (Broadcom BMIPS4350)<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: board name: 963281T_TEF<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Reserving 0MB of memory at 0MB for crashkernel<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 16 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 2-way, VIPT, cache aliases, linesize 16 bytes<br />[&nbsp; &nbsp; 0.000000] Memory: 29416k/32768k available (2219k kernel code, 3352k reserved, 396k data, 196k init,)<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:128<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 318.46 BogoMIPS (lpj=636928)<br />[&nbsp; &nbsp; 0.036000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.040000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.048000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.276000] registering PCI controller with io_map_base unset<br />[&nbsp; &nbsp; 0.284000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.292000] PCI host bridge to bus 0000:00<br />[&nbsp; &nbsp; 0.296000] pci_bus 0000:00: root bus resource [mem 0x10f00000-0x11efffff]<br />[&nbsp; &nbsp; 0.300000] pci_bus 0000:00: root bus resource [??? 0x00000000 flags 0x0]<br />[&nbsp; &nbsp; 0.304000] pci 0000:00:00.0: BAR 8: assigned [mem 0x10f00000-0x10ffffff]<br />[&nbsp; &nbsp; 0.308000] pci 0000:01:00.0: BAR 0: assigned [mem 0x10f00000-0x10f03fff 64bit]<br />[&nbsp; &nbsp; 0.312000] pci 0000:00:00.0: PCI bridge to [bus 01-01]<br />[&nbsp; &nbsp; 0.316000] pci 0000:00:00.0:&nbsp; &nbsp;bridge window [mem 0x10f00000-0x10ffffff]<br />[&nbsp; &nbsp; 0.320000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br />[&nbsp; &nbsp; 0.324000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.332000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.336000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.344000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.352000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.360000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.364000] TCP reno registered<br />[&nbsp; &nbsp; 0.368000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.376000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.384000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.388000] audit: initializing netlink socket (disabled)<br />[&nbsp; &nbsp; 0.396000] type=2000 audit(0.396:1): initialized<br />[&nbsp; &nbsp; 0.400000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.408000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat,.<br />[&nbsp; &nbsp; 0.420000] msgmni has been set to 57<br />[&nbsp; &nbsp; 0.424000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.428000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.440000] console [ttyS0] enabled, bootconsole disabled= 36) is a bcm63xx_uart<br />[&nbsp; &nbsp; 0.440000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.460000] m25p80 spi0.0: found mx25l12805d, expected m25p80<br />[&nbsp; &nbsp; 0.464000] m25p80 spi0.0: mx25l12805d (16384 Kbytes)<br />[&nbsp; &nbsp; 0.472000] Searching for RedBoot partition table in spi0.0 at offset 0xff0000<br />[&nbsp; &nbsp; 0.508000] No RedBoot partition table detected in spi0.0<br />[&nbsp; &nbsp; 0.520000] bcm63xx-wdt bcm63xx-wdt:&nbsp; started, timer margin: 30 sec<br />[&nbsp; &nbsp; 0.532000] TCP westwood registered<br />[&nbsp; &nbsp; 0.532000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 0.540000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 0.544000] VFS: Cannot open root device &quot;mtdblock2&quot; or unknown-block(0,0)<br />[&nbsp; &nbsp; 0.552000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />[&nbsp; &nbsp; 0.560000] 1f00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16384 mtdblock0&nbsp; (driver?)<br />[&nbsp; &nbsp; 0.564000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168999">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						4 Jun 2012, 00:51					</div>
				</div>
				<div class="post-content content">
					<p>Your problem is this:</p><div class="quotebox"><cite>gmtII wrote:</cite><blockquote><p>Booting from latest image (0xb8800000) ...</p></blockquote></div><p>This means your CFE flashed the image to the dual boot second image offset, not the primary image offset. Just flash the image through CFE again, and it should choose to flash to the primary image address.</p><p>You can also use the image builder build images to pretend the images are too big for dual image layout; use the --pad &lt;X&gt; argument for that (like for the 96328anvg images). Set X to half of your flash in megabytes; in your case 8. After that it CFE will think the image is too big to fit to 0xb8800000 and always flash to 0xb8010000.</p><p><strong>Edit</strong>: wait, this isn&#039;t your primary problem, but it will be a secondary one.</p><div class="quotebox"><blockquote><p>[&nbsp; &nbsp; 0.000000] board_bcm963xx: Boot address 0xb8000000<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: CFE version: unknown</p></blockquote></div><p>This means it failed (or will fail) to detect CFE, bailing out later. Can you perhaps provide a copy of the CFE binary?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169000">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">gmtII</div>
					<div class="post-datetime">
						4 Jun 2012, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>Added &#039;--pad 8&#039; and it boots now from primary image address but I&#039;m unable to dump CFE in orignal firmware <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> (CFE not accesible/listed in mtd table?)</p><p>/proc # cat mtd<br />dev:&nbsp; &nbsp; size&nbsp; &nbsp;erasesize&nbsp; name<br />mtd0: 0057b000 0057b000 &quot;Physically mapped flash&quot;</p><p>Is there another way to dump CFE than desoldering flash and reading in a external programmer?</p><p>Thank you very much!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169001">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						4 Jun 2012, 02:02					</div>
				</div>
				<div class="post-content content">
					<p>in build_dir/linux-brcm/linux-3.3.7/drivers/mtd/bcm63xxpart.c try replacing<br /></p><div class="codebox"><pre><code>static int bcm63xx_detect_cfe(struct mtd_info *master)
{
      ...
      return strncmp(&quot;CFE1CFE1&quot;, buf, 8);
}</code></pre></div><p>with<br /></p><div class="codebox"><pre><code>static int bcm63xx_detect_cfe(struct mtd_info *master)
{
      ...
      return 0;
}</code></pre></div><p>This will disable the CFE check, and it should create the partitions (assuming the CFE tag is still at the usual location).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169002">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">gmtII</div>
					<div class="post-datetime">
						4 Jun 2012, 02:22					</div>
				</div>
				<div class="post-content content">
					<p>yes, it worked fine... </p><p>hexdump of CFE (ethernet not working yet <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><a href="http://www.mediafire.com/?mw6md3c7gqpb4m6">http://www.mediafire.com/?mw6md3c7gqpb4m6</a></p><p>thank you very much!</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.3.7 (chisco@chisco-aluminio) (gcc version 4.6.3 20120201 (prerelease) (Lin2<br />[&nbsp; &nbsp; 0.000000] Detected Broadcom 0x6328 CPU revision 10b0<br />[&nbsp; &nbsp; 0.000000] CPU frequency is 320 MHz<br />[&nbsp; &nbsp; 0.000000] 32MB of RAM installed<br />[&nbsp; &nbsp; 0.000000] registering 32 GPIOs<br />[&nbsp; &nbsp; 0.000000] gpiochip_add: registered GPIOs 0 to 31 on device: bcm63xx-gpio<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: Boot address 0xb8000000<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: CFE version: unknown<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 0002a075 (Broadcom BMIPS4350)<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: board name: 963281T_TEF<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] On node 0 totalpages: 8192<br />[&nbsp; &nbsp; 0.000000] free_area_init_node: node 0, pgdat 8029d730, node_mem_map 81000000<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 64 pages used for memmap<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 0 pages reserved<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 8128 pages, LIFO batch:0<br />[&nbsp; &nbsp; 0.000000] Reserving 0MB of memory at 0MB for crashkernel<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: [0] 0 <br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS00<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 16 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 2-way, VIPT, cache aliases, linesize 16 bytes<br />[&nbsp; &nbsp; 0.000000] Memory: 29416k/32768k available (2219k kernel code, 3352k reserved, 396k data, 196k init, )<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:128<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 318.46 BogoMIPS (lpj=636928)<br />[&nbsp; &nbsp; 0.036000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.040000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.048000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.276000] registering PCI controller with io_map_base unset<br />[&nbsp; &nbsp; 0.284000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.292000] PCI host bridge to bus 0000:00<br />[&nbsp; &nbsp; 0.296000] pci_bus 0000:00: root bus resource [mem 0x10f00000-0x11efffff]<br />[&nbsp; &nbsp; 0.300000] pci_bus 0000:00: root bus resource [??? 0x00000000 flags 0x0]<br />[&nbsp; &nbsp; 0.304000] pci 0000:00:00.0: [14e4:6328] type 1 class 0x000604<br />[&nbsp; &nbsp; 0.304000] pci 0000:00:00.0: PME# supported from D0 D3hot<br />[&nbsp; &nbsp; 0.304000] pci 0000:01:00.0: [14e4:a8d8] type 0 class 0x000280<br />[&nbsp; &nbsp; 0.304000] pci 0000:01:00.0: reg 10: [mem 0x00000000-0x00003fff 64bit]<br />[&nbsp; &nbsp; 0.304000] pci 0000:01:00.0: supports D1 D2<br />[&nbsp; &nbsp; 0.304000] pci 0000:00:00.0: BAR 8: assigned [mem 0x10f00000-0x10ffffff]<br />[&nbsp; &nbsp; 0.308000] pci 0000:01:00.0: BAR 0: assigned [mem 0x10f00000-0x10f03fff 64bit]<br />[&nbsp; &nbsp; 0.312000] pci 0000:00:00.0: PCI bridge to [bus 01-01]<br />[&nbsp; &nbsp; 0.316000] pci 0000:00:00.0:&nbsp; &nbsp;bridge window [mem 0x10f00000-0x10ffffff]<br />[&nbsp; &nbsp; 0.320000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br />[&nbsp; &nbsp; 0.324000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.332000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.336000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.344000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.352000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.360000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.364000] TCP reno registered<br />[&nbsp; &nbsp; 0.368000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.376000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.384000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.388000] PCI: CLS 0 bytes, default 16<br />[&nbsp; &nbsp; 0.388000] audit: initializing netlink socket (disabled)<br />[&nbsp; &nbsp; 0.396000] type=2000 audit(0.396:1): initialized<br />[&nbsp; &nbsp; 0.400000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.408000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, .<br />[&nbsp; &nbsp; 0.420000] msgmni has been set to 57<br />[&nbsp; &nbsp; 0.424000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.428000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.432000] bcm63xx_uart.0: ttyS0 at MMIO 0xb0000100 (irq = 36) is a bcm63xx_uart<br />[&nbsp; &nbsp; 0.440000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.460000] bcm63xx-hsspi bcm63xx-hsspi.0: registered master spi0<br />[&nbsp; &nbsp; 0.460000] spi spi0.0: setup mode 0, 8 bits/w, 40000000 Hz max --&gt; 0<br />[&nbsp; &nbsp; 0.460000] m25p80 spi0.0: found mx25l12805d, expected m25p80<br />[&nbsp; &nbsp; 0.464000] m25p80 spi0.0: mx25l12805d (16384 Kbytes)<br />[&nbsp; &nbsp; 0.472000] bcm63xxpart: CFE boot tag found with version 6 and board type 963281T_TEF<br />[&nbsp; &nbsp; 0.480000] bcm63xxpart: Partition 0 is CFE offset 0 and length 10000<br />[&nbsp; &nbsp; 0.484000] bcm63xxpart: Partition 1 is kernel offset 10100 and length eff00<br />[&nbsp; &nbsp; 0.492000] bcm63xxpart: Partition 2 is rootfs offset 100000 and length ef0000<br />[&nbsp; &nbsp; 0.500000] bcm63xxpart: Partition 3 is nvram offset ff0000 and length 10000<br />[&nbsp; &nbsp; 0.508000] bcm63xxpart: Partition 4 is linux offset 10000 and length fe0000<br />[&nbsp; &nbsp; 0.516000] bcm63xxpart: Spare partition is offset 260004 and length d8fffc<br />[&nbsp; &nbsp; 0.524000] 5 bcm63xxpart partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.528000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.532000] 0x000000000000-0x000000010000 : &quot;CFE&quot;<br />[&nbsp; &nbsp; 0.540000] 0x000000010100-0x000000100000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.548000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller thay<br />[&nbsp; &nbsp; 0.560000] 0x000000100000-0x000000ff0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.568000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />[&nbsp; &nbsp; 0.576000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=260000, len=D90000 <br />[&nbsp; &nbsp; 0.584000] 0x000000260000-0x000000ff0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.592000] 0x000000ff0000-0x000001000000 : &quot;nvram&quot;<br />[&nbsp; &nbsp; 0.600000] 0x000000010000-0x000000ff0000 : &quot;linux&quot;<br />[&nbsp; &nbsp; 0.608000] bcm63xx-hsspi bcm63xx-hsspi.0: registered child spi0.0<br />[&nbsp; &nbsp; 0.612000] bcm63xx-wdt bcm63xx-wdt:&nbsp; started, timer margin: 30 sec<br />[&nbsp; &nbsp; 0.620000] Registered led device: 963281T_TEF::internet<br />[&nbsp; &nbsp; 0.620000] Registered led device: 963281T_TEF::power<br />[&nbsp; &nbsp; 0.620000] Registered led device: 963281T_TEF::internet-fail<br />[&nbsp; &nbsp; 0.620000] Registered led device: 963281T_TEF::power-fail<br />[&nbsp; &nbsp; 0.620000] Registered led device: 963281T_TEF::wps<br />[&nbsp; &nbsp; 0.620000] Registered led device: 963281T_TEF::dsl<br />[&nbsp; &nbsp; 0.624000] TCP westwood registered<br />[&nbsp; &nbsp; 0.628000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 0.632000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 0.644000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 0.656000] Freeing unused kernel memory: 196k freed<br />[&nbsp; &nbsp; 3.284000] roboswitch: Probing device eth0: No such device<br />[&nbsp; &nbsp; 3.292000] roboswitch: Probing device eth1: No such device<br />[&nbsp; &nbsp; 3.296000] roboswitch: Probing device eth2: No such device<br />[&nbsp; &nbsp; 3.304000] roboswitch: Probing device eth3: No such device<br />[&nbsp; &nbsp;10.548000] Compat-wireless backport release: compat-wireless-2012-05-16-3-gde86a47<br />[&nbsp; &nbsp;10.556000] Backport based on wireless-testing.git master-2012-05-29<br />[&nbsp; &nbsp;10.564000] compat.git: wireless-testing.git<br />[&nbsp; &nbsp;10.620000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;10.624000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;10.632000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;10.640000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;10.648000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;10.656000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;10.664000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;10.672000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;10.940000] There is already a switch registered on the device &#039;eth0&#039;<br />[&nbsp; &nbsp;10.944000] roboswitch: Probing device eth1: No such device<br />[&nbsp; &nbsp;10.952000] roboswitch: Probing device eth2: No such device<br />[&nbsp; &nbsp;10.956000] roboswitch: Probing device eth3: No such device<br />[&nbsp; &nbsp;11.628000] Broadcom 43xx driver loaded [ Features: PNL ]<br />[&nbsp; &nbsp;11.656000] Button Hotplug driver version 0.4.1<br />[&nbsp; &nbsp;11.700000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;11.920000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;12.108000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;12.164000] nf_conntrack version 0.5.0 (462 buckets, 1848 max)<br />[&nbsp; &nbsp;12.628000] Error: Driver &#039;bcm63xx-spi&#039; is already registered, aborting...<br />[&nbsp; &nbsp;25.192000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0<br />[&nbsp; &nbsp;25.208000] jffs2_build_filesystem(): unlocking the mtd device... done.<br />[&nbsp; &nbsp;25.212000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.<br />[&nbsp; 114.628000] JFFS2 notice: (731) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of</p>											<p class="post-edited">(Last edited by <strong>gmtII</strong> on 4 Jun 2012, 02:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169025">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">KanjiMonster</div>
					<div class="post-datetime">
						4 Jun 2012, 11:46					</div>
				</div>
				<div class="post-content content">
					<p>I just <a href="https://dev.openwrt.org/changeset/32041">committed a fix for non working ethernet on 96328avng and 963281TAN</a>. I suspect you used one of them as the reference for your board definition, so if you apply the fix to yours ethernet should be working for you, too.</p><p>Regarding the CFE detection, I think I know how to work around it without making it too ugly; I will create a patch for you to test later.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169076">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">gmtII</div>
					<div class="post-datetime">
						4 Jun 2012, 20:18					</div>
				</div>
				<div class="post-content content">
					<p>Ethernet working, but no wifi or usb...</p><p><a href="http://pastebin.com/4GTFHcRE">http://pastebin.com/4GTFHcRE</a></p><p>thank you very much</p><div class="quotebox"><cite>KanjiMonster wrote:</cite><blockquote><p>I just <a href="https://dev.openwrt.org/changeset/32041">committed a fix for non working ethernet on 96328avng and 963281TAN</a>. I suspect you used one of them as the reference for your board definition, so if you apply the fix to yours ethernet should be working for you, too.</p><p>Regarding the CFE detection, I think I know how to work around it without making it too ugly; I will create a patch for you to test later.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169804">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">gmtII</div>
					<div class="post-datetime">
						12 Jun 2012, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I patched source as another user proposed with wifi device definition:</p><p>(<br />original fw lspci <br />00:09.0 Class 0c03: 14e4:6300<br />00:0a.0 Class 0c03: 14e4:6300<br />01:00.0 Class 0604: 14e4:6328<br />02:00.0 Class 0280: 14e4:a8d8<br />)</p><p>diff -upr a/drivers/bcma/host_pci.c b/drivers/bcma/host_pci.c<br />--- a/drivers/bcma/host_pci.c<br />+++ b/drivers/bcma/host_pci.c<br />@@ -272,6 +272,7 @@ static DEFINE_PCI_DEVICE_TABLE(bcma_pci_<br /> &nbsp; &nbsp; { PCI_DEVICE(PCI_VENDOR_ID_BROADCOM, 0x4353) },<br /> &nbsp; &nbsp; { PCI_DEVICE(PCI_VENDOR_ID_BROADCOM, 0x4357) },<br /> &nbsp; &nbsp; { PCI_DEVICE(PCI_VENDOR_ID_BROADCOM, 0x4727) },<br />+&nbsp; &nbsp; { PCI_DEVICE(PCI_VENDOR_ID_BROADCOM, 0xA8D8) },<br /> &nbsp; &nbsp; { 0, },<br /> };<br /> MODULE_DEVICE_TABLE(pci, bcma_pci_bridge_tbl);</p><p>Wifi is detected now but unusable showing &quot;PHY for wifi device radio0 not found&quot;.</p><p>New bootlog:</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.3.7 (chisco@chisco-aluminio) (gcc version 4.6.3 20120201 (prerelease) (Li2<br />[&nbsp; &nbsp; 0.000000] Detected Broadcom 0x6328 CPU revision 10b0<br />[&nbsp; &nbsp; 0.000000] CPU frequency is 320 MHz<br />[&nbsp; &nbsp; 0.000000] 32MB of RAM installed<br />[&nbsp; &nbsp; 0.000000] registering 32 GPIOs<br />[&nbsp; &nbsp; 0.000000] gpiochip_add: registered GPIOs 0 to 31 on device: bcm63xx-gpio<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: Boot address 0xb8000000<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: CFE version: unknown<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 0002a075 (Broadcom BMIPS4350)<br />[&nbsp; &nbsp; 0.000000] board_bcm963xx: board name: 963281T_TEF<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone PFN ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] Movable zone start PFN for each node<br />[&nbsp; &nbsp; 0.000000] Early memory PFN ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp; &nbsp;0: 0x00000000 -&gt; 0x00002000<br />[&nbsp; &nbsp; 0.000000] On node 0 totalpages: 8192<br />[&nbsp; &nbsp; 0.000000] free_area_init_node: node 0, pgdat 802a3e20, node_mem_map 81000000<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 64 pages used for memmap<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 0 pages reserved<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal zone: 8128 pages, LIFO batch:0<br />[&nbsp; &nbsp; 0.000000] Reserving 0MB of memory at 0MB for crashkernel<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768<br />[&nbsp; &nbsp; 0.000000] pcpu-alloc:<br />0<br />[&nbsp; &nbsp; 0.000000] Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />[&nbsp; &nbsp; 0.000000] Kernel command line:&nbsp; root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0<br />[&nbsp; &nbsp; 0.000000] PID hash table entries: 128 (order: -3, 512 bytes)<br />[&nbsp; &nbsp; 0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />[&nbsp; &nbsp; 0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 16 bytes.<br />[&nbsp; &nbsp; 0.000000] Primary data cache 32kB, 2-way, VIPT, cache aliases, linesize 16 bytes<br />[&nbsp; &nbsp; 0.000000] Memory: 29384k/32768k available (2243k kernel code, 3384k reserved, 397k data, 200k init,)<br />[&nbsp; &nbsp; 0.000000] NR_IRQS:128<br />[&nbsp; &nbsp; 0.000000] Calibrating delay loop... 318.46 BogoMIPS (lpj=636928)<br />[&nbsp; &nbsp; 0.036000] pid_max: default: 32768 minimum: 301<br />[&nbsp; &nbsp; 0.040000] Mount-cache hash table entries: 512<br />[&nbsp; &nbsp; 0.048000] NET: Registered protocol family 16<br />[&nbsp; &nbsp; 0.276000] registering PCI controller with io_map_base unset<br />[&nbsp; &nbsp; 0.284000] bio: create slab &lt;bio-0&gt; at 0<br />[&nbsp; &nbsp; 0.288000] PCI host bridge to bus 0000:00<br />[&nbsp; &nbsp; 0.292000] pci_bus 0000:00: root bus resource [mem 0x10f00000-0x11efffff]<br />[&nbsp; &nbsp; 0.296000] pci_bus 0000:00: root bus resource [ 0x00000000 flags 0x0]<br />[&nbsp; &nbsp; 0.300000] pci 0000:00:00.0: [14e4:6328] type 1 class 0x000604<br />[&nbsp; &nbsp; 0.300000] pci 0000:00:00.0: PME# supported from D0 D3hot<br />[&nbsp; &nbsp; 0.300000] pci 0000:01:00.0: [14e4:a8d8] type 0 class 0x000280<br />[&nbsp; &nbsp; 0.300000] pci 0000:01:00.0: reg 10: [mem 0x00000000-0x00003fff 64bit]<br />[&nbsp; &nbsp; 0.300000] pci 0000:01:00.0: supports D1 D2<br />[&nbsp; &nbsp; 0.300000] pci 0000:00:00.0: BAR 8: assigned [mem 0x10f00000-0x10ffffff]<br />[&nbsp; &nbsp; 0.304000] pci 0000:01:00.0: BAR 0: assigned [mem 0x10f00000-0x10f03fff 64bit]<br />[&nbsp; &nbsp; 0.308000] pci 0000:00:00.0: PCI bridge to [bus 01-01]<br />[&nbsp; &nbsp; 0.312000] pci 0000:00:00.0:&nbsp; &nbsp;bridge window [mem 0x10f00000-0x10ffffff]<br />[&nbsp; &nbsp; 0.316000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)<br />[&nbsp; &nbsp; 0.320000] Switching to clocksource MIPS<br />[&nbsp; &nbsp; 0.328000] PCI: Enabling device 0000:01:00.0 (0000 -&gt; 0002)<br />[&nbsp; &nbsp; 0.336000] bcma: Found chip with id 0xA8D9, rev 0x01 and package 0x0A<br />[&nbsp; &nbsp; 0.340000] bcma: Core 0 found: ChipCommon (manuf 0x4BF, id 0x800, rev 0x22, class 0x0)<br />[&nbsp; &nbsp; 0.348000] bcma: Core 1 found: IEEE 802.11 (manuf 0x4BF, id 0x812, rev 0x17, class 0x0)<br />[&nbsp; &nbsp; 0.356000] bcma: Core 2 found: PCIe (manuf 0x4BF, id 0x820, rev 0x0F, class 0x0)<br />[&nbsp; &nbsp; 0.364000] bcma: Found rev 6 PMU (capabilities 0x108C2606)<br />[&nbsp; &nbsp; 0.396000] bcma: SPROM offset 0x800<br />[&nbsp; &nbsp; 0.436000] bcma: Failed to get SPROM: -71<br />[&nbsp; &nbsp; 0.440000] bcma: Bus registered<br />[&nbsp; &nbsp; 0.444000] NET: Registered protocol family 2<br />[&nbsp; &nbsp; 0.448000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.456000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />[&nbsp; &nbsp; 0.464000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.468000] TCP: Hash tables configured (established 1024 bind 1024)<br />[&nbsp; &nbsp; 0.476000] TCP reno registered<br />[&nbsp; &nbsp; 0.480000] UDP hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.484000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)<br />[&nbsp; &nbsp; 0.492000] NET: Registered protocol family 1<br />[&nbsp; &nbsp; 0.496000] PCI: CLS 0 bytes, default 16<br />[&nbsp; &nbsp; 0.500000] audit: initializing netlink socket (disabled)<br />[&nbsp; &nbsp; 0.504000] type=2000 audit(0.504:1): initialized<br />[&nbsp; &nbsp; 0.512000] squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />[&nbsp; &nbsp; 0.516000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat,.<br />[&nbsp; &nbsp; 0.528000] msgmni has been set to 57<br />[&nbsp; &nbsp; 0.532000] io scheduler noop registered<br />[&nbsp; &nbsp; 0.536000] io scheduler deadline registered (default)<br />[&nbsp; &nbsp; 0.544000] bcm63xx_uart.0: ttyS0 at MMIO 0xb0000100 (irq = 36) is a bcm63xx_uart<br />[&nbsp; &nbsp; 0.552000] console [ttyS0] enabled, bootconsole disabled<br />[&nbsp; &nbsp; 0.568000] bcm63xx-hsspi bcm63xx-hsspi.0: registered master spi0<br />[&nbsp; &nbsp; 0.568000] spi spi0.0: setup mode 0, 8 bits/w, 40000000 Hz max --&gt; 0<br />[&nbsp; &nbsp; 0.568000] m25p80 spi0.0: found mx25l12805d, expected m25p80<br />[&nbsp; &nbsp; 0.576000] m25p80 spi0.0: mx25l12805d (16384 Kbytes)<br />[&nbsp; &nbsp; 0.580000] bcm63xxpart: CFE boot tag found with version 6 and board type 963281T_TEF<br />[&nbsp; &nbsp; 0.588000] bcm63xxpart: Partition 0 is CFE offset 0 and length 10000<br />[&nbsp; &nbsp; 0.596000] bcm63xxpart: Partition 1 is kernel offset 10100 and length eff00<br />[&nbsp; &nbsp; 0.604000] bcm63xxpart: Partition 2 is rootfs offset 100000 and length ef0000<br />[&nbsp; &nbsp; 0.612000] bcm63xxpart: Partition 3 is nvram offset ff0000 and length 10000<br />[&nbsp; &nbsp; 0.616000] bcm63xxpart: Partition 4 is linux offset 10000 and length fe0000<br />[&nbsp; &nbsp; 0.624000] bcm63xxpart: Spare partition is offset 2a0004 and length d4fffc<br />[&nbsp; &nbsp; 0.632000] 5 bcm63xxpart partitions found on MTD device spi0.0<br />[&nbsp; &nbsp; 0.640000] Creating 5 MTD partitions on &quot;spi0.0&quot;:<br />[&nbsp; &nbsp; 0.644000] 0x000000000000-0x000000010000 : &quot;CFE&quot;<br />[&nbsp; &nbsp; 0.652000] 0x000000010100-0x000000100000 : &quot;kernel&quot;<br />[&nbsp; &nbsp; 0.656000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller thy<br />[&nbsp; &nbsp; 0.672000] 0x000000100000-0x000000ff0000 : &quot;rootfs&quot;<br />[&nbsp; &nbsp; 0.680000] mtd: partition &quot;rootfs&quot; set to be root filesystem<br />[&nbsp; &nbsp; 0.684000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=2A0000, len=D50000 <br />[&nbsp; &nbsp; 0.696000] 0x0000002a0000-0x000000ff0000 : &quot;rootfs_data&quot;<br />[&nbsp; &nbsp; 0.704000] 0x000000ff0000-0x000001000000 : &quot;nvram&quot;<br />[&nbsp; &nbsp; 0.712000] 0x000000010000-0x000000ff0000 : &quot;linux&quot;<br />[&nbsp; &nbsp; 0.716000] bcm63xx-hsspi bcm63xx-hsspi.0: registered child spi0.0<br />[&nbsp; &nbsp; 0.756000] bcm63xx-wdt bcm63xx-wdt:&nbsp; started, timer margin: 30 sec<br />[&nbsp; &nbsp; 0.764000] Registered led device: 963281T_TEF::internet<br />[&nbsp; &nbsp; 0.764000] Registered led device: 963281T_TEF::power<br />[&nbsp; &nbsp; 0.764000] Registered led device: 963281T_TEF::internet-fail<br />[&nbsp; &nbsp; 0.764000] Registered led device: 963281T_TEF::power-fail<br />[&nbsp; &nbsp; 0.768000] Registered led device: 963281T_TEF::wps<br />[&nbsp; &nbsp; 0.768000] Registered led device: 963281T_TEF::dsl<br />[&nbsp; &nbsp; 0.768000] TCP westwood registered<br />[&nbsp; &nbsp; 0.772000] NET: Registered protocol family 17<br />[&nbsp; &nbsp; 0.776000] 8021q: 802.1Q VLAN Support v1.8<br />[&nbsp; &nbsp; 0.788000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.<br />[&nbsp; &nbsp; 0.800000] Freeing unused kernel memory: 200k freed<br />[&nbsp; &nbsp; 3.364000] bcm63xx_enetsw bcm63xx_enetsw.0: link UP on Port 1, 100Mbps, full-duplex<br />[&nbsp; &nbsp; 3.592000] roboswitch: Probing device eth0: <br />[&nbsp; &nbsp; 3.596000] bcm63xx_enet: could not find a used port with phy_id 0, assuming phy is external<br />[&nbsp; &nbsp; 3.604000] No Robo switch in managed mode found, phy_id = 0xffffffff<br />[&nbsp; &nbsp; 3.612000] roboswitch: Probing device eth1: No such device<br />[&nbsp; &nbsp; 3.616000] roboswitch: Probing device eth2: No such device<br />[&nbsp; &nbsp; 3.624000] roboswitch: Probing device eth3: No such device<br />[&nbsp; &nbsp;11.064000] Compat-wireless backport release: compat-wireless-2012-05-16-3-gde86a47<br />[&nbsp; &nbsp;11.072000] Backport based on wireless-testing.git master-2012-05-29<br />[&nbsp; &nbsp;11.080000] compat.git: wireless-testing.git<br />[&nbsp; &nbsp;11.136000] cfg80211: Calling CRDA to update world regulatory domain<br />[&nbsp; &nbsp;11.140000] cfg80211: World regulatory domain updated:<br />[&nbsp; &nbsp;11.144000] cfg80211:&nbsp; &nbsp;(start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)<br />[&nbsp; &nbsp;11.156000] cfg80211:&nbsp; &nbsp;(2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.164000] cfg80211:&nbsp; &nbsp;(2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.172000] cfg80211:&nbsp; &nbsp;(2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.180000] cfg80211:&nbsp; &nbsp;(5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.188000] cfg80211:&nbsp; &nbsp;(5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)<br />[&nbsp; &nbsp;11.608000] SCSI subsystem initialized<br />[&nbsp; &nbsp;11.652000] There is already a switch registered on the device &#039;eth0&#039;<br />[&nbsp; &nbsp;11.660000] roboswitch: Probing device eth1: No such device<br />[&nbsp; &nbsp;11.664000] roboswitch: Probing device eth2: No such device<br />[&nbsp; &nbsp;11.668000] roboswitch: Probing device eth3: No such device<br />[&nbsp; &nbsp;11.892000] usbcore: registered new interface driver usbfs<br />[&nbsp; &nbsp;11.900000] usbcore: registered new interface driver hub<br />[&nbsp; &nbsp;11.908000] usbcore: registered new device driver usb<br />[&nbsp; &nbsp;12.316000] bcma: exports duplicate symbol bcma_core_dma_translation (owned by kernel)<br />[&nbsp; &nbsp;12.660000] b43-phy0: Broadcom 43225 WLAN found (core revision 23)<br />[&nbsp; &nbsp;12.664000] bcma: Switched to core: 0x812<br />[&nbsp; &nbsp;12.664000] b43-phy0 debug: Found PHY: Analog 8, Type 4, Revision 6<br />[&nbsp; &nbsp;12.664000] b43-phy0 debug: Found Radio: Manuf 0x17F, Version 0x2056, Revision 11<br />[&nbsp; &nbsp;12.668000] Broadcom 43xx driver loaded [ Features: PNL ]<br />[&nbsp; &nbsp;12.704000] Button Hotplug driver version 0.4.1<br />[&nbsp; &nbsp;13.348000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;<br />[&nbsp; &nbsp;13.848000] PPP generic driver version 2.4.2<br />[&nbsp; &nbsp;14.216000] ip_tables: (C) 2000-2006 Netfilter Core Team<br />[&nbsp; &nbsp;14.412000] NET: Registered protocol family 24<br />[&nbsp; &nbsp;14.628000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver<br />[&nbsp; &nbsp;14.668000] nf_conntrack version 0.5.0 (462 buckets, 1848 max)<br />[&nbsp; &nbsp;15.348000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver<br />[&nbsp; &nbsp;15.428000] usbcore: registered new interface driver cdc_acm<br />[&nbsp; &nbsp;15.436000] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters<br />[&nbsp; &nbsp;15.612000] Initializing USB Mass Storage driver...<br />[&nbsp; &nbsp;15.616000] usbcore: registered new interface driver usb-storage<br />[&nbsp; &nbsp;15.624000] USB Mass Storage support registered.<br />[&nbsp; &nbsp;20.524000] device eth0 entered promiscuous mode<br />[&nbsp; &nbsp;20.528000] bcm63xx_enetsw bcm63xx_enetsw.0: link UP on Port 1, 100Mbps, full-duplex<br />[&nbsp; &nbsp;20.540000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;20.544000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;22.548000] br-lan: port 1(eth0) entered forwarding state<br />[&nbsp; &nbsp;34.272000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0<br />[&nbsp; &nbsp;34.288000] jffs2_build_filesystem(): unlocking the mtd device... done.<br />[&nbsp; &nbsp;34.292000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.<br />[&nbsp; 123.468000] JFFS2 notice: (909) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of .</p><p>Thanks!</p><br /><br /><div class="quotebox"><cite>KanjiMonster wrote:</cite><blockquote><p>I just <a href="https://dev.openwrt.org/changeset/32041">committed a fix for non working ethernet on 96328avng and 963281TAN</a>. I suspect you used one of them as the reference for your board definition, so if you apply the fix to yours ethernet should be working for you, too.</p><p>Regarding the CFE detection, I think I know how to work around it without making it too ugly; I will create a patch for you to test later.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170641">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">axishero</div>
					<div class="post-datetime">
						22 Jun 2012, 02:37					</div>
				</div>
				<div class="post-content content">
					<p>What&#039;s the wifi chipset of your device?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170665">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">gmtII</div>
					<div class="post-datetime">
						22 Jun 2012, 11:06					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s a bcm43225 chipset (14e4:a8d9)...</p><p>[&nbsp; &nbsp;13.380000] b43-phy0: Broadcom 43225 WLAN found (core revision 23)</p><br /><br /><br /><div class="quotebox"><cite>axishero wrote:</cite><blockquote><p>What&#039;s the wifi chipset of your device?</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>gmtII</strong> on 23 Jun 2012, 12:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170792">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">axishero</div>
					<div class="post-datetime">
						24 Jun 2012, 06:02					</div>
				</div>
				<div class="post-content content">
					<p>I have a&nbsp; 96328avng board flashed comtrend AR-5382u&#039;s firmware?<br /><a href="http://pastebin.com/MMvF9BZh">http://pastebin.com/MMvF9BZh</a><br />please help identify wifi device address.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>