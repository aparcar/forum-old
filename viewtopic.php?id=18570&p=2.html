<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> USB-rootfs on boot on Edimax BR-6104KP (ADM5120) [WORKS]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 7 Oct 2014 and 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=18570&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=18570&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p81089">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">bifferos</div>
					<div class="post-datetime">
						4 Feb 2009, 22:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nunojpg wrote:</cite><blockquote><p>So...is there any thing that helps?</p></blockquote></div><p>Yeah - fix the config files :-).</p><p>Seriously, I remember deleting the contents of a directory somewhere and it fixed it.&nbsp; Try checking out Squidge package directory contents after an &#039;ipkg update&#039; and comparing with what you&#039;ve got - [i|o]pkg directories under /var?&nbsp; There may be some kind of cache somewhere.</p><p>I&#039;m sorry I can&#039;t be more specific.&nbsp; Been a long time since I had this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81304">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">nunojpg</div>
					<div class="post-datetime">
						7 Feb 2009, 16:23					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been learning a lot about openwrt in the last few days.</p><p>Now I&#039;m having a problem, if I include libstdcpp in make menuconfig, make no longer creates openwrt-adm5120-br-6104kp-squashfs-xmodem.bin.</p><p>I&#039;ve checked this with the configuration on first post, with both trunk and 8.09 checkouts this morning...</p><p>Nuno</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81796">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">oszyx</div>
					<div class="post-datetime">
						13 Feb 2009, 14:58					</div>
				</div>
				<div class="post-content content">
					<p>To nunojpg</p><p>How did you fix the opkg problem?<br />I have the same problem. I followed this topic to build my OpenWrt with usb root.</p><p>Oszyx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81802">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">nunojpg</div>
					<div class="post-datetime">
						13 Feb 2009, 16:24					</div>
				</div>
				<div class="post-content content">
					<p>I didn&#039;t.</p><p>I&#039;m including all the packages that I need on compile. <br />But as I&#039;m having that strange problem when including some packages, I end up installing some packages manually...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82109">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">alexsamad</div>
					<div class="post-datetime">
						18 Feb 2009, 11:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>heruan wrote:</cite><blockquote><p>Finally I&#039;ve found how to mount USB stick at boot without patching /etc/preinit or anything else.<br />These the step I&#039;ve followed (revision 14152):</p><p>* make menuconfig<br />** Target System -&gt; Infineon/ADMtek ADM5120 [2.6]<br />** Target Profile -&gt; Edimax BR-6104KP (Unofficial)<br />** busybox -&gt; Configuration -&gt; Coreutil -&gt; stty (don&#039;t know if necessary)<br />** removed some packages (to fit firmware size): dnsmasq, dropbear, iptables (will be installed later with opkg)<br />* make kernel_menuconfig<br />** Machine selection -&gt; Infineon/ADMtek ADM5120 SoC based machines<br />** Device drivers -&gt; Memory Technology Device (MTD) support:<br />*** disable Automatically set &#039;rootfs&#039; partition to be root filesystem<br />*** disable Automatically split &#039;rootfs&#039; partition for squashfs<br />*** disable Automatically find and split TRX partitions<br />** Device drivers -&gt; SCSI device support:<br />*** {*} SCSI device support<br />*** &lt;*&gt; SCSI disk support<br />** Device drivers -&gt; [*] USB support:<br />*** &lt;*&gt; Support for Host-side USB<br />*** [*] USB device filesystem<br />*** &lt;*&gt; USB Storage support<br />*** &lt;*&gt; ADM5120 HCD support (EXPERIMENTAL)<br />** File systems -&gt; &lt;*&gt; Ext3 journalling filsystem support<br />** Kernel hacking -&gt; Default kernel command string (last setting): console=ttyS0,115200 root=/dev/sda1 init=/etc/preinit ro rootdelay=10</p><p>Then run make and wait for OpenWRT to be built. Then under bin/ you&#039;ll find:<br />* openwrt-adm5120-br-6104kp-squashfs-webui.bin<br />* openwrt-adm5120-br-6104kp-squashfs-xmodem.bin<br />* openwrt-adm5120-rootfs.tgz</p><p>Format a USB-stick with ext3 fs (assuming /dev/sdb1) and untar the rootfs:<br /># mkfs.ext3 /dev/sdb1<br /># mount /dev/sdb1 /mnt<br /># cd /mnt<br /># tar -xzf /path/to/openwrt/bin/openwrt-adm5120-rootfs.tgz</p></blockquote></div><p>So basically what you are doing is remove the kernel ability to see the MTD files and to find the USB devices and the first device is sda so it mounts that and moves forward. Cool I like that idea</p><p>Any one tried it with an asus in particular 500w</p><p>i used to modify preinit to look for a preinit.usb if it existed</p><br /><p>and then do something like</p><div class="codebox"><pre><code># load the proper modules

# Does The drive Exist
echo &quot;- is $MNTDEV there -&quot;
if [ -e &quot;$MNTDEV&quot; ]
then
    echo &quot;- yes  -&quot;
    # Can we mount it
    if  mount -o rw,noatime &quot;$MNTDEV&quot; /mnt
    then
        echo &quot;- mounted  -&quot;
        # Is there a usb.boot file and an executable /mnt/sbin/init file
        if [ -e /mnt/.usb.boot ] &amp;&amp; [ -x /mnt/sbin/init ]
        then
            echo &quot;- Files exist about to pivot  -&quot;
            mount -o move /proc /mnt/proc &amp;&amp; \
            pivot_root /mnt /mnt/rom &amp;&amp; {
                mount -o move /rom/sys /sys
                mount -o move /rom/tmp /tmp
                mount -o move /rom/dev /dev
                mount -o move /rom/dev/pts /dev/pts
                
                echo &quot;- pivot successful  -&quot;
                rc=0
            }
        else
            echo &quot;- files not there ! -&quot;
            # files doesn&#039;t exist umount drive
            umount /mnt
        fi
    
    fi
fi

kill $H
echo &quot;- return  -&quot;
set +x
return $rc</code></pre></div>											<p class="post-edited">(Last edited by <strong>alexsamad</strong> on 18 Feb 2009, 11:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82280">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">oszyx</div>
					<div class="post-datetime">
						20 Feb 2009, 21:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I build OpenWrt 8.09rc2 and 8.09. By following this topic but i get this error when i try to install a package. </p><p>This is the 8.09 output.</p><div class="codebox"><pre><code>root@OpenWrt:/# opkg update
Downloading http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz
Connecting to downloads.openwrt.org (195.56.146.238:80)

Packages.gz            0% |                               |     0  --:--:-- ETA
Packages.gz          100% |*******************************|   287k --:--:-- ETA
Inflating http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz
Updated list of available packages in /var/opkg-lists/snapshots
root@OpenWrt:/# opkg install nano
Installing nano (2.0.7-1) to root...
Downloading http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/./nano_2.0.7-1_mipsel.ipk
xsystem: ERROR: fork failed before execution: `wget --passive-ftp    -P /tmp/opkg-99cRut http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/./nano_2.0.7-1_mipsel.ipk&#039;
Collected errors:
 * Failed to download nano. Perhaps you need to run &#039;opkg update&#039;?
root@OpenWrt:/# opkg update
Downloading http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz
xsystem: ERROR: fork failed before execution: `wget --passive-ftp    -P /tmp/opkg-dwu7Fx http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz&#039;
An error ocurred, return value: 1.</code></pre></div><p>I can use some help. How do i get rid of this error?</p><p>Oscar</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82284">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">alexsamad</div>
					<div class="post-datetime">
						20 Feb 2009, 23:48					</div>
				</div>
				<div class="post-content content">
					<p>Why not try downloading the file <br />wget --passive-ftp&nbsp; &nbsp; -P /tmp/opkg-99cRut <a href="http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/./nano_2.0.7-1_mipsel.ipk">http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/./nano_2.0.7-1_mipsel.ipk&#039;</a></p><br /><p>see what happens</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82464">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">oszyx</div>
					<div class="post-datetime">
						23 Feb 2009, 14:49					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>After a lot of trying, i succeed to install nano</p><p>This is what i did.</p><p>cd /tmp<br />rm -r opkg-*<br />wget <a href="http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/libncurses_5.6-1_mipsel.ipk">http://downloads.openwrt.org/kamikaze/8 … mipsel.ipk</a><br />wget <a href="http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/nano_2.0.7-1_mipsel.ipk">http://downloads.openwrt.org/kamikaze/8 … mipsel.ipk</a><br />opkg install libncurses_5.6-1_mipsel.ipk<br />opkg install nano_2.0.7-1_mipsel.ipk<br />nano</p><p>So remove all opkg-* dir&#039;s in /tmp<br />And then install the software local <br />I still don&#039;t realy know how this bug can be fixed but this workaround works.</p><p>Oscar</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84274">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">nunojpg</div>
					<div class="post-datetime">
						20 Mar 2009, 21:04					</div>
				</div>
				<div class="post-content content">
					<p>Isn&#039;t there a option to not include rootfs in &quot;openwrt-adm5120-br-6104kp-squashfs-xmodem.bin&quot;?</p><p>I have to install the packages after building the image because otherwise it will go over 2MB...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86031">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">cj_man</div>
					<div class="post-datetime">
						17 Apr 2009, 00:29					</div>
				</div>
				<div class="post-content content">
					<p>How can I create an 4Mb squashfs image for BR 6104 KP target image?<br />What I have to modify in order to make the image if it gets bigger than 2Mb?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86034">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">cj_man</div>
					<div class="post-datetime">
						17 Apr 2009, 01:18					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve checked out 8.09 from svn://svn.openwrt.org/openwrt/branches/8.09 ( Revision: 15231 )<br /> And the usb support doesn&#039;t work. I can&#039;t find:</p><p>** Device drivers -&gt; [*] USB support:<br />*** &lt;*&gt; Support for Host-side USB<br />*** [*] USB device filesystem<br />*** &lt;*&gt; USB Storage support<br />*** &lt;*&gt; ADM5120 HCD support (EXPERIMENTAL)</p><p>in make kernel_menuconfig, but I can check kmod-usb_core in make menuconfig =&gt;<br />the kmod-usb-core.ipk it&#039;s built but it&#039;s not included in the image.<br /> Can anyone guide me where to look?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86035">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">nunojpg</div>
					<div class="post-datetime">
						17 Apr 2009, 01:21					</div>
				</div>
				<div class="post-content content">
					<p>Have you done &quot;make&quot; after configuring the profile with &quot;make menuconfig&quot;, and only then the &quot;make kernel_menuconfig&quot;?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86050">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">cj_man</div>
					<div class="post-datetime">
						17 Apr 2009, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>Yes. I&#039;ve done that. If you don;t run make the kernel patches aren;&#039;t applyed and you don;t see ADM5120 target.<br />I&#039;ve downloaded the development trunk and it&#039;s working with this ( ie: the usb support desn;t disapear anymore from the kernel menuconfig).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86466">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">cjdell</div>
					<div class="post-datetime">
						23 Apr 2009, 17:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cj_man wrote:</cite><blockquote><p>I&#039;ve checked out 8.09 from svn://svn.openwrt.org/openwrt/branches/8.09 ( Revision: 15231 )<br /> And the usb support doesn&#039;t work. I can&#039;t find:</p><p>** Device drivers -&gt; [*] USB support:<br />*** &lt;*&gt; Support for Host-side USB<br />*** [*] USB device filesystem<br />*** &lt;*&gt; USB Storage support<br />*** &lt;*&gt; ADM5120 HCD support (EXPERIMENTAL)</p><p>in make kernel_menuconfig, but I can check kmod-usb_core in make menuconfig =&gt;<br />the kmod-usb-core.ipk it&#039;s built but it&#039;s not included in the image.<br /> Can anyone guide me where to look?</p></blockquote></div><p>I&#039;m having the exact same trouble too. I&#039;ve triple checked both menuconfigs with no luck. I would appreciate some help as quickly as possible because my company is seriously considering using OpenWRT in a project.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86597">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">cj_man</div>
					<div class="post-datetime">
						25 Apr 2009, 00:23					</div>
				</div>
				<div class="post-content content">
					<p>svn co svn://svn.openwrt.org/openwrt/trunk trunk</p><p>And it will work</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87044">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">cjdell</div>
					<div class="post-datetime">
						30 Apr 2009, 23:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cj_man wrote:</cite><blockquote><p>svn co svn://svn.openwrt.org/openwrt/trunk trunk</p><p>And it will work</p></blockquote></div><p>Thank you. This did the trick.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89495">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">walinsky</div>
					<div class="post-datetime">
						8 Jun 2009, 02:25					</div>
				</div>
				<div class="post-content content">
					<p>Checking out trunk (8.0.9-1) doesn&#039;t work for me ...<br />Is there anyone who could provide me with Openwrt...xmodem.bin and rootfs.tar.gz ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89651">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">tatalor</div>
					<div class="post-datetime">
						10 Jun 2009, 19:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>oszyx wrote:</cite><blockquote><p>Hi</p><p>I build OpenWrt 8.09rc2 and 8.09. By following this topic but i get this error when i try to install a package. </p><p>This is the 8.09 output.</p><div class="codebox"><pre><code>root@OpenWrt:/# opkg update
Downloading http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz
Connecting to downloads.openwrt.org (195.56.146.238:80)

Packages.gz            0% |                               |     0  --:--:-- ETA
Packages.gz          100% |*******************************|   287k --:--:-- ETA
Inflating http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz
Updated list of available packages in /var/opkg-lists/snapshots
root@OpenWrt:/# opkg install nano
Installing nano (2.0.7-1) to root...
Downloading http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/./nano_2.0.7-1_mipsel.ipk
xsystem: ERROR: fork failed before execution: `wget --passive-ftp    -P /tmp/opkg-99cRut http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/./nano_2.0.7-1_mipsel.ipk&#039;
Collected errors:
 * Failed to download nano. Perhaps you need to run &#039;opkg update&#039;?
root@OpenWrt:/# opkg update
Downloading http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz
xsystem: ERROR: fork failed before execution: `wget --passive-ftp    -P /tmp/opkg-dwu7Fx http://downloads.openwrt.org/kamikaze/8.09/adm5120/packages/Packages.gz&#039;
An error ocurred, return value: 1.</code></pre></div><p>I can use some help. How do i get rid of this error?</p><p>Oscar</p></blockquote></div><p>Hi Oscar. This is because it has to little memory. You need to make/enable a swap partition. First make a swap partition and then install swap utils package (it is swaputils or swap_utils, I don&#039;t remember). After that you give command swapon &lt;name of partition&gt; (for example: swapon /dev/sdb1). Then, try to install something.<br />You need to download the swap utils package by hand (maybe put it on a pendrive via a computer). It has some dependecies, download and install them first. Doing this will prevent using the &quot;autoinstaller&quot; of opkg that gives that error.<br />Hope this helps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95167">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">kthunder</div>
					<div class="post-datetime">
						1 Oct 2009, 15:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>heruan wrote:</cite><blockquote><p>Finally I&#039;ve found how to mount USB stick at boot without patching /etc/preinit or anything else.<br />These the step I&#039;ve followed (revision 14152):</p></blockquote></div><p>Great guide, thanks Heruan. In case it&#039;s of use to anyone, I&#039;ve written up all of the steps I took setting up the development environment on an Ubuntu machine (including setting up the network, SSH server and installing a Python interpreter) here:<br /><a href="http://www.kelvinsthunderstorm.com/omnima-embedded-controller-and-openwrt/">http://www.kelvinsthunderstorm.com/omni … d-openwrt/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104109">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">Kajeci</div>
					<div class="post-datetime">
						2 Mar 2010, 18:20					</div>
				</div>
				<div class="post-content content">
					<p>Anyone got this to work with recent trunk (kernel 2.6.32)?<br />My build from trunk stops at the last line of the excerpt.</p><p>EDIT: Nevermind</p>											<p class="post-edited">(Last edited by <strong>Kajeci</strong> on 2 Mar 2010, 18:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104275">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">256mxr</div>
					<div class="post-datetime">
						5 Mar 2010, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>I am having Kernel panic too...what can I do?? It can&#039;t boot anymore... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109235">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">freddyk</div>
					<div class="post-datetime">
						17 May 2010, 14:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kthunder wrote:</cite><blockquote><div class="quotebox"><cite>heruan wrote:</cite><blockquote><p>Finally I&#039;ve found how to mount USB stick at boot without patching /etc/preinit or anything else.<br />These the step I&#039;ve followed (revision 14152):</p></blockquote></div><p>Great guide, thanks Heruan. In case it&#039;s of use to anyone, I&#039;ve written up all of the steps I took setting up the development environment on an Ubuntu machine (including setting up the network, SSH server and installing a Python interpreter) here:<br /><a href="http://www.kelvinsthunderstorm.com/omnima-embedded-controller-and-openwrt/">http://www.kelvinsthunderstorm.com/omni … d-openwrt/</a></p></blockquote></div><p>Hi Guys,<br />I have followed both the posts to the letter, I am now getting the make process to work but in the /bin directory when finished I only get two files.<br />openwrt-adm5120-br-6104kp-squashfs-webui.bin<br />openwrt-adm5120-br-6104kp-squashfs-xmodem.bin</p><p>I appear to be missing openwrt-adm5120-rootfs.tgz</p><p>Don&#039;t know if it&#039;s just me</p><p>Any Ideas?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p109974">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">cj_man</div>
					<div class="post-datetime">
						27 May 2010, 18:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>freddyk wrote:</cite><blockquote><p>I appear to be missing openwrt-adm5120-rootfs.tgz</p></blockquote></div><p>You need to instruct the toolchain to build also the tgz image. <br />run make menuconfig and go to Target Image and choose tar.gz also</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112482">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">floe</div>
					<div class="post-datetime">
						5 Jul 2010, 10:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi, </p><p>I&#039;ve checked out</p><p>svn://svn.openwrt.org/openwrt/branches/backfire</p><p>and I&#039;m also missing the USB host options, even after &quot;make menuconfig &amp;&amp; make &amp;&amp; make kernel_menuconfig&quot;. Is this only supported in trunk, or am I missing something else?</p><p>Thanks,<br />Floe</p><p>EDIT: sorry for the noise. I&#039;ve realized that most of these options have been included in the regular menuconfig by now.</p>											<p class="post-edited">(Last edited by <strong>floe</strong> on 5 Jul 2010, 21:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112641">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">AZoeller</div>
					<div class="post-datetime">
						7 Jul 2010, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problem : in the kernel_menlconfig i don&#039;t have an item USB-Host to select. I have tested now all different verssions of configuration which are described here and on other places, but i couldn&#039;t succeed. The board and the USB-Interfaces are ok. When i use a midge-distribution everything works fine. But with the kamikaze-distribution it doesn&#039;t boot from the usb-stick, it even doesn&#039;t show that the usb-host-driver is installed and the startup-process ends with a kernel-panic.<br />Does anybody has a secure configuration ?</p><p>best regards</p><p>Andreas</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=18570&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=18570&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>