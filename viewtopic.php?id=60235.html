<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT other language than English? 2 bugs..?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p295549">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mucha</div>
					<div class="post-datetime">
						10 Oct 2015, 13:51					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>this post refers to CC release, where I tried to install Slovak language via package management,</p><p>1. There is a mistake in Slovak language packages for Luci apps<br /><span class="postimg"><img src="http://i60.tinypic.com/2hhmwyf.png" alt="http://i60.tinypic.com/2hhmwyf.png" /></span><br />- country code <strong>sk</strong> refers to Slovak language. Slovak in Slovak lang is Slovenčina - that&#039;s correct, however there&#039;s <span style="color: #FF0000">Slovene</span> in the bracket - which is incorrect. <strong>Slovak</strong> is correct. This correction applies also on other <strong>luci-i18n-*-sk</strong> packages.</p><p>2. Enabling my custom language?<br /><span class="postimg"><img src="http://i60.tinypic.com/oiu8h1.png" alt="http://i60.tinypic.com/oiu8h1.png" /></span><br />the option to choose Slovak language is missing. OR I am missing something.</p><p>I have installed <strong>luci-i18n-base-sk</strong> and also some more <strong>luci-i18n-*-sk</strong> packages.</p><p>Is there something I am missing?<br />Thanks! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295645">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mucha</div>
					<div class="post-datetime">
						11 Oct 2015, 17:27					</div>
				</div>
				<div class="post-content content">
					<p>This one will be short.</p><p>What <strong>milestone</strong>?<br /><span class="postimg"><img src="http://i62.tinypic.com/289wpjm.png" alt="http://i62.tinypic.com/289wpjm.png" /></span></p><p>What <strong>version</strong> trunk/cc?<br /><span class="postimg"><img src="http://i60.tinypic.com/maifyo.jpg" alt="http://i60.tinypic.com/maifyo.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295680">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mucha</div>
					<div class="post-datetime">
						11 Oct 2015, 21:44					</div>
				</div>
				<div class="post-content content">
					<p>This forum sounds like a lot of talking, totally! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295724">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						12 Oct 2015, 07:52					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d verify it&#039;s a openwrt/luci issue and not the specific language pack issue (by installing a different language and trying to select that other one) first and if it&#039;s the former I&#039;d assign it to trunk/tunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295883">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mucha</div>
					<div class="post-datetime">
						13 Oct 2015, 09:27					</div>
				</div>
				<div class="post-content content">
					<p>@stangri: thxfor suggestion, I tried different language, it worked. So this is language specific, Slovak trans is broken, it seems.<br />I was looking for sources, but didnt find it either on<br /></p><div class="codebox"><pre><code>https://github.com/openwrt/luci
https://github.com/openwrt/packages
git://git.openwrt.org/openwrt.git</code></pre></div><p><strong>am I blind? where are luci-i18n-*-sk pckgs sources located?</strong> Would like to dig in it a bit...<br />Thanks to anyone who points me to the right direction <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295887">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						13 Oct 2015, 09:43					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://github.com/openwrt/luci/blob/master/luci.mk">https://github.com/openwrt/luci/blob/master/luci.mk</a> defines all language names.</p><br /><p>Ps. I found the right file by using the github search to look for &quot;Slovene&quot; in Luci repository</p><p>EDIT:<br />the two language names are rather close:<br />SK / Slovenčina / Slovak<br />SL / Slovenščina / Slovene</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 13 Oct 2015, 10:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295889">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						13 Oct 2015, 10:22					</div>
				</div>
				<div class="post-content content">
					<p>The correct language name has been set both in Luci trunk and in the for-15.05 branch for Chaos Calmer.</p><p><a href="https://github.com/openwrt/luci/commit/1d37c9c25dbe69967a2d71495109380299974aa8">https://github.com/openwrt/luci/commit/ … 0299974aa8</a><br /><a href="https://github.com/openwrt/luci/commit/fcc24dbbc234c34ef3c34d509945771296073678">https://github.com/openwrt/luci/commit/ … 1296073678</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295890">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						13 Oct 2015, 10:43					</div>
				</div>
				<div class="post-content content">
					<p>And you are right, even after installing the luci-i18n-base-sk, the language does not get shown in Luci&#039;s language list. (I tried with French, Italian, Swedish and Norwegian and they all are shown in the list.)</p><p>But the error is apparently coming from deeper than the Luci GUI, as the language file has not been installed into the file system at all, although it is in list of the installed languages:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /etc/config/luci
...
config internal &#039;languages&#039;
        option sv &#039;Svenska (Swedish)&#039;
        option fr &#039;Français (French)&#039;
        option it &#039;Italiano (Italian)&#039;
        option sk &#039;Slovenčina (Slovene)&#039;
        option uk &#039;украї́нська (Ukrainian)&#039;
        option no &#039;Norsk (Norwegian)&#039;
...

root@OpenWrt:/# ls /usr/lib/lua/luci/i18n
base.fr.lmo  base.it.lmo  base.no.lmo  base.sv.lmo  base.uk.lmo</code></pre></div>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 13 Oct 2015, 11:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295895">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						13 Oct 2015, 11:37					</div>
				</div>
				<div class="post-content content">
					<p>Well, there is no actual error, just empty data leading into a bit confusing situation:</p><p>Nobody has ever translated any of the Luci base terms to Slovak. The translation contains no content, just the initialisation (Luci terms in English).<br /><a href="https://github.com/openwrt/luci/blob/master/modules/luci-base/po/sk/base.po">https://github.com/openwrt/luci/blob/ma … sk/base.po</a></p><p>The Luci translation file generation system (po2pmo) does not generate the file if there is no content.<br />As the file is not generated, it is naturally not copied to the router, and then Luci does not show the language on the language list.</p><p><a href="https://github.com/openwrt/luci/blob/master/modules/luci-base/src/po2lmo.c#L199">https://github.com/openwrt/luci/blob/ma … lmo.c#L199</a><br /><a href="https://github.com/openwrt/luci/blob/master/modules/luci-base/src/po2lmo.c#L233">https://github.com/openwrt/luci/blob/ma … lmo.c#L233</a></p><p>I tested manually and translated one term, re-built and copied into the router. Then Slovak was shown in the list.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 13 Oct 2015, 11:38)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>