<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-WR741ND - Router Bricked</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p322434">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nahu73</div>
					<div class="post-datetime">
						3 May 2016, 23:13					</div>
				</div>
				<div class="post-content content">
					<p>Please, I need support for my router. </p><p>I have the following: TP-Link TL-WR741ND V2.4 .</p><br /><p>I add a serial connection (DKU5) but the process didn&#039;t work.</p><p>I can see the log when connect GND and TX, but RX is connect the log is ilegible.</p><p>Attach a log from putty.</p><div class="codebox"><pre><code>U-Boot 1.1.4 (Sep  3 2010 - 12:28:13)

AP91 (ar7240) U-boot
DRAM:
sri
#### TAP VALUE 1 = 8, 2 = 9
32 MB
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7014
eth0: 00:03:7f:09:0b:ad
eth0 up
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...

Booting AR7240(Python)...
Linux version 2.6.15--LSDK-7.3.0.300 gcc version 3.4.4 #1 Fri Sep 3 12:31:04 CST 2010
flash_size passed from bootloader = 4
CPU revision is: 00019374
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
User-defined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Built 1 zonelists
Kernel command line: console=ttyS0,115200 root=/dev/mtdblock2 rootfstype=squashfs init=/sbin/init mtdparts=ar7100-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art) mem=32M
Primary instruction cache 64kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
PID hash table entries: 256 (order: 8, 4096 bytes)
Using 175.000 MHz high precision timer.
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 30540k/32768k available (1373k kernel code, 2212k reserved, 294k data, 128k init, 0k highmem)
Mount-cache hash table entries: 512
Checking for &#039;wait&#039; instruction...  available.
NET: Registered protocol family 16
Reset button pressed.
Returning IRQ 48
AR7240 GPIOC major 0
squashfs: version 3.3 (2007/10/31) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
Initializing Cryptographic API
io scheduler noop registered
io scheduler deadline registered
Serial: 8250/16550 driver $Revision: #1 $ 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x0 (irq = 19) is a 16550A
RAMDISK driver initialized: 1 RAM disks of 8192K size 1024 blocksize
PPP generic driver version 2.4.2
PPPoX init, max protocols:3
NET: Registered protocol family 24
pppox protocol 0 register. max:3
cmdlinepart partition parsing not available
Searching for RedBoot partition table
5 RedBoot partitions found on MTD device ar7240-nor0
Creating 5 MTD partitions on &quot;ar7240-nor0&quot;:
0x00000000-0x00020000 : &quot;boot&quot;
0x00020000-0x00120000 : &quot;kernel&quot;
0x00120000-0x003e0000 : &quot;rootfs&quot;
0x003e0000-0x003f0000 : &quot;config&quot;
0x003f0000-0x00400000 : &quot;art&quot;
-&gt;Oops: flash id 0x1c3116 .
NET: Registered protocol family 2
IP route cache hash table entries: 512 (order: -1, 2048 bytes)
TCP established hash table entries: 2048 (order: 1, 8192 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
TCP bic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 128k freed
init started:  BusyBox v1.01 (2010.09.03-04:20+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5
This board use 2.6.15
ip_conntrack version 2.4 (256 buckets, 5120 max) - 244 bytes per conntrack
statistics: module license &#039;BSD&#039; taints kernel.
insmod: cannot open module `/lib/modules/2.6.15/kernel/flashid.ko&#039;: No such file or directory
pppox protocol 1 register. max:3
PPPoL2TP kernel driver, V0.17. fixed many bug. drop rcv pkts and xmit pkts while no buffer, use pass time HZ/4.only drop ip pkt. no printk. xl2tpd 15 retries xmit. 08.20
PPTP driver version 0.8.3
pppox protocol 2 register. max:3
insmod: cannot open module `/lib/modules/2.6.15/kernel/harmony.ko&#039;: No such file or directory
Now flash open!
Now flash open!
sys_mode=0 mac:8106c000 ag7240_macs[0]:00000000 ag7240_macs[1]:8106c000
2
sys_mode=0 mac:81c98000 ag7240_macs[0]:81c98000 ag7240_macs[1]:8106c000
1
+++ pvid_bitmap initial
sys_mode 0 PHY4 auto-negotiation enable
Attention: PHY4  Class A setting in debug 5 register which is not described in DS
phy_setup ethUnit:0 phyUnit:4
Port 4, Neg Success

 (none) mips #1 Fri Sep 3 12:31:04 CST 2010 (none)
(none) login: ATHRS26: resetting s26
ATHRS26: s26 reset done
sys_mode 0 PHY0 auto-negotiation enable
Attention: PHY 0 Class A setting in debug 5 register which is not described in DS
sys_mode 0 PHY1 auto-negotiation enable
Attention: PHY 1 Class A setting in debug 5 register which is not described in DS
sys_mode 0 PHY2 auto-negotiation enable
Attention: PHY 2 Class A setting in debug 5 register which is not described in DS
sys_mode 0 PHY3 auto-negotiation enable
Attention: PHY 3 Class A setting in debug 5 register which is not described in DS
++++ athrs26_igmp_setup once
vtable vid: 0x00000002, bitmap 0x00000003
vtable vid: 0x00000004, bitmap 0x00000005
vtable vid: 0x00000006, bitmap 0x00000007
vtable vid: 0x00000008, bitmap 0x00000009
vtable vid: 0x0000000a, bitmap 0x0000000b
vtable vid: 0x0000000c, bitmap 0x0000000d
vtable vid: 0x0000000e, bitmap 0x0000000f
vtable vid: 0x00000010, bitmap 0x00000011
vtable vid: 0x00000012, bitmap 0x00000013
vtable vid: 0x00000014, bitmap 0x00000015
vtable vid: 0x00000016, bitmap 0x00000017
vtable vid: 0x00000018, bitmap 0x00000019
vtable vid: 0x0000001a, bitmap 0x0000001b
vtable vid: 0x0000001c, bitmap 0x0000001d
vtable vid: 0x0000001e, bitmap 0x0000001f
vtable vid: 0x00000020, bitmap 0x00000021
++ PVID: 0x0000001a, bitmap: 0x0000001f
++ PVID: 0x0000001a, bitmap: 0x0000001f
++ PVID: 0x0000001c, bitmap: 0x0000001f
++ PVID: 0x0000001e, bitmap: 0x0000001f
++ PVID: 0x00000020, bitmap: 0x0000001f
phy_setup ethUnit:1 phyUnit:0
phy_setup ethUnit:1 phyUnit:1
phy_setup ethUnit:1 phyUnit:2
phy_setup ethUnit:1 phyUnit:3
Port 0, Neg Success
Port 1, Neg Success
Port 2, Neg Success
Port 3, Neg Success
device eth0 entered promiscuous mode
phy_setup ethUnit:1 phyUnit:0
phy_setup ethUnit:1 phyUnit:1
phy_setup ethUnit:1 phyUnit:2
phy_setup ethUnit:1 phyUnit:3
Port 0, Neg Success
Port 1, Neg Success
Port 2, Neg Success
Port 3, Neg Success
ip_conntrack_rtsp v0.01 loading
ip_nat_rtsp v0.01 loading
ath_hal: 0.9.17.1 (AR5416, DEBUG, REGOPS_FUNC, WRITE_EEPROM, 11D)
wlan: 0.8.4.2 (Atheros/multi-bss)
ath_rate_atheros: Copyright (c) 2001-2005 Atheros Communications, Inc, All Rights Reserved
ath_dev: Copyright (c) 2001-2007 Atheros Communications, Inc, All Rights Reserved
ath_pci: 0.9.4.5 (Atheros/multi-bss)
wifi0: Atheros 9285: mem=0x10000000, irq=48 hw_base=0xb0000000
wlan_me: Version 0.1
Copyright (c) 2008 Atheros Communications, Inc. All Rights Reserved
wlan: mac acl policy registered

TP_Flags:6****
ar7240 data bus error: cause 0x80001c
Data bus error, epc == c01712f8, ra == c0171968
Oops[#1]:
Cpu 0
$ 0   : 00000000 00000000 c0171200 801c0000
$ 4   : 81980000 00009860 c01b0000 00009860
$ 8   : 0000096c c0170000 00000000 00000003
$12   : 00000003 00000004 00000003 00000003
$16   : deadc0de 00002710 c01712d0 81980000
$20   : 00009860 c017131c 00000001 00000000
$24   : 00000000 c01720a4
$28   : 81c64000 81c65c28 c0170000 c0171968
Hi    : 0000048a
Lo    : 3d6b6400
epc   : c01712f8 ath_hal_reg_read+0x28/0x4c [ath_hal]     Tainted: P
ra    : c0171968 ath_hal_wait+0x7c/0x15c [ath_hal]
Status: 1000f403    KERNEL EXL IE
Cause : 0080001c
PrId  : 00019374
Modules linked in: wlan_scan_ap wlan_scan_sta wlan_acl wlan_wep wlan_tkip wlan_ccmp wlan_xauth ath_pktlog wlan_me ath_pci ath_dev ath_rate_atheros wlan ath_hal ip_nat_rtsp ip_conntrack_rtsp ip_nat_h323 ip_nat_tftp ip_conntrack_tftp ip_nat_ftp ip_conntrack_ftp ip_nat_pptp ag7240_mod wlan_warn pptp pppol2tp br_filter ts_kmp cls_fw cls_basic sch_sfq sch_prio sch_htb ipt_MARK ip_conntrack_h323 ipt_multiurl statistics ipt_TCPMSS ip_conntrack_pptp ipt_TRIGGER ipt_time iptable_filter iptable_nat ipt_string ipt_state ipt_multiport ipt_mac ipt_iprange ipt_conntrack ipt_comment ipt_MASQUERADE ip_nat ip_conntrack ip_tables
Process ifconfig (pid: 311, threadinfo=81c64000, task=81c313f8)
Stack : 00000000 00000003 00000003 00009860 00058d21 00000003 00000009 c0171968
        c01782f4 c017126c c0170000 81971fb4 81980450 c019ef8c 0000096c 000000a0
        c01712ac c0187b0c c01712d0 c017126c 81980000 81980450 c0170000 81971fb4
        81980450 00000006 81c65d18 c019290c c01712ac 81980450 81980450 c01b2d00
        000186a0 00004014 28080400 00004014 00000000 00000000 00000000 c017a2b4
        ...
Call Trace:
 [&lt;c0171968&gt;] ath_hal_wait+0x7c/0x15c [ath_hal]
 [&lt;c01782f4&gt;] ath_hal_checkchannel+0x74/0x20c [ath_hal]
 [&lt;c017126c&gt;] ath_hal_reg_write+0x0/0x64 [ath_hal]
 [&lt;c01712ac&gt;] ath_hal_reg_write+0x40/0x64 [ath_hal]
 [&lt;c0187b0c&gt;] ar5416SetSlotTime+0xb8/0xd8 [ath_hal]
 [&lt;c01712d0&gt;] ath_hal_reg_read+0x0/0x4c [ath_hal]
 [&lt;c017126c&gt;] ath_hal_reg_write+0x0/0x64 [ath_hal]
 [&lt;c019290c&gt;] ar5416Reset+0xa34/0x18dc [ath_hal]
 [&lt;c01712ac&gt;] ath_hal_reg_write+0x40/0x64 [ath_hal]
 [&lt;c017a2b4&gt;] ar5416ConfigPciPowerSave+0x198/0x340 [ath_hal]
 [&lt;c020fd28&gt;] ath_open+0xf0/0x344 [ath_dev]
 [&lt;c01457ec&gt;] ath_chan2flags+0x1c/0x68 [ath_pci]
 [&lt;80006954&gt;] do_IRQ+0x24/0x34
 [&lt;c01458bc&gt;] ath_init+0x54/0x118 [ath_pci]
 [&lt;8002ad08&gt;] tasklet_action+0x78/0xb8
 [&lt;8000b000&gt;] local_timer_interrupt+0x44/0x4c
 [&lt;800f7380&gt;] dev_open+0x64/0xd8
 [&lt;8002f3b8&gt;] sys_getuid+0x0/0xc
 [&lt;c01e0e68&gt;] ieee80211_init+0x168/0x1d4 [wlan]
 [&lt;800f7380&gt;] dev_open+0x64/0xd8
 [&lt;800f8af4&gt;] dev_change_flags+0x74/0x14c
 [&lt;800f7260&gt;] dev_load+0x10/0x44
 [&lt;801b9814&gt;] quirk_ali7101_acpi+0x84/0x94
 [&lt;8013d300&gt;] devinet_ioctl+0x318/0x778
 [&lt;8013d16c&gt;] devinet_ioctl+0x184/0x778
 [&lt;8013e91c&gt;] inet_ioctl+0xd8/0x130
 [&lt;8007949c&gt;] d_alloc+0x34/0x1a4
 [&lt;800ed224&gt;] sock_ioctl+0x318/0x344
 [&lt;800b8194&gt;] sprintf+0x28/0x34
 [&lt;8005856c&gt;] split_vma+0x148/0x16c
 [&lt;80073170&gt;] do_ioctl+0x30/0x78
 [&lt;800734ec&gt;] vfs_ioctl+0x334/0x35c
 [&lt;800ed77c&gt;] sock_create+0x10/0x1c
 [&lt;80073564&gt;] sys_ioctl+0x50/0x8c
 [&lt;8000e240&gt;] stack_done+0x20/0x3c
 [&lt;8000e240&gt;] stack_done+0x20/0x3c


Code: 8c500000  3c02c017  24421200 &lt;afb00010&gt; 24c63298  0040f809  24050004  02001021  8fbf001c</code></pre></div><p>I can&#039;t pause the process or send tpl command.</p><br /><p>Thanks!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323168">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jaspras</div>
					<div class="post-datetime">
						10 May 2016, 01:26					</div>
				</div>
				<div class="post-content content">
					<p>Type tpl&nbsp; and hit enter before ...autobooting</p><br /><p>Follow tftpboot procedure</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323343">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">chiakhoavang.vn</div>
					<div class="post-datetime">
						11 May 2016, 13:50					</div>
				</div>
				<div class="post-content content">
					<p>I can access U-Boot 1.1.4 from my TL-WDR6500 V5 using</p><p>SLP instead of TPL</p><div class="codebox"><pre><code>U-Boot 1.1.4-gd5cac4de-dirty (Mar 15 2016 - 16:13:08)(COMPRESSED)

ap151 - Dragonfly 1.0</code></pre></div><p>so please try </p><div class="codebox"><pre><code>slp</code></pre></div><p>and see if it works in your case</p>											<p class="post-edited">(Last edited by <strong>chiakhoavang.vn</strong> on 11 May 2016, 13:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333910">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zonosfera</div>
					<div class="post-datetime">
						10 Aug 2016, 14:12					</div>
				</div>
				<div class="post-content content">
					<p>Also use tpl command in a note pad... Copy and paste in consolé with right click....</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333912">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">danymarc</div>
					<div class="post-datetime">
						10 Aug 2016, 14:44					</div>
				</div>
				<div class="post-content content">
					<p>Connections are inverted, <br />TX to RX<br />RX to TX<br />GND-GND<br /><a href="https://postimg.org/image/nkeneeqbv/"><span class="postimg"><img src="https://s9.postimg.org/ozg834rf3/image.jpg" alt="https://s9.postimg.org/ozg834rf3/image.jpg" /></span></a><a href="https://postimage.org/index.php?lang=spanish">imagenes gratis</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334600">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">freewifimarketing.net</div>
					<div class="post-datetime">
						15 Aug 2016, 17:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>chiakhoavang.vn wrote:</cite><blockquote><p>I can access U-Boot 1.1.4 from my TL-WDR6500 V5 using</p><p>SLP instead of TPL</p><div class="codebox"><pre><code>U-Boot 1.1.4-gd5cac4de-dirty (Mar 15 2016 - 16:13:08)(COMPRESSED)

ap151 - Dragonfly 1.0</code></pre></div><p>so please try </p><div class="codebox"><pre><code>slp</code></pre></div><p>and see if it works in your case</p></blockquote></div><p>I got WDR6500V5 and can use slp but then it ask me to login, what user/pass I can use with slp type uboot?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>