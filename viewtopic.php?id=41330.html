<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> RT5350F Micro Router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p187283">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tpwn3r</div>
					<div class="post-datetime">
						29 Dec 2012, 01:54					</div>
				</div>
				<div class="post-content content">
					<p>I have a NONAME Wireless Pocket Router</p><p>I got them here<br /><a href="http://www.ebay.ca/itm/200844323143?ssPageName=STRK:MEWNX:IT&amp;_trksid=p3984.m1439.l2649">http://www.ebay.ca/itm/200844323143?ssP â€¦ 1439.l2649</a> <br />Advertised as &quot;USB Wifi Router Client AP Wireless N Repeater Adapter Bridge WLAN Range Extender&quot;</p><br /><p>I see another post about a similar device with a built in battery.<br /><a href="https://forum.openwrt.org/viewtopic.php?id=37002">https://forum.openwrt.org/viewtopic.php?id=37002</a></p><p>This device looks to have 4MB Flash and 8 MB RAM<br />Micro usb connector for power (doesn&#039;t look to have data at first glance)<br />Ethernet port<br />3 position switch on the side<br />a button for WPS<br />3 LED&#039;s</p><p>Chips <br />RALINK RT5350F<br />Etrontech EM639165TS-6G<br />PM25 <a href="http://www.soselectronic.com/a_info/resource/c/Atmel/AT25DF321.pdf">Datasheet</a></p><p>Output from serial console<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Jun  2 2011 - 15:02:04)

Board: Ralink APSoC DRAM:   8 MB
relocate_code Pointer at: 807b4000
spi_wait_nsec: 42
spi device id: 7f 9d 46 7f 9d (9d467f9d)
Warning: un-recognized chip ID, please update bootloader!
raspi_read: from:30000 len:1000
.*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 3.5.2.0
--------------------------------------------
Test by nicexie
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping
DRAM_TYPE: SDRAM
DRAM_SIZE: 64 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 8 MBytes
Flash component: SPI Flash
Date:Jun  2 2011  Time:15:02:04
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =8 Mbytes

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.

my_tmp_test value is 400280

RT2880_GPIOMODE_REG is 400280

RT2880_GPIOMODE_REG is 40029c

RT2880_REG_PIODATA value is 16257

my_tmp value is 16257
                                                                              0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   BL-MP01
   Created:      2012-08-07   3:24:14 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3743349 Bytes =  3.6 MB
   Load Address: 80000000
   Entry Point:  80253000
raspi_read: from:50040 len:391e75
..........................................................   Verifying Checksum                            ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80253000) ...
## Giving linux memsize in MB, 8

Starting kernel ...


LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (root@localhost.localdomain) (gcc version 3.4.2) #1 Tue Aug                            7 11:24:08 HKT 2012

 The CPU feqenuce set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Built 1 zonelists.  Total pages: 4064
Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock5
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = c0808000, status = 11000000
PID hash table entries: 64 (order: 6, 256 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 180.000 MHz high precision timer.
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 13652k/16384k available (2100k kernel code, 2732k reserved, 275k data, 1                           16k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
deice id : 7f 9d 46 7f 9d (9d467f9d)
Warning: un-recognized chip ID, please update SPI driver!
AT25DF321(1f 47000000) (4096 Kbytes)
mtd .name = raspi, .size = 0x00400000 (4M) .erasesize = 0x00010000 (64K) .numera                           seregions = 0
Creating 7 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00400000 : &quot;ALL&quot;
0x00000000-0x00030000 : &quot;Bootloader&quot;
0x00030000-0x00040000 : &quot;Config&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00050000-0x00114eb5 : &quot;Kernel&quot;
mtd: partition &quot;Kernel&quot; doesn&#039;t end on an erase block -- force read-only
0x00114eb5-0x01000000 : &quot;RootFS&quot;
mtd: partition &quot;RootFS&quot; extends beyond the end of device &quot;raspi&quot; -- size truncat                           ed to 0x2eb14b
mtd: partition &quot;RootFS&quot; doesn&#039;t start on an erase block boundary -- force read-o                           nly
0x00050000-0x01000000 : &quot;Kernel_RootFS&quot;
mtd: partition &quot;Kernel_RootFS&quot; extends beyond the end of device &quot;raspi&quot; -- size                            truncated to 0x3b0000
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
io scheduler noop registered (default)
Ralink gpio driver initialized
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
loop: loaded (max 8 devices)
rdm_major = 254
MAC_ADRH -- : 0x00000000
MAC_ADRL -- : 0x00000000
Ralink APSoC Ethernet Driver Initilization. v2.0  256 rx/tx descriptors allocate                           d, mtu = 1500!
MAC_ADRH -- : 0x00004802
MAC_ADRL -- : 0x2a7ac302
PROC INIT OK!
IMQ starting with 2 devices...
IMQ driver loaded successfully.
        Hooking IMQ before NAT on PREROUTING.
        Hooking IMQ after NAT on POSTROUTING.
PPP generic driver version 2.4.2
PPP BSD Compression module registered
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.17
PPTP driver version 0.8.1
block2mtd: version $Revision: 1.1.1.1 $
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (128 buckets, 1024 max)
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone
arp_tables: (C) 2002 David S. Miller
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 10
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 116k freed
init started: BusyBox v1.12.1 (2012-08-07 11:12:35 HKT)
starting pid 11, tty &#039;&#039;: &#039;/etc_ro/rcS&#039;
Algorithmics/MIPS FPU Emulator v1.5
devpts: called with bogus options
mount: mounting none on /proc/bus/usb failed: No such file or directory
Welcome to
     _______  _______  ___     __  ____   _  _   ___
    |  ___  \|   __  ||   |   |__||    \ | || | /  /
    | |___| ||  |__| ||   |__  __ |     \| || |/  /
    |   _   /|   _   ||      ||  || |\     ||     \
    |__| \__\|__| |__||______||__||_| \____||_|\___\

                     =System Architecture Department=

starting pid 20, tty &#039;/dev/ttyS1&#039;: &#039;/bin/sh&#039;


BusyBox v1.12.1 (2012-08-07 11:12:35 HKT) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

# ********** the upgrade value is 222 *********
***********The Operation Mode is 1
GPIO:3e81 Tmp1:0 Tmp2:1
The Operation Mode is ethernet converter
Commit crc = 2f6285a3
internet.sh</code></pre></div><p>After powering it off and plugging it in again it&#039;s output changed slightly<br />The operating mode changed.</p><div class="codebox"><pre><code>U-Boot 1.1.3 (Jun  2 2011 - 15:02:04)

Board: Ralink APSoC DRAM:   8 MB
relocate_code Pointer at: 807b4000
spi_wait_nsec: 42
spi device id: 7f 9d 46 7f 9d (9d467f9d)
Warning: un-recognized chip ID, please update bootloader!
raspi_read: from:30000 len:1000
.*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 3.5.2.0
--------------------------------------------
Test by nicexie
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping
DRAM_TYPE: SDRAM
DRAM_SIZE: 64 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 8 MBytes
Flash component: SPI Flash
Date:Jun  2 2011  Time:15:02:04
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =8 Mbytes

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.

my_tmp_test value is 400280

RT2880_GPIOMODE_REG is 400280

RT2880_GPIOMODE_REG is 40029c

RT2880_REG_PIODATA value is 16257

my_tmp value is 16257
                                                                                                         0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   BL-MP01
   Created:      2012-08-07   3:24:14 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3743349 Bytes =  3.6 MB
   Load Address: 80000000
   Entry Point:  80253000
raspi_read: from:50040 len:391e75
..........................................................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80253000) ...
## Giving linux memsize in MB, 8

Starting kernel ...


LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (root@localhost.localdomain) (gcc version 3.4.2) #1 Tue Aug 7 11:24:08 HKT 2012

 The CPU feqenuce set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Built 1 zonelists.  Total pages: 4064
Kernel command line: console=ttyS1,57600n8 root=/dev/mtdblock5
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = c0808000, status = 11000000
PID hash table entries: 64 (order: 6, 256 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 180.000 MHz high precision timer.
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 13652k/16384k available (2100k kernel code, 2732k reserved, 275k data, 116k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
deice id : 7f 9d 46 7f 9d (9d467f9d)
Warning: un-recognized chip ID, please update SPI driver!
AT25DF321(1f 47000000) (4096 Kbytes)
mtd .name = raspi, .size = 0x00400000 (4M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
Creating 7 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00400000 : &quot;ALL&quot;
0x00000000-0x00030000 : &quot;Bootloader&quot;
0x00030000-0x00040000 : &quot;Config&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00050000-0x00114eb5 : &quot;Kernel&quot;
mtd: partition &quot;Kernel&quot; doesn&#039;t end on an erase block -- force read-only
0x00114eb5-0x01000000 : &quot;RootFS&quot;
mtd: partition &quot;RootFS&quot; extends beyond the end of device &quot;raspi&quot; -- size truncated to 0x2eb14b
mtd: partition &quot;RootFS&quot; doesn&#039;t start on an erase block boundary -- force read-only
0x00050000-0x01000000 : &quot;Kernel_RootFS&quot;
mtd: partition &quot;Kernel_RootFS&quot; extends beyond the end of device &quot;raspi&quot; -- size truncated to 0x3b0000
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
io scheduler noop registered (default)
Ralink gpio driver initialized
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
loop: loaded (max 8 devices)
rdm_major = 254
MAC_ADRH -- : 0x00000000
MAC_ADRL -- : 0x00000000
Ralink APSoC Ethernet Driver Initilization. v2.0  256 rx/tx descriptors allocated, mtu = 1500!
MAC_ADRH -- : 0x00004802
MAC_ADRL -- : 0x2a7ac302
PROC INIT OK!
IMQ starting with 2 devices...
IMQ driver loaded successfully.
        Hooking IMQ before NAT on PREROUTING.
        Hooking IMQ after NAT on POSTROUTING.
PPP generic driver version 2.4.2
PPP BSD Compression module registered
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.17
PPTP driver version 0.8.1
block2mtd: version $Revision: 1.1.1.1 $
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (128 buckets, 1024 max)
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone
arp_tables: (C) 2002 David S. Miller
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 10
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 116k freed
init started: BusyBox v1.12.1 (2012-08-07 11:12:35 HKT)
starting pid 11, tty &#039;&#039;: &#039;/etc_ro/rcS&#039;
Algorithmics/MIPS FPU Emulator v1.5
devpts: called with bogus options
mount: mounting none on /proc/bus/usb failed: No such file or directory
Welcome to
     _______  _______  ___     __  ____   _  _   ___
    |  ___  \|   __  ||   |   |__||    \ | || | /  /
    | |___| ||  |__| ||   |__  __ |     \| || |/  /
    |   _   /|   _   ||      ||  || |\     ||     \
    |__| \__\|__| |__||______||__||_| \____||_|\___\

                     =System Architecture Department=

starting pid 20, tty &#039;/dev/ttyS1&#039;: &#039;/bin/sh&#039;


BusyBox v1.12.1 (2012-08-07 11:12:35 HKT) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

# ********** the upgrade value is 222 *********
***********The Operation Mode is 2
GPIO:3e81 Tmp1:0 Tmp2:1
internet.sh
Password for &#039;admin&#039; changed
rmmod: cls: No such file or directory
rmmod: hw_nat: No such file or directory
rmmod: raeth: No such file or directory
insmod: bridge.ko: module not found
insmod: mii.ko: module not found
insmod: raeth.ko: module not found</code></pre></div><p>I will post pictures later.</p><p>The console only works for a second. I spam push the enter key and I get a few # new lines but quickly the device says &quot;Password for &#039;admin&#039; changed&quot; and the shell stops working! How can I get around it?</p><p>Has anyone else tinkered with this item?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p209665">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ender</div>
					<div class="post-datetime">
						13 Aug 2013, 12:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I just bumped into this doc: <a href="http://www.atcom.cn/cn/download/ata/mp01/Manual/ATCOM%20MP01-How%20To%20Set%20up%20MP01%20as%20a%20Wifi%20Access%20Point%20or%20Wifi%20Client.pdf">http://www.atcom.cn/cn/download/ata/mp0 â€¦ Client.pdf</a></p><p>Please check page 3. Tonight or the coming days I&#039;m going to give it a try... it seems the damn thing already has openwrt on it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Cheers!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226725">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">erriko</div>
					<div class="post-datetime">
						3 Mar 2014, 21:32					</div>
				</div>
				<div class="post-content content">
					<p>I bought the same little toy. I have to say I&#039;m impressed everything is a pandrive-sized device.<br />I&#039;m going to look further into it!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226736">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						3 Mar 2014, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>As far as openWrt goes, you&#039;re likely to have no joy with 8MB ram.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>