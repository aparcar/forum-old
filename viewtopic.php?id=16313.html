<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Gargoyle -- (another) new Web Interface for OpenWrt Kamikaze</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p70895">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						15 Jul 2008, 00:19					</div>
				</div>
				<div class="post-content content">
					<p>For the past several months I&#039;ve been working on a new web interface for OpenWrt, which I&#039;m calling Gargoyle, and today I&#039;m releasing the first beta version.&nbsp; You can download packages and/or firmware as well as learn more by going to the project homepage located at <a href="http://www.gargoyle-router.com">http://www.gargoyle-router.com</a></p><p>Gargoyle takes a very different philosophical approach to interface design than X-Wrt or what I&#039;ve seen of the new LuCI. Both X-Wrt and LuCI seem to be designed with the goal of providing the absolute maximum functionality possible.&nbsp; However, this often comes at the expense of making the interface more difficult to use, and can turn off novice users.&nbsp; There seems to be a belief that open-source software should be designed for power-users, without much thought to those with&nbsp; less expertise.&nbsp; Currently all router web interfaces that place a strong emphasis on ease-of-use are proprietary (their licenses do not permit redistribution of modified versions of their code without the author&#039;s permission).&nbsp; </p><p>Gargoyle aims to be the first open-source web interface that places a strong emphasis on usability, and aimed at less experienced users.&nbsp; Because Gargoyle runs on top of OpenWrt, a more experienced user can also configure extra functionality relatively easily.</p><p>Gargoyle includes a custom bandwidth monitoring package, a customized version of minihttpd (though the customization allows better password protection, not any part of the&nbsp; interface itself), a new package for performing dynamic dns updates (similar to the ddns-scripts package which I submitted a few months ago, but written in C to be faster and linked to MatrixSSL to allow updates via https) and a custom set of QoS scripts (I found the current default OpenWrt implementation a bit convoluted).</p><p>Gargoyle is an open-source project and contributions are very, very welcome.&nbsp; I am releasing it under the terms of the GPL v2.0, with an exception/clarification that states that it may be modified to configure proprietary back-end software so long as all portions of the web interface are released under the terms of the GPL.&nbsp; See the FAQ (gargoyle-router.com/faq.html#qfoss) for more details.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70914">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Qwerto</div>
					<div class="post-datetime">
						15 Jul 2008, 07:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>My comment for your explanation texts, e.g. in <a href="http://www.gargoyle-router.com/screenshots/connection_ddns.jpg">http://www.gargoyle-router.com/screensh â€¦ n_ddns.jpg</a></p><p>For me, it would be nice to be able to hide the explanation text and show some button instead. A gui with explanation texts tends to create too long configuration pages, and causes it harder to read. Normally, you just want to read those texts only once.</p><p>As I wrote, this is my personal thought, but I also want to use a Gui like x-wrt or config files directly...</p><p>Otherwise, a clean design!</p>											<p class="post-edited">(Last edited by <strong>Qwerto</strong> on 15 Jul 2008, 07:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70918">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						15 Jul 2008, 08:38					</div>
				</div>
				<div class="post-content content">
					<p>You certainly raise a valid point.&nbsp; However, I think it is important that there be some explanation available for some configuration options that are not necessarily self-explanatory.&nbsp; I want the interface to be usable by the widest possible audience, and that means explaning some of the more esoteric options.&nbsp; On the other hand, as you say, the text certainly makes the interface more awkward to navigate, particularly the QoS sections.&nbsp; &nbsp;The best solution may be either allowing users to collapse/expand these text boxes and/or a global configuration variable that enables/disables them.&nbsp; I will certainly keep this in mind for the next release.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70920">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Qwerto</div>
					<div class="post-datetime">
						15 Jul 2008, 09:02					</div>
				</div>
				<div class="post-content content">
					<p>I would go for the collapse/expand method.</p><p>Since you aims towards the &quot;widest possible audience&quot;, it might be good to have the textboxes expanded as default and then save the states in some file so you don&#039;t have to collapse them again the next login.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71039">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						17 Jul 2008, 19:58					</div>
				</div>
				<div class="post-content content">
					<p>This feature is now implemented in the svn and will be present in Beta2 which I&#039;ll release within a month or so.&nbsp; </p><p>Thanks for your suggestion!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71041">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">repvik</div>
					<div class="post-datetime">
						17 Jul 2008, 20:03					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to build Gargoyle for the current SVN head of kamikaze? I glanced at the gargoyle stuff and tried starting a build, but then I saw it fetched the last stable version, which is not really interesting for me. <br />Is there a semi-simple way to get gargoyle built against head?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71042">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						17 Jul 2008, 20:17					</div>
				</div>
				<div class="post-content content">
					<p>Actually I&#039;m working on this right now.&nbsp; I&#039;ve been in touch with a guy who&#039;s really interested in getting Gargoyle working with his fonera+, which requires an update in the trunk.&nbsp; Also, I want to be ready to release Gargoyle for Kamikaze 8.08 soon after it comes out next month.</p><p>I&#039;m creating an alternate build script and patch-set for the trunk right now.&nbsp; There are likely to be a few quirks at first since a lot has changed, but I&#039;ll post here as soon as I have a build script working that can produce usable images/packages, even if there are some quirks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71043">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">repvik</div>
					<div class="post-datetime">
						17 Jul 2008, 20:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ebishop wrote:</cite><blockquote><p>Actually I&#039;m working on this right now.&nbsp; I&#039;ve been in touch with a guy who&#039;s really interested in getting Gargoyle working with his fonera+, which requires an update in the trunk.&nbsp; Also, I want to be ready to release Gargoyle for Kamikaze 8.08 soon after it comes out next month.</p><p>I&#039;m creating an alternate build script and patch-set for the trunk right now.&nbsp; There are likely to be a few quirks at first since a lot has changed, but I&#039;ll post here as soon as I have a build script working that can produce usable images/packages, even if there are some quirks.</p></blockquote></div><p>Cool. I&#039;ve got two routers that both require rather recent revisions, and I&#039;d love to test Gargoyle. Will I have to do a complete build including toolchain+image, or will it be possible to re-use an existing build dir?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71109">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						19 Jul 2008, 04:30					</div>
				</div>
				<div class="post-content content">
					<p>Interesting. Let&#039;s know once it is integrated into the OpenWRT SVN trunk. This way, I can build the firmware with Gargoyle for my LaFonera.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71154">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">lgolebio</div>
					<div class="post-datetime">
						20 Jul 2008, 15:36					</div>
				</div>
				<div class="post-content content">
					<p>I have Fonera ap, with kamikaze installed (from trunk svn 11879). I installed your webif on my device, and I&#039;am impressed <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> it works nice, but STATUS info doesn&#039;t show any configuration (IP, mask, etc.) Also, when I switch encryption to wpa2/wpa etc. the wifi is switching to disabled, so it&#039;s not functional. However nice job, I&#039;m sure you are working on all problems <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p>											<p class="post-edited">(Last edited by <strong>lgolebio</strong> on 20 Jul 2008, 16:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71217">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						21 Jul 2008, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve added a script to the Gargoyle svn (full-build-trunk.sh) which should allow you to build from trunk vs. kamikaze 7.09 source.&nbsp; I&#039;ve also added a description of the build process which can be found here: <a href="http://gargoyle-router.com/developer.html">http://gargoyle-router.com/developer.html</a> (scroll down to see the build section of the document)&nbsp; </p><p>The script seems to work fairly well, except that there seems to be quite a few issues when building recent revisions of the trunk for atheros (e.g. la fonera).&nbsp; In particular, wireless doesn&#039;t seem to work properly, as noted by Igolebio above.&nbsp; I am fairly certain this is an issue with the trunk itself, not my code.&nbsp; My trunk build script includes a variable you can easily set to checkout any revision you want, so you may be able to play with that and find a revision that works.&nbsp; If you can find a UCI configuration that works on a recent build, even if Gargoyle isn&#039;t working properly please let me know -- if the problem has to do with my configuration utility I want to fix it as soon as possible.&nbsp; </p><p>See the url above for lots more details on the trunk build script.</p><p>The other issue noted by Igolebio above, the non-functional status/overview section on la fonera on the trunk has been fixed in the Gargoyle svn.</p><p>Repvik: The Gargoyle build script uses a completely fresh build directory for each build, you can&#039;t re-use a build directory.</p><p>Yoonix: In response to your concern about disk usage on la fonera, I should point out that the bulk of the extra space used on the la fonera (and the build for atheros in general) is needed because hostapd and wpa-supplicant are needed for wireless encryption with atheros, and these depend on libopenssl.&nbsp; libopenssl takes up more space, by itself, then the other Gargoyle packages COMBINED.&nbsp; It&#039;s HUGE -- over a megabyte installed.&nbsp; I&#039;m not aware of any good work-arounds for this, other than disabling WPA encryption for wireless, which is a very bad idea, given how easily WEP/mac filtering is cracked.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71218">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						21 Jul 2008, 19:54					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s very pretty.<br />In what language was it written? With which web server does it run?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71225">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						21 Jul 2008, 21:37					</div>
				</div>
				<div class="post-content content">
					<p>The back-end scripts are in haserl, like X-wrt, but unlike X-wrt most of the interface is written in javascript, which computes the commands for the back-end to run.&nbsp; This strategy makes it much faster.&nbsp; Some specialized back-end programs were also written in C (e.g. the bandwidth monitor &amp; the dynamic dns updater).</p><p>The web server is a modified version of minihttpd, adapted to allow password protecting everything with the router&#039;s root password.&nbsp; Also, https is enabled via linkage to matrixssl.&nbsp; A bunch of bugs in the matrixssl linkage in the openwrt package were corrected to make it work properly (including one bug which prevented the serving of any page greater than 16K!).</p><p>More information about the implementation can be found at <a href="http://gargoyle-router.com/developer.html">http://gargoyle-router.com/developer.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71228">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">repvik</div>
					<div class="post-datetime">
						22 Jul 2008, 00:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ebishop wrote:</cite><blockquote><p>I&#039;ve added a script to the Gargoyle svn (full-build-trunk.sh) which should allow you to build from trunk vs. kamikaze 7.09 source.&nbsp; I&#039;ve also added a description of the build process which can be found here: <a href="http://gargoyle-router.com/developer.html">http://gargoyle-router.com/developer.html</a> (scroll down to see the build section of the document)&nbsp; </p><p>The script seems to work fairly well, except that there seems to be quite a few issues when building recent revisions of the trunk for atheros (e.g. la fonera).&nbsp; In particular, wireless doesn&#039;t seem to work properly, as noted by Igolebio above.&nbsp; I am fairly certain this is an issue with the trunk itself, not my code.&nbsp; My trunk build script includes a variable you can easily set to checkout any revision you want, so you may be able to play with that and find a revision that works.&nbsp; If you can find a UCI configuration that works on a recent build, even if Gargoyle isn&#039;t working properly please let me know -- if the problem has to do with my configuration utility I want to fix it as soon as possible.&nbsp; </p><p>See the url above for lots more details on the trunk build script.</p><p>The other issue noted by Igolebio above, the non-functional status/overview section on la fonera on the trunk has been fixed in the Gargoyle svn.</p><p>Repvik: The Gargoyle build script uses a completely fresh build directory for each build, you can&#039;t re-use a build directory.</p><p>Yoonix: In response to your concern about disk usage on la fonera, I should point out that the bulk of the extra space used on the la fonera (and the build for atheros in general) is needed because hostapd and wpa-supplicant are needed for wireless encryption with atheros, and these depend on libopenssl.&nbsp; libopenssl takes up more space, by itself, then the other Gargoyle packages COMBINED.&nbsp; It&#039;s HUGE -- over a megabyte installed.&nbsp; I&#039;m not aware of any good work-arounds for this, other than disabling WPA encryption for wireless, which is a very bad idea, given how easily WEP/mac filtering is cracked.</p></blockquote></div><p>Brilliant. I&#039;ll kick off a build now and test it on my wl500gp</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71248">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						22 Jul 2008, 05:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ebishop wrote:</cite><blockquote><p>The web server is a modified version of minihttpd, adapted to allow password protecting everything with the router&#039;s root password.&nbsp; Also, https is enabled via linkage to matrixssl.</p></blockquote></div><p>Have you tried to see if Gargoyle will work without a password? Some of my friends who have their LaFonera device connected behind their main NAT/Firewall router prefer their LaFonera to have no root password for an easy access. As such, the X-wrt gives them a <strong>Permission denied</strong> message when they try to access the webGUI on their LaFonera device.</p>											<p class="post-edited">(Last edited by <strong>mazilo</strong> on 22 Jul 2008, 05:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p71471">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						27 Jul 2008, 03:29					</div>
				</div>
				<div class="post-content content">
					<p>Thanks to a user named phobos, I now have Gargoyle working with the La Fonera+&nbsp; &nbsp;I&#039;m still having problems building from trunk for Atheros, but phobos has provided a patched version of the ar2313 driver that will work with Kamikaze 7.09.&nbsp; The new firmware images I&#039;ve uploaded do not work with the older, standard versions of the La Fonera, but the regular Atheros firmware is still available and should work fine on these models.</p><p>mazilo: I&#039;ve implemented a new feature that allows you to turn off password protection of the web interface if you want.&nbsp; Due to security concerns, this feature is obviously not enabled by default (i.e. there IS, by default, a password).&nbsp; This feature is available in the SVN, and will be released with Beta 2.</p><p>Also, I&#039;m officially announcing that Gargoyle Beta 2 will be released on Monday August 25th.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77434">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						2 Dec 2008, 08:13					</div>
				</div>
				<div class="post-content content">
					<p>I have just released Beta 3 of Gargoyle.&nbsp; This new version includes an access restriction section, as well as a bandwidth quotas section, so that you can allocate/limit bandwidth appropriately to connected hosts.&nbsp; The QoS implementation has also been improved dramatically to better handle layer 7 matching.&nbsp; (Gargoyle doesn&#039;t use the default QoS scripts, since the default QoS doesn&#039;t include independent traffic classes for inbound and outbound traffic)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79561">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						13 Jan 2009, 09:35					</div>
				</div>
				<div class="post-content content">
					<p>Beta 4 of Gargoyle has now been released.&nbsp; Gargoyle is now based entirely on the Kamikaze 8.09 branch.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84438">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						24 Mar 2009, 09:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ebishop wrote:</cite><blockquote><p>Beta 4 of Gargoyle has now been released.&nbsp; Gargoyle is now based entirely on the Kamikaze 8.09 branch.</p></blockquote></div><p>Keep up the great work, thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87070">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						1 May 2009, 13:44					</div>
				</div>
				<div class="post-content content">
					<p>Beta 5 of Gargoyle has now been released.&nbsp; This release includes the ability to easily configure a wireless bridge via WDS or client bridge.&nbsp; Both modes are supported on both broadcom and atheros wireless hardware.&nbsp; Other enhancements include the ability to scan for wireless networks, access restriction white-listing and the ability to easily restore default configuration settings.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87406">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">reddust</div>
					<div class="post-datetime">
						6 May 2009, 10:26					</div>
				</div>
				<div class="post-content content">
					<p>Is the atheros build patched to fix the switch configuration issue?&nbsp; .e.g. dev.luci.frefunk-halle.net/freifunk-snapshots/_patches/atheros-buildroot.patch</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87409">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">reddust</div>
					<div class="post-datetime">
						6 May 2009, 10:52					</div>
				</div>
				<div class="post-content content">
					<p>Testing gargoyle beta 5 on DIR-300 atheros it seems that the only mode of operation supported is for the Internet to be connected via wireless and the LAN on the ethernet ports.&nbsp; In other words, it seems that the switch configuration patch is not supported, or if it is then the configuration of the switch is not set up.</p><p>Is there a way to get this software to work properly on DIR-300 atheros?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p91406">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						15 Jul 2009, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>Gargoyle is now out of beta, version 1.0.0 (Final) of Gargoyle is now out.&nbsp; This release includes significantly improved bandwidth quota management, a new implementation of the access restrictions section and lots of minor bugfixes and improvements.</p><p>reddust: sorry, I didn&#039;t see your comment before, since after previous releases this thread has gotten very few comments.&nbsp; I&#039;ll look into this immediately.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p91767">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">ps_sach</div>
					<div class="post-datetime">
						23 Jul 2009, 13:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi ebishop,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Great work!</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I want to port the gargoyle gui onto my openwrt firmware build image. I want to use your packages source and build the gui packages locally and want to l install on my firmware image (I don&#039;t want to go with the prebuild packages).&nbsp; Is there any way to do this? <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I want this for dir-300.</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92487">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">ebishop</div>
					<div class="post-datetime">
						10 Aug 2009, 04:16					</div>
				</div>
				<div class="post-content content">
					<p>Yes.&nbsp; Checkout the Gargoyle SVN (see download page for instructions on doing this), then run &quot;make custom.&quot;&nbsp; This will automatically download openwrt source and packages, and then run &quot;make menuconfig&quot; for you to configure the firmware.&nbsp; Configure the packages you want, hit ok, and it will build your custom image/packages for you.&nbsp; The package files will be in built/custom and the firmware images will be in images/custom.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>