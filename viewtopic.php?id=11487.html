<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> PHP5+SQLITE(2?3?) = 500 - Internal Server Error !!!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p51747">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">$@m</div>
					<div class="post-datetime">
						3 Jul 2007, 19:54					</div>
				</div>
				<div class="post-content content">
					<p>What i have :<br /></p><div class="quotebox"><blockquote><p>/usr/bin/php: ./src/btree.c: 702: sqliteBtreeOpen: Assertion `sizeof(ptr)==sizeof(char*)&#039; failed.<br />2007-07-03 18:44:52: (mod_cgi.c.553) cgi died, pid: 22720</p></blockquote></div><p>What is installed :<br /></p><div class="quotebox"><blockquote><p>libsqlite2&nbsp; &nbsp; 2.8.17-1&nbsp; &nbsp; <br />libsqlite3&nbsp; &nbsp; 3.3.3-1<br />lighttpd&nbsp; &nbsp; 1.4.11-2<br />lighttpd-mod-auth&nbsp; &nbsp; 1.4.11-2&nbsp; &nbsp; <br />lighttpd-mod-cgi&nbsp; &nbsp; 1.4.11-2&nbsp; &nbsp; <br />lighttpd-mod-proxy&nbsp; &nbsp; 1.4.11-2&nbsp; &nbsp; <br />lighttpd-mod-rewrite&nbsp; &nbsp; 1.4.11-2&nbsp; &nbsp; <br />lighttpd-mod-setenv&nbsp; &nbsp; 1.4.11-2&nbsp; &nbsp; <br />lighttpd-mod-simple-vhost&nbsp; &nbsp; 1.4.11-2&nbsp; &nbsp; <br />lighttpd-mod-status&nbsp; &nbsp; 1.4.11-2<br />php5&nbsp; &nbsp; 5.0.5-1&nbsp; &nbsp; <br />php5-cgi&nbsp; &nbsp; 5.0.5-1&nbsp; &nbsp; <br />php5-cli&nbsp; &nbsp; 5.0.5-1&nbsp; &nbsp; <br />php5-mod-ftp&nbsp; &nbsp; 5.0.5-1&nbsp; &nbsp; <br />php5-mod-gd&nbsp; &nbsp; 5.0.5-1&nbsp; &nbsp; <br />php5-mod-session&nbsp; &nbsp; 5.0.5-1&nbsp; &nbsp; <br />php5-mod-sqlite&nbsp; &nbsp; 5.0.5-1&nbsp; &nbsp; <br />php5-mod-xml&nbsp; &nbsp; 5.0.5-1</p><p>From <a href="http://downloads.openwrt.org/backports/0.9/">http://downloads.openwrt.org/backports/0.9/</a></p></blockquote></div><p>I follow forum2006 here : <a href="http://forum.openwrt.org/viewtopic.php?pid=43696#p43696">http://forum.openwrt.org/viewtopic.php?pid=43696#p43696</a><br />but i am not lucky <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Is there a howto to have SQLITE with PHP ?</p><p>Is anyone knowing what this error does it mean ?</p><p>thanks <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>$@m</strong> on 3 Jul 2007, 20:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51810">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ben72</div>
					<div class="post-datetime">
						4 Jul 2007, 13:57					</div>
				</div>
				<div class="post-content content">
					<p>Same trouble as you,<br />i&#039;ve been forced to kamikaze due to lack of updated packages and support on whiterussian, but now i&#039;m dealing with sd/mmc hack (with kamikaze doesn&#039;t work).<br />I&#039;d like to use PHP5+SQLITE3 (&#039;cause my application need both) and i&#039;m facing to use kamikaze, let me know if you can solve something with WR</p><p>Cheers<br />Ben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51813">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">$@m</div>
					<div class="post-datetime">
						4 Jul 2007, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>I test with 2 and 3... nothing<br />i downgrade my conf to have exactlye the same packages.... =&gt; nothing <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>I need mmc...</p><p>I think I will create my own php function to have an interface with SQLite....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52513">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">snowfire</div>
					<div class="post-datetime">
						18 Jul 2007, 23:52					</div>
				</div>
				<div class="post-content content">
					<p>I had the same problem but now all ok <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>the problem is the libsqlite2<br />do solve the problem follow the instructions from<br /><a href="http://forum.openwrt.org/viewtopic.php?pid=52509">http://forum.openwrt.org/viewtopic.php?pid=52509</a></p><p>or use my binaries.<br />1) remove the current libsqlite2<br />ipkg remove libsqlite2 -force-depends</p><p>2) add the following line to your /etc/ipkg.conf on your router:<br />src sqlite-port <a href="http://lamp2.fh-stpoelten.ac.at/~tm041085/openwrt/backports">http://lamp2.fh-stpoelten.ac.at/~tm0410 … /backports</a><br />(use &quot;~tm041085/openwrt/backports&quot; instead of &quot;~tm0410 … /backports&quot;)</p><p>3) update the package-list<br />ipkg update</p><p>4) install the libsqlite from the new backport (use the full address instead of only the name)<br />ipkg install <a href="http://lamp2.fh-stpoelten.ac.at/~tm041085/openwrt/backports/libsqlite2_2.8.17-1_mipsel.ipk">http://lamp2.fh-stpoelten.ac.at/~tm0410 … mipsel.ipk</a><br />(use &quot;~tm041085/openwrt/backports/libsqlite2_2.8.17-1_mipsel.ipk&quot; instead of &quot;~tm0410 … mipsel.ipk&quot; )</p><p>5) now you can remove the added line from /etc/ipkg.conf</p><p>sorry for my bad english <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>snowfire</strong> on 18 Jul 2007, 23:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52920">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">SpeziAlex</div>
					<div class="post-datetime">
						27 Jul 2007, 12:51					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>now it works with sqlite2, but i get an error with count and distinct in a query. is this only a disadvantage from sqlite2 or is it a error in this lib?</p><p>does it work with sqlite3? where do i get sqlite3?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53143">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">$@m</div>
					<div class="post-datetime">
						31 Jul 2007, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57225">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">cpd</div>
					<div class="post-datetime">
						8 Oct 2007, 23:49					</div>
				</div>
				<div class="post-content content">
					<p>Thank you snowfire! You solved my problem too! It was a (one day) nightmare to install lighttpd + php5 + sqlite2 and let them work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84046">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">igotcha</div>
					<div class="post-datetime">
						17 Mar 2009, 14:33					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for snowfire ,my sqlite2 works too !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105116">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">zulas</div>
					<div class="post-datetime">
						23 Mar 2010, 22:13					</div>
				</div>
				<div class="post-content content">
					<p>If any people have got the libsqlite from the new backport <a href="http://lamp2.fh-stpoelten.ac.at/~tm041085/openwrt/backports/libsqlite2_2.8.17-1_mipsel.ipk">http://lamp2.fh-stpoelten.ac.at/~tm0410 … mipsel.ipk</a></p><p>please re-upload working libsqlite2 packages again ex. on rapidshare or hotfile (prev link gone/dead)? My problem is same. Thanks.</p><p>Please so much!</p>											<p class="post-edited">(Last edited by <strong>zulas</strong> on 27 May 2010, 13:15)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>