<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Chaos Calmer LuCI UI is painfully Slow</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p288234">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						19 Aug 2015, 11:33					</div>
				</div>
				<div class="post-content content">
					<p>I noticed that Chaos Calmer is somewhat slower compared to Barrier Breaker.<br />On WR1043NDv1 the LuCi interface values, memory free, packets send, no of connections, takes a long time to load up on the web interface compared to barrier breaker, performance is also slower by a lot. Anyone having the same issue or it is just me?</p><p>I noticed that with each version increase more and more daemon appears and start listening on sockets by default.<br />For Barrier Breaker to Chaos Calmer the new &quot;Star&quot; is RPCD.<br />I mean I am all for new features but we are all running it on resource constraint devices so a balance need to be struck btw performance and features.</p><p>PS : on the Default LUCI Page, Memory statistic is missing one section Barrier Breaker has 4 while Chaos Calmer has only 3</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 23 Nov 2015, 04:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288251">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">makarel</div>
					<div class="post-datetime">
						19 Aug 2015, 12:55					</div>
				</div>
				<div class="post-content content">
					<p>+1<br />too much eye candy in luci interfaces i think it could be done with bare html</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288254">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						19 Aug 2015, 13:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>I noticed that Chaos Calmer is somewhat slower compared to Barrier Breaker.<br />On WR1043NDv1 the LuCi interface values, memory free, packets send, no of connections, takes a long time to load up on the web interface compared to barrier breaker, performance is also slower by a lot. Anyone having the same issue or it is just me?</p></blockquote></div><p>I have seen the same slowness in Luci GUI, but it has not always been that way. CC trunk used to update the Luci front page&#039;s dynamic contents rather quickly until maybe June(?). Since the summer I have sometimes noticed the slowness in the initial update of the dynamic fields. I have not bothered to investigate which change triggered the slowness :-( </p><p>Just a guess:&nbsp; the reason might be in the uhttpd web server daemon, not in the Luci itself.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 19 Aug 2015, 13:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288289">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">trismo</div>
					<div class="post-datetime">
						19 Aug 2015, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>32 MB RAM device make no fun today just the kernel eat ~35% RAM</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288853">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						23 Aug 2015, 06:21					</div>
				</div>
				<div class="post-content content">
					<p>Hmm maybe this is why the DGN3500 I tried out seemed so slow. I thought it was related to slow flash (as noted in some old mailing list posts and tickets). But maybe it is CC-RC3? Has this been reported to the devs? This would be really important to fix before the final, especially since the web GUI is what makes the first impression here!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p288865">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rseiler</div>
					<div class="post-datetime">
						23 Aug 2015, 09:46					</div>
				</div>
				<div class="post-content content">
					<p>hnyman, yes, I never saw it in the circa mid-May build (or earlier CCs) I had been using until I recently updated to one from late July, so it could certainly have begun in late-May/early June.</p><p>It&#039;s going to be tough to report--if it hasn&#039;t been already--since it&#039;s not consistently slow. I haven&#039;t quite figured out when it is/isn&#039;t.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p289848">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						31 Aug 2015, 15:21					</div>
				</div>
				<div class="post-content content">
					<p>I tried to debug Luci a bit and filed a ticket to document findings: <a href="https://github.com/openwrt/luci/issues/459">https://github.com/openwrt/luci/issues/459</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p291752">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						14 Sep 2015, 05:54					</div>
				</div>
				<div class="post-content content">
					<p>Is this solved in Chaos Calmer or it didn&#039;t exist?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292153">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Vulpix</div>
					<div class="post-datetime">
						17 Sep 2015, 01:19					</div>
				</div>
				<div class="post-content content">
					<p>I actually upgraded to CC today; having previously used alphasparc&#039;s patched BB (which has the conntrack cache fix). When I connect directly to the internet, I get 300Mbit (I have a fast connection). Through the router, it was around ~260Mbit on BB. After upgrading to CC however, the speed it way worse - it&#039;s like 160-190Mbit.</p><p>I only get about 66% sirq, 33% idle. What gives? Why is it slow even though my CPU is not as busy? I tried disabling whatever I could but the speed didn&#039;t get any better. I will go back to BB if I can&#039;t get CC to take full advantage of my connection.</p><p>Oh, I have a WDR3600.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292155">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">rseiler</div>
					<div class="post-datetime">
						17 Sep 2015, 01:23					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s hard to tell by the Subject alone, but this thread is just about the UI.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p292158">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Vulpix</div>
					<div class="post-datetime">
						17 Sep 2015, 02:06					</div>
				</div>
				<div class="post-content content">
					<p>Oops... my bad.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p295605">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">rseiler</div>
					<div class="post-datetime">
						11 Oct 2015, 09:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Is this solved in Chaos Calmer or it didn&#039;t exist?</p></blockquote></div><p>I don&#039;t think so, unless it was fixed near the very end (I&#039;m still using a build about a month before final).</p><p>Has anyone tried DD (trunk)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300856">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						23 Nov 2015, 04:13					</div>
				</div>
				<div class="post-content content">
					<p>If CC isn&#039;t solved I don&#039;t think DD is either.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300858">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						23 Nov 2015, 04:44					</div>
				</div>
				<div class="post-content content">
					<p>luci in trunk from yesterday (r47551) works pretty good for me, even more responsive than r46672</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300863">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						23 Nov 2015, 05:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>luci in trunk from yesterday (r47551) works pretty good for me, even more responsive than r46672</p></blockquote></div><p>No one bothered to backport to CC?<br />Come on CC is supposed to be stable and this IS A BUG.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300888">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						23 Nov 2015, 12:00					</div>
				</div>
				<div class="post-content content">
					<p>The slowness is caused by a keepalive bug in uhttpd, fixed ~7 weeks ago by r47161 in trunk and r47162 in CC.<br />Issue has been tracked in ticket #20607 and #20661.</p><p>A workaround is disabling keep alive:<br /></p><div class="codebox"><pre><code>uci set uhttpd.main.http_keepalive=0
uci commit uhttpd
/etc/init.d/uhttpd restart</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300938">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">rseiler</div>
					<div class="post-datetime">
						23 Nov 2015, 19:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>r47162 in CC.</p></blockquote></div><p>Thanks for the links and workaround, but I&#039;m a little confused by how a fix was made for CC. I&#039;m guessing that this means source code only and applies to those who compile their own builds. It does not apply to those who just go to the site and download the latest released version, right (that&#039;s still a 46767 build with unchanged older dates)?</p><p>This brings up an interesting point: with only one or two stable-branch releases coming per year, how do fairly serious issues like the above get addressed for the majority, who I assume don&#039;t compile their own builds?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300942">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						23 Nov 2015, 19:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rseiler wrote:</cite><blockquote><div class="quotebox"><cite>jow wrote:</cite><blockquote><p>r47162 in CC.</p></blockquote></div><p>Thanks for the links and workaround, but I&#039;m a little confused by how a fix was made for CC. I&#039;m guessing that this means source code only and applies to those who compile their own builds.</p></blockquote></div><p>Yes. So far the fix is only in the source code for self-compilation.</p><p>There are about 50 different platforms, so compiling even one updated package for all platforms is quite an effort. Devs have selectively done that after some key security-related fixes, but not generally.</p><p>Personally I wish that there would be a maintenance release 15.05.1 in the near future, as there have been quite a lot of fixes since the 15.05 release.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300945">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						23 Nov 2015, 20:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>There are about 50 different platforms, so compiling even one updated package for all platforms is quite an effort.</p></blockquote></div><p>For my understanding: Buildbots are constantly building trunk images.<br />What is the big effort behind building updated 15.05 images?</p><p>Just curious...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300991">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						24 Nov 2015, 03:40					</div>
				</div>
				<div class="post-content content">
					<p>Also, who can make the call on 15.05.1? Would be great to have it include the updated atheros firmware and ath10k package for affected routers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p300992">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						24 Nov 2015, 03:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>rseiler wrote:</cite><blockquote><div class="quotebox"><cite>jow wrote:</cite><blockquote><p>r47162 in CC.</p></blockquote></div><p>Thanks for the links and workaround, but I&#039;m a little confused by how a fix was made for CC. I&#039;m guessing that this means source code only and applies to those who compile their own builds.</p></blockquote></div><p>Yes. So far the fix is only in the source code for self-compilation.</p><p>There are about 50 different platforms, so compiling even one updated package for all platforms is quite an effort. Devs have selectively done that after some key security-related fixes, but not generally.</p><p>Personally I wish that there would be a maintenance release 15.05.1 in the near future, as there have been quite a lot of fixes since the 15.05 release.</p></blockquote></div><p>No wonder the problem still persisted when I downloaded the latest CC...so it isn&#039;t the latest.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369801">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">oferreiro</div>
					<div class="post-datetime">
						19 Dec 2017, 22:29					</div>
				</div>
				<div class="post-content content">
					<p>I solved similar issue disabling uhttp http_keepalive.<br />option http_keepalive &#039;0&#039;</p>											<p class="post-edited">(Last edited by <strong>oferreiro</strong> on 19 Dec 2017, 22:32)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>