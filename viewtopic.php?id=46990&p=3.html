<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WA901ND v3</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 2 Sep 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 8</div><nav><ul><li><a href="viewtopic.php%3Fid=46990&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=46990&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=46990&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=46990&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=46990&amp;p=8.html">8</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p223029">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">SantaFox</div>
					<div class="post-datetime">
						17 Jan 2014, 23:56					</div>
				</div>
				<div class="post-content content">
					<p>This is a list of modules installed. Since I don&#039;t want to use this WA901ND more than dump AP station (with DHCP working), I think there are lot of modules to remove... what do you think?</p><div class="codebox"><pre><code>root@OpenWrt:~# opkg list-installed
6relayd - 2013-10-21.1-ad00c3dd9ee42f172870708724858ab502b3a689
base-files - 149-r39294
block-mount - 2014-01-12-c907116d6c4f471f693717f055e54a0f06db35d4
busybox - 1.19.4-7
dnsmasq - 2.66-5
dropbear - 2013.59-1
firewall - 2013-12-17
hostapd-common - 20131120-1
ip6tables - 1.4.20-1
iptables - 1.4.20-1
iw - 3.10-1
jshn - 2013-12-02-318d682d29a8974aa53bd7dc523f1514eb0eddb9
kernel - 3.10.26-1-586e792aa7d1cbc59249e43ee51a59c3
kmod-ath - 3.10.26+2013-11-05-5
kmod-ath9k - 3.10.26+2013-11-05-5
kmod-ath9k-common - 3.10.26+2013-11-05-5
kmod-cfg80211 - 3.10.26+2013-11-05-5
kmod-crypto-aes - 3.10.26-1
kmod-crypto-arc4 - 3.10.26-1
kmod-crypto-core - 3.10.26-1
kmod-gpio-button-hotplug - 3.10.26-1
kmod-ip6tables - 3.10.26-1
kmod-ipt-conntrack - 3.10.26-1
kmod-ipt-core - 3.10.26-1
kmod-ipt-nat - 3.10.26-1
kmod-ipt-nathelper - 3.10.26-1
kmod-ipv6 - 3.10.26-1
kmod-leds-gpio - 3.10.26-1
kmod-ledtrig-default-on - 3.10.26-1
kmod-ledtrig-netdev - 3.10.26-1
kmod-ledtrig-timer - 3.10.26-1
kmod-ledtrig-usbdev - 3.10.26-1
kmod-lib-crc-ccitt - 3.10.26-1
kmod-lib-lzo - 3.10.26-1
kmod-mac80211 - 3.10.26+2013-11-05-5
kmod-nls-base - 3.10.26-1
kmod-ppp - 3.10.26-1
kmod-pppoe - 3.10.26-1
kmod-pppox - 3.10.26-1
kmod-slhc - 3.10.26-1
kmod-usb-core - 3.10.26-1
kmod-usb-ohci - 3.10.26-1
kmod-usb2 - 3.10.26-1
kmod-zram - 3.10.26-1
libblkid - 2.21.2-2
libblobmsg-json - 2013-12-02-318d682d29a8974aa53bd7dc523f1514eb0eddb9
libc - 0.9.33.2-1
libgcc - 4.6-linaro-1
libip4tc - 1.4.20-1
libip6tc - 1.4.20-1
libiwinfo - 47
libiwinfo-lua - 47
libjson-c - 0.11-2
libjson-script - 2013-12-02-318d682d29a8974aa53bd7dc523f1514eb0eddb9
liblua - 5.1.5-1
libnfnetlink - 1.0.1-1
libnl-tiny - 0.1-3
libubox - 2013-12-02-318d682d29a8974aa53bd7dc523f1514eb0eddb9
libubus - 2013-11-07-8ea96670367e5dd23988b51ee4f0f790393effaf
libubus-lua - 2013-11-07-8ea96670367e5dd23988b51ee4f0f790393effaf
libuci - 2013-12-02.1-1
libuci-lua - 2013-12-02.1-1
libuuid - 2.21.2-2
libxtables - 1.4.20-1
lua - 5.1.5-1
luci - svn-r9948-1
luci-app-firewall - svn-r9948-1
luci-i18n-english - svn-r9948-1
luci-lib-core - svn-r9948-1
luci-lib-ipkg - svn-r9948-1
luci-lib-nixio - svn-r9948-1
luci-lib-sys - svn-r9948-1
luci-lib-web - svn-r9948-1
luci-mod-admin-core - svn-r9948-1
luci-mod-admin-full - svn-r9948-1
luci-proto-core - svn-r9948-1
luci-proto-ppp - svn-r9948-1
luci-sgi-cgi - svn-r9948-1
luci-theme-base - svn-r9948-1
luci-theme-bootstrap - svn-r9948-1
mtd - 20
netifd - 2013-12-29-7d79d0a8aa5a5b4c1ed987af119356438d98fe7b
odhcp6c - 2013-12-15-be05c0ded0257cbb82857f6d01226ef6de28befe
opkg - 9c97d5ecd795709c8584e972bfdf3aee3a5b846d-6
ppp - 2.4.5-10
ppp-mod-pppoe - 2.4.5-10
procd - 2013-12-18-2dc572df0e3002263c0a49ebbc329ed1b6c42a01
swap-utils - 2.21.2-2
swconfig - 10
uboot-envtools - 2013.10-1
ubox - 2014-01-12-c907116d6c4f471f693717f055e54a0f06db35d4
ubus - 2013-11-07-8ea96670367e5dd23988b51ee4f0f790393effaf
ubusd - 2013-11-07-8ea96670367e5dd23988b51ee4f0f790393effaf
uci - 2013-12-02.1-1
uhttpd - 2013-11-21-cd66639800ee2882a0867ec54868502eb9b893d8
uhttpd-mod-ubus - 2013-11-21-cd66639800ee2882a0867ec54868502eb9b893d8
wpad-mini - 20131120-1
zram-swap - 1-2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224167">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">Gonzakpo</div>
					<div class="post-datetime">
						31 Jan 2014, 13:08					</div>
				</div>
				<div class="post-content content">
					<p>Sorry if this question is too noob for some of you, but I had to ask. Can this patches be backported to the latest stable version? Or at least, can someone upload here the latest stable version with the accepted patches applied?</p><p>Thanks.</p>											<p class="post-edited">(Last edited by <strong>Gonzakpo</strong> on 31 Jan 2014, 13:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224256">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">crissi</div>
					<div class="post-datetime">
						1 Feb 2014, 16:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>SomebodE wrote:</cite><blockquote><div class="quotebox"><cite>nebbia88 wrote:</cite><blockquote><p>great, now i&#039;m going to ask you a huge favour, since it seems you&#039;re the only around here with this model AND a serial console attached.</p><p>first of all backup your config from Luci-&gt;System-&gt;Backup/Flash-&gt;Generate archive</p><p>then, download this to the /tmp folder of your router, it&#039;s an OLD tplink firmware without the uboot part, so it can be flashed to the &quot;firmware&quot; partition:</p><p><a href="https://www.dropbox.com/s/xd2pgg04n8r7g6i/wa901ndv3_en_3_13_31_up%28130503%29">https://www.dropbox.com/s/xd2pgg04n8r7g … 8130503%29</a></p><p>then ssh your router and flash with mtd:</p><div class="codebox"><pre><code>cd /tmp
mv wa901* tplink.bin
mtd -r write tplink.bin firmware</code></pre></div><p>now you should have the tplink firmware back on your AP. login to the usual <a href="http://192.168.0.254">http://192.168.0.254</a> or whatever is it&#039;s default ip, then try to flash this from the stock WEB GUI:</p><p><a href="https://www.dropbox.com/s/dyjxbohh85na0qs/openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory-12.09.bin">https://www.dropbox.com/s/dyjxbohh85na0 … -12.09.bin</a></p><p>let me know how it goes <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>Hi,</p><p>I&#039;m new to OpenWRT but wanted to try it on my WA901ND v3.</p><p>I flashed openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory-12.09.bin via the Web gui and now my AP does not boot correctly.</p><p>I get 3 out of 5 lights come up. Whilst the LAN LED is on, it doesn&#039;t look like it&#039;s picking up a DHCP address or defaulted to it&#039;s factory address of 192.168.0.254.</p><p>Have I bricked it? Is there any ideas on recovery?</p><p>Thanks</p></blockquote></div><p>I ran into same problem and could fix it by attach serial adapter to serial port and flash openwrt factory image using uboot. The procedure is described at <a href="http://wiki.openwrt.org/toh/tp-link/tl-wa901nd#uboot.tftp">tl-wa901nd openwrt page</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224257">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						1 Feb 2014, 16:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>crissi wrote:</cite><blockquote><p>I ran into same problem and could fix it by attach serial adapter to serial port and flash openwrt factory image using uboot. The procedure is described at <a href="http://wiki.openwrt.org/toh/tp-link/tl-wa901nd#uboot.tftp">tl-wa901nd openwrt page</a></p></blockquote></div><br /><p>did you save a serial log of when it was not working??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p224509">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">Gonzakpo</div>
					<div class="post-datetime">
						4 Feb 2014, 04:27					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve finally installed the firmware uploaded by FriedZombie (<a href="http://ooxion.com/openwrt/wax50re/openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory.bin">http://ooxion.com/openwrt/wax50re/openw … actory.bin</a>). I&#039;ve flashed it using the TP-Link web-gui. Everything went smooth and the access point is working well so far. The original firmware was too unstable, let&#039;s see if openwrt is more stable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225139">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">kaffeebronko</div>
					<div class="post-datetime">
						12 Feb 2014, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>Hello everybody,</p><p>my AP is a TP-Link WA901ND (V3) and the firmware is running excellent for me – even with a better and more constant wifi&nbsp; performance as the original firmware.</p><p>All the same I&#039;ve a little problem to enable WPA-Enterprise to use my Radius-Server. In the LUCI-Frontentd under „Network → WIFI → Wireless Security“ I couldn&#039;t find the enrtry „WPA-Enterprise“. There are:<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />* No Encryption<br />* WEP Open System<br />* WEP Shared Key<br />* WPA PSK<br />* WPA2 PSK<br />* WPA-PSK/WPA2-PSK Mixed Mode</p><p>but not the one I&#039;d like to use:</p><p>* WPA2 Enterprise</p><br /><br /><p>After installing:</p><p>* openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-sysupgrade.bin<br />* LUCI</p><p>… and deinstalling:</p><p>* opkg –-recursive remove *ppp* (I don&#039;t use it as a modem)<br />* opkg –-recursive remove *usb* (The device don&#039;t have any USB-Ports)<br />* opkg remove dnsmasq<br />* wpad-mini</p><p>The strange thing is after removing the software I have still approx. 140kb space left for the root partition (shouldn&#039;t it be more space left after the removal as before?). I&#039;m sure I don&#039;t pay attention to anything important... </p><p>Now I&#039;d like to install the WPA2 Enterprise functionality and tried to install:</p><p>* wpa-cli<br />* wpa-supplicant<br />* hostapd</p><p>(maybe I just need the „hostapd“ package for WPA2 Enterprise support?)</p><p>Installing the wpa-cli package went ok but after a „opkg install wpa-supplicant“ there where not enough space left to install this package even after removing the PPP and the wpad-min packages.</p><p>Do anybody know how to get more space on the device or do anybody have a specal hint?</p><p>There maybe is a possibility if I don&#039;t install the webfrontend (LUCI), but I would miss it I think...</p><p>Thank you for reading and sorry if this is should be the wrong part of the forum!</p><p>Marco</p>											<p class="post-edited">(Last edited by <strong>kaffeebronko</strong> on 12 Feb 2014, 17:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225168">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">feeps</div>
					<div class="post-datetime">
						12 Feb 2014, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi peeps,</p><p>Bought a v3 and found the software a load of tosh, did a bit of research and found OpenWRT supports it. Flashed TheFriedZombies firmware fine and loaded up luci fine. </p><p>If I SCAN JOIN a new wireless network client, it connects fine but it shows the Encrytion as - even though it is setup correctly and it is connected to the router fine as I can see its MAC in the list of connected devices.</p><p>When I go to add a repeater network with ADD it craps out and kills the client wireless connection and shows the new wireless with Wireless Disabled or Not Associated, upon googling it says it is a Channel issue, and to manually set a channel, which I did but it still breaks everything. If I remove the new network the Client wireless stays broken till I remove it and re scan and join it.</p><p>Can someone post the lastest trunk snapshot with luci trunk built in? As last time I flashed a fireware luci wasn&#039;t built in! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226121">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">venanks</div>
					<div class="post-datetime">
						24 Feb 2014, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi I am new to OpenWRT. I have WA901ND V3 router and am using it as an AP.&nbsp; Found the stock firmware to be unstable as it was not accepting connection after a few days of usage so have to restart it every few days. </p><p>Anyway, I recently (about 3 days ago) installed / flashed the openwrt firmware given on this forum and all was going well.&nbsp; Just today when I was trying to access the web interface, I am getting this message after signing in as root:</p><p>/usr/lib/lua/luci/dispatcher.lua:448: Failed to execute function dispatcher target for entry &#039;/&#039;.<br />The called action terminated with an exception:<br />/usr/lib/lua/luci/sauth.lua:87: Session data invalid!<br />stack traceback:<br />&nbsp; &nbsp; [C]: in function &#039;assert&#039;<br />&nbsp; &nbsp; /usr/lib/lua/luci/dispatcher.lua:448: in function &#039;dispatch&#039;<br />&nbsp; &nbsp; /usr/lib/lua/luci/dispatcher.lua:195: in function &lt;/usr/lib/lua/luci/dispatcher.lua:194&gt;</p><p>The AP itself is functioning without a hitch.&nbsp; Only that I cannot access LUCI.&nbsp; I can access the AP through ssh though. Any suggestion to solve this is very much appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226382">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">johjoh</div>
					<div class="post-datetime">
						27 Feb 2014, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>Hi, thank you for this fantastic and working firmware!<br />:-)</p><p>I have some question/suggestion if there are possible for future upgrade:<br />- in LuCI there isn&#039;t the Wireless Isolation Client option, it&#039;s possible to integrate?<br />- it&#039;s possible to make a firmware without DNSmasq, Firewall, IPtables, IP6tables, IPv6 and other unuseful software?<br />If anyone would use it on TL-WA901ND, that is a simple access point, could install manually later. A lot of free space...</p><p>Last question: I need to configure a ping watchdog that reboot the AP in case of error, do you have some suggestion?<br />Script, software, etc...</p><p>Thank you for your beatiful work!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226901">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">danielblues</div>
					<div class="post-datetime">
						6 Mar 2014, 14:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p> To enable WPA Enterprise you need to uninstall wpad-mini and install wpad.</p><p>Daniel</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228029">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">tp-admin</div>
					<div class="post-datetime">
						20 Mar 2014, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>Help me please configure vlans for multi ssid. I need to create guest ssid with access to guest vlan. I tried editing network file, but if I change eth0 to subinterfaces my network won&#039;t start:</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228173">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">padunand</div>
					<div class="post-datetime">
						22 Mar 2014, 11:07					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m new to OpenWRT and I installed recently the firmware with good success on my WA901ND. It works great with vera good stability.</p><p>I remark the following issue by using the MAC-Filter function: by setting the function to &quot;disable&quot; to try something and setting again to &quot;allow listed only&quot;, all addresses disappear and I have to enter all one by one again.<br />Do I something wrong?</p><p>Thank you for your answer and your great job.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228180">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						22 Mar 2014, 13:37					</div>
				</div>
				<div class="post-content content">
					<p>try not to use luci maybe!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228529">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">chindro</div>
					<div class="post-datetime">
						26 Mar 2014, 20:42					</div>
				</div>
				<div class="post-content content">
					<p>Hey,</p><p>I just freshly flashed OpenWRT succesfully to my device. When I want to install wpad and remove wpad-mini the storage space runs out and opkg returns with an error.<br />I&#039;ve tried to remove some unused packeges (like dnsmasq) but availabe space shown with df -u is getting even less.</p><p>Could you please give any advice how to free space in order to install wpad?</p><p>I&#039;m able to build the firmware by myself (just set up the environment) but I really don&#039;t know which options to set or not to set to get a smaller system.</p><p>Thanks in advance and <br />Best Regards <br />Simon</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228533">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						26 Mar 2014, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>try performing reset to default from luci, then check space with df</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=28996">https://forum.openwrt.org/viewtopic.php?id=28996</a></p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 26 Mar 2014, 21:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229061">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">chindro</div>
					<div class="post-datetime">
						2 Apr 2014, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your reply. I needed to replace the 901nd in order to play and that took some time.</p><p>I can&#039;t find an option with reset in luci<br />.<br />The thread you mention proposes to build your own system.<br />Therefore, there are two questions:</p><p>1 How can I build a v3 image? A build in my environment with latest trunk version just produces v1 and v2 images. In snapshot builds a V3 image is available, I&#039;m wondering if there should be a mach-tl-wa901nd-v3.c ? </p><p>2 How can I exclude modules like firewall and ppp from the build? In can&#039;t uncheck them in menuconfig.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229078">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">chindro</div>
					<div class="post-datetime">
						3 Apr 2014, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>I think I found it out myself</p><p>1 seems I forgot to update, svn was still at 12.09. the board support c-file ist still missing. maybe a generic one is used?<br />2 there were dependencies, thats why is was unable to uncheck firewall and other modules</p><p>tomorrow I&#039;ll try my image and hope it&#039;s a bit smaller</p>											<p class="post-edited">(Last edited by <strong>chindro</strong> on 3 Apr 2014, 00:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229222">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">chindro</div>
					<div class="post-datetime">
						4 Apr 2014, 21:21					</div>
				</div>
				<div class="post-content content">
					<p>After reading the wiki (which I should have done before -&gt; really useful stuff in there) I used the image builder to build my firmware. In &quot;include/target.mk&quot; I set &quot;DEFAULT_PACKAGES.router:=&quot; to not include any additional packages. I ended up with a firmware (luci inclusive) with about 1MB of free space. </p><p>@SantaFox<br />Since removing packages from the squashfs filesystem is not possible (read only) its useless to call &quot;opkg remove &lt;a-useles-package&gt;&quot;. You also should try to create your own firmware like I did. Read <a href="http://wiki.openwrt.org/doc/howto/obtain.firmware.generate">http://wiki.openwrt.org/doc/howto/obtai … e.generate</a> for information. It&#039;s really easy!</p>											<p class="post-edited">(Last edited by <strong>chindro</strong> on 4 Apr 2014, 21:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231435">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">schorschi</div>
					<div class="post-datetime">
						27 Apr 2014, 16:57					</div>
				</div>
				<div class="post-content content">
					<p>Guude (Hi) @all,</p><p>vielen Dank für OpenWrt und vielen Dank für die Beiträge hier im Forum, insbesodere von &quot;chindro&quot;, der mir damit sehr weitergeholfen hat <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Ich nutze 2 WA901NDv2 (Client-Mode, Gargoyle-Firmeware) und einen neuen WA901NDv3 als Accesspoint. Die Übertragungsrate mit der originalen Firmware war ziemlich erbärmlich, also musste direkt OpenWrt drauf <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Ich habe heute den aktuellen trunk ausgecheckt, ein paar Anpassungen vorgenommen, kompiliert und installiert; <strong>es ist der Hammer</strong> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Kompiliert in einer Ubuntu 14.04 VM (32-Bit):<br /></p><div class="codebox"><pre><code># BUILD ****************************************************
#http://wiki.openwrt.org/doc/howto/build
#https://forum.openwrt.org/viewtopic.php?id=46990

# INSTALL --------------------------------------------------
sudo apt-get install subversion build-essential binutils flex bison autoconf gettext texinfo sharutils ncurses-dev zlib1g-dev rsync gawk unzip screen mc tcpdump net-tools tftpd wget
sudo mkdir /usr/local/openwrt
sudo chown &lt;YOUR_USERNAME&gt;:&lt;YOUR_USERGROUP&gt; /usr/local/openwrt

# CHECKOUT -------------------------------------------------
cd /usr/local/openwrt
svn co svn://svn.openwrt.org/openwrt/trunk/
cd trunk

# SETTINGS -------------------------------------------------
vi include/target.mk
# minimize image and disable...
# DEFAULT_PACKAGES.router:=dnsmasq iptables ip6tables ppp ppp-mod-pppoe kmod-ipt-nathelper firewall odhcpd odhcp6c
#...and add...
DEFAULT_PACKAGES.router:=

# FEEDS ----------------------------------------------------
./scripts/feeds update -a
./scripts/feeds install -a -p luci
make package/symlinks

# MAKE -----------------------------------------------------
# disable everything that you does not need and enable LuCi
make menuconfig V=99

# BUILD (4 Cores)
make -j 4</code></pre></div><p>df -h:<br /></p><div class="codebox"><pre><code>BusyBox v1.19.4 (2014-04-27 11:36:57 CEST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 BARRIER BREAKER (Bleeding Edge, r40572)
 -----------------------------------------------------
  * 1/2 oz Galliano         Pour all ingredients into
  * 4 oz cold Coffee        an irish coffee mug filled
  * 1 1/2 oz Dark Rum       with crushed ice. Stir.
  * 2 tsp. Creme de Cacao
 -----------------------------------------------------
root@BAR-AP03:~# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                  640.0K    232.0K    408.0K  36% /
/dev/root                 2.3M      2.3M         0 100% /rom
tmpfs                    14.2M    504.0K     13.7M   3% /tmp
/dev/mtdblock3          640.0K    232.0K    408.0K  36% /overlay
overlayfs:/overlay      640.0K    232.0K    408.0K  36% /
tmpfs                   512.0K         0    512.0K   0% /dev</code></pre></div><p>Nach dem Upgrade habe ich noch die Firewall disabled und wshaper eingerichtet. Das Gast-Netzwerk ist nicht &quot;isoliert&quot;, aber dass benötige ich auch nicht, hauptsächlich es ist &quot;bandbreitenmäßig eingeschränkt&quot;:<br /></p><div class="codebox"><pre><code>iwconfig
lo        no wireless extensions.

teql0     no wireless extensions.

wlan0-1   IEEE 802.11bgn  Mode:Master  Tx-Power=18 dBm
          RTS thr:off   Fragment thr:off
          Power Management:off

wlan0     IEEE 802.11bgn  Mode:Master  Tx-Power=18 dBm
          RTS thr:off   Fragment thr:off
          Power Management:off

eth0      no wireless extensions.

br-lan    no wireless extensions.</code></pre></div><div class="codebox"><pre><code>clear &amp;&amp; cat /etc/config/wireless
# defaults
config wifi-device &#039;radio0&#039;
        option type &#039;mac80211&#039;
        option channel &#039;11&#039;
        option hwmode &#039;11ng&#039;
        option path &#039;platform/ar934x_wmac&#039;
        list ht_capab &#039;LDPC&#039;
        list ht_capab &#039;SHORT-GI-20&#039;
        list ht_capab &#039;SHORT-GI-40&#039;
        list ht_capab &#039;TX-STBC&#039;
        list ht_capab &#039;RX-STBC1&#039;
        list ht_capab &#039;DSSS_CCK-40&#039;
        option txpower &#039;30&#039;
        option country &#039;US&#039;
        option htmode &#039;HT40-&#039;
        option noscan &#039;1&#039;

# private wifi (wlan0)
config wifi-iface
        option device &#039;radio0&#039;
        option network &#039;lan&#039;
        option mode &#039;ap&#039;
        option wds &#039;1&#039;
        option encryption &#039;psk2&#039;
        option key &#039;abcd0123&#039;
        option ssid &#039;BAR-AP03&#039;

# public wifi (guest --&gt; wlan0-1)
config wifi-iface
        option device &#039;radio0&#039;
        option mode &#039;ap&#039;
        option wds &#039;1&#039;
        option network &#039;lan&#039;
        option encryption &#039;psk2&#039;
        option key &#039;xyz456&#039;
        option ssid &#039;BAR-GAST&#039;</code></pre></div><div class="codebox"><pre><code>clear &amp;&amp; cat /etc/config/wshaper
# Note: The downlink and uplink limits are reversed from what one might expect, as the data is flowing in the opposite direction from wshaper&#039;s usual (wan) interface.
config &#039;wshaper&#039; &#039;settings&#039;
        option &#039;network&#039; &#039;wlan0-1&#039;
        option &#039;downlink&#039; &#039;3000&#039;
        option &#039;uplink&#039; &#039;30000&#039;</code></pre></div>											<p class="post-edited">(Last edited by <strong>schorschi</strong> on 28 Apr 2014, 20:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p231991">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">benton18</div>
					<div class="post-datetime">
						1 May 2014, 20:45					</div>
				</div>
				<div class="post-content content">
					<p>Hallo! I hope you can help me i want to flash my AP with Open WRT to get a feature i need for our restaurant.</p><p>First, this is my Hardware:<br />TL-WA901ND (V3.00)</p><p>What i want to enable following:</p><p>We have a little restaurant, and i want to offer our guests to use the Wifi.<br />For this reason, i want to enable a screen with a licence agreement, the user has to confirm, before he gets in the www. (It is for the law in our country, i have to inform the guests that it is illegal to share with P2P torrent and so on, its their own risk, and i&#039;m not responsible,..)<br />I also need the AP Isolation enabled (already possible in the stock Firmware</p><p>So is something like that possible to create?</p><p>Someone gave me the tip to use nodogsplash, but i have never done something like that,<br />and when i read this 3 pages, i don&#039;t think i can handle this. CAn i do this on my own? Do i have to compile something? Can someone of you help me step by step?</p><p>Can i start flashing OFW with the link of Post 24# as a first step and then re-setup the AP as it was in the GUI?</p><p>Or is the flashed AP still with the settings i had before? what ip will it have and how can i reach the GUI?</p><p>I&#039;d be glad to hear from you guys</p><p>greetings</p>											<p class="post-edited">(Last edited by <strong>benton18</strong> on 1 May 2014, 21:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232388">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">engywook</div>
					<div class="post-datetime">
						5 May 2014, 02:03					</div>
				</div>
				<div class="post-content content">
					<p>Is it enough to just flash openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory.bin or do I need to flash openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory-12.09.bin first? I can&#039;t tell from the wiki since it says it web gui doesn&#039;t work on stock wm or something.</p><p>Any difference between the openwrt snapshot and the oxxion repo files?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232511">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">AmazedVeteran</div>
					<div class="post-datetime">
						5 May 2014, 23:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Gonzakpo wrote:</cite><blockquote><p>I&#039;ve finally installed the firmware uploaded by FriedZombie (<a href="http://ooxion.com/openwrt/wax50re/openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory.bin">http://ooxion.com/openwrt/wax50re/openw … actory.bin</a>). I&#039;ve flashed it using the TP-Link web-gui. Everything went smooth and the access point is working well so far. The original firmware was too unstable, let&#039;s see if openwrt is more stable.</p></blockquote></div><p>Wow, yes... this &quot;Just Worked&quot;. I appear to have gone from the flaky standard software that was causing some weirdness on my network, and I could only browse to by IP address... to a system that works.&nbsp; Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235076">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">bercerobry</div>
					<div class="post-datetime">
						30 May 2014, 05:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>pwilson411 wrote:</cite><blockquote><p>Many thanks to nebbia88, FriedZombie and all others involved.</p><p>FriedZombie - You said &#039;eth0.3 means that I would have a tagged vlan on eth0 tagged vlan3&#039; - I have done the following, can you see if I have missed anything:</p><p>1) Via LuCI interface I created a new wireless network named VLAN3 and also created a new network interface named eth0.3 . I am assuming that any packets going through that wireless network VLAN3 SSID would be sent with tagged packets with VLAN ID 3</p><p>2) Secondly I then attached my machine to the VLAN3 SSID</p><p>3) Tried to route traffic once connected to the VLAN3 SSID</p><p>4) Found that the packets transmitted whilst connected to VLAN3 SSID did not contain the VLAN ID 3 in the header</p><p>Oddly in the&nbsp; /etc/config/network file all I see is as below which does not seem to make any reference to VLAN 3. </p><p>Can anyone see if I have missed anything?</p><p>In addition can anyone confirm if the default eth0 management interface will be sent with tagged or untagged packets? I would ideally like the default management interface to appear as an untagged VLAN with a VLAN ID of 520.</p><p>Any help is greatly appreciated.</p><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>config globals &#039;globals&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ula_prefix &#039;fd37:afbb:e668::/48&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ip6assign &#039;60&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;172.16.22.13&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.255.255.192&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option gateway &#039;172.16.22.1&#039;</p><br /><div class="quotebox"><cite>FriedZombie wrote:</cite><blockquote><p>Thank you all for the great responses <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Also I have stuck together some images based on trunk r39025 + patches, this image contains the webgui (Luci) and zram_swap</p><p><a href="http://ooxion.com/openwrt/wax50re/openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory.bin">openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-factory.bin</a> (to flash trough the tp-link default webgui)<br /><a href="http://ooxion.com/openwrt/wax50re/openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-sysupgrade.bin">openwrt-ar71xx-generic-tl-wa901nd-v3-squashfs-sysupgrade.bin</a> (to upgrade an existing openwrt installation)</p><p>Also the wireless is enabled by default on this image.</p><p>@pwilson411<br />Yes it is possible to do the setup that you want under openWrt, only the switch tab doesn&#039;t show up because the switch isn&#039;t used/connected on the wa901nd. But you can simply create new interfaces for example eth0.3 means that I have a tagged vlan on eth0 tagged vlan3.</p></blockquote></div></blockquote></div><br /><p>1. make vlan interfacec (network &gt; interfaces); in my setup I put it in real switch protocol<br />2. add Wifi, check the network (vlan interface) you want to associate it with. and configure all the rest with your preferred settings.</p><p>to the developer: what is the maximum limit of Vlan interfaces and SSID for this firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235077">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">bercerobry</div>
					<div class="post-datetime">
						30 May 2014, 05:20					</div>
				</div>
				<div class="post-content content">
					<p>is this the most stable and current version of firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235164">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">lexsombra</div>
					<div class="post-datetime">
						30 May 2014, 19:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, this is my first post on this forum <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I&#039;ve just flashed the FriedZombie firmware through the default webgui and it&#039;s working fine! I&#039;m connected to it to make this post right now.<br />But I couldn&#039;t access the web interface (LuCI). How do I do it?<br />I&#039;ve tried typing my before update IP (192.168.25.100) on the browser but nothing shows up. <br />Also, when I try to ping this IP, I get &quot;Destination host unreachable&quot;. <br />Has my router changed its IP?<br />How do I know the new one?<br />My network&#039;s IP range must be 192.168.25.xxx<br />Thanks!</p>											<p class="post-edited">(Last edited by <strong>lexsombra</strong> on 30 May 2014, 20:07)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 8</div><nav><ul><li><a href="viewtopic.php%3Fid=46990&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=46990&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=46990&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=46990&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=46990&amp;p=8.html">8</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>