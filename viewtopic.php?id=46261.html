<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Force all traffic through OpenVPN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p212273">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">superwaffle</div>
					<div class="post-datetime">
						13 Sep 2013, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I tried to Google this question already but since I&#039;m not experienced with networking or Linux in combination with OpenWrt, I couldn&#039;t figure it out.</p><p>I installed OpenVPN on it and I can connect just fine to my VPN. How would I force eth1 traffic through OpenVPN so that my public IP has the IP of my VPN?</p><p>Thanks in advance.</p>											<p class="post-edited">(Last edited by <strong>superwaffle</strong> on 13 Sep 2013, 19:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212292">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">VozIP</div>
					<div class="post-datetime">
						13 Sep 2013, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>Hi superwaffle,</p><p>There&#039;s a setting on your OpenVPN you can set to push the route when your VPN client connects to VPN server.</p><p>I think you need to add to your server.conf the following:</p><p>push &quot;redirect-gateway def1&quot;</p><p>Try it and comment.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212293">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">superwaffle</div>
					<div class="post-datetime">
						13 Sep 2013, 21:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>VozIP wrote:</cite><blockquote><p>Hi superwaffle,</p><p>There&#039;s a setting on your OpenVPN you can set to push the route when your VPN client connects to VPN server.</p><p>I think you need to add to your server.conf the following:</p><p>push &quot;redirect-gateway def1&quot;</p><p>Try it and comment.</p></blockquote></div><p>Didn&#039;t work, unfortunately. </p><p>I start OpenVPN on my router and it can successfully connected to the VPN server.<br />I then try to connect to websites on my PC which is connected to my router (eth1), but I can not connect to anything at all until I kill OpenVPN.</p><p>My config file looks like:<br /></p><div class="codebox"><pre><code>client
dev tun
auth-user-pass auth
proto tcp
remote *******.nvpn.so 443
resolv-retry infinite
nobind
persist-key
persist-tun
comp-lzo
ca nVPN.crt
verb 3
tun-mtu 1500
push &quot;redirect-gateway def1&quot;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p212294">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">superwaffle</div>
					<div class="post-datetime">
						13 Sep 2013, 21:17					</div>
				</div>
				<div class="post-content content">
					<p>Figured it out.<br />I used <a href="http://forum.nvpn.net/viewtopic.php?f=9&amp;t=2657">http://forum.nvpn.net/viewtopic.php?f=9&amp;t=2657</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>