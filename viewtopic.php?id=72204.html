<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Logging user seesion including IP address and time</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p366144">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Diameter</div>
					<div class="post-datetime">
						1 Oct 2017, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>It seems that I can configure a RADIUS accounting server in OpenWrt, however, I have not found any additional information how to use it ( URL: wiki.openwrt.org/doc/uci/wireless#wpaenterpriseaccesspoint ).</p><p>I want to use WPA2 EAP to authenticate users.</p><p>Is there a way to control the IP address which is provided to a user via RADIUS in OpenWrt. I would like to assign always the same IP address to a user and I would like to be able to log the session time and IP address for each user.</p><p>RADIUS supports the &quot;Framed-IP-Address&quot;, but can I use it with OpenWrt?</p><p>Is there any other solution to log user sessions, including IP address and time of the session?</p><p>I have already contemplated to use a different VLAN for every user, however, my box only supports 15 VLANs; I need to handle around 40 users in a network with 8 APs.</p><p>Any proposal is very much appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366154">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						1 Oct 2017, 15:59					</div>
				</div>
				<div class="post-content content">
					<p>Radius dos not provide an IP adrs. However, it can control the allowed quotas (traffic, connection time etc.) for a specific IP.<br />Your requirements might be best satisfied using a &quot;Captive Portal&quot;. coova-chilli is best, but also the most complicated to set up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366157">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Diameter</div>
					<div class="post-datetime">
						1 Oct 2017, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot for you reply.</p><p>Well, actually you can use the &quot;Framed-IP-Address&quot; option either to inform RADIUS about the IP address used by a border device or to receive an IP address which you can assign to the client.</p><p>See e.g. dabbeljudabbeljudabbeljuDot&nbsp; &nbsp; &nbsp;juniper.net/documentation/en_US/junos/topics/concept/subscriber-management-dual-stack-ipv4-address-negotiation-framed.html</p><p>This one is an example how a freeradius server can be configured with a&nbsp; &quot;Framed-IP-Address&quot;. Have a look at &quot;Add Test User&quot; in wiki.opnsense.org/manual/how-tos/accounting.html</p><p>Sorry, it seems I can not post complete links here, hope you can find it anyway.</p><p>I know the captive portal, however, it is an ongoing source for problems because it does not reliably open on all devices. That&#039;s why I am investigating EAP to move away from the captive portal. Actually, you have some more benefits from using WPA EAP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366165">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						1 Oct 2017, 20:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Diameter wrote:</cite><blockquote><p> it is an ongoing source for problems because it does not reliably open on all devices.</p></blockquote></div><p>As I did lot of customized solutions (i.g.hotspots) containing coova-chilli, I would be very interested in an example for &quot;.... it does not reliably open on all devices&quot;.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>