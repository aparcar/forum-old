<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Kernel Panic booting on Compaq Flash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p40586">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">MaKKrO</div>
					<div class="post-datetime">
						10 Jan 2007, 13:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi all, <br />I am planning to move from linksys board to RouterBoard.</p><p>I have a problem when i want to boot on the Compaq Flash...</p><p>I would like to change the root device name which is set by default at /dev/cfa2<br /></p><div class="codebox"><pre><code>RouterBOOT booter 2.6

RouterBoard 532A

CPU frequency: 266 MHz
  Memory size:  64 MB

Press any key within 2 seconds to enter setup..
Booting CF
Loading kernel... done
setting up elf image... OK
jumping to kernel code
Linux version 2.6.19.1 (root@localhost) (gcc version 4.1.1) #1 Wed Jan 10 12:29:03 GMT-4 2007
CPU revision is: 0001800a
Determined physical RAM map:
 memory: 03fffa00 @ 00000400 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 16256
Kernel command line: rootfstype=jffs2,ext2fs  console=ttyS0,115200 gpio=16383 kmac=00:0C:42:09:BA:F9 board=500 boot=1 root=/dev/cfa2
korina mac = 00:0C:42:09:BA:F9
Primary instruction cache 8kB, physically tagged, 4-way, linesize 16 bytes.
Primary data cache 8kB, 4-way, linesize 16 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Initializing IRQ&#039;s: 168 out of 256
PID hash table entries: 256 (order: 8, 1024 bytes)
calculating r4koff... 00145848(1333320)
CPU frequency 266.66 MHz
Using 133.332 MHz high precision timer.
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 61296k/65528k available (2041k kernel code, 4168k reserved, 310k data, 120k init, 0k highmem)
Mount-cache hash table entries: 512
Checking for &#039;wait&#039; instruction...  available.
NET: Registered protocol family 16
PCI: Initializing PCI
NET: Registered protocol family 2
IP route cache hash table entries: 512 (order: -1, 2048 bytes)
TCP established hash table entries: 2048 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 2048 bind 1024)
TCP reno registered
squashfs: version 3.0 (2006/03/15) Phillip Lougher
devfs: 2004-01-31 Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
JFFS2 version 2.2. (NAND) (C) 2001-2006 Red Hat, Inc.
yaffs Jan 10 2007 12:27:09 Installing.
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0x0 (irq = 104) is a 16550A
cf-mips module loaded
cf-mips: resetting..
cf-mips: identify drive..
cf-mips: CF card detected, C/H/S=4065/16/63 sectors=4097520 (2000MB) Serial=1030607060001085
cf-mips: detecting block size
cf-mips: multiple sectors = 1
init done&lt;6&gt; /dev/cf/card0: p1 p2
Using NAPI with weight 64
eth0: Rx IRQ 40, Tx IRQ 41, 00:0c:42:09:ba:f9
via-rhine.c:v1.10-LK1.4.2 Sept-11-2006 Written by Donald Becker
PCI: Enabling device 0000:00:02.0 (0080 -&gt; 0083)
eth1: VIA Rhine III at 0xb8800000, 00:0c:42:09:ba:fa, IRQ 142.
eth1: MII PHY found at address 1, status 0x7849 advertising 05e1 Link 0000.
PCI: Enabling device 0000:00:03.0 (0080 -&gt; 0083)
eth2: VIA Rhine III at 0xb8800100, 00:0c:42:09:ba:fb, IRQ 143.
eth2: MII PHY found at address 1, status 0x7849 advertising 05e1 Link 0000.
block2mtd: version $Revision: 1.30 $
RB500 nand
dev2base 0x18a20000 mask 0xffff0000 c 0x02d43a00 tc 0x00001336
NAND device: Manufacturer ID: 0xad, Chip ID: 0xf1 (Hynix NAND 128MiB 3,3V 8-bit)
Scanning device for bad blocks
Bad eraseblock 795 at 0x06360000
Creating 2 MTD partitions on &quot;NAND 128MiB 3,3V 8-bit&quot;:
0x00000000-0x00400000 : &quot;RouterBoard NAND Boot&quot;
0x00400000-0x08000000 : &quot;RouterBoard NAND Main&quot;
ip_conntrack version 2.4 (511 buckets, 4088 max) - 240 bytes per conntrack
ip_tables: (C) 2000-2006 Netfilter Core Team
TCP vegas registered
NET: Registered protocol family 1
NET: Registered protocol family 17
Bridge firewalling registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Cannot open root device &quot;cfa2&quot; or unknown-block(13,2)
Time: MIPS clocksource has been installed.
Please append a correct &quot;root=&quot; boot option
Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(13,2)</code></pre></div><p>Any help would be really appreciated !!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40723">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MaKKrO</div>
					<div class="post-datetime">
						13 Jan 2007, 13:51					</div>
				</div>
				<div class="post-content content">
					<p>Ok it&#039;s working fine now.<br />THe problem was the File System !</p><p>It&#039;s running with Squash FS Read-Only.</p><p>How can i change the file system to jffs2 or ext2 to have a Read/Write File system ???</p><p>Thank You</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40758">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">MaKKrO</div>
					<div class="post-datetime">
						14 Jan 2007, 09:28					</div>
				</div>
				<div class="post-content content">
					<p>No Body can help me ??? <img src="https://forum.openwrt.org/img/smilies/yikes.png" width="15" height="15" alt="yikes" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p41158">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nikosaei1710</div>
					<div class="post-datetime">
						21 Jan 2007, 04:08					</div>
				</div>
				<div class="post-content content">
					<p>hi...is there an image working for routerboard rb 532?<br />I have compiled from trunk but there is alwayes a kernel panic at the boot on CF<br />Can you give a tutorial to make an image or an image??</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>