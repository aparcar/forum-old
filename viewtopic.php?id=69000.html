<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> changing ethernet port speed in AI7688 running open wrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p347130">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">srj0408</div>
					<div class="post-datetime">
						19 Dec 2016, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi </p><p>We have developed a board that is running on Mediatek AI7688. Using Swconfig and LUCI interface we came to know that PORT6 / eth0 is configured at 1000baseT full duplex. </p><div class="codebox"><pre><code> link: port:0 link:down
        link: port:1 link:down
        link: port:2 link:down
        link: port:3 link:down
        link: port:4 link:down
        link: port:5 link:down
        link: port:6 link:up speed:1000baseT full-duplex</code></pre></div><p>swconfig don&#039;t provide any way to set the port speed. I used ethtool to change the speed but wasn&#039;t able to do so. <br /></p><div class="codebox"><pre><code>ethtool -s eth0 speed 10 duplex half
Cannot get current device settings: No such device
  not setting speed 
  not setting duplex</code></pre></div><p>. <br />And that is why when we plug the patch cable in a router running at 10 or 100baseT, LED don&#039;t blink on the corresponding port as it is not able to negotiate the speed. </p><p>Can any one please help us on how to change the port speed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347147">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						19 Dec 2016, 21:46					</div>
				</div>
				<div class="post-content content">
					<p>Port 6 should be the internal CPU to switch link within the SoC.&nbsp; It is a hard-wired connection on the chip.&nbsp; It will always be up at 1000,</p><p>swconfig needs to be set properly to turn the external ports on.&nbsp; The ethernet ports on the board are going through the switch, they have no direct attachment to eth0.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347401">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">srj0408</div>
					<div class="post-datetime">
						22 Dec 2016, 17:41					</div>
				</div>
				<div class="post-content content">
					<p>@Mk24 - Well as per the switch documentation in openwrt, PORT5 is kind of PORT of entry in switch, if it is disable, then none of switch port will work inspite all being enabled. And i tried every configuration in swconfig, but wasn&#039;t able to make it up</p><div class="codebox"><pre><code>swconfig dev switch0 port 5 set disable 0</code></pre></div><div class="codebox"><pre><code>swconfig dev switch0 port 5 set apply</code></pre></div><p>But PORT5 Status didn&#039;t changed.</p>											<p class="post-edited">(Last edited by <strong>srj0408</strong> on 22 Dec 2016, 17:42)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>