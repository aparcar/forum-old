<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to backup/restore whole flash in backfire 10.03??</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p113307">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ccbcfan</div>
					<div class="post-datetime">
						18 Jul 2010, 11:24					</div>
				</div>
				<div class="post-content content">
					<p>hi,</p><p>first: sorry for my english, it´s not my native language!</p><p>I´ve installed backfire 10.03 on my RG100a( BCM6358) successfully.<br />I also installed most of packages like multiwan?openvpn and other.<br />Now, i like to now if it is possible to make an image file of the whole configuration and save it to my PC.<br />My intention is to install then the openwrt-backfire 10.03 with myconfig-image when i necessaried!<br />to save time and not configure and install the packages for every single one of them.</p><div class="codebox"><pre><code>/usr/bin$ cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00020000 00020000 &quot;CFE&quot;
mtd1: 000dff00 00020000 &quot;kernel&quot;
mtd2: 00ee0000 00020000 &quot;rootfs&quot;
mtd3: 00a20000 00020000 &quot;rootfs_data&quot;
mtd4: 00020000 00020000 &quot;nvram&quot;
mtd5: 00fc0000 00020000 &quot;linux&quot;</code></pre></div><p>Many thanks in advance.</p>											<p class="post-edited">(Last edited by <strong>ccbcfan</strong> on 18 Jul 2010, 11:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113310">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Dogge</div>
					<div class="post-datetime">
						18 Jul 2010, 12:58					</div>
				</div>
				<div class="post-content content">
					<p>Create a preconfigured image using the build-system or the ImageBuilder. If it&#039;s enough to backup the configuration files over a reflash use the sysupgrade utility...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113316">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ccbcfan</div>
					<div class="post-datetime">
						18 Jul 2010, 15:54					</div>
				</div>
				<div class="post-content content">
					<p>I look at : <a href="https://forum.openwrt.org/viewtopic.php?id=9122">https://forum.openwrt.org/viewtopic.php?id=9122</a></p><div class="codebox"><pre><code>BACKUP

mount -o remount,ro /dev/mtdblock/4 /
dd if=/dev/mtdblock/1 &gt; /tmp/wrt-linux.trx
mount -o remount,rw /dev/mtdblock/4 /
dd if=/dev/mtdblock/3 &gt; /tmp/wrt-nvram.bin

----------------------------------
RESTORE

dd if=/tmp/wrt-nvram.bin of=/dev/mtdblock/3
mount -o remount,ro /dev/mtdblock/4 /
mtd -r write /tmp/wrt-linux.trx linux</code></pre></div><p>but it is work at WhiteRussian?how&nbsp; do it in backfire 10.03??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113317">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Dogge</div>
					<div class="post-datetime">
						18 Jul 2010, 16:00					</div>
				</div>
				<div class="post-content content">
					<p>I showed you the correct way.....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113528">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ccbcfan</div>
					<div class="post-datetime">
						21 Jul 2010, 11:12					</div>
				</div>
				<div class="post-content content">
					<p>anyway??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113576">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">playdude</div>
					<div class="post-datetime">
						22 Jul 2010, 03:55					</div>
				</div>
				<div class="post-content content">
					<p>tar /overlay to back up.</p><p>untar overlay.tar to restore.</p><p>That&#039;s how I do it in backfire and kamikaze. Don&#039;t know if this is the recommended way though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113849">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">ccbcfan</div>
					<div class="post-datetime">
						27 Jul 2010, 16:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>playdude wrote:</cite><blockquote><p>tar /overlay to back up.</p><p>untar overlay.tar to restore.</p><p>That&#039;s how I do it in backfire and kamikaze. Don&#039;t know if this is the recommended way though.</p></blockquote></div><p>thanks!! it is a very well way .</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113854">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Keypel</div>
					<div class="post-datetime">
						27 Jul 2010, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>@Dogge are there any tutorials on how to use the build-system or the ImageBuilder for absolute noobs such as my self? I&#039;ve read the openwrt wiki and I don&#039;t understand any of it. I&#039;m totally new to anything linux.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>