<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New Broadcom BCM63xx codebase with GPL&#039;d Ethernet and USB support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Feb 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 23 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=21.html">21</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=22.html">22</a></li><li class="pagination-current"><span>23</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=24.html">24</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=25.html">25</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p102751">
				<div class="post-metadata">
					<div class="post-num">Post #551</div>
					<div class="post-author">tom0</div>
					<div class="post-datetime">
						11 Feb 2010, 22:41					</div>
				</div>
				<div class="post-content content">
					<p>Is WEP or WPA encryption not working in Ad-Hoc mode?&nbsp; The wireless config looks ok but iwconfig shows &quot;Encryption key:off&quot; and I can access the Wlan without password. <br />Is someone else using the Ad-Hoc mode with encryption?<br />Regards<br />Thomas</p><br /><p>/etc/config/wireless<br />config &#039;wifi-device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;type&#039; &#039;mac80211&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;macaddr&#039; &#039;00:23:80:5b:31:48&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;hwmode&#039; &#039;11g&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;disabled&#039; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;channel&#039; &#039;5&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;txpower&#039; &#039;2&#039;</p><p>config &#039;wifi-iface&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;device&#039; &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ssid&#039; &#039;p&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;network&#039; &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;mode&#039; &#039;adhoc&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;bssid&#039; &#039;00:11:22:33:44:55&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;encryption&#039; &#039;wep&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;key&#039; &#039;12345&#039;<br />&nbsp; <br />iwconfig<br />wlan0&nbsp; &nbsp; &nbsp;IEEE 802.11bg&nbsp; ESSID:&quot;p&quot;&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mode:Ad-Hoc&nbsp; Frequency:2.432 GHz&nbsp; Cell: 00:11:22:33:44:55&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Tx-Power=2 dBm&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RTS thr:off&nbsp; &nbsp;Fragment thr:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Encryption key:off<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Power Management:off</p><p>Kamikaze (r19530) openwrt-AGPF-S0-jffs2-128k-agv2+w-cfe.bin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p102924">
				<div class="post-metadata">
					<div class="post-num">Post #552</div>
					<div class="post-author">pseudonym404</div>
					<div class="post-datetime">
						14 Feb 2010, 20:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>domadm wrote:</cite><blockquote><p>Hi<br />Has anyone ran OpenWrt on Linksys WAG325N or WAG320N ?</p></blockquote></div><p>Yes on a WAG320N, but only once. as soon as the JFFS2 partition was created, it overwrote some &#039;magic&#039; at 0xbe500000 (flash base is 0xbe000000), and now the bootloader refuses to load the kernel, or give me a prompt:<br /></p><div class="codebox"><pre><code>search magic... ...be500000
no magic got,start fail!
WARNING !!  -- LINUX CODE WAS DESTROIED!!
WARNING !!  -- LINUX CODE WAS DESTROIED!!
...</code></pre></div><p>Recovery mode (hold reset while powering on) is broken, it says:<br /></p><div class="codebox"><pre><code>button pushed,come to download.
FLASH_BASE:0xbe000000
download 797 ,-7:cfe_open failed
fd:1download 802:fd=1
Download mode ... press any key to stop</code></pre></div><p>and the device doesn&#039;t respond to a ping.</p><p>And there&#039;s no JTAG header (although that isn&#039;t going to stop me looking for signals).</p><p>That &quot;seach magic&quot; is plain evil.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103186">
				<div class="post-metadata">
					<div class="post-num">Post #553</div>
					<div class="post-author">lz1pgn</div>
					<div class="post-datetime">
						18 Feb 2010, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi all.<br />I have a ZTE831BII with rta1025w board id. OpenWrt loads ok but after restart cfe reports: &quot;Image information not found&quot;<br />The same case as megalomania&#039;s. Disabling the firsboot script in compilling solves the cfe&#039;s report but configuration not saves.<br />Seems like in creating&nbsp; filesystem the kernel is overriten /broken/ and after reboot device doesn&#039;t start. The same problem with jffs2 images.<br />I tried with cfe from huawei hg520 but couldn&#039;t load openwrt.<br />I tried with another flash chip/now its amic 29lv320 not mx29lv320/ -same.<br />The original firmware from dynalink works ok and saves changes in configuraton. I have serial and jtag connected to device and can<br />fully support in solving this problem.<br />There is an issue with enabling switch too.<br />By default wireless is down but working great as enabled.<br />I&#039;ll post dmesg tommorow and bootlog from dynalink,s firmware.<br />My idea is from this moddem to make a lan router if can enable switch to configure.<br />Will be great if getting help in this.<br />Regards.</p><p>P.S. something else:</p><p>bcm963xx_flash: Partition 0 is CFE offset 0 and length 0<br />bcm963xx_flash: Partition 1 is kernel offset 10100 and length 0<br />bcm963xx_flash: Partition 2 is rootfs offset f0000 and length 0<br />bcm963xx_flash: Partition 3 is nvram offset 3f0000 and length 0<br />bcm963xx_flash: Partition 4 is linux offset 10000 and length 0</p><br /><p>Somebody knows why shows me length 0?</p>											<p class="post-edited">(Last edited by <strong>lz1pgn</strong> on 18 Feb 2010, 13:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103241">
				<div class="post-metadata">
					<div class="post-num">Post #554</div>
					<div class="post-author">geekgirl</div>
					<div class="post-datetime">
						19 Feb 2010, 08:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tipok wrote:</cite><blockquote><p>Hi, all!</p><p>I have DLink <a href="http://www.dlink.ru/en/products/5/1171.html">DSL-2650U</a> (bcm6358). After little patching Makefile to add 96358VW2 targer, router successfuly flashed by openwrt-96358VW2-squashfs-dsl2650u-cfe.bin.</p><div class="codebox"><pre><code>Index: target/linux/brcm63xx/image/Makefile
===================================================================
--- target/linux/brcm63xx/image/Makefile    (revision 19253)
+++ target/linux/brcm63xx/image/Makefile    (working copy)
@@ -163,6 +163,8 @@
     $(call Image/Build/CFE,$(1),F@ST2404,6348,bc310,OpenWRT-$(REVISION),bc310)
     # Inventel Livebox
     $(call Image/Build/RedBoot,livebox)
+    # D-Link DSL-2650U
+    $(call Image/Build/CFE,$(1),96358VW2,6358,bc310,,dsl2650u)
     # D-Link DSL-2740B
     $(call Image/Build/CFE,$(1),96358GW,6358,bc310,,dsl2740b)
     # Pirelli Alice Gate VoIP 2 Plus Wi-Fi AGPF-S0</code></pre></div><p>Here is startup log:<br /></p><div class="codebox"><pre><code>CFE version 1.0.37-10.1 for BCM96358 (32bit,SP,BE)                         
Build Date: Tue Apr 24 15:57:24 CST 2007 (gavin@FD5)
Copyright (C) 2000-2006 Broadcom Corporation.

Boot Address 0xbe000000

Initializing Arena.
Initializing Devices.
Parallel flash device: name AM29LV320MB, id 0x2200, size 8192KB
CPU type 0x2A010: 300MHz, Bus: 133MHz, Ref: 64MHz
CPU running TP0
Total memory: 33554432 bytes (32MB)

Total memory used by CFE:  0x80401000 - 0x80527C50 (1207376)
Initialized Data:          0x8041D580 - 0x8041F480 (7936)
BSS Area:                  0x8041F480 - 0x80425C50 (26576)
Local Heap:                0x80425C50 - 0x80525C50 (1048576)
Stack Area:                0x80525C50 - 0x80527C50 (8192)
Text (code) segment:       0x80401000 - 0x8041D57C (116092)
Boot area (physical):      0x00528000 - 0x00568000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1:ffffff00  
Host IP address                   : 192.168.1.2  
Gateway IP address                :   
Run from flash/host (f/h)         : f  
Default host run file name        :   
Default host flash file name      : openwrt-96358VW2-squashfs-dsl2650u-cfe.bin  
Boot delay (0-9 seconds)          : 1  
Board Id (0-8)                    : 96358VW2  
Number of MAC Addresses (1-32)    : 12  
Base MAC Address                  : 00:22:b0:xx:xx:xx  
PSI Size (1-64) KBytes            : 24  
Main Thread Number [0|1]          : 0  

*** Press any key to stop auto run (1 seconds) ***
Auto run second count down: 0
Booting from only image (0xbe010000) ...
Code Address: 0x80010000, Entry Address: 0x80010000
Decompression OK!
Entry at 0x80010000
Closing network.
Starting program at 0x80010000
Linux version 2.6.30.10 (tipok@mythbox) (gcc version 4.3.3 (GCC) ) #2 Thu Jan 21 16:01:38 EET 2010
Detected Broadcom 0x6358 CPU revision a1
CPU frequency is 300000000 Hz
32MB of RAM installed
registering 40 GPIOs
board_bcm963xx: CFE version: 1.0.37-10.1
console [early0] enabled
CPU revision is: 0002a010 (Broadcom BCM6358)
board_bcm963xx: board name: 96358VW2
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
Primary instruction cache 32kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 16kB, 2-way, VIPT, cache aliases, linesize 16 bytes
NR_IRQS:128
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 29512k/32768k available (2073k kernel code, 3256k reserved, 428k data, 132k init, 0k highmem)
Calibrating delay loop... 299.00 BogoMIPS (lpj=598016)
Mount-cache hash table entries: 512
net_namespace: 532 bytes
NET: Registered protocol family 16
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
PCI: Enabling device 0000:00:01.0 (0000 -&gt; 0002)
ssb: Sonics Silicon Backplane found on PCI device 0000:00:01.0
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
audit: initializing netlink socket (disabled)
type=2000 audit(0.306:1): initialized
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  ?© 2001-2006 Red Hat, Inc.
msgmni has been set to 57
alg: No test for stdrng (krng)
io scheduler noop registered
io scheduler deadline registered (default)
gpiodev: gpio device registered with major 254
gpiodev: gpio platform device registered with access mask FFFFFFFF
bcm63xx_uart.0: ttyS0 at MMIO 0xfffe0100 (irq = 10) is a bcm63xx_uart
console handover: boot [early0] -&gt; real [ttyS0]
bcm63xx_enet MII bus: probed
bcm963xx_flash: 0x02000000 at 0x1e000000
bcm963xx: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
bcm963xx_flash: Read Signature value of CFE1CFE1
bcm963xx_flash: CFE bootloader detected
bcm963xx_flash: CFE boot tag found with version 6, board type 96358VW2, and tagid bc310.
bcm963xx_flash: Partition 0 is CFE offset 0 and length 10000
bcm963xx_flash: Partition 1 is kernel offset 10100 and length dff00
bcm963xx_flash: Partition 2 is rootfs offset f0000 and length 700000
bcm963xx_flash: Partition 3 is nvram offset 7f0000 and length 10000
bcm963xx_flash: Partition 4 is linux offset 10000 and length 7e0000
bcm963xx_flash: Spare partition is 260000 offset and length 590000
Creating 5 MTD partitions on &quot;bcm963xx&quot;:
0x000000000000-0x000000010000 : &quot;CFE&quot;
0x000000010100-0x0000000f0000 : &quot;kernel&quot;
mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-oy
0x0000000f0000-0x0000007f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=260000, len=590000 
0x000000260000-0x0000007f0000 : &quot;rootfs_data&quot;
0x0000007f0000-0x000000800000 : &quot;nvram&quot;
0x000000010000-0x0000007f0000 : &quot;linux&quot;
bcm63xx_wdt started, timer margin: 30 sec
Registered led device: adsl
Registered led device: ppp-fail
Registered led device: power
Registered led device: stop
Registered led device: &lt;NULL&gt;
leds-gpio: probe of leds-gpio.0 failed with error -16
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 132k freed
Please be patient, while OpenWrt loads ...
- preinit -
Press CTRL-C for failsafe
switching to jffs2
mini_fo: using base directory: /
mini_fo: using storage directory: /jffs
- init -

Please press Enter to activate this console. bcm63xx_enet bcm63xx_enet.0: attached PHY at address 1 [Broadcom BCM63XX (2)]
eth1: link forced UP - 100/full - flow control off/off
device eth1 entered promiscuous mode
br-lan: port 1(eth1) entering forwarding state
Generic kernel compatibility enabled based on linux-next next-20100113
cfg80211: Calling CRDA to update world regulatory domain
roboswitch: Probing device eth0: Failed to enable switch
roboswitch: Probing device eth1: found a 5325! It&#039;s a 5350.
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 8
NET: Registered protocol family 20
b43-phy0: Broadcom 4318 WLAN found (core revision 9)
Registered led device: b43-phy0::tx
Registered led device: b43-phy0::rx
Registered led device: b43-phy0::radio
Broadcom 43xx driver loaded [ Features: PL, Firmware-ID: FW13 ]
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (512 buckets, 2048 max)
ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
bcm63xx_ohci bcm63xx_ohci.0: BCM63XX integrated OHCI controller
bcm63xx_ohci bcm63xx_ohci.0: new USB bus registered, assigned bus number 1
bcm63xx_ohci bcm63xx_ohci.0: irq 13, io mem 0xfffe1400
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 2 ports detected
uhci_hcd: USB Universal Host Controller Interface driver</code></pre></div><p>This device also have 1 additional USB and 5th ethernet port (it goes into broadcom chip) on pcb, but connectors are not soldered.</p></blockquote></div><p>Sweet.. 2 usb ports, 1 hidden, and 5th ethernet port.. tempting <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>By the way, is the switch working?<br />Can you please tell me briefly the location and pin-out of the serial port (GND/TX/RX) ?</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>geekgirl</strong> on 19 Feb 2010, 08:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103320">
				<div class="post-metadata">
					<div class="post-num">Post #555</div>
					<div class="post-author">link626</div>
					<div class="post-datetime">
						20 Feb 2010, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>I just bought a westell 7501 router. Will this work?</p><p>specs:<br />Wireless chip BCM4318EKFBG<br />Switch BCM5325EKQMG<br />CPU BCM6359SKFBG<br />DDR memory EM6AA160TS-5G<br />Flash UEB219PC and UEB150QA</p><p>usb port has no control panel software to control it. <br />But it is powered. I stuck a usb drive in the usb port, and it lights up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103324">
				<div class="post-metadata">
					<div class="post-num">Post #556</div>
					<div class="post-author">vrai</div>
					<div class="post-datetime">
						20 Feb 2010, 05:22					</div>
				</div>
				<div class="post-content content">
					<p>i flashed a wag54gs with new cfe locating at <a href="http://downloads.openwrt.org/people/florian/cfe/cfe6348.bin">http://downloads.openwrt.org/people/flo … fe6348.bin</a>.</p><p>Resetting board...</p><p>CFE version 1.0.37-102.1 for BCM96348 (32bit,SP,BE)<br />Build Date: Thu Jun 12 14:54:43 PDT 2008 (root@dhcp-10-12-160-156)<br />Copyright (C) 2000-2008 Broadcom Corporation.</p><p>Parallel flash device: name MX29LV320AB, id 0x22a8, size 4096KB<br />Auto-negotiation timed-out<br />10 MB Half-Duplex (assumed)<br />CPU type 0x29107: 240MHz, Bus: 133MHz, Ref: 26MHz<br />Total memory: 33554432 bytes (32MB)<br />Boot Address 0xbfc00000</p><br /><br /><p>** Flash image not found. **</p><p>Board IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 192.168.1.1:ffffff00<br />Host IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 192.168.1.100<br />Gateway IP address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :<br />Run from flash/host (f/h)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: f<br />Default host run file name&nbsp; &nbsp; &nbsp; &nbsp; : vmlinux<br />Default host flash file name&nbsp; &nbsp; &nbsp; : bcm963xx_fs_kernel<br />Boot delay (0-9 seconds)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 1<br />Board Id (0-7)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 96348GW-10<br />Number of MAC Addresses (1-32)&nbsp; &nbsp; : 10<br />Base MAC Address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 00:13:10:d9:eb:fe<br />PSI Size (1-64) KBytes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 24</p><p>web info: Waiting for connection on socket 0.</p><br /><p>image had been erased except cfe.</p><p>but under cfe, i can&#039;t connect to outside world by ethernet. so i can&#039;t upload image.</p><p>does anyone has a working cfe for me to use via jtag.</p><p>what i want is a cfe for 6348 , under that my mod 32m ram can be recognized and ethernet works</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103553">
				<div class="post-metadata">
					<div class="post-num">Post #557</div>
					<div class="post-author">neteagle</div>
					<div class="post-datetime">
						23 Feb 2010, 11:16					</div>
				</div>
				<div class="post-content content">
					<p>Source released for Pirelli ALICE GATE VoIP 2 Plus Wi-Fi Business AGPF router:</p><p><a href="http://www.pirellibroadband.com/en_IT/browser/attachments/alice/Alice_AGPF_4.3.5-gpl.tar.gz">http://www.pirellibroadband.com/en_IT/b … gpl.tar.gz</a></p>											<p class="post-edited">(Last edited by <strong>neteagle</strong> on 23 Feb 2010, 11:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103588">
				<div class="post-metadata">
					<div class="post-num">Post #558</div>
					<div class="post-author">Beezer</div>
					<div class="post-datetime">
						23 Feb 2010, 20:08					</div>
				</div>
				<div class="post-content content">
					<p>Vrai, I&#039;ve got a standard wag54gs cfe if that would help? I guess you&#039;ve got that though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103641">
				<div class="post-metadata">
					<div class="post-num">Post #559</div>
					<div class="post-author">geekgirl</div>
					<div class="post-datetime">
						24 Feb 2010, 15:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>link626 wrote:</cite><blockquote><p>I just bought a westell 7501 router. Will this work?</p><p>specs:<br />Wireless chip BCM4318EKFBG<br />Switch BCM5325EKQMG<br />CPU BCM6359SKFBG<br />DDR memory EM6AA160TS-5G<br />Flash UEB219PC and UEB150QA</p><p>usb port has no control panel software to control it. <br />But it is powered. I stuck a usb drive in the usb port, and it lights up.</p></blockquote></div><p>from: <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=411636&amp;sid=4bc6b90802d3464985e2be3a0ce8c335">http://www.dd-wrt.com/phpBB2/viewtopic. … 3a0ce8c335</a></p><div class="quotebox"><blockquote><p>the CPU is BCM6359 not is BCM6358.<br />Not sure the BCM6359 is same as BCM6358 , or not.<br />I got one document says BCM6359 is lite BCM6358 version.</p></blockquote></div><div class="quotebox"><blockquote><p>Not to wear this out, but I can&#039;t find the place where I saw the difference explained. It was an &quot;incremental&quot; difference-like 16MB ram instead of 32MB or a revision of CPU speed (lower of course) to save $.50 in cost.</p></blockquote></div><div class="quotebox"><blockquote><p>the information got from Jtag.<br />because the jtag app not BCM6359 in database, then shows BCM6358 instead of real BCM6359.</p></blockquote></div><div class="quotebox"><blockquote><p>8M flash and 32M RAM with an USB port. (150Mhz CPU ? is not a nice one Sad).<br />But the bootloader does not provide &quot;stop&quot; and &quot;tftp&quot;.<br />we have to figure out how to rebuild a bootlorder to get dd-wrt to it.</p><p>I built a serial console get it;</p><p>WESTELL - MAIN Bootloader<br />Reboot command 800000<br />Device 0 -- FLASH start addr BE000000 Flash end addr BE3FFFFF<br />Device 1 -- FLASH start addr BE400000 Flash end addr BE7FFFFF<br />Flash start BE000000 end BE7FFFFF size 00800000<br />....<br />Using 150.000 MHz high precision timer.<br />...<br />Memory: 29228k/32384k available (2085k kernel code, 3136k reserved, 402k data, 84k init, 0k highmem<br />...<br />usbcore: registered new driver usbfs<br />usbcore: registered new driver hub<br />...<br />physmap flash device: 0x800000 at 0xbe000000<br />Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00020000 : &quot;bootloader&quot;<br />0x00387ffc-0x007ffffc : &quot;rootfs&quot;<br />0x002be4c0-0x00387f58 : &quot;kernel&quot;<br />0x00020000-0x00110000 : &quot;ffs&quot;</p></blockquote></div><div class="quotebox"><blockquote><p>Still no information for BCM6359.<br />it is either 150Mhz or 300Mhz</p></blockquote></div><p>guess u will have to wait and see..</p><p>BCM6359 is not listed on <a href="https://dev.openwrt.org/wiki/brcm63xx">https://dev.openwrt.org/wiki/brcm63xx</a> , so I would say it&#039;s probably still unsupported</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103687">
				<div class="post-metadata">
					<div class="post-num">Post #560</div>
					<div class="post-author">marca56</div>
					<div class="post-datetime">
						24 Feb 2010, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>Geekgirl:</p><p>the 6358 and 6349 are the same chip with a different label and marketing purpose.</p><p>If there is a build that works on the 6358 it would work on the 6359.</p><p>marc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103785">
				<div class="post-metadata">
					<div class="post-num">Post #561</div>
					<div class="post-author">vrai</div>
					<div class="post-datetime">
						26 Feb 2010, 07:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Beezer wrote:</cite><blockquote><p>Vrai, I&#039;ve got a standard wag54gs cfe if that would help? I guess you&#039;ve got that though.</p></blockquote></div><p>standard cfe of wag54gs can&#039;t recognized 32m ram, only 16m is reported.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103857">
				<div class="post-metadata">
					<div class="post-num">Post #562</div>
					<div class="post-author">bouvrie</div>
					<div class="post-datetime">
						27 Feb 2010, 17:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>obsy wrote:</cite><blockquote><p>For USR9108: openwrt-96348GW-A-squashfs-bc300-cfe.bin via web or cfe works fine!</p></blockquote></div><p>I&#039;ve got a USR9108 and tried to flash said firmware.</p><p>First off, the web interface didn&#039;t allow the firmware (it told me it was incompatible). So I tried the tftp approach and while the firmware was uploaded, I now seem to have a semi-bricked router.</p><p>When resetting it with the RESET button, doing a <strong>ping -t -w 2 192.168.1.1</strong> will have a proper ping response for like 3 seconds, after which it&#039;ll produce &#039;Request timed out&#039; again. Unfortunately, this window seems too short for me to upload another firmware to re-flash the device.</p><p>I tried using the Firmware Upgrade Utility 3.6.1 from <a href="http://www.draytek.com.au/downloads.php">DrayTek</a>, which should send the firmware the second the device comes online. However, the router either fails to see a firmware being uploaded or the transfer is taking too long, as it just continues startup (during which the devices is rendered un-pingable and unresponsive).</p><p>The power LED stays on (doesn&#039;t flash) and the Internet LED is turned on as well. As there&#039;s no Internet connection available, I can assume it&#039;s OpenWrt DMZ LED indicating OpenWrt has started.</p><p>However, I&#039;m Stuck now. I&#039;ve got no clue what state the router is in as I can&#039;t connect to it by IP (aside from that 2 second interval apparently).<br />Would anyone be able to help me out? I&#039;m thinking having something like a mini-firmware that will TFTP over quickly could work, which when booted would only put the router into TFTP mode to receive another firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103894">
				<div class="post-metadata">
					<div class="post-num">Post #563</div>
					<div class="post-author">AraKs</div>
					<div class="post-datetime">
						28 Feb 2010, 13:25					</div>
				</div>
				<div class="post-content content">
					<p>@bouvrie<br />You should connect to your router serial console to see what&#039;s not working during boot...<br />Here you can find the pinout: <a href="http://blog.dvl.pl/article/2009/09/14/usr9108-serial-console/">http://blog.dvl.pl/article/2009/09/14/u … l-console/</a><br />You&#039;ll need a level shifter (from 3.3V to 12V) or you won&#039;t be able to hook it at your PC serial connector.<br />If your PC has no serial ports, or you can&#039;t find LV-TTL to standard RS232 voltage shifter, you can build yourself one using different kinds of USB nokia cable. The latest howto i found about nokia-cables hacking is: <a href="http://jethomson.wordpress.com/2010/02/21/diy-usb-to-serial-cable-for-3usd/">http://jethomson.wordpress.com/2010/02/ … -for-3usd/</a></p><p>Good luck!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103928">
				<div class="post-metadata">
					<div class="post-num">Post #564</div>
					<div class="post-author">bouvrie</div>
					<div class="post-datetime">
						28 Feb 2010, 18:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>AraKs wrote:</cite><blockquote><p>@bouvrie<br />You should connect to your router serial console to see what&#039;s not working during boot...</p></blockquote></div><p>Got that in place now. Here&#039;s the log:<br /></p><div class="codebox"><pre><code>CFE version 1.0.37-1.5 for BCM96348 (32bit,SP,BE)
Build Date: Thu Jun  9 16:22:27 CDT 2005 (root@localhost.localdomain)
Copyright (C) 2000-2005 Broadcom Corporation.

Boot Address 0xbfc00000

Initializing Arena.
Initializing Devices.
Parallel flash device: name AM29LV320MT, id 0x2201, size 4096KB
CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz
Total memory: 16777216 bytes (16MB)

Total memory used by CFE:  0x80401000 - 0x80524F90 (1195920)
Initialized Data:          0x8041C3B0 - 0x8041E720 (9072)
BSS Area:                  0x8041E720 - 0x80422F90 (18544)
Local Heap:                0x80422F90 - 0x80522F90 (1048576)
Stack Area:                0x80522F90 - 0x80524F90 (8192)
Text (code) segment:       0x80401000 - 0x8041C3A4 (111524)
Boot area (physical):      0x00525000 - 0x00565000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1
Host IP address                   : 192.168.1.100
Gateway IP address                :
Run from flash/host (f/h)         : f
Default host run file name        : vmlinux
Default host flash file name      : bcm963xx_fs_kernel
Boot delay (0-9 seconds)          : 9
Board Id Name                     : 96348GW-B
Psi size in KB                    : 24
Number of MAC Addresses (1-32)    : 11
Base MAC Address                  : 00:14:c1:0e:76:31
Ethernet PHY Type                 : External Switch Using Reverse MII
Memory size in MB                 : 16
Country code                      : FR

*** Press any key to stop auto run (9 seconds) ***
Auto run second count down: 0
Code Address: 0x80010000, Entry Address: 0x80010000
Decompression OK!
Entry at 0x80010000
Closing network.
Starting program at 0x80010000
Linux version 2.6.30.10 (buildbot@henry) (gcc version 4.3.3 (GCC) ) #1 Thu Feb 25 05:38:22 UTC 2010
Detected Broadcom 0x6348 CPU revision a2
CPU frequency is 256000000 Hz
16MB of RAM installed
registering 37 GPIOs
board_bcm963xx: CFE version: 1.0.37-1.5
board_bcm963xx: unknown bcm963xx board: 96348GW-B
console [early0] enabled
CPU revision is: 00029107 (Broadcom BCM6348)
[b][color=tomato]Kernel panic - not syncing: unable to detect bcm963xx board[/color][/b]</code></pre></div><p>I&#039;m looking into getting another firmware in place, possibly using the flashimage command.<br />I installed a TFTP server (WinAgents TFTP Server) and I served the bin that should put the router back to the original firmware:<br /></p><div class="codebox"><pre><code>CFE&gt; flashimage

     eg. flashimage [hostip:]compressed_image_file_name

*** command status = -2
CFE&gt; flashimage 192.168.1.39:USR9108A-07-19-06.bin
Loading 192.168.1.39:USR9108A-07-19-06.bin ...
Finished loading 3156361 bytes
......................................................................

Finished flashing image.
Resetting board...

CFE version 1.0.37-1.5 for BCM96348 (32bit,SP,BE)
Build Date: Thu Jun  9 16:22:27 CDT 2005 (root@localhost.localdomain)
Copyright (C) 2000-2005 Broadcom Corporation.

Boot Address 0xbfc00000

Initializing Arena.
Initializing Devices.
Parallel flash device: name AM29LV320MT, id 0x2201, size 4096KB
CPU type 0x29107: 256MHz, Bus: 128MHz, Ref: 32MHz
Total memory: 16777216 bytes (16MB)

Total memory used by CFE:  0x80401000 - 0x80524F90 (1195920)
Initialized Data:          0x8041C3B0 - 0x8041E720 (9072)
BSS Area:                  0x8041E720 - 0x80422F90 (18544)
Local Heap:                0x80422F90 - 0x80522F90 (1048576)
Stack Area:                0x80522F90 - 0x80524F90 (8192)
Text (code) segment:       0x80401000 - 0x8041C3A4 (111524)
Boot area (physical):      0x00525000 - 0x00565000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.1.1
Host IP address                   : 192.168.1.100
Gateway IP address                :
Run from flash/host (f/h)         : f
Default host run file name        : vmlinux
Default host flash file name      : bcm963xx_fs_kernel
Boot delay (0-9 seconds)          : 9
Board Id Name                     : 96348GW-B
Psi size in KB                    : 24
Number of MAC Addresses (1-32)    : 11
Base MAC Address                  : 00:14:c1:0e:76:31
Ethernet PHY Type                 : External Switch Using Reverse MII
Memory size in MB                 : 16
Country code                      : FR

*** Press any key to stop auto run (9 seconds) ***
Auto run second count down: 0
Code Address: 0x80010000, Entry Address: 0x801be018
Decompression OK!
Entry at 0x801be018
Closing network.
Starting program at 0x801be018
Linux version 2.6.8.1 (root@lh-2zq89lb018bo) (gcc version 3.4.2) #1 Wed Jul 19 09:45:49 CDT 2006
Parallel flash device: name AM29LV320MT, id 0x2201, size 4096KB
Total Flash size: 4096K with 71 sectors
96348GW-B prom init
CPU revision is: 00029107
mpi: No Card is in the PCMCIA slot
Determined physical RAM map:
 memory: 00fa0000 @ 00000000 (usable)
On node 0 totalpages: 4000
  DMA zone: 4000 pages, LIFO batch:1
  Normal zone: 0 pages, LIFO batch:1
  HighMem zone: 0 pages, LIFO batch:1
Built 1 zonelists
Kernel command line: root=31:0 ro noinitrd
brcm mips: enabling icache and dcache...
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB 2-way, linesize 16 bytes.
PID hash table entries: 64 (order 6: 512 bytes)
Using 128.000 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 13856k/16000k available (1489k kernel code, 2124k reserved, 227k data, 76k init, 0k highmem)
Calibrating delay loop... 255.59 BogoMIPS
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
NET: Registered protocol family 16
Can&#039;t analyze prologue code at 80182c84
usbcore: registered new driver hub
Initializing Cryptographic API
PPP generic driver version 2.4.2
NET: Registered protocol family 24
Using noop io scheduler
bcm963xx_mtd driver v1.0
ohci_hcd: 2004 Feb 02 USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver (PCI)
ohci_hcd: block sizes: ed 64 td 64
PCI: Enabling device 0000:00:09.0 (0000 -&gt; 0002)
ohci_hcd 0000:00:09.0: OHCI Host Controller
PCI: Setting latency timer of device 0000:00:09.0 to 64
ohci_hcd 0000:00:09.0: irq 20, pci mem c0000b00
ohci_hcd 0000:00:09.0: new USB bus registered, assigned bus number 1
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 2 ports detected
usbcore: registered new driver usblp
drivers/usb/class/usblp.c: v0.13: USB Printer Device Class driver
brcmboard: brcm_board_init entry
SES: Button GPIO 0x23 is enabled
SES: Button Interrupt 0x3 is enabled
SES: LED GPIO 0x23 is enabled
bcm963xx_serial driver v2.0
NET: Registered protocol family 2
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 512 bind 1024)
Initializing IPsec netlink socket
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Ebtables v2.0 registered
NET: Registered protocol family 8
NET: Registered protocol family 20
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 76k freed
init started:  BusyBox v1.00 (2006.07.19-15:00+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5


BusyBox v1.00 (2006.07.19-15:00+0000) Built-in shell (msh)
Enter &#039;help&#039; for a list of built-in commands.


Loading drivers and kernel modules...

atmapi: module license &#039;Proprietary&#039; taints kernel.
blaadd: blaa_detect entry
adsl: adsl_init entry
Broadcom BCMPROCFS v1.0 initialized
Broadcom BCM6348A2 Ethernet Network Device v0.3 Jul 19 2006 09:41:11
Config Ethernet Switch Through SPI Slave Select 0
eth0: MAC Address: 00:14:C1:0E:76:31
dgasp: kerSysRegisterDyingGaspHandler: eth0 registered
PCI: Setting latency timer of device 0000:00:01.0 to 64
PCI: Enabling device 0000:00:01.0 (0004 -&gt; 0006)
wl0: Broadcom BCM4318 802.11 Wireless Controller 3.131.35.0.cpe0.0
dgasp: kerSysRegisterDyingGaspHandler: wl0 registered
BcmAdsl_Initialize=0xC005D228, g_pFnNotifyCallback=0xC0073C74
pSdramPHY=0xA0FFFFF8, 0x87600880 0x805E8A90
eth0 Link UP.
AdslCoreHwReset: AdslOemDataAddr = 0xA0FFB114
dgasp: kerSysRegisterDyingGaspHandler: dsl0 registered
SharedMemAlloc: ptr=0xA0FFFC38 size=936

==&gt;   Bcm963xx Software Version: 0951_071906-3.04L.01.A2pB021c.d17m   &lt;==

device eth0 entered promiscuous mode
br0: port 1(eth0) entering learning state
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state
Setting SSID &quot;USR9108&quot;
wlctl: Not Found
SIOCGIFFLAGS: No such device
Setting country code using abbreviation: &quot;FR&quot;
wlctl: wl0 current channel 11
device wl0 entered promiscuous mode
br0: port 2(wl0) entering learning state
br0: topology change detected, propagating
br0: port 2(wl0) entering forwarding state
device wl0.1 entered promiscuous mode
RSA public decrypt : error:0407006A:lib(4):func(112):reason(106)
CGI: License key is invalid
Scratch pad is not initialized.
No scratch pad found.  Initialize scratch pad...</code></pre></div><p>And that one just hangs there. But at least now I&#039;m getting somewhere. :)</p><p>Now I need to figure out which firmware bin should be compatible with the USR9108. Apparently the one I used (openwrt-96348GW-A-squashfs-bc300-cfe.bin) wasn&#039;t. </p><p>I guess it&#039;s my <strong>Board Id Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 96348GW-B</strong> that&#039;s causing this?</p><p>*edit*</p><p>I found <a href="http://translate.google.com/translate?sl=pl&amp;tl=en&amp;u=http%3A%2F%2Feko.one.pl%2F%3Fp%3Dopenwrt-usr9108">this page</a>. Although the openwrt-96348GW-A-squashfs-bc300-cfe.bin I got is from <a href="http://downloads.openwrt.org/snapshots/trunk/brcm63xx/">here</a>, which as far as I can tell is a very recent (28 feb 2010) trunk binary?</p>											<p class="post-edited">(Last edited by <strong>bouvrie</strong> on 28 Feb 2010, 19:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103994">
				<div class="post-metadata">
					<div class="post-num">Post #565</div>
					<div class="post-author">geekgirl</div>
					<div class="post-datetime">
						1 Mar 2010, 13:39					</div>
				</div>
				<div class="post-content content">
					<p>@bouvrie</p><p>You could try to patch the Makefile (target/linux/brcm63xx/image/Makefile) to add your board (96348GW-B) as a target, build your openwrt-96348GW-B-squashfs-bc300-cfe.bin and flash with it should be able to detect your board</p><p>See previous posts for example on how this is done. You could also adapt from the pre-existing 96348GW-A target</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104039">
				<div class="post-metadata">
					<div class="post-num">Post #566</div>
					<div class="post-author">AraKs</div>
					<div class="post-datetime">
						1 Mar 2010, 21:05					</div>
				</div>
				<div class="post-content content">
					<p>@bouvrie</p><p>Board named 96348GW-A are already supported. Maybe you own a particular revision of that model.</p><p>Try to add these lines:<br /></p><div class="codebox"><pre><code>        # USR9108
        $(call Image/Build/CFE,$(1),96348GW-B,6348,bc300,,bc300)</code></pre></div><p>before the end of the function &quot;define Image/Build&quot; in your target/linux/brcm63xx/image/Makefile then:<br />make clean<br />make world</p><p>Flash the resulting image and let us know. If you succeed, we can patch the file and &quot;officially&quot; support USR9108.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104123">
				<div class="post-metadata">
					<div class="post-num">Post #567</div>
					<div class="post-author">bouvrie</div>
					<div class="post-datetime">
						2 Mar 2010, 22:53					</div>
				</div>
				<div class="post-content content">
					<p>Too bad I&#039;m a Windows user. <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p><p>I checked out the SVN from the repository at svn://svn.openwrt.org/openwrt/trunk/ , modified the makefile and tried to make it using GnuWin32. To do so I needed to subst the SVN checkout dir to a new drive, so the makefile&#039;s unset variables (like TOPDIR, etc) would resolve to that drive&#039;s root.<br />I then got the following result:</p><div class="codebox"><pre><code>W:\target\linux\brcm63xx\image&gt;&quot;C:\Program Files\GnuWin32\bin\make.exe&quot; clean

/target/linux//Makefile:13: warning: overriding commands for target `prereq&#039;
/include/prereq.mk:12: warning: ignoring old commands for target `prereq&#039;
makefile:191: warning: overriding commands for target `compile&#039;
/target/linux//Makefile:13: warning: ignoring old commands for target `compile&#039;
makefile:191: warning: overriding commands for target `install&#039;
/target/linux//Makefile:13: warning: ignoring old commands for target `install&#039;
makefile:191: warning: overriding commands for target `clean&#039;
/target/linux//Makefile:13: warning: ignoring old commands for target `clean&#039;
process_begin: CreateProcess(NULL, which bash, ...) failed.
The syntax of the command is incorrect.
The system cannot find the path specified.
&#039;{&#039; is not recognized as an internal or external command,
operable program or batch file.
make: *** [clean] Error 1</code></pre></div><p>So much for the Windows approach, right? Or would something like Cygwin help?</p>											<p class="post-edited">(Last edited by <strong>bouvrie</strong> on 2 Mar 2010, 22:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104303">
				<div class="post-metadata">
					<div class="post-num">Post #568</div>
					<div class="post-author">AraKs</div>
					<div class="post-datetime">
						6 Mar 2010, 11:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bouvrie wrote:</cite><blockquote><p>Too bad I&#039;m a Windows user. <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p></blockquote></div><p>Very very bad!<br />I think you&#039;ll never be able to compile OpenWrt under Windows. If you have enough space on your hdd, repartition and install Ubuntu on dual boot.<br />Or, install a virtualization software (see virtualbox) and run Ubuntu ontop of Windows...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105269">
				<div class="post-metadata">
					<div class="post-num">Post #569</div>
					<div class="post-author">mgiammarco</div>
					<div class="post-datetime">
						25 Mar 2010, 19:12					</div>
				</div>
				<div class="post-content content">
					<p>I would like to know if watchdog support is finished for bcm63xx platform.</p><p>I would also like to know if there is some bcm63xx based router that can work on an extended temperature range , e.g.: -20c +60c.</p><p>Thanks in advance for any help!</p><br /><p>Mario</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105326">
				<div class="post-metadata">
					<div class="post-num">Post #570</div>
					<div class="post-author">DaveMurray</div>
					<div class="post-datetime">
						26 Mar 2010, 20:24					</div>
				</div>
				<div class="post-content content">
					<p>hello... is my first post, so forgive me, i will try to learn more, the things here.... <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>i have a siemens sl2-141, which have </p><br /><p>system type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: RTA1025W_16<br />processor&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: BCM6348 V0.7<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 239.20<br />wait instruction&nbsp; &nbsp; &nbsp; &nbsp; : no<br />microsecond timers&nbsp; &nbsp; &nbsp; : yes<br />tlb_entries&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 32<br />extra interrupt vector&nbsp; : yes<br />hardware watchpoint&nbsp; &nbsp; &nbsp;: no<br />VCED exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available<br />VCEI exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available</p><br /><p>and</p><br /><p>MemTotal:&nbsp; &nbsp; &nbsp; &nbsp; 14000 kB<br />MemFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;416 kB<br />Buffers:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;620 kB<br />Cached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6048 kB<br />SwapCached:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Active:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5416 kB<br />Inactive:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3068 kB<br />HighTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />HighFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />LowTotal:&nbsp; &nbsp; &nbsp; &nbsp; 14000 kB<br />LowFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;416 kB<br />SwapTotal:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />SwapFree:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 kB<br />Dirty:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Writeback:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 kB<br />Mapped:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4080 kB<br />Slab:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1616 kB<br />Committed_AS:&nbsp; &nbsp; &nbsp;5724 kB<br />PageTables:&nbsp; &nbsp; &nbsp; &nbsp; 340 kB<br />VmallocTotal:&nbsp; 1048560 kB<br />VmallocUsed:&nbsp; &nbsp; &nbsp; 1504 kB<br />VmallocChunk:&nbsp; 1046848 kB</p><br /><p>Linux version 2.6.8.1 ( Compiled by michaelc) (gcc version 3.4.2) #1 Fri Nov 30 09:55:48 CST 2007</p><p>----</p><p>so what i must to do....? im trying to flash with openwrt-RTA1025W_16-jffs2-128k-btrta-cfe.bin, openwrt-RTA1025W_16-jffs2-64k-btrta-cfe.bin, openwrt-RTA1025W_16-squashfs-btrta-cfe.bin and others for BCM6348 but i cannot have success yet....</p><p>i have this message from web interface: Update Firmware</p><p>Image uploading failed. The selected file contains wrong digital signature.</p><p>(from rta files this....)</p><p>what i must to do....?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105402">
				<div class="post-metadata">
					<div class="post-num">Post #571</div>
					<div class="post-author">Per Hansson</div>
					<div class="post-datetime">
						28 Mar 2010, 01:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, is it possible nowdays to make one of the LAN ports on the BCM6348 devices (In my case Netgear DG834GT) into a WAN port? (I asked this long ago but see now there has been some real development)<br />Reason I want to do so is because my friend that owns this router first had ADSL2+ but has now upgraded to a 100/100 fibre connection, he is currently using a Linksys WRT54GL however that is limited to ca 50mbps throughput in either direction<br />So he is just hoping to be able to get some more speed out of the DG834GT if it where possible to use it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105668">
				<div class="post-metadata">
					<div class="post-num">Post #572</div>
					<div class="post-author">harry1985</div>
					<div class="post-datetime">
						31 Mar 2010, 10:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Per Hansson wrote:</cite><blockquote><p>Hi guys, is it possible nowdays to make one of the LAN ports on the BCM6348 devices (In my case Netgear DG834GT) into a WAN port? (I asked this long ago but see now there has been some real development)<br />Reason I want to do so is because my friend that owns this router first had ADSL2+ but has now upgraded to a 100/100 fibre connection, he is currently using a Linksys WRT54GL however that is limited to ca 50mbps throughput in either direction<br />So he is just hoping to be able to get some more speed out of the DG834GT if it where possible to use it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>use VLAN, check WIKI for details.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105821">
				<div class="post-metadata">
					<div class="post-num">Post #573</div>
					<div class="post-author">swert</div>
					<div class="post-datetime">
						1 Apr 2010, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi all. <br />Can someone help with information why openwrt can not create correct<br />filesystem on dynalink rta1025_16. It loads and overwrites the firmware-after restart device is in cfe mode and waiting firmware to load.Serial console says: Image information not found.<br />Thanks in advance.</p>											<p class="post-edited">(Last edited by <strong>swert</strong> on 7 Apr 2010, 22:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107392">
				<div class="post-metadata">
					<div class="post-num">Post #574</div>
					<div class="post-author">jlnunez</div>
					<div class="post-datetime">
						20 Apr 2010, 15:59					</div>
				</div>
				<div class="post-content content">
					<p>Can someone create a binary firmware for the SpeedTouch 580 that has BCM6345 ..please.........?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107790">
				<div class="post-metadata">
					<div class="post-num">Post #575</div>
					<div class="post-author">bouvrie</div>
					<div class="post-datetime">
						25 Apr 2010, 01:20					</div>
				</div>
				<div class="post-content content">
					<p>Well, I&#039;m compiling it on Linux now (CentOS). Here&#039;s my log: it seems I&#039;ve bumped into dependency hell.<br /></p><div class="quotebox"><blockquote><p>bouvrie@pc [~/wrt/openwrt]# make clean<br />svn: This client is too old to work with working copy &#039;.&#039;; please get a newer Subversion client<br />Checking &#039;working-make&#039;... ok.<br />Checking &#039;case-sensitive-fs&#039;... ok.<br />Checking &#039;getopt&#039;... ok.<br />Checking &#039;fileutils&#039;... ok.<br />Checking &#039;working-gcc&#039;... failed.<br />Checking &#039;working-g++&#039;... failed.<br />Checking &#039;ncurses&#039;... failed.<br />Checking &#039;zlib&#039;... failed.<br />Checking &#039;gawk&#039;... ok.<br />Checking &#039;flex&#039;... ok.<br />Checking &#039;unzip&#039;... ok.<br />Checking &#039;bzip2&#039;... ok.<br />Checking &#039;patch&#039;... ok.<br />Checking &#039;perl&#039;... ok.<br />Checking &#039;python&#039;... ok.<br />Checking &#039;wget&#039;... ok.<br />Checking &#039;gnutar&#039;... ok.<br />Checking &#039;svn&#039;... ok.<br />Checking &#039;gnu-find&#039;... ok.<br />Checking &#039;getopt-extended&#039;... ok.<br />Checking &#039;non-root&#039;... ok.</p><p>Build dependency: Please install the GNU C Compiler (gcc).<br />Build dependency: Please install the GNU C++ Compiler (g++).<br />Build dependency: Please install ncurses. (Missing libncurses.so or ncurses.h)<br />Build dependency: Please install zlib. (Missing libz.so or zlib.h)</p><p>Prerequisite check failed. Use FORCE=1 to override.<br />make: *** [tmp/.prereq-build] Error 1</p></blockquote></div><p>I do have the following installed:<br /></p><div class="quotebox"><blockquote><p>bouvrie@pc [~/wrt/openwrt]# rpm -q gcc<br />gcc-4.1.2-44.el5<br />bouvrie@pc [~/wrt/openwrt]# rpm -q gcc-c++<br />gcc-c++-4.1.2-44.el5<br />bouvrie@pc [~/wrt/openwrt]# rpm -q ncurses<br />ncurses-5.5-24.20060715<br />bouvrie@pc [~/wrt/openwrt]# rpm -q zlib<br />zlib-1.2.3-3<br />bouvrie@pc [~/wrt/openwrt]#</p></blockquote></div><p>Any help on this? Yum installing packages tells me I&#039;ve got the latest versions already...</p>											<p class="post-edited">(Last edited by <strong>bouvrie</strong> on 25 Apr 2010, 01:23)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 23 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=21.html">21</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=22.html">22</a></li><li class="pagination-current"><span>23</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=24.html">24</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=25.html">25</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>