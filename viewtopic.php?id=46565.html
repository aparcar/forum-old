<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> serial-only firmwae flash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p213686">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">greenapple</div>
					<div class="post-datetime">
						2 Oct 2013, 10:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>I wonder if there is any way to flash firmware (not the UBoot) on the target AR9331 board using exclusively its serial port? <br />So far i am doing like this well known method:<br />1. connect serial(target) to serial(host-windows) and start a terminal emulator on it.<br />2. connect lan(target) to lan(host, ip:192.168.1.2) and start tftp server on it, and put the compiled binary of firmwae in the tftp directory.<br />3. power cycle the target, and stop its auto-boot.<br />4. give ease command from serial terminal.<br />5. give tftp command from serial terminal. It starts the file transfer from host to target over the lan cable.<br />6. copy it to memory, and boot from memory.</p><p>Now the above procedure requires the lan interface for tftp file transfer. Can we remove it and somehow do the flle transfer on the serial interface?<br />I heard about XMODEM protocol for that but i dont know what steps i do for it. I also dont see any XMODEM command in the UBOOT help. </p><p>I can change my windows host machine to linux machine if that can be do it..<br />Any help would be highly appeciated.</p><p>-greenapples</p>											<p class="post-edited">(Last edited by <strong>greenapple</strong> on 2 Oct 2013, 10:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213770">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						3 Oct 2013, 01:02					</div>
				</div>
				<div class="post-content content">
					<p>If loady , loads , loadx don&#039;t work : try modification with commands listed under&nbsp; <a href="http://www.denx.de/wiki/DULG/UBootCmdGroupMemory">http://www.denx.de/wiki/DULG/UBootCmdGroupMemory</a></p><p>Remember: Memory modification of a running system is highly dangerous!<br />Be sure to know which memory areas are mapped to components ...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p213791">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">greenapple</div>
					<div class="post-datetime">
						3 Oct 2013, 07:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zloop wrote:</cite><blockquote><p>If loady , loads , loadx don&#039;t work : try modification with commands listed under&nbsp; <a href="http://www.denx.de/wiki/DULG/UBootCmdGroupMemory">http://www.denx.de/wiki/DULG/UBootCmdGroupMemory</a><br /> ...</p></blockquote></div><p>It looks like a good ideas.. <br />the relevant command on that page appeas to be mm (memory modify)... and it is also supported on my uboot.</p><p>now this is what i think i can do...<br />open the firmwae.bin file in hex editor on host.. and then send each byte in sequence one by one to target ..<br />pls. tell me is this correct or anything missing in it?<br />can i automate this process, usually the firmware bin is ~3MB size?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>