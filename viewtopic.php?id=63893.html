<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Back to Stock after poor WiFi performance on WRT1900ACv2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p317909">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						3 Apr 2016, 05:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys I had a post where I am complaining about VERY poor performance on my WRT1900ACv2 and I really tried everything. Reflashing OpenWRT using diffirent modes 2.4 and 5Ghz and I even tried to go AC only without any password to see if I&#039;ll have anything. But no same thing. LEt me explain a bit.</p><p>I have 50/25 internet and after about 24 hours my WiFi ALWAYS dropped to around 7Mbit down and 25 Up. </p><p>Upload speeds never decreased but my download speeds always went to hell, even after fresh reboot I never had my 50/25 speeds. So I decided to go back to stock and like I expected my tests after 24 hours are 54/26 Above my ISP numbers.</p><p>Can anyone suggest anything I can do because I really can use Openwrt. Also now now I am using old Netgear 3700v1 router piggyback to WRT1900AC. I use 3700 for all OpenWRT stuff and 1900AC for WiFi. But I really rather use 1900 for everything because it&#039;s 512 RAM on WRT1900 vs like 32 on 3700v1 <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>Thank you !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317968">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MagicSimon</div>
					<div class="post-datetime">
						3 Apr 2016, 15:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>sounds like it could be related to mwlwifi issue #63 (<a href="https://github.com/kaloz/mwlwifi/issues/63">https://github.com/kaloz/mwlwifi/issues/63</a>). It should be fixed in the latest version of mwlwifi (which is not in trunk yet, I believe, but you can install it manually).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318041">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						3 Apr 2016, 23:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MagicSimon wrote:</cite><blockquote><p>Hi,</p><p>sounds like it could be related to mwlwifi issue #63 (<a href="https://github.com/kaloz/mwlwifi/issues/63">https://github.com/kaloz/mwlwifi/issues/63</a>). It should be fixed in the latest version of mwlwifi (which is not in trunk yet, I believe, but you can install it manually).</p></blockquote></div><p>Thank you for your reply. I know little about manually patching specific functions of OS. Is it matter of installing some program like &quot;opkg instal programname&quot; or something more complicated ?</p><p>If possible and it&#039;s not too complicated can you give me syntax on what to do ? And if not I guess I&#039;ll watch for update for next version of openwrt.</p><p>Once again thank you !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318153">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MagicSimon</div>
					<div class="post-datetime">
						4 Apr 2016, 21:12					</div>
				</div>
				<div class="post-content content">
					<p>It is a bit more complicate than &quot;opkg install&quot;, since you have to build your own custom image (or at least the mwlwifi module) from the source code. Thus there is no simple syntax. I guess you will have to wait for the next update.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319069">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						11 Apr 2016, 02:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MagicSimon wrote:</cite><blockquote><p>It is a bit more complicate than &quot;opkg install&quot;, since you have to build your own custom image (or at least the mwlwifi module) from the source code. Thus there is no simple syntax. I guess you will have to wait for the next update.</p></blockquote></div><p>Understood. Thank you !</p><p>I&#039;ll watch out for next build. How often builds are coming out ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319106">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						11 Apr 2016, 12:56					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wiki.openwrt.org/about/history">Not often</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319107">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						11 Apr 2016, 13:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>MagicSimon wrote:</cite><blockquote><p>sounds like it could be related to mwlwifi issue #63 (<a href="https://github.com/kaloz/mwlwifi/issues/63">https://github.com/kaloz/mwlwifi/issues/63</a>). It should be fixed in the latest version of mwlwifi (which is not in trunk yet, I believe, but you can install it manually).</p></blockquote></div><div class="quotebox"><cite>xakep wrote:</cite><blockquote><p>I&#039;ll watch out for next build. How often builds are coming out ?</p></blockquote></div><div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><p><a href="https://wiki.openwrt.org/about/history">Not often</a>.</p></blockquote></div><p>Well, actually trunk snapshot builds do get built every 1-2 days by the buildbot.<br />And the newest mvlwifi driver .17 was committed to trunk on 6 April, so the newest trunk snapshot download should include it.<br /><a href="https://downloads.openwrt.org/snapshots/trunk/mvebu/generic/">https://downloads.openwrt.org/snapshots … u/generic/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319247">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						12 Apr 2016, 05:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><div class="quotebox"><cite>MagicSimon wrote:</cite><blockquote><p>sounds like it could be related to mwlwifi issue #63 (<a href="https://github.com/kaloz/mwlwifi/issues/63">https://github.com/kaloz/mwlwifi/issues/63</a>). It should be fixed in the latest version of mwlwifi (which is not in trunk yet, I believe, but you can install it manually).</p></blockquote></div><div class="quotebox"><cite>xakep wrote:</cite><blockquote><p>I&#039;ll watch out for next build. How often builds are coming out ?</p></blockquote></div><div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><p><a href="https://wiki.openwrt.org/about/history">Not often</a>.</p></blockquote></div><p>Well, actually trunk snapshot builds do get built every 1-2 days by the buildbot.<br />And the newest mvlwifi driver .17 was committed to trunk on 6 April, so the newest trunk snapshot download should include it.<br /><a href="https://downloads.openwrt.org/snapshots/trunk/mvebu/generic/">https://downloads.openwrt.org/snapshots … u/generic/</a></p></blockquote></div><p>Can / Should I say BINGO ! ? I guess my next move to see on official WRT1900AC what name/build is used and use similar named build from link you gave me ?</p><p>Thank you !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319267">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						12 Apr 2016, 10:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xakep wrote:</cite><blockquote><p>... And if not I guess I&#039;ll watch for update for next <strong>version</strong> of openwrt. ...</p></blockquote></div><p>There is a difference between <em>version</em> and <em>snapshot</em> builds. The latter is untested.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321152">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						25 Apr 2016, 05:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><div class="quotebox"><cite>xakep wrote:</cite><blockquote><p>... And if not I guess I&#039;ll watch for update for next <strong>version</strong> of openwrt. ...</p></blockquote></div><p>There is a difference between <em>version</em> and <em>snapshot</em> builds. The latter is untested.</p></blockquote></div><p>Hello again I just installed (I really can&#039;t stand OEM firmware) OpenWRT. I did exactly as suggested and I&#039;ve gotten April 24 build. I think I got correct file (openwrt-mvebu-armada-385-linksys-cobra-squashfs-factory.img)</p><p>My internet works but I can&#039;t login to LUCI, is it possible all daily builds comes without GUI ? I can login to SSH at the moment, I&quot;ll try to install LUCI right now if it&#039;s not too complicated. Also I guess this builds have nothing in them in terms of drivers because even Internet LED is not working <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> All I see is Power LET and Ethernet LET flashing with activity.</p><p>If possible can you point out how to install LUCI and how to change default root password in terminal ?</p><p>Thank you !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321153">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						25 Apr 2016, 05:09					</div>
				</div>
				<div class="post-content content">
					<p>I guess I found <a href="https://wiki.openwrt.org/doc/howto/luci.essentials">https://wiki.openwrt.org/doc/howto/luci.essentials</a> and password I&#039;ll be able to do via GUI.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321155">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						25 Apr 2016, 05:33					</div>
				</div>
				<div class="post-content content">
					<p>LUCI Installed. One problem. I guess installation is REALLY bare bone because WiFi is not really working. I mean I see WiFi but nothing in there is working. Can&#039;t select anything. Do I have to install something separately for wifi ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321178">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">merc6.9</div>
					<div class="post-datetime">
						25 Apr 2016, 10:46					</div>
				</div>
				<div class="post-content content">
					<p>Go to shell and check.. <br /></p><div class="codebox"><pre><code>ifconfig -a</code></pre></div><p>do you see your wifi interfaces there (ie wlan0 etc)?</p><p>if yes, then generate a clean wifi config file (this will wipe your existing config):<br /></p><div class="codebox"><pre><code>wifi detect &gt; /etc/config/wireless</code></pre></div><p>If you open the file and see content there, then try going back to luci and refreshing the page.. you should see options you can modify and be able to enable wifi.</p><p>Edit: before going to luci, restart wifi by issuing:<br /></p><div class="codebox"><pre><code>wifi</code></pre></div><p>at the shell</p>											<p class="post-edited">(Last edited by <strong>merc6.9</strong> on 25 Apr 2016, 10:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321292">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						26 Apr 2016, 05:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>merc6.9 wrote:</cite><blockquote><p>Go to shell and check.. <br /></p><div class="codebox"><pre><code>ifconfig -a</code></pre></div><p>do you see your wifi interfaces there (ie wlan0 etc)?</p><p>if yes, then generate a clean wifi config file (this will wipe your existing config):<br /></p><div class="codebox"><pre><code>wifi detect &gt; /etc/config/wireless</code></pre></div><p>If you open the file and see content there, then try going back to luci and refreshing the page.. you should see options you can modify and be able to enable wifi.</p><p>Edit: before going to luci, restart wifi by issuing:<br /></p><div class="codebox"><pre><code>wifi</code></pre></div><p>at the shell</p></blockquote></div><br /><p>Thank you !</p><p>I actually managed to figure it out. Because it was fresh installation and I never actually turn wifi adapter on it was not showing anything. As soon as I enabled adapter right away I saw my normal WiFi settings, channels, security settings ..etc. (I am getting 866Mbit according to my Galaxy S7 wifi menu, I was getting like 760 MAX before)</p><p>I am still trying to figure out LEDs and how to configure them. In my understanding there is an orange and white light on my router where internet LED is located, I would want to have orange ON when Internet is ON and router connected to Modem and white when it&#039;s making connection but not connected yet or modem not providing internet for whatever reason. Cause right now I don&#039;t have any light in Power LED, only flashing while router is booting ....then nothing. No Power LED or Internet LED are on. Only Ethernet and WiFi are flashing.</p><p>My personal side I have to see build is really fast, faster than official one.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321294">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">merc6.9</div>
					<div class="post-datetime">
						26 Apr 2016, 07:37					</div>
				</div>
				<div class="post-content content">
					<p>Cool.<br />By official you mean 15.05.1? And your personal build is based on trunk?</p><p>LEDs are usually controlled by GPIOs and are board specific.. I&#039;d ask in the wrt1900 thread about it.<br />You can see what LEDs you have (at least controllable from openwrt):<br /></p><div class="codebox"><pre><code>ls -1 /sys/class/leds/</code></pre></div><p>Are you the guy who was having troubles with his transmission port? How&#039;d that go? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I also run torrents on my router.. but using rtorrent not transmission..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321300">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">xakep</div>
					<div class="post-datetime">
						26 Apr 2016, 08:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>merc6.9 wrote:</cite><blockquote><p>Cool.<br />By official you mean 15.05.1? And your personal build is based on trunk?</p><p>LEDs are usually controlled by GPIOs and are board specific.. I&#039;d ask in the wrt1900 thread about it.<br />You can see what LEDs you have (at least controllable from openwrt):<br /></p><div class="codebox"><pre><code>ls -1 /sys/class/leds/</code></pre></div><p>Are you the guy who was having troubles with his transmission port? How&#039;d that go? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I also run torrents on my router.. but using rtorrent not transmission..</p></blockquote></div><p>HEY MAN !</p><p>Totally that&#039;s me. Same crap man, can&#039;t figure out on what to do. Ports on all port forwarding web sites saying port it open yet when doing -pt option on transmission-remote it&#039;s still telling me NO. I kinda gave up because I tried same thing with new build that I just installed .... same story. I even tried to install some upnp modules to see may be I&#039;ll be able to use upnp to automatically setup ports (just like on computer utorrent does, and it works) Without a success.</p><p>But other than that it&#039;s all good. I managed to wire my new WRT1900ACv2 unit with Serial connection in case something happens, so I am all in with this one <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>P.S.</p><p>Hold what ? rTorrent available on OpenWRT ? Isn&#039;t it just like uTorrent for windows ? Oh boy. I feel all excited right about now. Care to link tutorial on how to install and config that bad boy ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321302">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">merc6.9</div>
					<div class="post-datetime">
						26 Apr 2016, 08:53					</div>
				</div>
				<div class="post-content content">
					<p>Hehe</p><p>Well, its probably the -pt thing thats not accurate, not the websites.<br />If the -pt thing is run on the router itself or passed to it, it probably interacts with some website/API online to check if the port is open.. if that API is down (or changed in transmission trunk) then it will show you negative results when everything is just fine <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>You can actually tell from within the client itself if the ports are open or not. When you add a torrent, if you see it connecting to loads of peers (and data transfer begins quickly)... and websites tell you your port is open, then all is well.</p><p>AFAIK, UPnP is useless if its running on the router itself while the application is also on the router itself. Its only useful if the application is running on a client in the network that the router is serving.<br />In any case I advocate opening ports manually and not using UPnP.. but to each his own I guess.</p><div class="codebox"><pre><code>rTorrent available on OpenWRT ? Isn&#039;t it just like uTorrent for windows ?</code></pre></div><p>I think you are referring to r<strong>u</strong>torrent which is a webUI for rtorrent (ie just an interface), I did get it working on my openwrt box at one point but its HEAVY, because it requires:<br />- php-fpm (if using unix sockets).<br />- rtorrent compiled with rpc support.<br />- an http server - I guess uhttpd can be customized to serve it, but I went for nginx, compiled with all necessary modules of course.</p><p>Its a bit of work to get it sorted, but I guess a dual core 1.somethingGhz router can handle it <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>But I ditched all that baggage and returned to using rtorrent by itself without WebGUI, its CLI only now but is extremely light and efficient which I like (I had it running on a TPLink 1043ND! Only has 64MB Ram, with enough swap of course <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" />).</p>											<p class="post-edited">(Last edited by <strong>merc6.9</strong> on 26 Apr 2016, 08:59)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>