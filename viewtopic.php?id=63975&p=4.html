<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Is the RE450 now supported?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Mar 2018 and 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=63975&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=63975&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=63975&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p351282">
				<div class="post-metadata">
					<div class="post-num">Post #76</div>
					<div class="post-author">americadragons</div>
					<div class="post-datetime">
						6 Feb 2017, 20:09					</div>
				</div>
				<div class="post-content content">
					<p>Does anybody knows if i can use this device as a root ap i mean i have a modem and i want to use the rj45 in wan mode to dial the conection PPPOE and then&nbsp; setup a wireless network like a wireless router</p>											<p class="post-edited">(Last edited by <strong>americadragons</strong> on 6 Feb 2017, 20:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351661">
				<div class="post-metadata">
					<div class="post-num">Post #77</div>
					<div class="post-author">radekdostal</div>
					<div class="post-datetime">
						11 Feb 2017, 14:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>americadragons wrote:</cite><blockquote><p>Does anybody knows if i can use this device as a root ap i mean i have a modem and i want to use the rj45 in wan mode to dial the conection PPPOE and then&nbsp; setup a wireless network like a wireless router</p></blockquote></div><p>I never tried it, but do not see any technical reason, why it would not be possible. Only annoying thing is that you will have no LANs ports than.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359021">
				<div class="post-metadata">
					<div class="post-num">Post #78</div>
					<div class="post-author">diegomanas</div>
					<div class="post-datetime">
						25 May 2017, 19:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Heinz wrote:</cite><blockquote><p>@brandst check my file: <a href="ftp://tplink-forum.pl/temp/re450_back_to_stock.bin">ftp://tplink-forum.pl/temp/re450_back_to_stock.bin</a></p><p>or use LEDE sysupgrade image.</p></blockquote></div><p>Does anyone has this file by any chance? I was looking into getting back to stock</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359023">
				<div class="post-metadata">
					<div class="post-num">Post #79</div>
					<div class="post-author">Heinz</div>
					<div class="post-datetime">
						25 May 2017, 19:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>diegomanas wrote:</cite><blockquote><div class="quotebox"><cite>Heinz wrote:</cite><blockquote><p>@brandst check my file: <a href="ftp://tplink-forum.pl/temp/re450_back_to_stock.bin">ftp://tplink-forum.pl/temp/re450_back_to_stock.bin</a></p><p>or use LEDE sysupgrade image.</p></blockquote></div><p>Does anyone has this file by any chance? I was looking into getting back to stock</p></blockquote></div><p>Check this: <a href="https://mega.nz/#!yBg1Ub5K!phRB6wnEJbGxJ7CVm7bUFjEva29K4MdqRIbYdIHx-Jk">https://mega.nz/#!yBg1Ub5K!phRB6wnEJbGx … IbYdIHx-Jk</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359049">
				<div class="post-metadata">
					<div class="post-num">Post #80</div>
					<div class="post-author">diegomanas</div>
					<div class="post-datetime">
						26 May 2017, 04:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Heinz wrote:</cite><blockquote><div class="quotebox"><cite>diegomanas wrote:</cite><blockquote><div class="quotebox"><cite>Heinz wrote:</cite><blockquote><p>@brandst check my file: <a href="ftp://tplink-forum.pl/temp/re450_back_to_stock.bin">ftp://tplink-forum.pl/temp/re450_back_to_stock.bin</a></p><p>or use LEDE sysupgrade image.</p></blockquote></div><p>Does anyone has this file by any chance? I was looking into getting back to stock</p></blockquote></div><p>Check this: <a href="https://mega.nz/#!yBg1Ub5K!phRB6wnEJbGxJ7CVm7bUFjEva29K4MdqRIbYdIHx-Jk">https://mega.nz/#!yBg1Ub5K!phRB6wnEJbGx … IbYdIHx-Jk</a></p></blockquote></div><p>Many thanks @Heinz, it worked like a charm!</p><p>Most of what you need is in page 2, but I&#039;ll leave here what I did to recover mine to stock for reference:<br /></p><ul><li><p>Renamed file to &quot;re450bs.bin&quot; for convenience but it is not required</p></li><li><p>Set my PC&#039;s IP to fixed (In my case 192.168.1.3)</p></li><li><p>Bring up a tftp server, in my case tftp64 but anyone will do.</p></li><li><p>Add file to the root that is visible through tftp</p></li><li><p>Connect by serial and do the following:</p></li></ul><div class="codebox"><pre><code>U-Boot 1.1.4 (Jul 27 2016 - 17:23:50)

ap135 - Scorpion 1.0

DRAM:  128 MB
Top of RAM usable for U-Boot at: 88000000
Reserving 133k for U-Boot at: 87fdc000
Reserving 192k for malloc() at: 87fac000
Reserving 44 Bytes for Board Info at: 87fabfd4
Reserving 36 Bytes for Global Data at: 87fabfb0
Reserving 128k for boot params() at: 87f8bfb0
Stack Pointer at: 87f8bf98
Now running in RAM - U-Boot at: 87fdc000
Flash Manuf Id 0xc2, DeviceId0 0x20, DeviceId1 0x17
flash size 16MB, sector count = 256
Flash: 16 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ath_gmac_enet_initialize...
athrs_sgmii_res_cal: cal value = 0xe
No valid address in Flash. Using fixed address
Scorpion  ----&gt; AR8033 PHY *
AR8033 PHY init
eth0: 00:03:7f:09:0b:ad
eth0 up
eth0
Setting 0x18116290 to 0x58b0214f
Autobooting in 1 seconds
scorpion&gt; setenv ipaddr 192.168.1.1
scorpion&gt; setenv serverip 192.168.1.3
scorpion&gt; ping ${serverip}
Trying eth0
Checking Link: Up
Checking Duplex: Full
Checking Speed 100BaseT
dup 1 speed 100
Using eth0 device
host 192.168.1.3 is alive
scorpion&gt; tftp 0x80060000 re450bs.bin&amp;&amp;erase 0x9f020000 +$filesize&amp;&amp;cp.b $fileaddr 0x9f020000 $filesize
Trying eth0
Checking Link: Up
Checking Duplex: Full
Checking Speed 100BaseT
Using eth0 device
TFTP from server 192.168.1.3; our IP address is 192.168.1.1
Filename &#039;re450bs.bin&#039;.
Load address: 0x80060000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ##################################
done
Bytes transferred = 6160384 (5e0000 hex)
Erase Flash from 0x9f020000 to 0x9f5fffff in Bank # 1
First 0x2 last 0x5f sector size 0x10000                                                                                             95
Erased 94 sectors
Copy to Flash... write addr: 9f020000
done
scorpion&gt; boot
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK
...</code></pre></div><p>After this you should have the stock firmware back in your device. If you cannot connect or login, please use the reset to restore default values and configure from the scratch.</p><p>As a side note, did anyone find out the method to trigger tftp recovery without serial console? Many tp-link devices have this and it&#039;s enabled by pressing a key during boot but I couldn&#039;t see the way to get it done</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368143">
				<div class="post-metadata">
					<div class="post-num">Post #81</div>
					<div class="post-author">radekdostal</div>
					<div class="post-datetime">
						12 Nov 2017, 20:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>diegomanas wrote:</cite><blockquote><p>As a side note, did anyone find out the method to trigger tftp recovery without serial console? Many tp-link devices have this and it&#039;s enabled by pressing a key during boot but I couldn&#039;t see the way to get it done</p></blockquote></div><p>sorry - have not noticed anything like this when just briefly looking at the published u-boot source code.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368144">
				<div class="post-metadata">
					<div class="post-num">Post #82</div>
					<div class="post-author">radekdostal</div>
					<div class="post-datetime">
						12 Nov 2017, 20:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite> alxscott wrote:</cite><blockquote><p>FROM: <a href="https://github.com/lede-project/source/pull/519">https://github.com/lede-project/source/pull/519</a></p><p>Apologies to re-open this thread, but it seems best placed... I just bough 2 x TP-Link RE450 and it is hardware variant V2.. The LEDE image fails checksum check for install. Device Wiki ( <a href="https://wikidevi.com/wiki/TP-LINK_RE450">https://wikidevi.com/wiki/TP-LINK_RE450</a> shows same CPU and Wireless chips, so I&#039;m hoping it is a simple code tweak @dasty ?</p></blockquote></div><p>I am sorry, but I do not have the v2 so hard to test anything. It may be as simple as adding more lines into this array in tools/firmware-utils/src/tplink-safeloader.c<br /></p><div class="codebox"><pre><code>    /** Firmware layout for the RE450 */
    {
        .id = &quot;RE450&quot;,
        .vendor = &quot;&quot;,
        .support_list =
            &quot;SupportList:\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:00000000}\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:55530000}\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:45550000}\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:4A500000}\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:43410000}\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:41550000}\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:4B520000}\r\n&quot;
            &quot;{product_name:RE450,product_ver:1.0.0,special_id:55534100}\r\n&quot;
            &quot;\x00&quot;,</code></pre></div><p>but it may requires some extra modifications to who knows what. Without having HW it is hard to tell.</p><p>Thanks,<br />Radek</p>											<p class="post-edited">(Last edited by <strong>radekdostal</strong> on 12 Nov 2017, 21:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368146">
				<div class="post-metadata">
					<div class="post-num">Post #83</div>
					<div class="post-author">alxscott</div>
					<div class="post-datetime">
						12 Nov 2017, 21:05					</div>
				</div>
				<div class="post-content content">
					<p>Radek, thanks for your reply,</p><p>I&#039;m certainly willing to try a simple code change and see if I can flash the device... My pretty ( semi..) confident there is no significant hardware changes. My only question is regarding the special_id tag / field... does this relate to official TP-Link Release numbers? For example my official firmware states &quot;1.0.2 Build 20170626 Rel. 60833&quot;.</p><p>Thanks in advance</p><p>Alex</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368148">
				<div class="post-metadata">
					<div class="post-num">Post #84</div>
					<div class="post-author">radekdostal</div>
					<div class="post-datetime">
						12 Nov 2017, 21:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alxscott wrote:</cite><blockquote><p>Radek, thanks for your reply,</p><p>I&#039;m certainly willing to try a simple code change and see if I can flash the device... My pretty ( semi..) confident there is no significant hardware changes. My only question is regarding the special_id tag / field... does this relate to official TP-Link Release numbers? For example my official firmware states &quot;1.0.2 Build 20170626 Rel. 60833&quot;.</p><p>Thanks in advance</p><p>Alex</p></blockquote></div><p>Hi Alex,</p><p>I originally extracted content of this field by running strings on the official TP-Link firmware. When I do the same on the firmware for the V2, I get the following list:</p><div class="codebox"><pre><code>{product_name:RE450,product_ver:2.0.0,special_id:00000000}
{product_name:RE450,product_ver:2.0.0,special_id:55530000}
{product_name:RE450,product_ver:2.0.0,special_id:45550000}
{product_name:RE450,product_ver:2.0.0,special_id:4A500000}
{product_name:RE450,product_ver:2.0.0,special_id:43410000}
{product_name:RE450,product_ver:2.0.0,special_id:41550000}
{product_name:RE450,product_ver:2.0.0,special_id:41530000}
{product_name:RE450,product_ver:2.0.0,special_id:4B520000}
{product_name:RE450,product_ver:2.0.0,special_id:42520000}</code></pre></div><p>as no device v1 is mentioned there I am not sure, that v2 version of firmware would run on v1 device and vice versa. So there is a chance, that if you do this modification, it will accept it for flashing, but it will brick the device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368184">
				<div class="post-metadata">
					<div class="post-num">Post #85</div>
					<div class="post-author">alxscott</div>
					<div class="post-datetime">
						13 Nov 2017, 19:25					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for that info Radek;</p><p>I&#039;ll see if I can source chipset etc info for the V2 device and make a decision to try the existing LEDE Firmware, or compile fresh or simply return the routers!</p><p>Thanks again!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368200">
				<div class="post-metadata">
					<div class="post-num">Post #86</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						14 Nov 2017, 01:40					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://wikidevi.com/wiki/TP-LINK_RE450_v2.x">https://wikidevi.com/wiki/TP-LINK_RE450_v2.x</a></p><p>A new forum thread for the v2 version would be a good idea.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p368243">
				<div class="post-metadata">
					<div class="post-num">Post #87</div>
					<div class="post-author">robimarko</div>
					<div class="post-datetime">
						15 Nov 2017, 00:41					</div>
				</div>
				<div class="post-content content">
					<p>You cant use v1 image as SoC was changed.<br />Anybody got bootlog?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 4 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=63975&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=63975&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=63975&amp;p=3.html">3</a></li><li class="pagination-current"><span>4</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>