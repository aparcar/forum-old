<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Should We, the Unwashed Masses, be Installing Kamikaze Now?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Apr 2018 and 10 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=11374&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p51244">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sigsegv</div>
					<div class="post-datetime">
						25 Jun 2007, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>Does the release of 7.06 mean we&#039;re supposed to be using it now instead of White Russian?&nbsp; I&#039;ve been using WR for a while now with no problems.&nbsp; I have a new WRT54GL that I want to put OpenWRT on for work, but I can&#039;t tell what the new stable platform is.&nbsp; </p><p>Thanks.</p><p>-sig</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51246">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ajauberg</div>
					<div class="post-datetime">
						25 Jun 2007, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>In my experience, no. The documentation just is not there, and there is not enough people around to give you good advise for stupid newbee questions.</p><p>I am now happily back to Whiterussian after a frustrating round with Kamikaze.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51247">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sigsegv</div>
					<div class="post-datetime">
						25 Jun 2007, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>OK.&nbsp; Thanks.&nbsp; That&#039;s the impression I&#039;m getting.&nbsp; Especially for the WRT54GL with its Broadcom wireless.</p><p>-sig</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51257">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">regloss</div>
					<div class="post-datetime">
						26 Jun 2007, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>It might depend on what features you&#039;re looking for.&nbsp; I&#039;ve had some issues with earlier builds of Kamikaze but when I did a clean install of the official 7.06 and used only the packages supplied with the 7.06 build, it&#039;s been pretty reliable - and I use it for work.&nbsp; I&#039;m using the 2.4 kernel with wireless enabled, ntpclient, WPA-PSK encryption, qos, ez-ipupdate and have a DMZ set up - on a WRT54GL.&nbsp; I run one wired client, 3 wireless clients, a VOIP phone and a video phone.&nbsp; This configuration might satisfy the requirements of many users.&nbsp; The documentation is a bit thin but that&#039;s part of the challenge, fun and satisfaction&nbsp; of being an early adopter.&nbsp; If you&#039;ve got a spare router with WhiteRussian, what&#039;s the down side?&nbsp; If you run into trouble, just plug in the spare router.</p>											<p class="post-edited">(Last edited by <strong>regloss</strong> on 26 Jun 2007, 01:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51259">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sigsegv</div>
					<div class="post-datetime">
						26 Jun 2007, 01:07					</div>
				</div>
				<div class="post-content content">
					<p>Interesting.&nbsp; Has anyone done a side-by-side comparison of Kamikaze and White Russian listing what one can do that the other can&#039;t?&nbsp; I don&#039;t have a ton of extra time or any spare routers, so this is it.&nbsp; If I have the time, I like to play with this stuff and don&#039;t mind the light documentation, but since I don&#039;t have the time and just want to get something running, maybe WR would be the better solution?</p><p>Thanks.</p><p>-sig</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51261">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">regloss</div>
					<div class="post-datetime">
						26 Jun 2007, 01:26					</div>
				</div>
				<div class="post-content content">
					<p>sigsegv - Since you mentioned that you had &#039;a new WRT54GL&#039; and had been running WR for a while, it sounded like you had multiple routers.&nbsp; If you don&#039;t have the luxury of a spare router, I&#039;d stick with WR 0.9 for a while.&nbsp; It took me several install cycles to get to where I&#039;m happy with Kamikaze for my requirements.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51262">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sigsegv</div>
					<div class="post-datetime">
						26 Jun 2007, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>Ah, yeah.&nbsp; I have put WR on some home routers, but there are no spare ones here at work.&nbsp; Thanks for the advice.</p><p>-sig</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51266">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Whelkman</div>
					<div class="post-datetime">
						26 Jun 2007, 02:31					</div>
				</div>
				<div class="post-content content">
					<p>I assume Kamikaze will eventually stabilize, but don&#039;t expect everything to work right now. In particular:</p><p>* qos-re isn&#039;t available<br />* Webif^2, for me, is unstable<br />* Raw documentation is an understatement; some of it is outdated even for White Russian<br />* iptables seems broken: port forwarding works, but I can&#039;t open ports locally (e.g. SSH, VPN to the router)<br />* Even functioning packages have broken components, e.g. ntpclient&#039;s broken hotplug script.</p><p>My platform is an Asus WL-500g (original). Those with a Broadcom device are likely better served for now with White Russian; most of Kamikaze&#039;s immediate benefits seem to be for platforms that support Linux 2.6.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51267">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Duon</div>
					<div class="post-datetime">
						26 Jun 2007, 02:39					</div>
				</div>
				<div class="post-content content">
					<p>My WRT54GL is up and running 7.06 happily.&nbsp; Wasn&#039;t too much work to get it all configured.</p><p>Yeah, I had to edit the ntpclient hotplug script to get it working correctly, although I haven&#039;t had any problems with iptables ... forwarding ports and opening a local port (for SSH from WAN) are working fine for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51269">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Bill_MI</div>
					<div class="post-datetime">
						26 Jun 2007, 05:13					</div>
				</div>
				<div class="post-content content">
					<p>I can only agree with everyone.&nbsp; Kamikaze isn&#039;t ready for the masses by a long shot.&nbsp; Heck, even ntpclient doesn&#039;t come with a working script - that tells me a lot right there.</p><p>In all fairness, I think a lot of work is still too focussed and there&#039;s been no settling time for other details to catch up.</p>											<p class="post-edited">(Last edited by <strong>Bill_MI</strong> on 26 Jun 2007, 05:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51270">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Whelkman</div>
					<div class="post-datetime">
						26 Jun 2007, 05:15					</div>
				</div>
				<div class="post-content content">
					<p>Which method did you use to open local ports? I&#039;ve tried via /etc/firewall.user, /etc/config/firewall, and &#039;ol fashioned iptables via command line.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51271">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Weedy</div>
					<div class="post-datetime">
						26 Jun 2007, 05:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Whelkman wrote:</cite><blockquote><p>Which method did you use to open local ports? I&#039;ve tried via /etc/firewall.user, /etc/config/firewall, and &#039;ol fashioned iptables via command line.</p></blockquote></div><p>google snat</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51272">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Whelkman</div>
					<div class="post-datetime">
						26 Jun 2007, 05:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Weedy wrote:</cite><blockquote><p>google snat</p></blockquote></div><p>I am not having trouble with NAT (although this has been broken in OpenWRT in the past).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51275">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Duon</div>
					<div class="post-datetime">
						26 Jun 2007, 06:16					</div>
				</div>
				<div class="post-content content">
					<p>Mine is in firewall.user ... I removed the input_wan and prerouting_wan chains, and just use *_rule -i $WAN:</p><p>What I have (obviously won&#039;t work without the lists and such) ... :</p><div class="codebox"><pre><code>for IP in ${WHITELIST}; do
        for PORT in ${ROUTER_TCP}; do
                iptables -t nat -A prerouting_rule -i $WAN -s $IP -p tcp --dport $PORT -j ACCEPT
                iptables        -A input_rule      -i $WAN -s $IP -p tcp --dport $PORT -j ACCEPT
        done
done</code></pre></div><p>So ... eh ... removing the whitelist stuff ... this should do it for port 22:<br /></p><div class="codebox"><pre><code>iptables -t nat -A prerouting_rule -i $WAN -p tcp --dport 22 -j ACCEPT
iptables        -A input_rule      -i $WAN -p tcp --dport 22 -j ACCEPT</code></pre></div><p>Or ... with the _wan chains:<br /></p><div class="codebox"><pre><code>iptables -t nat -A prerouting_wan -p tcp --dport 22 -j ACCEPT
iptables        -A input_wan      -p tcp --dport 22 -j ACCEPT</code></pre></div>											<p class="post-edited">(Last edited by <strong>Duon</strong> on 26 Jun 2007, 06:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51279">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Whelkman</div>
					<div class="post-datetime">
						26 Jun 2007, 06:59					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>iptables -t nat -A prerouting_wan -p tcp --dport 22 -j ACCEPT
iptables        -A input_wan      -p tcp --dport 22 -j ACCEPT</code></pre></div><p>This is verbatim of what&#039;s in firewall.user but doesn&#039;t work for me (tried again to confirm).</p><div class="codebox"><pre><code>iptables -t nat -A prerouting_rule -i $WAN -p tcp --dport 22 -j ACCEPT
iptables        -A input_rule      -i $WAN -p tcp --dport 22 -j ACCEPT</code></pre></div><p>I attempted the above substituting eth1 for $WAN...still no go. Something has to be wrong with iptables or there&#039;s some sort of block I&#039;m unaware of. There&#039;s no way forwarding, which is inherently more error prone, works every time but I&#039;m stumped with simply opening one port. I&#039;ve never had a problem with this in White Russian or Linux 2.3 when iptables was introduced--or on ipchains, ipfwadm, ipfw, or pf for that matter. I even got the atrocious PIX 506 forwarding ports some years back. Hell, I&#039;ll even throw in Cisco and Riverstone core routers, though those things are a few steps beyond NAT. The only time I recall having this much trouble was with Zoom and Westell DSL devices--bad design on Westell&#039;s part and bad firmware (always!) with Zoom. At one point I seemed to be Zoom&#039;s only field feedback for their X6 DSL units.</p><p>I appreciate your assistance, Duon. While fixing the problem is the best solution, bolstering my case is good as well. I&#039;ll speak louder regarding this issue if it&#039;s not fixed by next release. OpenWRT is pretty good about magically resolving crippling issues. I&#039;ll just revert to White Russian if it gets too annoying.</p>											<p class="post-edited">(Last edited by <strong>Whelkman</strong> on 26 Jun 2007, 07:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51280">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						26 Jun 2007, 08:07					</div>
				</div>
				<div class="post-content content">
					<p>I am running an older Kamikaze build r7048 and I had no problem using the basic stuff in /etc/config/firewall:</p><p>accept:proto=tcp dport=22</p><p>I also use the forwarding rules such as this complex example for a VOIP appliance:</p><p>forward:proto=udp dport=69,1024-1151,21024-21046,16384-16385,2427,2727,2429,2432,50231-50235:192.168.x.x</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51281">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">regloss</div>
					<div class="post-datetime">
						26 Jun 2007, 08:43					</div>
				</div>
				<div class="post-content content">
					<p>Here&#039;s a copy of the /etc/firewall.user in use on Kamikaze 7.06.&nbsp; I generally comment out ports 22, 80 and 8100 just to keep things a bit more secure.</p><p>WRT54GL v1.0 Kamikaze 7.06<br />WHR-HP-G54 Kamikaze 7.06</p><br /><br /><p>#!/bin/sh<br /># Copyright (C) 2006 OpenWrt.org</p><p>iptables -F input_rule<br />iptables -F output_rule<br />iptables -F forwarding_rule<br />iptables -t nat -F prerouting_rule<br />iptables -t nat -F postrouting_rule</p><p># The following chains are for traffic directed at the IP of the <br /># WAN interface</p><p>iptables -F input_wan<br />iptables -F forwarding_wan<br />iptables -t nat -F prerouting_wan</p><p># DMZ outgoing<br />iptables -A forwarding_rule -i eth0.2 -o eth0.1 -j ACCEPT<br />iptables -A forwarding_rule -i eth0.2 -o eth0.0 -j ACCEPT</p><p>### Open port to WAN<br />## -- This allows port 22 to be answered by (dropbear on) the router<br />iptables -t nat -A prerouting_wan -p tcp --dport 22 -j ACCEPT <br />iptables&nbsp; &nbsp; &nbsp; &nbsp; -A input_wan&nbsp; &nbsp; &nbsp; -p tcp --dport 22 -j ACCEPT<br />## -- This allows port 80 to be answered by (dropbear on) the router<br />iptables -t nat -A prerouting_wan -p tcp --dport 80 -j ACCEPT <br />iptables&nbsp; &nbsp; &nbsp; &nbsp; -A input_wan&nbsp; &nbsp; &nbsp; -p tcp --dport 80 -j ACCEPT</p><p>### Port forwarding<br />## -- This forwards port 8100 on the WAN to port 80 on 192.168.1.100<br />iptables -t nat -A prerouting_wan -p tcp --dport 8100 -j DNAT --to 192.168.1.100:80<br />iptables&nbsp; &nbsp; &nbsp; &nbsp; -A forwarding_wan -p tcp --dport 80 -d 192.168.1.100 -j ACCEPT<br />## -- This forwards ports 5060-5061 on the WAN to 192.168.1.100<br />iptables -t nat -A prerouting_wan -p udp --dport 5060:5061 -j DNAT --to 192.168.1.100<br />iptables&nbsp; &nbsp; &nbsp; &nbsp; -A forwarding_wan -d 192.168.1.100 -j ACCEPT</p><p>### DMZ<br />## -- Connections to ports not handled above will be forwarded to 192.168.2.2<br />iptables -t nat -A prerouting_wan -j DNAT --to 192.168.2.2<br />iptables&nbsp; &nbsp; &nbsp; &nbsp; -A forwarding_wan -d 192.168.2.2 -j ACCEPT</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51292">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">forum2006</div>
					<div class="post-datetime">
						26 Jun 2007, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>I wouldn&#039;t recommend using KK yet.It&#039;s simply to unstable and untested. Even the so called 7.06 &quot;release&quot; is not ready for the masses.</p><p>I you are happy with WR 0.9 stick to it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51298">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						26 Jun 2007, 13:37					</div>
				</div>
				<div class="post-content content">
					<p>My impression is that WhiteRussian is also much faster than Kamikaze. <br />I tried WhiteRussian 0.9 and various Kamikaze releases (7.06 included), with 2.4 and 2.6 kernel on my WRT54GL<br />I think and hope that Kamikaze shall come a very good distribution. At now, the only great advantage is that it can support more devices than WhiteRussian.<br />If you want just use your WRT54 (without making development on it), I would reccomend WhiteRussian too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51312">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						26 Jun 2007, 17:37					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s unfortunate that it&#039;s not. After installing it I like the method of using configuration files to set up the router over nvram (though there are pluses and minuses). The only problem is that when I did use the simple setup it didn&#039;t work. I&#039;m looking forward to the next release(s) where it might become more reliable and documented. The fact that OpenWrt is expanding it&#039;s hardware support is amazing and a great outlook for the future as Wireless N is coming!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51322">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">zsjoska</div>
					<div class="post-datetime">
						26 Jun 2007, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>Kamikaze solved my problem which I had. My nvram content disappeared periodically but the other partitions don&#039;t.<br />With Kamikaze i don&#039;t care about the nvram. It&#039;s really stable since i installed (2 weeks ago), however I&#039;m using only as router+ap with default install.<br />Port forward and opening works fine for me.</p><p>I really like the idea that only the etc should backed up and not nvram+etc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51637">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">zsjoska</div>
					<div class="post-datetime">
						2 Jul 2007, 12:05					</div>
				</div>
				<div class="post-content content">
					<p>The worst problem I just encountered. The failsafe functionality is not working. Fortunately I have an Asus WL-500G Deluxe, so reflashing&nbsp; again went easily with the Tool provided by Asus.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53152">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						31 Jul 2007, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>In 7.07 failsafe is fixed and it&#039;s great!<br />Kamikaze step by step is going to be a stable system, but I think it&#039;s not yet mature and stable as WhiteRussian.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63709">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">gildenman</div>
					<div class="post-datetime">
						19 Feb 2008, 18:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ggp81 wrote:</cite><blockquote><p>In 7.07 failsafe is fixed and it&#039;s great!<br />Kamikaze step by step is going to be a stable system, but I think it&#039;s not yet mature and stable as WhiteRussian.</p></blockquote></div><p>I recently thought I&#039;d give KK 7.09 a try after a WR RC6 install had been performing fantastically 24x7 for ~13months. Only once, last week, did I ever had to reboot the router due to a problem. In that respect I think KK has been a victim of WR&#039;s success.<br />After reading this thread I was put off upgrading. However, I managed to get my hands on a 2nd Buffalo WHR-HP-G64 and decided to give it a go. I&#039;m not sure I would&#039;ve ever bothered, without the 2nd router, considering WR&#039;s reliability. <br />Well I have now tried KK on both routers and WR is a thing of the past for me. I&#039;m glad I didn&#039;t let this thread put me off, so that&#039;s why I&#039;m adding to it.<br />I much prefer the config file format, having found nvram fiddly and non-intuitive. I&#039;m happier knowing that all components have been updated; kernel, modules, commands esp. busybox, openwrt scripts, etc.. That&#039;s despite the fact I am forced to use kernel 2.4 as I need wireless on the broadcom hardware in the WHR-HP-G54.<br />I previously used qos-re which worked perfectly for many months. However, there is no KK package for that. Though I managed to manually install it, <a href="http://www.rootshell.be/~msp/qos-re.1.05.KK.tar.gz">here</a> are the modified scripts.<br />But after reinstalling KK a few times I tired of that and thought I&#039;d try qos-scripts again (wasn&#039;t really mature the last time I used it in Nov 2006), because there is a KK package and I just thought I&#039;d see if it truly performed as well as qos-re. Well so far I can&#039;t really tell a difference. qos-scripts seems to work just fine, so I think I will ditch qos-re for providing no benefit, having a non-KK config file and having a non-KK package.<br />Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63719">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">napierzaza</div>
					<div class="post-datetime">
						19 Feb 2008, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>It is much better, but there&#039;s still a lot missing if you&#039;re on broadcom. I don&#039;t think it will be as far as WR untile 2.6 has good drivers out. But I do use KK because the config file format is so much better.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=11374&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>