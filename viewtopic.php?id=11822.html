<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> failsafe mode - Telnet login failed.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p52939">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">swinchen</div>
					<div class="post-datetime">
						27 Jul 2007, 19:46					</div>
				</div>
				<div class="post-content content">
					<p>Router: wrtsl54gs<br />Firmware: <a href="http://downloads.openwrt.org/whiterussian/rc5/bin/openwrt-wrtsl54gs-jffs2.bin">http://downloads.openwrt.org/whiterussi â€¦ -jffs2.bin</a></p><p>Problem: I installed flashed the firmware over successfully, and I used ssh to access the router.&nbsp; I tried to put the router into client mode and somehow mixed up the interfaces, preventing me from accessing the router.&nbsp; &nbsp;So I decided to try failsafe mode seeing I know it isn&#039;t bricked, nvram is just pooched.&nbsp; &nbsp;So I listened on the port (nc -l -p 4919 -u) and instead of:<br />#1) getting a message saying &quot;Press reset now, to enter Failsafe!&quot; I get &quot;(dummy message)&quot;<br />#3) having the dmz light turn on the &quot;Secure Easy Setup&quot; light turns on.</p><p>ok, I press and hold the reset button anyways and the &quot;Secure Easy Setup&quot; light starts blinking.</p><p>So I ping 192.168.1.1 and that works fine... so now I try to telnet:<br /></p><div class="codebox"><pre><code>[root@latitude ~]# telnet 191.168.1.1 23
Trying 192.168.1.1...
Connected to 192.168.1.1.
Escape character is &#039;^]&#039;.

Login failed.
Connection closed by foreign host.</code></pre></div><p>Does anyone have any ideas or suggestions how I can it back to a working state?&nbsp; Thanks so much for taking the time to read this.&nbsp; I am really stuck.</p><p>Sam</p>											<p class="post-edited">(Last edited by <strong>swinchen</strong> on 27 Jul 2007, 19:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53339">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">itsj</div>
					<div class="post-datetime">
						3 Aug 2007, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>I ran into the same problem. From what I can see, the FAILSAFE variable is not exported anymore from within /etc/preinit script .. therefore the /bin/login script will not allow you to log in, if the original pasword (which is set to &quot;!&quot; in /etc/passwd) was changed - under normal circumstances this will only occur if you use the jffs2 images, as the squashfs images only mount /rom in failsafe mode, which contains the original /etc/passwd.<br />For me, I made my own image, with altered /etc/passwd in /rom ...</p><p>Regards</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>