<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT Kamikaze on TP-link tl-wa501g?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Aug 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 14</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=17252&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=14.html">14</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p74448">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Marek</div>
					<div class="post-datetime">
						9 Oct 2008, 12:04					</div>
				</div>
				<div class="post-content content">
					<p>I bumped similar thread on Whiterussian forum but i think this is right place for this.</p><p>I&#039;m interested in flashing tp-link tl-wa501g with OpenWRT. It&#039;s very cheap AP (~$30) based probably on atheros AR2313 chipset - manufaturer claims that it is Atheros based and the size of metal covering CPU suggest me that it is really WiSOC.</p><p>I found one PCB photo but with metioned cover on main chips..: <br /><span class="postimg"><img src="http://www.nag.ru/goodies/foto/wireless/tl_wa501g/001.jpg" alt="http://www.nag.ru/goodies/foto/wireless/tl_wa501g/001.jpg" /></span></p><p>Anyone tried to flash it with some recent Kamikaze Atheros port?</p><p>Marek</p>											<p class="post-edited">(Last edited by <strong>Marek</strong> on 9 Oct 2008, 12:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78259">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">TAXI</div>
					<div class="post-datetime">
						17 Dec 2008, 05:48					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m interested in that, too.<br />If anyone had tried it: PLEASE reply!</p><p>//EDIT: I opened my AP and googled for the chips <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />It seems that this AP has 8 MB RAM - but I can&#039;t find any flash chip! here again what i could read:</p><p>---------------------<br />ELPIDA TAIWAN<br />S6416AHTA-75-E<br />0815CR366000<br />---------------------<br />this is the RAM chip <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>---------------------<br />F0814R<br />AMC34063AM<br />---------------------<br />DC-DC converter (wtf?)</p><p>---------------------<br />AFM9435<br />XX38V<br />---------------------<br />not found yet ^^</p><p>---------------------<br />(logo)-15G<br />25L1605AM2C<br />2T780803A3<br />TAIWAN<br />L070724<br />---------------------<br />font size extreme small, could be something other also ^^ - not found yet</p><p>---------------------<br />PPT 08065<br />PM45-1041M-F<br />---------------------<br />not found yet but it don&#039;t seems to be interresting (some LAN chip like the realtek I think)</p><p>P.S: mine is a rev. 1.3 board, not 1.2 like on the image <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>TAXI</strong> on 18 Dec 2008, 04:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92953">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">navetse</div>
					<div class="post-datetime">
						20 Aug 2009, 18:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi!! i have this model.</p><p><span class="postimg"><img src="http://lh6.ggpht.com/_ZYKGnyKzkPQ/So1pUNvUI8I/AAAAAAAAAFc/Gd2EgBBtnxo/s640/LGIM0005.jpg" alt="http://lh6.ggpht.com/_ZYKGnyKzkPQ/So1pUNvUI8I/AAAAAAAAAFc/Gd2EgBBtnxo/s640/LGIM0005.jpg" /></span><br /><span class="postimg"><img src="http://lh4.ggpht.com/_ZYKGnyKzkPQ/So1pUkhM4XI/AAAAAAAAAFg/jau_BoAuFIU/s640/LGIM0006.jpg" alt="http://lh4.ggpht.com/_ZYKGnyKzkPQ/So1pUkhM4XI/AAAAAAAAAFg/jau_BoAuFIU/s640/LGIM0006.jpg" /></span><br /><span class="postimg"><img src="http://lh6.ggpht.com/_ZYKGnyKzkPQ/So1pUwRZLnI/AAAAAAAAAFk/W8-QMgOKBqk/s640/LGIM0008.jpg" alt="http://lh6.ggpht.com/_ZYKGnyKzkPQ/So1pUwRZLnI/AAAAAAAAAFk/W8-QMgOKBqk/s640/LGIM0008.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92960">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">navetse</div>
					<div class="post-datetime">
						20 Aug 2009, 19:31					</div>
				</div>
				<div class="post-content content">
					<p>Atheros bulletin</p><p><a href="http://www.atheros.com/pt/bulletins/AR5006AP_GBulletin.pdf">http://www.atheros.com/pt/bulletins/AR5 … lletin.pdf</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94209">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">SaTaN</div>
					<div class="post-datetime">
						13 Sep 2009, 15:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>TAXI wrote:</cite><blockquote><p>---------------------<br />F0814R<br />AMC34063AM<br />---------------------<br />DC-DC converter (wtf?)</p></blockquote></div><p>This makes the power for the unit. The unit is powerd by a relatively hi, unregulated AC voltage (like 12 V or so) from an transformer that plugs into mains. This generates the required voltages (like 1.3V, 2.5V, 3.3V)<br /></p><div class="quotebox"><cite>TAXI wrote:</cite><blockquote><p>---------------------<br />(logo)-15G<br />25L1605AM2C<br />2T780803A3<br />TAIWAN<br />L070724<br />---------------------<br />font size extreme small, could be something other also ^^ - not found yet</p></blockquote></div><p>This is the flash - A serial SPI flash. 16 Mbit. Look for 25P16, MX25L1605A, or similar.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105321">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zorxd</div>
					<div class="post-datetime">
						26 Mar 2010, 19:40					</div>
				</div>
				<div class="post-content content">
					<p>If it really has only 8MB RAM, then I don&#039;t think it is worth much for OpenWRT.<br />If it has only 2MB flash, then it just won&#039;t work.</p>											<p class="post-edited">(Last edited by <strong>zorxd</strong> on 26 Mar 2010, 19:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106884">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						14 Apr 2010, 23:10					</div>
				</div>
				<div class="post-content content">
					<p>I have a running Kamikaze 8.09.2 on similar setup (tl-wr340g 2/8Mb ar2317). </p><p>Btw, guys, what are you expect to get from this device with Linux?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107406">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">degenerated</div>
					<div class="post-datetime">
						20 Apr 2010, 17:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>I have a running Kamikaze 8.09.2 on similar setup (tl-wr340g 2/8Mb ar2317). </p><p>Btw, guys, what are you expect to get from this device with Linux?</p></blockquote></div><p>I have a tl-wa500g with same specs. I&#039;m interested in flashing my router also, how did you manage to flash it ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107787">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						25 Apr 2010, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m starting from spipgm (very useful utility to read and flash SPI flash chips through LPT port). Now I&#039;m working on flashing via tp-link WEB.</p><p>PS. What are you mean same specs?</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 25 Apr 2010, 00:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107838">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">degenerated</div>
					<div class="post-datetime">
						25 Apr 2010, 19:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>I&#039;m starting from spipgm (very useful utility to read and flash SPI flash chips through LPT port). Now I&#039;m working on flashing via tp-link WEB.</p><p>PS. What are you mean same specs?</p></blockquote></div><p>AR2317 and 2MB flash / 8MB ram</p><p>details:</p><p>TP-LINK TL-WA500G</p><p>cpu&nbsp; &nbsp;ATHEROS AR2317-AC1A<br />flash SPANSION FLO16AIF<br />ram&nbsp; WINBOND W9864G61H-6</p>											<p class="post-edited">(Last edited by <strong>degenerated</strong> on 25 Apr 2010, 19:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107844">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						25 Apr 2010, 20:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>I&#039;m starting from spipgm (very useful utility to read and flash SPI flash chips through LPT port). Now I&#039;m working on flashing via tp-link WEB.</p></blockquote></div><p>Is it necessary to desolder the flash to use spipgm? What exactly did you write to your flash? (link?) Is everything working as expected?<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107863">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						25 Apr 2010, 22:42					</div>
				</div>
				<div class="post-content content">
					<p>Ok, guys. To reflash MX25L1605D you need to desolder pins 1,2,5,6 and make connection between pins 8-3. google spipgm homepage for more details. But be patient - reverce engeneering work on native WEB capable &quot;vxkiller&quot; is mostly done. Any help on building killer scripts are welcome. I&#039;m using custom build MicroRedBoot - thus save 128 kB of flash space and custom build kamikadze 8.09.2. There are some limitations in available flash space ;-) so to save it there is no WEB, no ppp in my setup (only telnet and ssh), 88e6060 switch is not working as expected - it is detected as generic PHY. I think switch routines can be fixed in future but it is not in my priority list for now. WEB interface can be added also (there are also some free space in image). Wireless interface is working well, wired is working as 5port switch on eth0.<br />As you can see, you need to be familiar with soldering iron, redboot and openwrt linux CLI (uci and so on) to switch OS on your router/AP to linux.<br />degenerated&nbsp; - can you post internal photos?</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 25 Apr 2010, 23:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107943">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						26 Apr 2010, 15:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>But be patient - reverce engeneering work on native WEB capable &quot;vxkiller&quot; is mostly done. Any help on building killer scripts are welcome. I&#039;m using custom build MicroRedBoot - thus save 128 kB of flash space and custom build kamikadze 8.09.2. There are some limitations in available flash space ;-) so to save it there is no WEB, no ppp in my setup (only telnet and ssh), Wireless interface is working well, wired is working as 5port switch on eth0.</p></blockquote></div><p>This sounds great. I think I&#039;ll should wait until flashing via tp-link WEB is ready. I am an experienced&nbsp; Linux administrator but I am new to OpenWrt so I am not sure if I can help but I can take a look at it if you post your sources somewhere. Is there a Wiki about &quot;vxkiller&quot; available on the net? I&#039;ve googled vxkiller but don&#039;t find anything usefull to start.<br />Do you think it&#039;ll be possible to revert to the original firmware without spipgm? (Just in case of a needed repair. My tl-wr340g is just 1 week old.)<br />Thanks.</p><p>Edit: I know that the OS of this router is VxWorks by Wind River Systems. I think that is the meaning of &quot;vxkiller&quot;. The name of this program is usually Vxworkskiller.</p>											<p class="post-edited">(Last edited by <strong>mvsroot</strong> on 26 Apr 2010, 20:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108081">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">dmitryp</div>
					<div class="post-datetime">
						28 Apr 2010, 15:26					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to upgrade TP-Link TL-WR340G with the latest Kamikaze firmware though the TP-Link&#039;s web interface or somehow else?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108091">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						28 Apr 2010, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>Guys.</p><p>Work on vxkiller is done. <br />Upgrade your TL-WR340G through TP-Link&#039;s web.<br />After second reboot you can telnet 192.168.1.1 onto (very striped) OpenWrt 10.03 and enjoy.<br />RedBoot interface is accesable on telnet 192.168.1.1:9000 when you poweron your device with pressed reset key.<br />For reverting back to VxWorks use vxrestore and read carefully what it says ;-)</p><p><a href="http://78.109.17.98/files/klients/prices/2864/606fe38dda4014fb8f16b9b8a27cee3e.rar">http://78.109.17.98/files/klients/price … 7cee3e.rar</a><br />Ooops! Where can I post binary image on this forum?</p><p>PS. It seems to be compatible with TL-WA500G&nbsp; but I can&#039;t check this due luck of such hardware to test. <br />Native WA500G firmware runs well on WR340G (client mode) ;-)</p><p>Edit: Added link to file</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 28 Apr 2010, 17:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108114">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">dmitryp</div>
					<div class="post-datetime">
						28 Apr 2010, 22:52					</div>
				</div>
				<div class="post-content content">
					<p>xssa: I&#039;ve tried your firmware, now I can&#039;t connect to my router by cable (but lamp on the router is blinking). I&#039;ve tried to reset, but nothing happens. Is it possible somehow to recover the router?</p><p>Thanks,<br />Dmitry</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108140">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						29 Apr 2010, 11:37					</div>
				</div>
				<div class="post-content content">
					<p>dmitryp,<br />Sorry for inconviniance, may be I gave incomplete description about this linux, or you don&#039;t read carefully all discussion before.</p><p>Tp_Link TL-WR340G/D and any other Tp-links with vxworks onboard is not stated anywhere as supported devices and until yesterday there was no opportunity to work with it w/o soldering and flashing bootloader and linux into chip directly.</p><p>There is also no way to flash production OpenWrt through TP-Link&#039;s WEB directly, because of many limitations and most of it is it can accept only images less then 1179648 bytes long(hardcoded in firmware) and even less in practice. </p><p>What I gave for community is NOT a production firmware!!! There are no working DHCP server on this image, no WiFi, no WEB, no SSH and rootfs is not writable in sense of saving changes on reboot - it&#039;s aim is only to fit it into specs TP-Link&#039;s web can accept it, reflash bootloader, prepare eeprom&nbsp; and give you, guys, starting point to put your own Linux images on it w/o soldering and so on. And let you start coding. There is also oportunity in it to revert all back to original VxWorks, as was asked by mvsroot ;-)</p><p>Use it on your own risk and without any warranties!</p><div class="quotebox"><cite>dmitryp wrote:</cite><blockquote><p>...(but lamp on the router is blinking)...</p></blockquote></div><p>Exactly describe, what lamp and when it blinking? How did you try to connect to your device?</p><p>So start to read docs about OpenWrt, Linux, RedBoot, download Backfire or Kamikadze sources, try to build something for your device by yourself and share your knowlage here. </p><p>WiP - stay tuned.</p><div class="quotebox"><blockquote><p>Is it possible somehow to recover the router?</p></blockquote></div><p>WARNING!!! Reflashing bootloader area (0xbfc00000-0xbfc10000 space in RedBoot or mtd0 named RedBoot on Linux) with wrong image 100% will brick your router completly and you&#039;ll need spipgm and soldering iron on next step. So be carefull. If you can&#039;t prepare vxworks.raw by yourself - ask and I&#039;ll give you one.</p><p>Connect your router to your pc by ethernet cable, asign static IP to your PC - 192.168.1.10 netmask 255.255.255.0<br />try to <br />ping 192.168.1.1<br />telnet 192.168.1.1</p><div class="quotebox"><blockquote><p>=== IMPORTANT ============================<br />&nbsp; Use &#039;passwd&#039; to set your login password<br />&nbsp; this will disable telnet and enable SSH<br /> ------------------------------------------</p><br /><p>BusyBox v1.15.3 (2010-04-26 19:06:00 EEST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> Backfire (10.03, r20974) --------------------------<br />&nbsp; * 1/3 shot Kahlua&nbsp; &nbsp; In a shot glass, layer Kahlua<br />&nbsp; * 1/3 shot Bailey&#039;s&nbsp; on the bottom, then Bailey&#039;s,<br />&nbsp; * 1/3 shot Vodka&nbsp; &nbsp; &nbsp;then Vodka.<br /> ---------------------------------------------------<br />root@OpenWrt:/# vxrestore<br />3+0 records in<br />3+0 records out<br />2048+0 records in<br />2048+0 records out<br />Unlocking radio ...<br />Writing from /tmp/radio.rom to radio ...<br />Unlocking board ...<br />Writing from /tmp/mac.rom to board ...<br />All eeprom stuff is done!</p><p>&nbsp; &nbsp; &nbsp; &nbsp; Now for reverting back to VxWorks you need to:<br />&nbsp; &nbsp; &nbsp; &nbsp; 1) prepare raw VxWorks image from correct firmware update image<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; by truncating first 20 bytes of it&#039;s header<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Be CAREFULL - choosing wrong image will brick your device!!!<br />&nbsp; &nbsp; &nbsp; &nbsp; 2) put raw image into working TFTP server directory, say vxworks.raw<br />&nbsp; &nbsp; &nbsp; &nbsp; 3) restart your unit with pressed RESET key for !!!LESS then 5 sec!!!<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; be carefull, do not let to start this linux again because<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; it will revert board eeprom to linux version on restart<br />&nbsp; &nbsp; &nbsp; &nbsp; 4) telnet to 192.168.1.1:9000<br />&nbsp; &nbsp; &nbsp; &nbsp; 5) in RedBoot prompt do<br />RedBoot&gt; ^C<br />RedBoot&gt; ip_address -h 192.168.1.10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // your TFTP server IP<br />IP: 192.168.1.1, Default server: 192.168.1.10<br />RedBoot&gt; load -r -b %{FREEMEMLO} vxworks.raw<br />Using default protocol (TFTP)<br />Raw file loaded 0x80033800-0x8010e587, assumed entry at 0x80033800<br />RedBoot&gt; fis write -b %{FREEMEMLO} -l 0x120000 -f 0xbfc00000<br />* CAUTION * about to program FLASH<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; at 0xbfc00000..0xbfd1ffff from 0x80033800 - continue (y/n)? y&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // carefully wait here about a one-two minute for complition<br />... Erase from 0xbfc00000-0xbfd20000: ..................<br />... Program from 0x80033800-0x80153800 at 0xbfc00000: ..................<br />RedBoot&gt;reset<br />&nbsp; &nbsp; &nbsp; &nbsp; enjoy old days of VxWorks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />root@OpenWrt:/#</p></blockquote></div><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108142">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">dmitryp</div>
					<div class="post-datetime">
						29 Apr 2010, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>I have Tp-Link wr340g v5.3. Connected to it with a cable by a lan 1 port, put .bin file into file input and pressed upgrade button. It started to upgrade, progress bar was moving. After around 1 minute, it self-restarted (after that only power and lan lamps were on). Then switched it off, and tried to connect. I though it should have DHCP, and tried to hard reset several times. Then I&#039;ve tried to connect it using a static IP: ping doesn&#039;t work. Power lamp is on, and lan (1) lamp is blinking when I&#039;m connected using a cable. Also just tried to connect by a wan port, using static IP - still nothing. I think now it&#039;s bricked, so I still have a question - is it possible somehow to reset or do something else to unbrick the router?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108149">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						29 Apr 2010, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>What did U meen &quot;..and tried to connect&quot;, &quot;..tried to hard reset several times&quot; &quot;..tried to connect it using a static IP: ping doesn&#039;t work&quot;? Screenshots can be useful. <br />How much skilled are you? <br />Did you hear smth about telnet, tcp port 23, tcp port 9000? Where did you find &quot;v5.3&quot;? On sticker? Somewere else? There is only one publically available hw version of Tp-link wr340g as you can state on tplink downloads site.</p><p>There is console port inside on the bosrd, speed 115200, TTL levels. It can give some light what actually happens.<br />But first of all, make shure it restarts twice after upgrade. On first run it starts with wrong MAC addres, so ethernet not works as expected. Power up device, dont touch anything about a minute and a half, wait and look on the LEDS - it will blink and down/up network interface several times. Give chance to vxkiller to make all his job (about a minute) and then it will automatically reboot device. You&#039;ll see it on leds. Then wait second time a minute then you can try to connect with TELNET to 192.168.1.1 port 23</p><p>PS. on bricked router there will be network interface in down state and PWR,WAN,1,2,3,4 leds are light and not blink at all.</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 29 Apr 2010, 15:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108215">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						29 Apr 2010, 22:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>What I gave for community is NOT a production firmware!!! There are no working DHCP server on this image, no WiFi, no WEB, no SSH and rootfs is not writable in sense of saving changes on reboot - it&#039;s aim is only to fit it into specs TP-Link&#039;s web can accept it, reflash bootloader, prepare eeprom&nbsp; and give you, guys, starting point to put your own Linux images on it w/o soldering and so on. And let you start coding. There is also oportunity in it to revert all back to original VxWorks, as was asked by mvsroot ;-)</p></blockquote></div><p>Thanks for your work. I haven&#039;t tried it yet mostly because of &quot;no WiFi&quot;. What is the difference between the downloadable version and this version:<br /></p><div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>Wireless interface is working well, wired is working as 5port switch on eth0.</p></blockquote></div><p>?<br />I think I have to read the openwrt docu now. It shouldn&#039;t be a problem for me to compile programs for this router because I&#039;ve done cross compilations many times (for example for the WDTV and WDTV Live or the Dreambox)<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108315">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						1 May 2010, 15:11					</div>
				</div>
				<div class="post-content content">
					<p>Any success, guys?</p><div class="quotebox"><cite>mvsroot wrote:</cite><blockquote><p>Thanks for your work. I haven&#039;t tried it yet mostly because of &quot;no WiFi&quot;. What is the difference between the downloadable version and this version:<br /></p><div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>Wireless interface is working well, wired is working as 5port switch on eth0.</p></blockquote></div><p>?</p></blockquote></div><p>You can not go any further without reflashing bootloader first. Answer is simple - wireless will not fit in &lt;1,1MB &quot;vxkiller&quot; image. Production images can only be flashed from RedBoot or from Linux itself, or ,of course, by spipgm. So this is an egg. Then will be a chiken. ;-)</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108316">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						1 May 2010, 15:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>Any success, guys?</p><div class="quotebox"><cite>mvsroot wrote:</cite><blockquote><p>Thanks for your work. I haven&#039;t tried it yet mostly because of &quot;no WiFi&quot;. What is the difference between the downloadable version and this version:<br /></p><div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>Wireless interface is working well, wired is working as 5port switch on eth0.</p></blockquote></div><p>?</p></blockquote></div><p>You can not go any further without reflashing bootloader first. Answer is simple - wireless will not fit in &lt;1,1MB &quot;vxkiller&quot; image. Production images can only be flashed from RedBoot or from Linux itself, or ,of course, by spipgm. So this is an egg. Then will be a chiken. ;-)</p><p>Thanks</p></blockquote></div><p>Sure I know. But I have no &quot;production image&quot; so I can flash your boot loader and restore vxworks but I can&#039;t use WiFi before I&#039;ve compiled a &quot;production image&quot; by myself or you post your running version somewhere (RapidShare?). I am not familiar with Redboot so it would be great if you could post instructions how to flash a &quot;production image&quot;. I think this is not very different from restoring vxworks. I should be extremely cautious because I don&#039;t have spipgm to unbrick my router and I can&#039;t use my nook without WiFi.<br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108379">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						2 May 2010, 15:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>Any success, guys?</p><p>You can not go any further without reflashing bootloader first. Answer is simple - wireless will not fit in &lt;1,1MB &quot;vxkiller&quot; image. Production images can only be flashed from RedBoot or from Linux itself, or ,of course, by spipgm. So this is an egg. Then will be a chiken. ;-)</p><p>Thanks</p></blockquote></div><p>I&#039;ve flashed your image to my router and it works absolutely fine. Thanks again! There is still one thing missing in this image: I haven&#039;t found a way to transfer files to the router except TFTP in RedBoot. It would be great to add a ftp client or server or a nfs client or a tftp client or .... to this image.<br />Could you please post your configuration (.config) of this image and your&nbsp; &quot;production image&quot; to this forum or drop me an email or PN. What is the maximum file size for a &quot;production image&quot; (NOT updated in the WEB dialog)? In my router is only appr. 1 MB RAM available so it shouldn&#039;t be possible to flash in Linux without killing some running tasks.</p><p>Btw. I am pretty sure that dmitryp can recover his router in RedBoot without any problems</p><p>Edit: Forget about my wish to add ftp etc. to this image because I found Netcat (nc) installed.</p>											<p class="post-edited">(Last edited by <strong>mvsroot</strong> on 3 May 2010, 15:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108465">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">xssa</div>
					<div class="post-datetime">
						4 May 2010, 00:13					</div>
				</div>
				<div class="post-content content">
					<p>Sounds good.</p><p>My miss. I was not check out default busybox config in Backfire on building vxkiller. I think it&#039;s conviniant to stay with tftp in linux because it is used by RedBoot and optionaly used in tp-link&#039;s updates. It is easy to obtain it and run only one server on the host during update process. Also, tftpd32.exe is included in many tp-link fw update zip&#039;s. So I am about to include tftp in next version of &quot;vxkiller&quot;. Maximum size for images is 2048-64(RedBoot)-64(eeprom)-64(optionally FIS) = 1920/1856kB. It can be divided onto 2 parts, in particular it is 640/704kB for kernel/rootfs for now. Can pipes save the world? Can you check if wget is still there?</p><p>Tommorow I&#039;ll try to put all configs and images together and put it there on the forum.</p><p>Edit: I found this <a href="http://wiki.x-wrt.org/index.php/Kamikaze_Installation">http://wiki.x-wrt.org/index.php/Kamikaze_Installation</a> can be very usefull in learning of RedBoot.</p>											<p class="post-edited">(Last edited by <strong>xssa</strong> on 4 May 2010, 00:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108566">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">mvsroot</div>
					<div class="post-datetime">
						5 May 2010, 11:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xssa wrote:</cite><blockquote><p>Sounds good.</p><p>My miss. I was not check out default busybox config in Backfire on building vxkiller. I think it&#039;s conviniant to stay with tftp in linux because it is used by RedBoot and optionaly used in tp-link&#039;s updates. It is easy to obtain it and run only one server on the host during update process. Also, tftpd32.exe is included in many tp-link fw update zip&#039;s. So I am about to include tftp in next version of &quot;vxkiller&quot;. Maximum size for images is 2048-64(RedBoot)-64(eeprom)-64(optionally FIS) = 1920/1856kB. It can be divided onto 2 parts, in particular it is 640/704kB for kernel/rootfs for now. Can pipes save the world? Can you check if wget is still there?</p><p>Tommorow I&#039;ll try to put all configs and images together and put it there on the forum.</p><p>Edit: I found this <a href="http://wiki.x-wrt.org/index.php/Kamikaze_Installation">http://wiki.x-wrt.org/index.php/Kamikaze_Installation</a> can be very usefull in learning of RedBoot.</p></blockquote></div><p>Thanks for the update. I don&#039;t use Windows so I can&#039;t use tftpd32.exe but it is no problem to use tftp in Linux. Wget is there too (I just didn&#039;t see it) and works fine but I prefer nc (Netcat) because it works in both directions and don&#039;t need a running ftp or web server.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 14</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=17252&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17252&amp;p=14.html">14</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>