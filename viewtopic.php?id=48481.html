<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Nexx WT1520 support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Mar 2018 and 30 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 14</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=48481&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=48481&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=48481&amp;p=14.html">14</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p222991">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gently</div>
					<div class="post-datetime">
						17 Jan 2014, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,</p><p>I wonder if the router in subject can be supported by openwrt. I just ordered it from aliexpress:</p><p><span class="postimg"><img src="http://img.alibaba.com/img/pb/350/947/886/886947350_542.jpg" alt="http://img.alibaba.com/img/pb/350/947/886/886947350_542.jpg" /></span></p><p>looks line, small, 2 lan/wan, usb</p><p>as far as i understand RT5350 is supported, 4 MB ROM and 32 MB RAM is also standard. The only thing is has 2 NICs</p>											<p class="post-edited">(Last edited by <strong>gently</strong> on 17 Jan 2014, 16:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223001">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						17 Jan 2014, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>Here is many devices with same config, so I think no problem to adapt OpenWRT for this board.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225311">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">gently</div>
					<div class="post-datetime">
						14 Feb 2014, 15:20					</div>
				</div>
				<div class="post-content content">
					<p>received the device yesterday, it is extremelly small:</p><p><span class="postimg"><img src="http://nex.en.ecplaza.net/1.jpg" alt="http://nex.en.ecplaza.net/1.jpg" /></span></p><p>crapy firmware inside...</p><p>i wish to do somehing better with it</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p225312">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">gently</div>
					<div class="post-datetime">
						14 Feb 2014, 15:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>neryba wrote:</cite><blockquote><p>Here is many devices with same config, so I think no problem to adapt OpenWRT for this board.</p></blockquote></div><p>what is needed to get it supported?</p><p>I see telnet answering, howerver default password doesn&#039;t work</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p227783">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						17 Mar 2014, 15:56					</div>
				</div>
				<div class="post-content content">
					<p>Very interesting device. gently, how&#039;s your progress? Did you managed to install openwrt on this router?<br />Maybe you can post internals pictures?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p227813">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						17 Mar 2014, 21:56					</div>
				</div>
				<div class="post-content content">
					<p>connect serial cable, and print bootlog. ralink default serial speed 57600, but&nbsp; some devices have 115200b/s</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235852">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">szostak.grzegorz</div>
					<div class="post-datetime">
						6 Jun 2014, 14:53					</div>
				</div>
				<div class="post-content content">
					<p>Internals:<br /><a href="https://plus.google.com/u/0/115420158288878908422/posts/b8vTdmEWvwe">https://plus.google.com/u/0/11542015828 … 8vTdmEWvwe</a></p><p>Board is based on ralink 5350F and this SOC has 2 serial ports but I can&#039;t see them on board.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235975">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">tateji</div>
					<div class="post-datetime">
						8 Jun 2014, 06:19					</div>
				</div>
				<div class="post-content content">
					<p>Two testpoints of the center of a board are tx and rx. The USB connector side is tx. <br />Serial&nbsp; speed is 57600.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236167">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						10 Jun 2014, 09:31					</div>
				</div>
				<div class="post-content content">
					<p>Ordered one on aliexpress sale for 17.70$, awaiting to arrive. Thanks for sharing, <strong>szostak.grzegorz</strong>, <strong>tateji</strong>.<br />I hope we can build together openwrt firmware for this little thingie.</p><p>ps i downloaded firmware update from official site, it&#039;s highly encrypted, hope my usb programmer will succeed with extracting firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237377">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Snegohod</div>
					<div class="post-datetime">
						19 Jun 2014, 19:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>neryba wrote:</cite><blockquote><p>connect serial cable, and print bootlog. ralink default serial speed 57600, but&nbsp; some devices have 115200b/s</p></blockquote></div><p>Bootlog:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Sep 13 2012 - 16:39:43)


Board: Ralink APSoC DRAM:  32 MB

relocate_code Pointer at: 81fb4000

spi_wait_nsec: 42 

spi device id: ef 40 16 0 0 (40160000)

find flash: W25Q32BV

raspi_read: from:30000 len:1000 

.*** Warning - bad CRC, using default environment


============================================ 

Ralink UBoot Version: 4.0.1.0

-------------------------------------------- 

ASIC 5350_MP (Port5&lt;-&gt;None)

DRAM_CONF_FROM: Boot-Strapping 

DRAM_TYPE: SDRAM 

DRAM_SIZE: 256 Mbits

DRAM_WIDTH: 16 bits

DRAM_TOTAL_WIDTH: 16 bits

TOTAL_MEMORY_SIZE: 32 MBytes

Flash component: SPI Flash

Date:Sep 13 2012  Time:16:39:43

============================================ 

icache: sets:256, ways:4, linesz:32 ,total:32768

dcache: sets:128, ways:4, linesz:32 ,total:16384 


 ##### The CPU freq = 360 MHZ #### 

 estimate memory size =32 Mbytes


Please choose the operation: 

   1: Load system code to SDRAM via TFTP. 

   2: Load system code then write to Flash via TFTP. 

   3: Boot system code via Flash (default).

   4: Entr boot command line interface.

   7: Load Boot Loader code then write to Flash via Serial. 

   9: Load Boot Loader code then write to Flash via TFTP. 



You choosed 3


 0 

   

3: System Boot system code via Flash.

## Booting image at bc050000 ...

raspi_read: from:50000 len:40 

.   Image Name:   Linux Kernel Image

   Created:      2014-01-16  10:16:49 UTC

   Image Type:   MIPS Linux Kernel Image (lzma compressed)

   Data Size:    3791147 Bytes =  3.6 MB

   Load Address: 80000000

   Entry Point:  80414000

raspi_read: from:50040 len:39d92b 

..........................................................   Verifying Checksum ... OK

   Uncompressing Kernel Image ... OK

No initrd

## Transferring control to Linux (at address 80414000) ...

## Giving linux memsize in MB, 32


Starting kernel ...



LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (root@localhost.localdomain) (gcc version 3.4.2) #1209 Thu Jan 16 18:16:17 CST 2014

 The CPU feqenuce set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS1,57600n8 root=/dev/ram0
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = c0808010, status = 11000000
PID hash table entries: 128 (order: 7, 512 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 0.050 MHz high precision timer.
Console: colour dummy device 80x25
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 25584k/32768k available (3287k kernel code, 7184k reserved, 884k data, 2452k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
detected lzma initramfs
detected lzma initramfs
initramfs: LZMA lc=3,lp=0,pb=2,dictSize=1048576,origSize=9521664
LZMA initramfs by Ming-Ching Tiew &lt;mctiew@yahoo.com&gt;..................................................................................................................................................deice id : ef 40 16 0 0 (40160000)
Warning: un-recognized chip ID, please update SPI driver!
EN25MAX(ef 40170000) (8192 Kbytes)
mtd .name = raspi, .size = 0x00800000 (8M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
Creating 4 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00030000 : &quot;Bootloader&quot;
0x00030000-0x00040000 : &quot;Config&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00050000-0x00400000 : &quot;Kernel&quot;
Load Ralink DFS Timer Module
RT3xxx EHCI/OHCI init.
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
NTFS driver 2.1.28 [Flags: R/W].
fuse init (API version 7.8)
io scheduler noop registered (default)
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
RAMDISK driver initialized: 16 RAM disks of 16384K size 1024 blocksize
loop: loaded (max 8 devices)
rdm_major = 254
MAC_ADRH -- : 0x00000000
MAC_ADRL -- : 0x00000000
Ralink APSoC Ethernet Driver Initilization. v2.0  256 rx/tx descriptors allocated, mtu = 1500!
MAC_ADRH -- : 0x00008c88
MAC_ADRL -- : 0x2b002982
PROC INIT OK!
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.17
PPTP driver version 0.8.1


=== pAd = c0019000, size = 632400 ===

&lt;-- RTMPAllocAdapterBlock, Status=0
block2mtd: version $Revision: 1.1.1.1 $
rt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller
rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 1
rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000
rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: Product: Ralink EHCI Host Controller
usb usb1: Manufacturer: Linux 2.6.21 ehci_hcd
usb usb1: SerialNumber: rt3xxx
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller
rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 2
rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000
usb usb2: Product: RT3xxx OHCI Controller
usb usb2: Manufacturer: Linux 2.6.21 ohci_hcd
usb usb2: SerialNumber: rt3xxx-ohci
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
usbcore: registered new interface driver cdc_acm
drivers/usb/class/cdc-acm.c: v0.25:USB Abstract Control Model driver for USB modems and ISDN adapters
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Linux
ipt_time loading
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
Ebtables v2.0 registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
_nvram_read checksum = 593e save checksum = 593e
Freeing unused kernel memory: 2452k freed
Hit enter to continue...RETH 5350
switch reg write offset=14, value=405555
switch reg write offset=50, value=2001
switch reg write offset=98, value=7f3f
switch reg write offset=e4, value=3f
switch reg write offset=40, value=1001
switch reg write offset=44, value=1001
switch reg write offset=48, value=1002
switch reg write
phy_tx_ring = 0x00627000, tx_ring = 0xa0627000

phy_rx_ring0 = 0x00628000, rx_ring0 = 0xa0628000
 offset=70, valuRT305x_ESW: Link Status Changed
stat_curr = 81808100
e=ffff506f
Algorithmics/MIPS FPU Emulator v1.5
SCSI subsystem initialized
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
insmod: cannot insert &#039;/lib/modules/2.6.21/kernel/drivers/scsi/scsi_mod.ko&#039;: Success
insmod: cannot insert &#039;/lib/modules/2.6.21/kernel/drivers/usb/storage/usb-storage.ko&#039;: Success
ifconfig: ioctl 0x8913 failed: No such device
ifconfig: ioctl 0x8913 failed: No such device
ifconfig: ioctl 0x8913 failed: No such device
ifconfig: ioctl 0x8913 failed: No such device
RX DESC a04c0000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
RTMP_TimerListAdd: add timer obj c0083e50!
RTMP_TimerListAdd: add timer obj c0021014!
RTMP_TimerListAdd: add timer obj c0020be4!
RTMP_TimerListAdd: add timer obj c0020fc0!
RTMP_TimerListAdd: add timer obj c0020fe8!
RTMP_TimerListAdd: add timer obj c00210cc!
RTMP_TimerListAdd: add timer obj c00210f8!
RTMP_TimerListAdd: add timer obj c00212a4!
RTMP_TimerListAdd: add timer obj c0024158!
RTMP_TimerListAdd: add timer obj c0023d28!
RTMP_TimerListAdd: add timer obj c0024104!
RTMP_TimerListAdd: add timer obj c002412c!
RTMP_TimerListAdd: add timer obj c0024210!
RTMP_TimerListAdd: add timer obj c002423c!
RTMP_TimerListAdd: add timer obj c00243e8!
RTMP_TimerListAdd: add timer obj c002729c!
RTMP_TimerListAdd: add timer obj c0026e6c!
RTMP_TimerListAdd: add timer obj c0027248!
RTMP_TimerListAdd: add timer obj c0027270!
RTMP_TimerListAdd: add timer obj c0027354!
RTMP_TimerListAdd: add timer obj c0027380!
RTMP_TimerListAdd: add timer obj c002752c!
RTMP_TimerListAdd: add timer obj c002a3e0!
RTMP_TimerListAdd: add timer obj c0029fb0!
RTMP_TimerListAdd: add timer obj c002a38c!
RTMP_TimerListAdd: add timer obj c002a3b4!
RTMP_TimerListAdd: add timer obj c002a498!
RTMP_TimerListAdd: add timer obj c002a4c4!
RTMP_TimerListAdd: add timer obj c002a670!
RTMP_TimerListAdd: add timer obj c002d524!
RTMP_TimerListAdd: add timer obj c002d0f4!
RTMP_TimerListAdd: add timer obj c002d4d0!
RTMP_TimerListAdd: add timer obj c002d4f8!
RTMP_TimerListAdd: add timer obj c002d5dc!
RTMP_TimerListAdd: add timer obj c002d608!
RTMP_TimerListAdd: add timer obj c002d7b4!
RTMP_TimerListAdd: add timer obj c0030668!
RTMP_TimerListAdd: add timer obj c0030238!
RTMP_TimerListAdd: add timer obj c0030614!
RTMP_TimerListAdd: add timer obj c003063c!
RTMP_TimerListAdd: add timer obj c0030720!
RTMP_TimerListAdd: add timer obj c003074c!
RTMP_TimerListAdd: add timer obj c00308f8!
RTMP_TimerListAdd: add timer obj c00337ac!
RTMP_TimerListAdd: add timer obj c003337c!
RTMP_TimerListAdd: add timer obj c0033758!
RTMP_TimerListAdd: add timer obj c0033780!
RTMP_TimerListAdd: add timer obj c0033864!
RTMP_TimerListAdd: add timer obj c0033890!
RTMP_TimerListAdd: add timer obj c0033a3c!
RTMP_TimerListAdd: add timer obj c00368f0!
RTMP_TimerListAdd: add timer obj c00364c0!
RTMP_TimerListAdd: add timer obj c003689c!
RTMP_TimerListAdd: add timer obj c00368c4!
RTMP_TimerListAdd: add timer obj c00369a8!
RTMP_TimerListAdd: add timer obj c00369d4!
RTMP_TimerListAdd: add timer obj c0036b80!
RTMP_TimerListAdd: add timer obj c00519bc!
RTMP_TimerListAdd: add timer obj c005158c!
RTMP_TimerListAdd: add timer obj c0051968!
RTMP_TimerListAdd: add timer obj c0051990!
RTMP_TimerListAdd: add timer obj c0051a74!
RTMP_TimerListAdd: add timer obj c0051aa0!
RTMP_TimerListAdd: add timer obj c00519e8!
RTMP_TimerListAdd: add timer obj c0051a14!
RTMP_TimerListAdd: add timer obj c0051a40!
RTMP_TimerListAdd: add timer obj c0084370!
RTMP_TimerListAdd: add timer obj c0084348!
RTMP_TimerListAdd: add timer obj c0084320!
RTMP_TimerListAdd: add timer obj c005ac0c!
RTMP_TimerListAdd: add timer obj c005ad10!
RTMP_TimerListAdd: add timer obj c005ac34!
RTMP_TimerListAdd: add timer obj c0051f84!
RTMP_TimerListAdd: add timer obj c001e4d8!
RTMP_TimerListAdd: add timer obj c002161c!
RTMP_TimerListAdd: add timer obj c0024760!
RTMP_TimerListAdd: add timer obj c00278a4!
RTMP_TimerListAdd: add timer obj c002a9e8!
RTMP_TimerListAdd: add timer obj c002db2c!
RTMP_TimerListAdd: add timer obj c0030c70!
RTMP_TimerListAdd: add timer obj c0033db4!
RTMP_TimerListAdd: add timer obj c0051ca4!
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
1. Phy Mode = 9
2. Phy Mode = 9
TXALC&gt; bInternalTxALC = 0
3. Phy Mode = 9
RTMP_TimerListAdd: add timer obj c001e0e0!
NICInitAsicFromEEPROM: pAd-&gt;TxPowerCtrl.bInternalTxALC = 0
MCS Set = ff 00 00 00 01
RTMP_TimerListAdd: add timer obj 8157290c!
RTMP_TimerListAdd: add timer obj 81572938!
RTMP_TimerListAdd: add timer obj 806a6684!
RTMP_TimerListAdd: add timer obj 81572984!
RTMP_TimerListAdd: add timer obj c0052554!
Main bssid = 00:0c:43:70:86:be
&lt;==== rt28xx_init, Status=0
0x1300 = 00064380
killall: rt2860apd: no process killed
rt2860apd: No such file or directory
eth2.1: Setting MAC address to  00 0c 43 70 86 bf.
device eth2 entered promiscuous mode
VLAN (eth2.1):  Setting underlying device (eth2) to promiscious mode.
device ra0 entered promiscuous mode
eth2.1: dev_set_promiscuity(master, 1)
device eth2.1 entered promiscuous mode
br0: port 2(eth2.1) entering learning state
br0: port 1(ra0) entering learning state
br0: topology change detected, propagating
br0: port 2(eth2.1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(ra0) entering forwarding state
Changing password for admin
Password for admin changed by admin
 - setting default address to 192.168.8.1
samba.sh NEXX WORKGROUP
smbpasswd -a admin admin
startsmbfilepwent_internal: file /etc/smbpasswd did not exist. File successfully created.
Added user admin.
Sys led Error
info, udhcp server (v0.9.8) started
time.windows.com: Unknown host
eth2.2: Setting MAC address to  00 0c 43 70 86 c0.
info, udhcp client (v0.9.8) started
IDLE
Hit enter to continue...info, Sending discover... (10)
info, Sending discover... (12)
info, Sending discover... (14)
info, Sending discover... (23)
info, Sending discover... (25)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237888">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						24 Jun 2014, 12:57					</div>
				</div>
				<div class="post-content content">
					<p>Succesfully extracted stock firmware with programmer. Researching further.<br /></p><div class="codebox"><pre><code>$ file stock.bin
stock.bin: u-boot legacy uImage, SPI Flash Image, Linux/MIPS, Standalone Program (Not compressed), 106800 bytes, Thu Sep 13 12:39:46 2012, Load Address: 0x80200000, Entry Point: 0x80200000, Header CRC: 0x04186E5D, Data CRC: 0x2BD65CC3

$ binwalk -v stock.bin
/usr/local/Cellar/binwalk/0.5.0/etc/binwalk/magic.binwalk, 125: Warning: New continuation level 2 is more than one larger than current level 0

Scan Time:    Jun 24, 2014 @ 13:51:36
Magic File:   /usr/local/Cellar/binwalk/0.5.0/etc/binwalk/magic.binwalk
Signatures:   130
Target File:  stock.bin
MD5 Checksum: 62b923ad75e73706179b3de33dd95284

DECIMAL       HEX           DESCRIPTION
-------------------------------------------------------------------------------------------------------
0             0x0           uImage header, header size: 64 bytes, header CRC: 0x4186E5D, created: Thu Sep 13 12:39:46 2012, image size: 106800 bytes, Data Address: 0x80200000, Entry Point: 0x80200000, data CRC: 0x2BD65CC3, OS: Linux, CPU: MIPS, image type: Standalone Program, compression type: none, image name: SPI Flash Image
70707         0x11433       88K BCS executable
71023         0x1156F       88K BCS executable
327680        0x50000       uImage header, header size: 64 bytes, header CRC: 0x13F9B3DC, created: Thu Oct 17 07:43:34 2013, image size: 3646089 bytes, Data Address: 0x80000000, Entry Point: 0x80412000, data CRC: 0xC09BA1FF, OS: Linux, CPU: MIPS, image type: OS Kernel Image, compression type: lzma, image name: Linux Kernel Image
327744        0x50040       LZMA compressed data (sig 2), properties: 0x5D, dictionary size: 33554432 bytes, uncompressed size: 6634236 bytes</code></pre></div><p>Soldered serial, inside of router:<br /></p><div class="codebox"><pre><code># mount
rootfs on / type rootfs (rw)
proc on /proc type proc (rw)
ramfs on /var type ramfs (rw)
none on /proc/bus/usb type usbfs (rw)
sysfs on /sys type sysfs (rw)

# cat /proc/version
Linux version 2.6.21 (root@localhost.localdomain) (gcc version 3.4.2) #1360 Thu Oct 17 11:42:11 HKT 2013

# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00010000 &quot;Bootloader&quot;
mtd1: 00010000 00010000 &quot;Config&quot;
mtd2: 00010000 00010000 &quot;Factory&quot;
mtd3: 003b0000 00010000 &quot;Kernel&quot;

# iwconfig
eth2      no wireless extensions.

lo        no wireless extensions.

ra0       RTWIFI SoftAP  ESSID:&quot;Sample_7096b1&quot;  Nickname:&quot;&quot;
          Mode:Managed  Channel=11  Access Point: 00:0C:43:70:96:B1
          Bit Rate=0.003 kb/s

eth2.1    no wireless extensions.

eth2.2    no wireless extensions.

wds0      RTWIFI SoftAP  ESSID:&quot;Sample_7096b1&quot;  Nickname:&quot;&quot;
          Mode:Managed  Channel=11  Access Point: 00:0C:43:70:96:B1
          Bit Rate=-2.14748e+06 kb/s

wds1      RTWIFI SoftAP  ESSID:&quot;&quot;  Nickname:&quot;&quot;
          Mode:Managed  Channel=11  Access Point: Not-Associated
          Bit Rate:-2.14748e+06 kb/s

wds2      RTWIFI SoftAP  ESSID:&quot;&quot;  Nickname:&quot;&quot;
          Mode:Managed  Channel=11  Access Point: Not-Associated
          Bit Rate:-2.14748e+06 kb/s

wds3      RTWIFI SoftAP  ESSID:&quot;&quot;  Nickname:&quot;&quot;
          Mode:Managed  Channel=11  Access Point: Not-Associated
          Bit Rate:-2.14748e+06 kb/s

apcli0    RTWIFI SoftAP  ESSID:&quot;&quot;  Nickname:&quot;&quot;
          Mode:Managed  Channel=11  Access Point: Not-Associated
          Bit Rate:-2.14748e+06 kb/s

br0       no wireless extensions.</code></pre></div><br /><p>bootlog:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Sep 13 2012 - 16:39:43)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
spi_wait_nsec: 42
spi device id: ef 40 16 0 0 (40160000)
find flash: W25Q32BV
raspi_read: from:30000 len:1000
.*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 4.0.1.0
--------------------------------------------
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping
DRAM_TYPE: SDRAM
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Sep 13 2012  Time:16:39:43
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =32 Mbytes

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.                                                                                                        0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   Linux Kernel Image
   Created:      2013-10-17   3:43:34 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3646089 Bytes =  3.5 MB
   Load Address: 80000000
   Entry Point:  80412000
raspi_read: from:50040 len:37a289
........................................................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80412000) ...
## Giving linux memsize in MB, 32

Starting kernel ...


LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (root@localhost.localdomain) (gcc version 3.4.2) #1360 Thu Oct 17 11:42:11 HKT 2013

 The CPU feqenuce set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS1,57600n8 root=/dev/ram0
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = c0808008, status = 11000000
PID hash table entries: 128 (order: 7, 512 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 0.050 MHz high precision timer.
Console: colour dummy device 80x25
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 25732k/32768k available (3285k kernel code, 7036k reserved, 879k data, 2312k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
NET: Registered protocol family 2
Time: MIPS clocksource has been installed.
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
detected lzma initramfs
detected lzma initramfs
initramfs: LZMA lc=3,lp=0,pb=2,dictSize=1048576,origSize=9310720
LZMA initramfs by Ming-Ching Tiew &lt;mctiew@yahoo.com&gt;...............................................................................................................................................deice id : ef 40 16 0 0 (40160000)
Warning: un-recognized chip ID, please update SPI driver!
EN25MAX(ef 40170000) (8192 Kbytes)
mtd .name = raspi, .size = 0x00800000 (8M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
Creating 4 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00030000 : &quot;Bootloader&quot;
0x00030000-0x00040000 : &quot;Config&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00050000-0x00400000 : &quot;Kernel&quot;
Load Ralink DFS Timer Module
RT3xxx EHCI/OHCI init.
squashfs: version 3.2-r2 (2007/01/15) Phillip Lougher
squashfs: LZMA suppport for slax.org by jro
NTFS driver 2.1.28 [Flags: R/W].
fuse init (API version 7.8)
io scheduler noop registered (default)
HDLC line discipline: version $Revision: 1.1.1.1 $, maxframe=4096
N_HDLC line discipline registered.
Serial: 8250/16550 driver $Revision: 1.7 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at I/O 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at I/O 0xb0000c00 (irq = 12) is a 16550A
RAMDISK driver initialized: 16 RAM disks of 16384K size 1024 blocksize
loop: loaded (max 8 devices)
rdm_major = 254
MAC_ADRH -- : 0x00000000
MAC_ADRL -- : 0x00000000
Ralink APSoC Ethernet Driver Initilization. v2.0  256 rx/tx descriptors allocated, mtu = 1500!
MAC_ADRH -- : 0x00008c88
MAC_ADRL -- : 0x2b00314c
PROC INIT OK!
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.17
PPTP driver version 0.8.1


=== pAd = c0019000, size = 632400 ===

&lt;-- RTMPAllocAdapterBlock, Status=0
block2mtd: version $Revision: 1.1.1.1 $
rt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller
rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 1
rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000
rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: Product: Ralink EHCI Host Controller
usb usb1: Manufacturer: Linux 2.6.21 ehci_hcd
usb usb1: SerialNumber: rt3xxx
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller
rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 2
rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000
usb usb2: Product: RT3xxx OHCI Controller
usb usb2: Manufacturer: Linux 2.6.21 ohci_hcd
usb usb2: SerialNumber: rt3xxx-ohci
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
usbcore: registered new interface driver cdc_acm
drivers/usb/class/cdc-acm.c: v0.25:USB Abstract Control Model driver for USB modems and ISDN adapters
Netfilter messages via NETLINK v0.30.
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Linux
ipt_time loading
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 17
Ebtables v2.0 registered
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
_nvram_read checksum = 182c save checksum = 182c
Freeing unused kernel memory: 2312k freed
Hit enter to continue...RETH 5350
switch reg write offset=14, value=405555
switch reg write offset=50, value=2001
switch reg write offset=98, value=7f3f
switch reg write offset=e4, value=3f
switch reg write offset=40, value=1001
switch reg write offset=44, value=1001
switch reg write offset=48, value=1002
switch reg write
phy_tx_ring = 0x0041b000, tx_ring = 0xa041b000

phy_rx_ring0 = 0x0041c000, rx_ring0 = 0xa041c000
 offset=70, valuRT305x_ESW: Link Status Changed
stat_curr = 81808100
e=ffff506f
Algorithmics/MIPS FPU Emulator v1.5
SCSI subsystem initialized
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
insmod: cannot insert &#039;/lib/modules/2.6.21/kernel/drivers/scsi/scsi_mod.ko&#039;: Success
insmod: cannot insert &#039;/lib/modules/2.6.21/kernel/drivers/usb/storage/usb-storage.ko&#039;: Success
ifconfig: ioctl 0x8913 failed: No such device
ifconfig: ioctl 0x8913 failed: No such device
ifconfig: ioctl 0x8913 failed: No such device
ifconfig: ioctl 0x8913 failed: No such device
RX DESC a0631000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
RTMP_TimerListAdd: add timer obj c0083e50!
RTMP_TimerListAdd: add timer obj c0021014!
RTMP_TimerListAdd: add timer obj c0020be4!
RTMP_TimerListAdd: add timer obj c0020fc0!
RTMP_TimerListAdd: add timer obj c0020fe8!
RTMP_TimerListAdd: add timer obj c00210cc!
RTMP_TimerListAdd: add timer obj c00210f8!
RTMP_TimerListAdd: add timer obj c00212a4!
RTMP_TimerListAdd: add timer obj c0024158!
RTMP_TimerListAdd: add timer obj c0023d28!
RTMP_TimerListAdd: add timer obj c0024104!
RTMP_TimerListAdd: add timer obj c002412c!
RTMP_TimerListAdd: add timer obj c0024210!
RTMP_TimerListAdd: add timer obj c002423c!
RTMP_TimerListAdd: add timer obj c00243e8!
RTMP_TimerListAdd: add timer obj c002729c!
RTMP_TimerListAdd: add timer obj c0026e6c!
RTMP_TimerListAdd: add timer obj c0027248!
RTMP_TimerListAdd: add timer obj c0027270!
RTMP_TimerListAdd: add timer obj c0027354!
RTMP_TimerListAdd: add timer obj c0027380!
RTMP_TimerListAdd: add timer obj c002752c!
RTMP_TimerListAdd: add timer obj c002a3e0!
RTMP_TimerListAdd: add timer obj c0029fb0!
RTMP_TimerListAdd: add timer obj c002a38c!
RTMP_TimerListAdd: add timer obj c002a3b4!
RTMP_TimerListAdd: add timer obj c002a498!
RTMP_TimerListAdd: add timer obj c002a4c4!
RTMP_TimerListAdd: add timer obj c002a670!
RTMP_TimerListAdd: add timer obj c002d524!
RTMP_TimerListAdd: add timer obj c002d0f4!
RTMP_TimerListAdd: add timer obj c002d4d0!
RTMP_TimerListAdd: add timer obj c002d4f8!
RTMP_TimerListAdd: add timer obj c002d5dc!
RTMP_TimerListAdd: add timer obj c002d608!
RTMP_TimerListAdd: add timer obj c002d7b4!
RTMP_TimerListAdd: add timer obj c0030668!
RTMP_TimerListAdd: add timer obj c0030238!
RTMP_TimerListAdd: add timer obj c0030614!
RTMP_TimerListAdd: add timer obj c003063c!
RTMP_TimerListAdd: add timer obj c0030720!
RTMP_TimerListAdd: add timer obj c003074c!
RTMP_TimerListAdd: add timer obj c00308f8!
RTMP_TimerListAdd: add timer obj c00337ac!
RTMP_TimerListAdd: add timer obj c003337c!
RTMP_TimerListAdd: add timer obj c0033758!
RTMP_TimerListAdd: add timer obj c0033780!
RTMP_TimerListAdd: add timer obj c0033864!
RTMP_TimerListAdd: add timer obj c0033890!
RTMP_TimerListAdd: add timer obj c0033a3c!
RTMP_TimerListAdd: add timer obj c00368f0!
RTMP_TimerListAdd: add timer obj c00364c0!
RTMP_TimerListAdd: add timer obj c003689c!
RTMP_TimerListAdd: add timer obj c00368c4!
RTMP_TimerListAdd: add timer obj c00369a8!
RTMP_TimerListAdd: add timer obj c00369d4!
RTMP_TimerListAdd: add timer obj c0036b80!
RTMP_TimerListAdd: add timer obj c00519bc!
RTMP_TimerListAdd: add timer obj c005158c!
RTMP_TimerListAdd: add timer obj c0051968!
RTMP_TimerListAdd: add timer obj c0051990!
RTMP_TimerListAdd: add timer obj c0051a74!
RTMP_TimerListAdd: add timer obj c0051aa0!
RTMP_TimerListAdd: add timer obj c00519e8!
RTMP_TimerListAdd: add timer obj c0051a14!
RTMP_TimerListAdd: add timer obj c0051a40!
RTMP_TimerListAdd: add timer obj c0084370!
RTMP_TimerListAdd: add timer obj c0084348!
RTMP_TimerListAdd: add timer obj c0084320!
RTMP_TimerListAdd: add timer obj c005ac0c!
RTMP_TimerListAdd: add timer obj c005ad10!
RTMP_TimerListAdd: add timer obj c005ac34!
RTMP_TimerListAdd: add timer obj c0051f84!
RTMP_TimerListAdd: add timer obj c001e4d8!
RTMP_TimerListAdd: add timer obj c002161c!
RTMP_TimerListAdd: add timer obj c0024760!
RTMP_TimerListAdd: add timer obj c00278a4!
RTMP_TimerListAdd: add timer obj c002a9e8!
RTMP_TimerListAdd: add timer obj c002db2c!
RTMP_TimerListAdd: add timer obj c0030c70!
RTMP_TimerListAdd: add timer obj c0033db4!
RTMP_TimerListAdd: add timer obj c0051ca4!
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
1. Phy Mode = 9
2. Phy Mode = 9
TXALC&gt; bInternalTxALC = 0
3. Phy Mode = 9
RTMP_TimerListAdd: add timer obj c001e0e0!
NICInitAsicFromEEPROM: pAd-&gt;TxPowerCtrl.bInternalTxALC = 0
RTMPSetPhyMode: channel is out of range, use first channel=0
MCS Set = ff 00 00 00 01
RTMP_TimerListAdd: add timer obj 8060890c!
RTMP_TimerListAdd: add timer obj 80608938!
RTMP_TimerListAdd: add timer obj 80681684!
RTMP_TimerListAdd: add timer obj 80608984!
SYNC - BBP R4 to 20MHz.l
RTMP_TimerListAdd: add timer obj c0052554!
The 2-BSSID mode is enabled, the BSSID byte5 MUST be the multiple of 2
Main bssid = 00:0c:43:70:96:b1
&lt;==== rt28xx_init, Status=0
0x1300 = 00064380
killall: rt2860apd: no process killed
rt2860apd: No such file or directory
eth2.1: Setting MAC address to  00 0c 43 70 96 b2.
device eth2 entered promiscuous mode
VLAN (eth2.1):  Setting underlying device (eth2) to promiscious mode.
device ra0 entered promiscuous mode
eth2.1: dev_set_promiscuity(master, 1)
device eth2.1 entered promiscuous mode
br0: port 2(eth2.1) entering learning state
br0: port 1(ra0) entering learning state
br0: topology change detected, propagating
br0: port 2(eth2.1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(ra0) entering forwarding state
Changing password for admin
Password for admin changed by admin
 - setting default address to 192.168.8.1
samba.sh NEXX WORKGROUP
smbpasswd -a admin admin
startsmbfilepwent_internal: file /etc/smbpasswd did not exist. File successfully created.
Added user admin.
Sys led Error
info, udhcp server (v0.9.8) started
time.windows.com: Unknown host
The 2-BSSID mode is enabled, the BSSID byte5 MUST be the multiple of 2
eth2.2: Setting MAC address to  00 0c 43 70 96 b3.
info, udhcp client (v0.9.8) started
IDLE
Hit enter to continue...info, Sending discover... (12)
info, Sending discover... (14)
info, Sending discover... (16)
info, Sending discover... (25)
info, Sending discover... (27)
info, Sending discover... (29)
info, Sending discover... (38)
info, Sending discover... (40)
info, Sending discover... (42)
info, Sending discover... (51)
info, Sending discover... (53)
info, Sending discover... (55)



BusyBox v1.12.1 (2013-10-17 11:35:12 HKT) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

#</code></pre></div>											<p class="post-edited">(Last edited by <strong>hackru</strong> on 24 Jun 2014, 14:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237910">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						24 Jun 2014, 16:18					</div>
				</div>
				<div class="post-content content">
					<p>Sucessfully ported trunk openwrt to it, will post here .patch files some time later.</p><p>First need to fix following:<br />- LED switches off when wifi is active <strong>(fixed)</strong><br />- USB is not working <strong>(fixed)</strong><br />- Ethernet ports are in &#039;stupid switch&#039; mode, no separation. <strong>(fixed)</strong></p><p>Interesting thing: when router is without power supply, ethernet ports works like cable extender.</p><p>Openwrt boot:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Sep 13 2012 - 16:39:43)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
******************************
Software System Reset Occurred
******************************
spi_wait_nsec: 42
spi device id: ef 40 16 0 0 (40160000)
find flash: W25Q32BV
raspi_read: from:30000 len:1000
.raspi_read: from:30000 len:1000
.============================================
Ralink UBoot Version: 4.0.1.0
--------------------------------------------
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping
DRAM_TYPE: SDRAM
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Sep 13 2012  Time:16:39:43
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =32 Mbytes

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.                                                                                                        0

3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40
.   Image Name:   NEXXWT1520
   Created:      2014-06-24  12:59:06 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    1042653 Bytes = 1018.2 kB
   Load Address: 80000000
   Entry Point:  80000000
raspi_read: from:50040 len:fe8dd
................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80000000) ...
## Giving linux memsize in MB, 32

Starting kernel ...

[    0.000000] Linux version 3.10.36 (openwrt@gb-11) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r41302) ) #1 Tue Jun 24 06:25:33 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is NEXX WT1520
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS1,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00030a00
[    0.000000] Readback ErrCtl register=00030a00
[    0.000000] Memory: 29156k/32768k available (2286k kernel code, 3612k reserved, 570k data, 212k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.000000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.080000] pinctrl core: initialized pinctrl subsystem
[    0.090000] NET: Registered protocol family 16
[    0.140000] bio: create slab &lt;bio-0&gt; at 0
[    0.150000] rt2880_gpio 10000600.gpio: registering 24 gpios
[    0.160000] rt2880_gpio 10000600.gpio: registering 24 irq handlers
[    0.170000] Switching to clocksource MIPS
[    0.180000] NET: Registered protocol family 2
[    0.190000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.210000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.220000] TCP: Hash tables configured (established 512 bind 512)
[    0.230000] TCP: reno registered
[    0.240000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.250000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.260000] NET: Registered protocol family 1
[    0.270000] rt-timer 10000100.timer: maximum frequncy is 7324Hz
[    0.330000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.340000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.360000] msgmni has been set to 56
[    0.370000] io scheduler noop registered
[    0.380000] io scheduler deadline registered (default)
[    0.390000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.420000] 10000500.uart: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
[    0.430000] 10000c00.uartlite: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.450000] console [ttyS1] enabled, bootconsole disabled
[    0.450000] console [ttyS1] enabled, bootconsole disabled
[    0.480000] m25p80 spi32766.0: found w25q32, expected gd25q64
[    0.490000] m25p80 spi32766.0: w25q32 (4096 Kbytes)
[    0.500000] 4 ofpart partitions found on MTD device spi32766.0
[    0.510000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.530000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.540000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.550000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.570000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.580000] 0x00000014e91d-0x000000400000 : &quot;rootfs&quot;
[    0.590000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.620000] mtd: device 4 (rootfs) set to be root filesystem
[    0.630000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x310000, len=0xf0000
[    0.650000] 0x000000310000-0x000000400000 : &quot;rootfs_data&quot;
[    0.670000] eth0: done loading
[    0.680000] rt3xxx-usbphy ubsphy.3: loaded
[    0.690000] rt2880_wdt 10000120.watchdog: Initialized
[    0.700000] TCP: cubic registered
[    0.710000] NET: Registered protocol family 17
[    0.720000] Bridge firewalling registered
[    0.730000] 8021q: 802.1Q VLAN Support v1.8
[    0.760000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.780000] Freeing unused kernel memory: 212K (802cb000 - 80300000)
procd: Console is alive
procd: - watchdog -
[    6.660000] usbcore: registered new interface driver usbfs
[    6.670000] usbcore: registered new interface driver hub
[    6.690000] usbcore: registered new device driver usb
[    6.700000] rt2880-pinmux pinctrl.1: pin 14 is not set to gpio mux
[    6.710000] rt2880-pinmux pinctrl.1: request() failed for pin 14
[    6.720000] rt2880-pinmux pinctrl.1: pin-14 (pio:14) status -22
[    6.740000] gpio-keys-polled gpio-keys-polled.4: unable to claim gpio 14, err=-22
[    6.750000] gpio-keys-polled: probe of gpio-keys-polled.4 failed with error -22
[    6.770000] dwc_otg: version 2.72a 24-JUN-2008
[    6.790000] leds-gpio gpio-leds.5: pins are not configured from the driver
procd: - preinit -
[    7.510000] rt305x-esw 10110000.esw: link changed 0x00
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
[    9.130000] rt305x-esw 10110000.esw: link changed 0x01
jffs2 is ready
jffs2 is ready
[   11.210000] jffs2: notice: (287) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 9 of xref (0 dead, 2 orphan) found.
switching to overlay
procd: - early -
procd: - watchdog -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   13.710000] NET: Registered protocol family 10
[   13.740000] nf_conntrack version 0.5.0 (458 buckets, 1832 max)
[   13.760000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   13.790000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   13.810000] Backport generated by backports.git backports-20140320-37-g5c33da0
[   13.830000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.900000] xt_time: kernel timezone is -0000
[   13.950000] cfg80211: Calling CRDA to update world regulatory domain
[   13.970000] cfg80211: World regulatory domain updated:
[   13.980000] cfg80211:  DFS Master region: unset
[   13.980000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   14.000000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.020000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.040000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   14.050000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   14.070000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   14.080000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   14.190000] PPP generic driver version 2.4.2
[   14.210000] NET: Registered protocol family 24
[   14.260000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5350, rev 0500 detected
[   14.280000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 5350 detected
[   17.710000] rt305x-esw 10110000.esw: link changed 0x00
[   19.340000] rt305x-esw 10110000.esw: link changed 0x01
procd: - init complete -
[   23.350000] device eth0.1 entered promiscuous mode
[   23.360000] device eth0 entered promiscuous mode
[   23.380000] br-lan: port 1(eth0.1) entered forwarding state
[   23.390000] br-lan: port 1(eth0.1) entered forwarding state
[   25.390000] br-lan: port 1(eth0.1) entered forwarding state
[   26.660000] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
[   26.670000] device wlan0 entered promiscuous mode
[   26.810000] br-lan: port 2(wlan0) entered forwarding state
[   26.820000] br-lan: port 2(wlan0) entered forwarding state
[   26.830000] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
[   28.820000] br-lan: port 2(wlan0) entered forwarding state</code></pre></div>											<p class="post-edited">(Last edited by <strong>hackru</strong> on 3 Jul 2014, 19:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238028">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						25 Jun 2014, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>I fixed ethernet networking(by using virtual switch/vlans), but can&#039;t get usb work.<br />I think it&#039;s somehow gpio related. Anyone can help me?</p><p>dmesg:<br /></p><div class="codebox"><pre><code>[    0.000000] Linux version 3.10.36 (openwrt@gb-11) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r41302) ) #1 Tue Jun 24 06:25:33 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is NEXX WT1520
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 802b4b40, node_mem_map 810041c0
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8192 pages, LIFO batch:0
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS1,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00010a00
[    0.000000] Readback ErrCtl register=00010a00
[    0.000000] Memory: 29156k/32768k available (2286k kernel code, 3612k reserved, 570k data, 212k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.060000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.080000] pinctrl core: initialized pinctrl subsystem
[    0.090000] NET: Registered protocol family 16
[    0.110000] rt2880-pinmux pinctrl.1: try to register 27 pins ...
[    0.110000] pinctrl core: registered pin 0 (io0) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 1 (io1) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 2 (io2) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 3 (io3) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 4 (io4) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 5 (io5) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 6 (io6) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 7 (io7) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 8 (io8) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 9 (io9) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 10 (io10) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 11 (io11) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 12 (io12) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 13 (io13) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 14 (io14) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 15 (io15) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 16 (io16) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 17 (io17) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 18 (io18) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 19 (io19) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 20 (io20) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 21 (io21) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 22 (io22) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 23 (io23) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 24 (io24) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 25 (io25) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 26 (io26) on rt2880-pinmux
[    0.110000] pinctrl core: add 1 pinmux maps
[    0.110000] rt2880-pinmux pinctrl.1: found group selector 4 for jtag
[    0.110000] rt2880-pinmux pinctrl.1: request pin 17 (io17) for pinctrl.1
[    0.110000] rt2880-pinmux pinctrl.1: request pin 18 (io18) for pinctrl.1
[    0.110000] rt2880-pinmux pinctrl.1: request pin 19 (io19) for pinctrl.1
[    0.110000] rt2880-pinmux pinctrl.1: request pin 20 (io20) for pinctrl.1
[    0.110000] rt2880-pinmux pinctrl.1: request pin 21 (io21) for pinctrl.1
[    0.110000] rt2880-pinmux pinctrl.1: failed to lookup the sleep state
[    0.140000] bio: create slab &lt;bio-0&gt; at 0
[    0.150000] rt2880_gpio 10000600.gpio: registering 24 gpios
[    0.160000] rt2880_gpio 10000600.gpio: registering 24 irq handlers
[    0.170000] Switching to clocksource MIPS
[    0.180000] NET: Registered protocol family 2
[    0.190000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.210000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.220000] TCP: Hash tables configured (established 512 bind 512)
[    0.230000] TCP: reno registered
[    0.240000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.250000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.260000] NET: Registered protocol family 1
[    0.270000] rt-timer 10000100.timer: maximum frequncy is 7324Hz
[    0.290000] alarmtimer alarmtimer: no of_node; not parsing pinctrl DT
[    0.330000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.340000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.360000] msgmni has been set to 56
[    0.370000] io scheduler noop registered
[    0.380000] io scheduler deadline registered (default)
[    0.390000] rt2880-pinmux pinctrl.1: request pin 18 (io18) for pio:18
[    0.390000] gpio-export gpio_export.6: 1 gpio(s) exported
[    0.400000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.430000] serial8250 serial8250: no of_node; not parsing pinctrl DT
[    0.430000] pinctrl core: add 1 pinmux maps
[    0.430000] rt2880-pinmux pinctrl.1: found group selector 2 for uartf
[    0.430000] rt2880-pinmux pinctrl.1: request pin 7 (io7) for 10000500.uart
[    0.430000] rt2880-pinmux pinctrl.1: request pin 8 (io8) for 10000500.uart
[    0.430000] rt2880-pinmux pinctrl.1: request pin 9 (io9) for 10000500.uart
[    0.430000] rt2880-pinmux pinctrl.1: request pin 10 (io10) for 10000500.uart
[    0.430000] rt2880-pinmux pinctrl.1: request pin 11 (io11) for 10000500.uart
[    0.430000] rt2880-pinmux pinctrl.1: request pin 12 (io12) for 10000500.uart
[    0.430000] rt2880-pinmux pinctrl.1: request pin 13 (io13) for 10000500.uart
[    0.430000] rt2880-pinmux pinctrl.1: request pin 14 (io14) for 10000500.uart
[    0.430000] 10000500.uart: ttyS0 at MMIO 0x10000500 (irq = 13) is a 16550A
[    0.440000] pinctrl core: add 1 pinmux maps
[    0.440000] rt2880-pinmux pinctrl.1: found group selector 3 for uartlite
[    0.440000] rt2880-pinmux pinctrl.1: request pin 15 (io15) for 10000c00.uartlite
[    0.440000] rt2880-pinmux pinctrl.1: request pin 16 (io16) for 10000c00.uartlite
[    0.450000] 10000c00.uartlite: ttyS1 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.460000] console [ttyS1] enabled, bootconsole disabled
[    0.490000] pinctrl core: add 1 pinmux maps
[    0.490000] rt2880-pinmux pinctrl.1: found group selector 1 for spi
[    0.490000] rt2880-pinmux pinctrl.1: request pin 3 (io3) for 10000b00.spi
[    0.490000] rt2880-pinmux pinctrl.1: request pin 4 (io4) for 10000b00.spi
[    0.490000] rt2880-pinmux pinctrl.1: request pin 5 (io5) for 10000b00.spi
[    0.490000] rt2880-pinmux pinctrl.1: request pin 6 (io6) for 10000b00.spi
[    0.490000] m25p80 spi32766.0: found w25q32, expected gd25q64
[    0.500000] m25p80 spi32766.0: w25q32 (4096 Kbytes)
[    0.510000] 4 ofpart partitions found on MTD device spi32766.0
[    0.530000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.540000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.550000] 0x000000030000-0x000000040000 : &quot;u-boot-env&quot;
[    0.560000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.580000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.590000] 0x00000014e8f6-0x000000400000 : &quot;rootfs&quot;
[    0.600000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.630000] mtd: device 4 (rootfs) set to be root filesystem
[    0.640000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x340000, len=0xc0000
[    0.660000] 0x000000340000-0x000000400000 : &quot;rootfs_data&quot;
[    0.680000] eth0: done loading
[    0.690000] rt3xxx-usbphy ubsphy.3: loaded
[    0.700000] rt2880_wdt 10000120.watchdog: Initialized
[    0.710000] TCP: cubic registered
[    0.720000] NET: Registered protocol family 17
[    0.730000] Bridge firewalling registered
[    0.740000] 8021q: 802.1Q VLAN Support v1.8
[    0.770000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.790000] Freeing unused kernel memory: 212K (802cb000 - 80300000)
[    6.740000] usbcore: registered new interface driver usbfs
[    6.750000] usbcore: registered new interface driver hub
[    6.760000] usbcore: registered new device driver usb
[    6.770000] gpio-keys-polled gpio-keys-polled.4: missing platform data
[    6.790000] gpio-keys-polled: probe of gpio-keys-polled.4 failed with error -22
[    6.810000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    6.820000] ehci-platform: EHCI generic platform driver
[    7.030000] rt3xxx-usbphy ubsphy.3: remote usb device wakeup disabled
[    7.050000] rt3xxx-usbphy ubsphy.3: UTMI 16bit 30MHz
[    7.060000] ehci-platform 101c0000.ehci: EHCI Host Controller
[    7.070000] ehci-platform 101c0000.ehci: new USB bus registered, assigned bus number 1
[    7.080000] ehci-platform 101c0000.ehci: irq 26, io mem 0x101c0000
[    7.120000] ehci-platform 101c0000.ehci: USB 2.0 started, EHCI 1.00
[    7.130000] usb usb1: no of_node; not parsing pinctrl DT
[    7.130000] hub 1-0:1.0: no of_node; not parsing pinctrl DT
[    7.130000] hub 1-0:1.0: USB hub found
[    7.140000] hub 1-0:1.0: 1 port detected
[    7.150000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    7.160000] ohci-platform 101c1000.ohci: Generic Platform OHCI Controller
[    7.180000] ohci-platform 101c1000.ohci: new USB bus registered, assigned bus number 2
[    7.190000] ohci-platform 101c1000.ohci: irq 26, io mem 0x101c1000
[    7.260000] usb usb2: no of_node; not parsing pinctrl DT
[    7.260000] hub 2-0:1.0: no of_node; not parsing pinctrl DT
[    7.260000] hub 2-0:1.0: USB hub found
[    7.270000] hub 2-0:1.0: 1 port detected
[    7.290000] dwc_otg: version 2.72a 24-JUN-2008
[    7.300000] leds-gpio gpio-leds.5: pins are not configured from the driver
[    7.310000] rt2880-pinmux pinctrl.1: request pin 0 (io0) for pio:0
[    8.180000] rt305x-esw 10110000.esw: link changed 0x00
[    9.780000] rt305x-esw 10110000.esw: link changed 0x01
[    9.800000] rt305x-esw 10110000.esw: link changed 0x11
[   14.300000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   14.320000] Backport generated by backports.git backports-20140320-37-g5c33da0
[   14.340000] nf_conntrack version 0.5.0 (458 buckets, 1832 max)
[   14.420000] xt_time: kernel timezone is -0000
[   14.440000] usbcore: registered new interface driver cdc_ether
[   14.490000] cfg80211: Calling CRDA to update world regulatory domain
[   14.500000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   14.510000] cfg80211: World regulatory domain updated:
[   14.530000] cfg80211:  DFS Master region: unset
[   14.530000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   14.550000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.570000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.590000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   14.600000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   14.620000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   14.630000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   14.750000] PPP generic driver version 2.4.2
[   14.760000] NET: Registered protocol family 24
[   14.820000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5350, rev 0500 detected
[   14.840000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 5350 detected
[   14.850000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   18.860000] rt305x-esw 10110000.esw: link changed 0x00
[   20.490000] rt305x-esw 10110000.esw: link changed 0x10
[   20.680000] rt305x-esw 10110000.esw: link changed 0x11
[   22.830000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   22.840000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   27.160000] device eth0.1 entered promiscuous mode
[   27.170000] device eth0 entered promiscuous mode
[   27.200000] br-lan: port 1(eth0.1) entered forwarding state
[   27.210000] br-lan: port 1(eth0.1) entered forwarding state
[   27.240000] device eth0.2 entered promiscuous mode
[   27.300000] br-wan: port 1(eth0.2) entered forwarding state
[   27.310000] br-wan: port 1(eth0.2) entered forwarding state
[   29.210000] br-lan: port 1(eth0.1) entered forwarding state
[   29.310000] br-wan: port 1(eth0.2) entered forwarding state
[   22.850000] jffs2_build_filesystem(): erasing all blocks after the end marker... done.
[   30.370000] jffs2: notice: (790) jffs2_build_xattr_subsystem: complete building xattr subsystem, 0 of xdatum (0 unchecked, 0 orphan) and 0 of xref (0 dead, 0 orphan) found.
[   31.890000] device wlan0 entered promiscuous mode
[   32.710000] br-lan: port 2(wlan0) entered forwarding state
[   32.720000] br-lan: port 2(wlan0) entered forwarding state
[   34.720000] br-lan: port 2(wlan0) entered forwarding state</code></pre></div><p>lsusb:<br /></p><div class="codebox"><pre><code>Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub</code></pre></div><br /><p>ls -1 /sys/devices:<br /></p><div class="codebox"><pre><code>10000000.palmbus
10100000.ethernet
10110000.esw
10180000.wmac
101c0000.ehci
101c1000.ohci
cpuintc.0
gpio-keys-polled.4
gpio-leds.5
gpio_export.6
pinctrl.1
platform
rstctrl.2
system
ubsphy.3
virtual</code></pre></div><p>/sys/devices# find . | grep -vE &quot;virtual|serial|wmac|mtdblock&quot; :<br /></p><div class="codebox"><pre><code>.
./gpio_export.6
./gpio_export.6/modalias
./gpio_export.6/driver
./gpio_export.6/subsystem
./gpio_export.6/uevent
./10110000.esw
./10110000.esw/modalias
./10110000.esw/driver
./10110000.esw/subsystem
./10110000.esw/uevent
./pinctrl.1
./pinctrl.1/modalias
./pinctrl.1/driver
./pinctrl.1/subsystem
./pinctrl.1/uevent
./rstctrl.2
./rstctrl.2/modalias
./rstctrl.2/subsystem
./rstctrl.2/uevent
./101c1000.ohci
./101c1000.ohci/usb2
./101c1000.ohci/usb2/dev
./101c1000.ohci/usb2/bDeviceSubClass
./101c1000.ohci/usb2/bDeviceProtocol
./101c1000.ohci/usb2/devpath
./101c1000.ohci/usb2/ep_00
./101c1000.ohci/usb2/ep_00/type
./101c1000.ohci/usb2/ep_00/bEndpointAddress
./101c1000.ohci/usb2/ep_00/bLength
./101c1000.ohci/usb2/ep_00/bmAttributes
./101c1000.ohci/usb2/ep_00/wMaxPacketSize
./101c1000.ohci/usb2/ep_00/uevent
./101c1000.ohci/usb2/ep_00/direction
./101c1000.ohci/usb2/ep_00/bInterval
./101c1000.ohci/usb2/ep_00/interval
./101c1000.ohci/usb2/idVendor
./101c1000.ohci/usb2/speed
./101c1000.ohci/usb2/bNumInterfaces
./101c1000.ohci/usb2/bConfigurationValue
./101c1000.ohci/usb2/bMaxPacketSize0
./101c1000.ohci/usb2/authorized_default
./101c1000.ohci/usb2/descriptors
./101c1000.ohci/usb2/busnum
./101c1000.ohci/usb2/devnum
./101c1000.ohci/usb2/configuration
./101c1000.ohci/usb2/bMaxPower
./101c1000.ohci/usb2/driver
./101c1000.ohci/usb2/authorized
./101c1000.ohci/usb2/bmAttributes
./101c1000.ohci/usb2/bNumConfigurations
./101c1000.ohci/usb2/subsystem
./101c1000.ohci/usb2/maxchild
./101c1000.ohci/usb2/bcdDevice
./101c1000.ohci/usb2/avoid_reset_quirk
./101c1000.ohci/usb2/remove
./101c1000.ohci/usb2/quirks
./101c1000.ohci/usb2/version
./101c1000.ohci/usb2/uevent
./101c1000.ohci/usb2/urbnum
./101c1000.ohci/usb2/ltm_capable
./101c1000.ohci/usb2/manufacturer
./101c1000.ohci/usb2/removable
./101c1000.ohci/usb2/idProduct
./101c1000.ohci/usb2/bDeviceClass
./101c1000.ohci/usb2/2-0:1.0
./101c1000.ohci/usb2/2-0:1.0/bInterfaceClass
./101c1000.ohci/usb2/2-0:1.0/ep_81
./101c1000.ohci/usb2/2-0:1.0/ep_81/type
./101c1000.ohci/usb2/2-0:1.0/ep_81/bEndpointAddress
./101c1000.ohci/usb2/2-0:1.0/ep_81/bLength
./101c1000.ohci/usb2/2-0:1.0/ep_81/bmAttributes
./101c1000.ohci/usb2/2-0:1.0/ep_81/wMaxPacketSize
./101c1000.ohci/usb2/2-0:1.0/ep_81/uevent
./101c1000.ohci/usb2/2-0:1.0/ep_81/direction
./101c1000.ohci/usb2/2-0:1.0/ep_81/bInterval
./101c1000.ohci/usb2/2-0:1.0/ep_81/interval
./101c1000.ohci/usb2/2-0:1.0/port1
./101c1000.ohci/usb2/2-0:1.0/port1/uevent
./101c1000.ohci/usb2/2-0:1.0/port1/connect_type
./101c1000.ohci/usb2/2-0:1.0/modalias
./101c1000.ohci/usb2/2-0:1.0/bInterfaceSubClass
./101c1000.ohci/usb2/2-0:1.0/bInterfaceProtocol
./101c1000.ohci/usb2/2-0:1.0/bNumEndpoints
./101c1000.ohci/usb2/2-0:1.0/driver
./101c1000.ohci/usb2/2-0:1.0/supports_autosuspend
./101c1000.ohci/usb2/2-0:1.0/subsystem
./101c1000.ohci/usb2/2-0:1.0/bAlternateSetting
./101c1000.ohci/usb2/2-0:1.0/uevent
./101c1000.ohci/usb2/2-0:1.0/bInterfaceNumber
./101c1000.ohci/usb2/product
./101c1000.ohci/pools
./101c1000.ohci/modalias
./101c1000.ohci/driver
./101c1000.ohci/subsystem
./101c1000.ohci/uevent
./ubsphy.3
./ubsphy.3/modalias
./ubsphy.3/driver
./ubsphy.3/subsystem
./ubsphy.3/uevent
./10000000.palmbus
./10000000.palmbus/10000500.uart
./10000000.palmbus/10000500.uart/tty
./10000000.palmbus/10000500.uart/tty/ttyS0
./10000000.palmbus/10000500.uart/tty/ttyS0/dev
./10000000.palmbus/10000500.uart/tty/ttyS0/irq
./10000000.palmbus/10000500.uart/tty/ttyS0/line
./10000000.palmbus/10000500.uart/tty/ttyS0/port
./10000000.palmbus/10000500.uart/tty/ttyS0/type
./10000000.palmbus/10000500.uart/tty/ttyS0/flags
./10000000.palmbus/10000500.uart/tty/ttyS0/iomem_base
./10000000.palmbus/10000500.uart/tty/ttyS0/custom_divisor
./10000000.palmbus/10000500.uart/tty/ttyS0/iomem_reg_shift
./10000000.palmbus/10000500.uart/tty/ttyS0/device
./10000000.palmbus/10000500.uart/tty/ttyS0/uartclk
./10000000.palmbus/10000500.uart/tty/ttyS0/subsystem
./10000000.palmbus/10000500.uart/tty/ttyS0/xmit_fifo_size
./10000000.palmbus/10000500.uart/tty/ttyS0/close_delay
./10000000.palmbus/10000500.uart/tty/ttyS0/closing_wait
./10000000.palmbus/10000500.uart/tty/ttyS0/uevent
./10000000.palmbus/10000500.uart/tty/ttyS0/io_type
./10000000.palmbus/10000500.uart/modalias
./10000000.palmbus/10000500.uart/driver
./10000000.palmbus/10000500.uart/subsystem
./10000000.palmbus/10000500.uart/uevent
./10000000.palmbus/10000000.sysc
./10000000.palmbus/10000000.sysc/modalias
./10000000.palmbus/10000000.sysc/subsystem
./10000000.palmbus/10000000.sysc/uevent
./10000000.palmbus/10000100.timer
./10000000.palmbus/10000100.timer/modalias
./10000000.palmbus/10000100.timer/driver
./10000000.palmbus/10000100.timer/subsystem
./10000000.palmbus/10000100.timer/uevent
./10000000.palmbus/10000200.intc
./10000000.palmbus/10000200.intc/modalias
./10000000.palmbus/10000200.intc/subsystem
./10000000.palmbus/10000200.intc/uevent
./10000000.palmbus/10000d00.systick
./10000000.palmbus/10000d00.systick/modalias
./10000000.palmbus/10000d00.systick/subsystem
./10000000.palmbus/10000d00.systick/uevent
./10000000.palmbus/modalias
./10000000.palmbus/10000120.watchdog
./10000000.palmbus/10000120.watchdog/modalias
./10000000.palmbus/10000120.watchdog/driver
./10000000.palmbus/10000120.watchdog/subsystem
./10000000.palmbus/10000120.watchdog/uevent
./10000000.palmbus/subsystem
./10000000.palmbus/10000b00.spi
./10000000.palmbus/10000b00.spi/spi_master
./10000000.palmbus/10000b00.spi/spi_master/spi32766
./10000000.palmbus/10000b00.spi/spi_master/spi32766/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/name
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/size
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/type
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/writesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/flags
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/erasesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/bitflip_threshold
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/oobsize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/ecc_strength
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/numeraseregions
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0/subpagesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/name
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/size
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/type
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/writesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/flags
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/erasesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/bitflip_threshold
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/oobsize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/ecc_strength
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/numeraseregions
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1/subpagesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/name
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/size
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/type
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/writesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/flags
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/erasesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/bitflip_threshold
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/oobsize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/ecc_strength
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/numeraseregions
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2/subpagesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/name
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/size
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/type
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/writesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/flags
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/erasesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/bitflip_threshold
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/oobsize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/ecc_strength
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/numeraseregions
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3/subpagesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/name
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/size
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/type
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/writesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/flags
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/erasesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/bitflip_threshold
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/oobsize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/ecc_strength
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/numeraseregions
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4/subpagesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/name
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/size
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/type
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/writesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/flags
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/erasesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/bitflip_threshold
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/oobsize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/ecc_strength
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/numeraseregions
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5/subpagesize
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0ro
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0ro/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0ro/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0ro/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd0ro/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1ro
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1ro/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1ro/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1ro/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd1ro/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2ro
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2ro/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2ro/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2ro/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd2ro/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3ro
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3ro/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3ro/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3ro/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd3ro/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4ro
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4ro/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4ro/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4ro/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd4ro/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5ro
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5ro/dev
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5ro/device
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5ro/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/mtd/mtd5ro/uevent
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/modalias
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/driver
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/subsystem
./10000000.palmbus/10000b00.spi/spi_master/spi32766/spi32766.0/uevent
./10000000.palmbus/10000b00.spi/modalias
./10000000.palmbus/10000b00.spi/driver
./10000000.palmbus/10000b00.spi/subsystem
./10000000.palmbus/10000b00.spi/uevent
./10000000.palmbus/10000600.gpio
./10000000.palmbus/10000600.gpio/gpio
./10000000.palmbus/10000600.gpio/gpio/gpiochip0
./10000000.palmbus/10000600.gpio/gpio/gpiochip0/base
./10000000.palmbus/10000600.gpio/gpio/gpiochip0/label
./10000000.palmbus/10000600.gpio/gpio/gpiochip0/ngpio
./10000000.palmbus/10000600.gpio/gpio/gpiochip0/device
./10000000.palmbus/10000600.gpio/gpio/gpiochip0/subsystem
./10000000.palmbus/10000600.gpio/gpio/gpiochip0/uevent
./10000000.palmbus/10000600.gpio/gpio/usb-mode
./10000000.palmbus/10000600.gpio/gpio/usb-mode/value
./10000000.palmbus/10000600.gpio/gpio/usb-mode/active_low
./10000000.palmbus/10000600.gpio/gpio/usb-mode/device
./10000000.palmbus/10000600.gpio/gpio/usb-mode/subsystem
./10000000.palmbus/10000600.gpio/gpio/usb-mode/uevent
./10000000.palmbus/10000600.gpio/modalias
./10000000.palmbus/10000600.gpio/driver
./10000000.palmbus/10000600.gpio/subsystem
./10000000.palmbus/10000600.gpio/uevent
./10000000.palmbus/uevent
./10000000.palmbus/10000c00.uartlite
./10000000.palmbus/10000c00.uartlite/tty
./10000000.palmbus/10000c00.uartlite/tty/ttyS1
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/dev
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/irq
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/line
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/port
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/type
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/flags
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/iomem_base
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/custom_divisor
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/iomem_reg_shift
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/device
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/uartclk
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/subsystem
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/xmit_fifo_size
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/close_delay
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/closing_wait
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/uevent
./10000000.palmbus/10000c00.uartlite/tty/ttyS1/io_type
./10000000.palmbus/10000c00.uartlite/modalias
./10000000.palmbus/10000c00.uartlite/driver
./10000000.palmbus/10000c00.uartlite/subsystem
./10000000.palmbus/10000c00.uartlite/uevent
./10000000.palmbus/10000300.memc
./10000000.palmbus/10000300.memc/modalias
./10000000.palmbus/10000300.memc/subsystem
./10000000.palmbus/10000300.memc/uevent
./system
./system/cpu
./system/cpu/cpu0
./system/cpu/cpu0/subsystem
./system/cpu/cpu0/uevent
./system/cpu/cpu0/topology
./system/cpu/cpu0/topology/core_id
./system/cpu/cpu0/topology/thread_siblings
./system/cpu/cpu0/topology/core_siblings
./system/cpu/cpu0/topology/core_siblings_list
./system/cpu/cpu0/topology/thread_siblings_list
./system/cpu/cpu0/topology/physical_package_id
./system/cpu/kernel_max
./system/cpu/possible
./system/cpu/online
./system/cpu/offline
./system/cpu/uevent
./system/cpu/present
./system/clocksource
./system/clocksource/clocksource0
./system/clocksource/clocksource0/current_clocksource
./system/clocksource/clocksource0/available_clocksource
./system/clocksource/clocksource0/subsystem
./system/clocksource/clocksource0/uevent
./system/clocksource/uevent
./10100000.ethernet
./10100000.ethernet/modalias
./10100000.ethernet/driver
./10100000.ethernet/subsystem
./10100000.ethernet/uevent
./101c0000.ehci
./101c0000.ehci/usb1
./101c0000.ehci/usb1/dev
./101c0000.ehci/usb1/bDeviceSubClass
./101c0000.ehci/usb1/bDeviceProtocol
./101c0000.ehci/usb1/devpath
./101c0000.ehci/usb1/ep_00
./101c0000.ehci/usb1/ep_00/type
./101c0000.ehci/usb1/ep_00/bEndpointAddress
./101c0000.ehci/usb1/ep_00/bLength
./101c0000.ehci/usb1/ep_00/bmAttributes
./101c0000.ehci/usb1/ep_00/wMaxPacketSize
./101c0000.ehci/usb1/ep_00/uevent
./101c0000.ehci/usb1/ep_00/direction
./101c0000.ehci/usb1/ep_00/bInterval
./101c0000.ehci/usb1/ep_00/interval
./101c0000.ehci/usb1/idVendor
./101c0000.ehci/usb1/speed
./101c0000.ehci/usb1/bNumInterfaces
./101c0000.ehci/usb1/bConfigurationValue
./101c0000.ehci/usb1/bMaxPacketSize0
./101c0000.ehci/usb1/authorized_default
./101c0000.ehci/usb1/descriptors
./101c0000.ehci/usb1/busnum
./101c0000.ehci/usb1/devnum
./101c0000.ehci/usb1/configuration
./101c0000.ehci/usb1/bMaxPower
./101c0000.ehci/usb1/driver
./101c0000.ehci/usb1/authorized
./101c0000.ehci/usb1/bmAttributes
./101c0000.ehci/usb1/bNumConfigurations
./101c0000.ehci/usb1/subsystem
./101c0000.ehci/usb1/maxchild
./101c0000.ehci/usb1/bcdDevice
./101c0000.ehci/usb1/avoid_reset_quirk
./101c0000.ehci/usb1/remove
./101c0000.ehci/usb1/quirks
./101c0000.ehci/usb1/version
./101c0000.ehci/usb1/uevent
./101c0000.ehci/usb1/urbnum
./101c0000.ehci/usb1/1-0:1.0
./101c0000.ehci/usb1/1-0:1.0/bInterfaceClass
./101c0000.ehci/usb1/1-0:1.0/ep_81
./101c0000.ehci/usb1/1-0:1.0/ep_81/type
./101c0000.ehci/usb1/1-0:1.0/ep_81/bEndpointAddress
./101c0000.ehci/usb1/1-0:1.0/ep_81/bLength
./101c0000.ehci/usb1/1-0:1.0/ep_81/bmAttributes
./101c0000.ehci/usb1/1-0:1.0/ep_81/wMaxPacketSize
./101c0000.ehci/usb1/1-0:1.0/ep_81/uevent
./101c0000.ehci/usb1/1-0:1.0/ep_81/direction
./101c0000.ehci/usb1/1-0:1.0/ep_81/bInterval
./101c0000.ehci/usb1/1-0:1.0/ep_81/interval
./101c0000.ehci/usb1/1-0:1.0/port1
./101c0000.ehci/usb1/1-0:1.0/port1/uevent
./101c0000.ehci/usb1/1-0:1.0/port1/connect_type
./101c0000.ehci/usb1/1-0:1.0/modalias
./101c0000.ehci/usb1/1-0:1.0/bInterfaceSubClass
./101c0000.ehci/usb1/1-0:1.0/bInterfaceProtocol
./101c0000.ehci/usb1/1-0:1.0/bNumEndpoints
./101c0000.ehci/usb1/1-0:1.0/driver
./101c0000.ehci/usb1/1-0:1.0/supports_autosuspend
./101c0000.ehci/usb1/1-0:1.0/subsystem
./101c0000.ehci/usb1/1-0:1.0/bAlternateSetting
./101c0000.ehci/usb1/1-0:1.0/uevent
./101c0000.ehci/usb1/1-0:1.0/bInterfaceNumber
./101c0000.ehci/usb1/ltm_capable
./101c0000.ehci/usb1/manufacturer
./101c0000.ehci/usb1/removable
./101c0000.ehci/usb1/idProduct
./101c0000.ehci/usb1/bDeviceClass
./101c0000.ehci/usb1/product
./101c0000.ehci/pools
./101c0000.ehci/companion
./101c0000.ehci/modalias
./101c0000.ehci/uframe_periodic_max
./101c0000.ehci/driver
./101c0000.ehci/subsystem
./101c0000.ehci/uevent
./gpio-keys-polled.4
./gpio-keys-polled.4/modalias
./gpio-keys-polled.4/subsystem
./gpio-keys-polled.4/uevent
./platform
./platform/alarmtimer
./platform/alarmtimer/modalias
./platform/alarmtimer/driver
./platform/alarmtimer/subsystem
./platform/alarmtimer/uevent
./platform/uevent
./platform/regulatory.0
./platform/regulatory.0/modalias
./platform/regulatory.0/subsystem
./platform/regulatory.0/uevent
./gpio-leds.5
./gpio-leds.5/leds
./gpio-leds.5/leds/nexx-wt1520:white:power
./gpio-leds.5/leds/nexx-wt1520:white:power/brightness
./gpio-leds.5/leds/nexx-wt1520:white:power/max_brightness
./gpio-leds.5/leds/nexx-wt1520:white:power/device
./gpio-leds.5/leds/nexx-wt1520:white:power/subsystem
./gpio-leds.5/leds/nexx-wt1520:white:power/trigger
./gpio-leds.5/leds/nexx-wt1520:white:power/uevent
./gpio-leds.5/modalias
./gpio-leds.5/driver
./gpio-leds.5/subsystem
./gpio-leds.5/uevent
./cpuintc.0
./cpuintc.0/modalias
./cpuintc.0/subsystem
./cpuintc.0/uevent</code></pre></div>											<p class="post-edited">(Last edited by <strong>hackru</strong> on 25 Jun 2014, 21:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238029">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">chewire</div>
					<div class="post-datetime">
						25 Jun 2014, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t think it&#039;s related to gpio. Can you post menuconfig result? And what do you mean when say that usb not working? in dmesg it present, lsusb also fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238031">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						25 Jun 2014, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for answer, <strong>chewire</strong></p><div class="quotebox"><blockquote><p>Don&#039;t think it&#039;s related to gpio. Can you post menuconfig result?</p></blockquote></div><p>I probably do something wrong, but i don&#039;t use menuconfig, but using imagebuilder and until this moment it felt good for me.<br />Am i missing some functionality when using imagebuilder instead of full toolchain?</p><div class="quotebox"><blockquote><p>And what do you mean when say that usb not working? in dmesg it present, lsusb also fine.</p></blockquote></div><p>When i insert any usb devices in usb port, there&#039;s no reaction, no new devices in dmesg, no lsusb entries.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238033">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">spirit</div>
					<div class="post-datetime">
						25 Jun 2014, 23:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hackru wrote:</cite><blockquote><p>When i insert any usb devices in usb port, there&#039;s no reaction, no new devices in dmesg, no lsusb entries.</p></blockquote></div><p>Try to connect a self powered usb hub or some other device! Maybe the 5v usb power is connected to a gpio and not switched on?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238034">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">chewire</div>
					<div class="post-datetime">
						25 Jun 2014, 23:21					</div>
				</div>
				<div class="post-content content">
					<p>I can&#039;t say a lot of words about internal kitchen of openwrt, but I &#039;m sure that right way to use &quot;make menuconfig&quot;. I download all need files some days ago and try this in friday. About lsusb... you try only &quot;lsusb&quot;? maybe try &quot;lsusb -vv&quot; with grep. a d according to openwrt wiki there are some modules to be enabled during menuconfig for usb flash support.</p><p>p.s. I also have this device and sure we get cool firmware <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238035">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">chewire</div>
					<div class="post-datetime">
						25 Jun 2014, 23:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>spirit wrote:</cite><blockquote><div class="quotebox"><cite>hackru wrote:</cite><blockquote><p>When i insert any usb devices in usb port, there&#039;s no reaction, no new devices in dmesg, no lsusb entries.</p></blockquote></div><p>Try to connect a self powered usb hub or some other device! Maybe the 5v usb power is connected to a gpio and not switched on?</p></blockquote></div><p>yes, this sounds truth</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238090">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						26 Jun 2014, 12:00					</div>
				</div>
				<div class="post-content content">
					<p>I added external power, unfortunately, no new lines in log.<br /></p><div class="codebox"><pre><code>root@OpenWrt-wt1520:/# lsusb -v

Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 Full speed (or root) hub
  bMaxPacketSize0        64
  idVendor           0x1d6b Linux Foundation
  idProduct          0x0002 2.0 root hub
  bcdDevice            3.10
  iManufacturer           3 Linux 3.10.36 ehci_hcd
  iProduct                2 EHCI Host Controller
  iSerial                 1 101c0000.ehci
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 Full speed (or root) hub
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0004  1x 4 bytes
        bInterval              12
Hub Descriptor:
  bLength               9
  bDescriptorType      41
  nNbrPorts             1
  wHubCharacteristic 0x0009
    Per-port power switching
    Per-port overcurrent protection
  bPwrOn2PwrGood       10 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00
  PortPwrCtrlMask    0xff
 Hub Port Status:
   Port 1: 0000.0100 power
Device Status:     0x0001
  Self Powered

Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 Full speed (or root) hub
  bMaxPacketSize0        64
  idVendor           0x1d6b Linux Foundation
  idProduct          0x0001 1.1 root hub
  bcdDevice            3.10
  iManufacturer           3 Linux 3.10.36 ohci_hcd
  iProduct                2 Generic Platform OHCI Controller
  iSerial                 1 101c1000.ohci
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 Full speed (or root) hub
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength               9
  bDescriptorType      41
  nNbrPorts             1
  wHubCharacteristic 0x0002
    No power switching (usb 1.0)
    Ganged overcurrent protection
  bPwrOn2PwrGood        2 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00
  PortPwrCtrlMask    0xff
 Hub Port Status:
   Port 1: 0000.0100 power
Device Status:     0x0001
  Self Powered</code></pre></div><p><strong>update</strong><br />when i was inserting/removing usb cable from router one time i get this output. strange. this happened only once and i can&#039;t repeat this situation. I think it&#039;s because of bad female usb connection to board. So, firmware is working, this is great.</p><br /><div class="codebox"><pre><code>[65594.390000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[65594.550000] usb 1-1: no of_node; not parsing pinctrl DT
[65594.570000] hub 1-1:1.0: no of_node; not parsing pinctrl DT
[65594.580000] hub 1-1:1.0: USB hub found
[65594.600000] hub 1-1:1.0: 4 ports detected
[65595.590000] usb 1-1: USB disconnect, device number 2
[65597.320000] usb 1-1: new high-speed USB device number 3 using ehci-platform
[65597.490000] usb 1-1: no of_node; not parsing pinctrl DT
[65597.510000] hub 1-1:1.0: no of_node; not parsing pinctrl DT
[65597.520000] hub 1-1:1.0: USB hub found
[65597.520000] hub 1-1:1.0: 4 ports detected
[65598.110000] usb 1-1: USB disconnect, device number 3
[65598.490000] usb 1-1: new high-speed USB device number 4 using ehci-platform
[65598.680000] usb 1-1: device descriptor read/all, error -71</code></pre></div>											<p class="post-edited">(Last edited by <strong>hackru</strong> on 26 Jun 2014, 12:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238136">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						26 Jun 2014, 16:55					</div>
				</div>
				<div class="post-content content">
					<p>Well, i soldered usb-port and everything is working now. Led is fixed too. So firmware is ready!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238226">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Snegohod</div>
					<div class="post-datetime">
						27 Jun 2014, 08:54					</div>
				</div>
				<div class="post-content content">
					<p><strong>hackru</strong>, that sounds great.<br />Can you upload firmware and say how to flash it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238272">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						27 Jun 2014, 19:06					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://www.dropbox.com/s/xxihp1w8ei07xeo/openwrt-ramips-rt305x-nexx-wt1520-squashfs-sysupgrade.bin">https://www.dropbox.com/s/xxihp1w8ei07x … pgrade.bin</a><br />You can upload this image via U-Boot console:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Sep 13 2012 - 16:39:43)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
spi_wait_nsec: 42
spi device id: ef 40 16 0 0 (40160000)
find flash: W25Q32BV
raspi_read: from:30000 len:1000
.*** Warning - bad CRC, using default environment

============================================
Ralink UBoot Version: 4.0.1.0
--------------------------------------------
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping
DRAM_TYPE: SDRAM
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Sep 13 2012  Time:16:39:43
============================================
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384

 ##### The CPU freq = 360 MHZ ####
 estimate memory size =32 Mbytes

Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial.
   9: Load Boot Loader code then write to Flash via TFTP.

You choosed 2
                                                                                                                                                               0
raspi_read: from:40028 len:6
.

2: System Load Linux Kernel then write to Flash via TFTP.
 Warning!! Erase Linux in Flash then burn new one. Are you sure?(Y/N)
 Please Input new ones /or Ctrl-C to discard
        Input device IP (10.10.10.123) ==:10.10.10.123
        Input server IP (10.10.10.3) ==:10.10.10.3
        Input Linux Kernel filename () ==:openwrt-ramips-rt305x-nexx-wt1520-squashfs-sysupgrade.bin

 netboot_common, argc= 3

 NetTxPacket = 0x81FE6440

 KSEG1ADDR(NetTxPacket) = 0xA1FE6440

 NetLoop,call eth_halt !

 NetLoop,call eth_init !
Trying Eth0 (10/100-M)

 Waitting for RX_DMA_BUSY status Start... done


 Header Payload scatter function is Disable !!

 ETH_STATE_ACTIVE!!
Using Eth0 (10/100-M) device
TFTP from server 10.10.10.3; our IP address is 10.10.10.123
Filename &#039;openwrt-ramips-rt305x-nexx-wt1520-squashfs-sysupgrade.bin&#039;.

 TIMEOUT_COUNT=10,Load address: 0x80100000
Loading: *
ArpTimeoutCheck
T Got ARP REQUEST, return our IP
checksum bad
checksum bad
T Got ARP REPLY, set server/gtwy eth addr (3c:07:54:0b:83:52)
Got it
#################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ##
done</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238287">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">chewire</div>
					<div class="post-datetime">
						27 Jun 2014, 21:14					</div>
				</div>
				<div class="post-content content">
					<p>Today compiled firmware with make, have some trouble with uclibc, retry in monday. Have a nice idea add some extra functions, like torrent <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> hackru, your firmware has ntfs support?</p><p>p.s. kto tut po ruski ponimaet kstati? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238289">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Snegohod</div>
					<div class="post-datetime">
						27 Jun 2014, 21:23					</div>
				</div>
				<div class="post-content content">
					<p><strong>chewire</strong>, vse ponimaut <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br /><strong>hackru</strong>, thanks. Try it on the weekends.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238293">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">hackru</div>
					<div class="post-datetime">
						27 Jun 2014, 21:47					</div>
				</div>
				<div class="post-content content">
					<p>You&#039;re welcome <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I will try to share my patches on github when i&#039;ll be at work.<br />Forgot to mention:<br />ssh root password - openwrt<br />wifi password - openwrtopenwrt.</p><p>and i think i forgot to remove my ssh public keys, please remove them on install.</p><p><em>Vse ponimayut, da <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></em></p>											<p class="post-edited">(Last edited by <strong>hackru</strong> on 27 Jun 2014, 22:16)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 14</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=48481&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=48481&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=48481&amp;p=14.html">14</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>