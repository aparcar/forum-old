<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Question on serial port pinout ID (Buffalo WYR-54G)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p7329">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						18 May 2005, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>I have a Buffalo Tech WYR-54G.&nbsp; I&#039;ve opened it and spotted a four-pin jumper labelled J8.&nbsp; Measuring the voltages I find the following:</p><p>====<br />Board top<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />power in connector</p><br /><br /><p>antenna&nbsp; |&nbsp; J8:&nbsp; O&nbsp; &nbsp; &nbsp; &nbsp; O&nbsp; &nbsp; &nbsp;O&nbsp; &nbsp; &nbsp;O&nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; LEDS<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;?&nbsp; &nbsp; +3.3V&nbsp; &nbsp; ?&nbsp; &nbsp; &nbsp;gnd&nbsp; &nbsp; <br />Board bottom<br />====<br />The 3.3V, gnd assignments are guesses.&nbsp; Connected to an AD233AK level shifter, they make its led glow.&nbsp; I don&#039;t know how to identify Rx, Tx, how to figure out which they are (assuming they exist.)&nbsp; The left ? fluctuates roughly 0.1&lt;-&gt;0.4V, whereas the right ? is steady at a small voltage less than 0.1V.&nbsp; (Voltages are wrt gnd, guessed to be pin extreme right.)</p><p>Any hardware g0d willing to weigh in?&nbsp; How DOES one make these assigments using only a DMM?</p><p>Of course I could just endlessly connect wires, etc. but I prefer some method to my madness, the latter is just barely controllable as is.</p><p>TIA.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7361">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						19 May 2005, 11:33					</div>
				</div>
				<div class="post-content content">
					<p>For myself, I simply tried it, and one combination worked <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I suggest trying out the pinout of the WBR2-G54 first (eg. in Your order, TX, RX, VCC, GND). Please post pictures too, if You can.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7374">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						19 May 2005, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>You can see the FCC pix for the unit&#039;s FCC ID: P27IP806SM at:</p><p><a href="https://gullfoss2.fcc.gov/prod/oet/cf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=671744&amp;fcc_id=P27IP806SMP">https://gullfoss2.fcc.gov/prod/oet/cf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=671744&amp;fcc_id=&#039;P27IP806SMP&#039;</a></p><p>In the board pix you can see the four-pin pad I mentioned in my post.&nbsp; What I identify as GND has a slightly squarish shape in the pix, which seems to me with these devices is indeed often a key to the GND connection.&nbsp; My VCC ID also seems OK, it is just choosing RX, TX as either of the two combos of the remaining pins doesn&#039;t seem to work, at least I don&#039;t see any output on boot or otherwise in a minicom serial console.</p><p>(:</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7379">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">frogzoo</div>
					<div class="post-datetime">
						20 May 2005, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>Set minicom&#039;s speed to 115200 and _without_ hardware handshake - use none, or software.</p><p>If you haven&#039;t already done so, you&#039;ll need to install stty and setserial.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7380">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						20 May 2005, 03:12					</div>
				</div>
				<div class="post-content content">
					<p>Thanks:&nbsp; I&#039;ve already tried that, as well as many other twiddles to the minicom serial port settings.&nbsp; The same setup has worked with other routers.</p><p>Incidentally, I forgot to mention I&#039;ve also &quot;attacked&quot; this router by trying to install firmware (openwrt-generic-squashfs.trx) using the router&#039;s firmware update web utility and also by the usual command line tftp.&nbsp; The router&#039;s lights blink, but nothing happens, it just silently rejects it (?).&nbsp; A very weird thing about this router is that with the web update utility you get a msg that it&#039;s trying the upgrade, but this never stops, even if you wait a long time. In my experience routers are usually much more positive [or negative!], returning with an error report or some such.</p><p>The router is difficult to reverse engineer, there&#039;s no firmware image to study, at least none I&#039;ve been able to find.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7382">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">frogzoo</div>
					<div class="post-datetime">
						20 May 2005, 03:48					</div>
				</div>
				<div class="post-content content">
					<p>Apparently some routers look for their model number in the header. Maybe take a look at one of the stock images with a hex viewer, and if necessary, hack your OpenWRT image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7386">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						20 May 2005, 05:24					</div>
				</div>
				<div class="post-content content">
					<p>Unfortunately, Buffalo Tech posts no &quot;stock&quot; firmware images for this router.&nbsp; If I use as a template the image for the WBR-G54 [which this is NOT] and insert its info ahead of &quot;HDR0&quot; (including editing model, adjusting the file size, etc.), this also mysteriously fails.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p7389">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">frogzoo</div>
					<div class="post-datetime">
						20 May 2005, 05:59					</div>
				</div>
				<div class="post-content content">
					<p>Looking at the Hardware notes: <a href="http://openwrt.org/OpenWrtDocs">http://openwrt.org/OpenWrtDocs</a></p><p>I don&#039;t see any mention of the WYR-G54. Are you sure OpenWRT can even run on this platform?</p><p>It&#039;s possible the serial pinouts are similiar to:<br /><a href="http://openwrt.org/OpenWrtDocs/Hardware/Buffalo/WBR2-G54">http://openwrt.org/OpenWrtDocs/Hardware â€¦ o/WBR2-G54</a></p><div class="quotebox"><blockquote><p>How DOES one make these assigments using only a DMM?</p></blockquote></div><p>If you&#039;re using a digital multimeter, it should be easy to identify VCC &amp; GND using the ohmeter (use the lowest range - not advisable to do this with an analogue as you might blow something up).</p><p>That leaves just TX &amp; RX - maybe try pot luck &amp; if it doesn&#039;t work, swap them over.</p>											<p class="post-edited">(Last edited by <strong>frogzoo</strong> on 20 May 2005, 06:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9502">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">rosco_pc</div>
					<div class="post-datetime">
						14 Jul 2005, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>There seems to be a firmware available, only not from the usual places. Have a look at this thread in the buffalo forum over at DSL reports:<br /><a href="http://www2.dslreports.com/forum/remark,13072740">http://www2.dslreports.com/forum/remark,13072740</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p9553">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						15 Jul 2005, 18:59					</div>
				</div>
				<div class="post-content content">
					<p>I have found that the 3.3V shown by the DMM on one pin (see above &quot;diagram&quot;) drops to an unusable level because of loading&nbsp; (I guess), after connecting a AD233AK level shifter&#039;s power inputs.&nbsp; My next step should be to just use a battery to power the level shifter, but I haven&#039;t gotten to that yet.</p><p>I found that firmware image on the sercomm.com site some time ago, but haven&#039;t had any luck reverse engineering it.</p><p>All in all a frustrating router, this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p13536">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tkaczma</div>
					<div class="post-datetime">
						11 Oct 2005, 02:12					</div>
				</div>
				<div class="post-content content">
					<p>Any progress on this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25658">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">akadruid</div>
					<div class="post-datetime">
						20 Apr 2006, 16:49					</div>
				</div>
				<div class="post-content content">
					<p>Anyone still looking at this router?&nbsp; It is the cheapest 802.11g router available here in the UK, by a significant amount.</p><p>Buffalo have firmware images available on their website, and an offer to distribute the GPL sources for their routers.&nbsp; You can get the firmware here:</p><p><a href="http://www.buffalo-technology.com/support/downloads.php">http://www.buffalo-technology.com/support/downloads.php</a></p><p>But they make getting the GPL sources as difficult as they can while remaining barely within the letter of the license.&nbsp; The offer is as follows:<br /></p><div class="quotebox"><blockquote><p>For each individual GPL source package for each individual product and revision,<br />please send one individually packaged self addressed padded CD shipping envelope,<br />containing a blank CD-R to the following address:<br />Buffalo Technology Ireland Ltd<br />Free Zone East, Shannon, Co. Clare<br />Ireland<br />Attn. Gerardine Lynch-Product Marketing Manager<br />Within the envelope containing the self addressed padded CD shipping envelope,<br />please include a bank draft or money order for 20 Euros to cover our handling fee,<br />postage and CD preparation. The CD-R should have the name of the product and<br />revision number clearly written on the actual CD-R (not on the insert).<br />We do not send GPL source in bulk on a DVD. And order confirmation is not<br />required by the GNU General Public License.</p></blockquote></div><p>20 Euros is more than half the cost of the device itself, and the &#039;order confirmation&#039; line is there to allow them to delay 6 months in sending your CD-R back.</p>											<p class="post-edited">(Last edited by <strong>akadruid</strong> on 20 Apr 2006, 16:56)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>