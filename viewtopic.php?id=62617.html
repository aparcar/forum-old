<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WDS compatibility between Atheros and Ralink?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p310665">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						7 Feb 2016, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi, would like to know if someone can tell me if with drivers implementing mac80211 is any issue when mixing WDS from different hardware like Atheros and Ralink. There were troubles long time ago if you mixed different hardware, but I&#039;m not sure if this is still true, with actual wifi drivers.</p><p>From&nbsp; <a href="https://wireless.wiki.kernel.org/en/users/documentation/iw#setting_up_a_wds_peer">https://wireless.wiki.kernel.org/en/use â€¦ a_wds_peer</a><br /><span style="color: grey"><em>WDS mode is a non-standard extension to the IEEE 802.11 standard to allow transparent Ethernet bridging on the station and to implement seamingless hand-over for wireless clients roaming between different access points. Due to its non-standard nature, WDS is often implemented differently in wireless drivers and vendor firmwares making them incompatible with each other. In order to use WDS, one should use the same hardware and software on all deployed wireless devices to maintain compatibility.</em></span></p><p>But it also says:<br /><span style="color: grey"><em>In order for this to work the driver must implement the cfg80211 callback set_wds_peer(). mac80211 implements this callback, so the respective mac80211 driver would just need to support WDS type interfaces. What WDS will do is replace the first address on the 802.11 header with the peer address when TXing frames. Instead of using WDS though you may want to consider using 4-address mode described below if you have control over the software running on the AP and respective clients/peers connected.</em></span></p><p>For example, if you make an WDS bridge between an <strong>AR9331</strong> based device (AP-WDS) and a <strong>RT5350</strong> based device(Client-WDS),&nbsp; will it work fine?</p>											<p class="post-edited">(Last edited by <strong>danitool</strong> on 7 Feb 2016, 23:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310673">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						8 Feb 2016, 00:31					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t know how with ralink, but with two different broadcom based vdsl modems sold in here I have never been able to make the wds bridge working and realyd sucked too, so I solved it buying another router, tp link wr841n eats 2W and WDS works perfectly. If the WDS with ralink will work, you will be very lucky I think ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311218">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">eas</div>
					<div class="post-datetime">
						13 Feb 2016, 04:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nozombian wrote:</cite><blockquote><p>I don&#039;t know how with ralink, but with two different broadcom based vdsl modems sold in here I have never been able to make the wds bridge working and realyd sucked too, so I solved it buying another router, tp link wr841n eats 2W and WDS works perfectly. If the WDS with ralink will work, you will be very lucky I think ;-)</p></blockquote></div><p>Broadcom WDS isn&#039;t comparable...</p><p>I have some cheap ralink based routers coming. When they get here, I&#039;m going to try connecting them to an atheros via WDS.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311219">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Alex Atkin UK</div>
					<div class="post-datetime">
						13 Feb 2016, 04:55					</div>
				</div>
				<div class="post-content content">
					<p>From what I have read its never a good idea to operate WDS between different hardware as its implementation can vary between vendors.</p><p>Unfortunately the only way to know is to try it, there are no guarantees.</p><p>My personal experience though has been that with my WDR3600 as the WDS-Server, I have never had any issues connecting <strong>any</strong> device as a client.&nbsp; It also seems to handle both normal and WDS clients concurrently without issues.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312027">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">eas</div>
					<div class="post-datetime">
						18 Feb 2016, 20:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eas wrote:</cite><blockquote><div class="quotebox"><cite>nozombian wrote:</cite><blockquote><p>I don&#039;t know how with ralink, but with two different broadcom based vdsl modems sold in here I have never been able to make the wds bridge working and realyd sucked too, so I solved it buying another router, tp link wr841n eats 2W and WDS works perfectly. If the WDS with ralink will work, you will be very lucky I think ;-)</p></blockquote></div><p>Broadcom WDS isn&#039;t comparable...</p><p>I have some cheap ralink based routers coming. When they get here, I&#039;m going to try connecting them to an atheros via WDS.</p></blockquote></div><p>My Ralink RT5350F based a5-v11 routers arrived. I flashed them with the appropriate build of 15.05 and found that they successfully connected to an Atheros-based AP/WDS using WPA2-Personal encryption in WDS Client mode and that a wired client attatched to the Ralink was able to obtain a DHCP address over the WiFi link and exchange traffic.</p><p>In short, Ralink - Atheros WDS seems to work as expected, at least in some combinations.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312029">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						18 Feb 2016, 20:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi <strong>eas</strong>, thanks for sharing your experience, and great to know they are compatible. But is it stable enough with good performance?, in theory WDS bridges bring the best performance since there is no routing involved.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312036">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						18 Feb 2016, 21:08					</div>
				</div>
				<div class="post-content content">
					<p>WDS AP/WDS Client in OpenWrt is not the same as WDS bridge. It is routed WDS.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312299">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						22 Feb 2016, 14:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>anarchy99 wrote:</cite><blockquote><p>WDS AP/WDS Client in OpenWrt is not the same as WDS bridge. It is routed WDS.</p></blockquote></div><p>Please explain, routed WDS, is <strong>iptables</strong> involved anywhere?</p><p>Or is there any low level routing involved?, if this is the case, tell us how it works.</p><p>Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312386">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">eas</div>
					<div class="post-datetime">
						23 Feb 2016, 22:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danitool wrote:</cite><blockquote><p>Hi <strong>eas</strong>, thanks for sharing your experience, and great to know they are compatible. But is it stable enough with good performance?, in theory WDS bridges bring the best performance since there is no routing involved.</p></blockquote></div><p>Stability seems good. Performance is hard to say; the Ralink device is a tiny, cheap travel router. I can rarely get wifi negotiating link speeds of more than 11Mbps downstream. I think though that is a hardware limitation, not a WDS-related issue. I&#039;ve got a cheap dual-stream Ralink device coming with, hopefully, better antennas.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>