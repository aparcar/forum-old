<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to add new iptables code or replace the current uci setup?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p254688">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hmikux</div>
					<div class="post-datetime">
						17 Nov 2014, 22:36					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,</p><p>I&#039;m wondering, what&#039;s the best practise to replace the current firewall configration by some own code written in iptables statements.&nbsp; When I&#039;m honest, I do not like the luci option to configure the firewall incl. the method to define the forwarding based on zones.&nbsp; I would rather add some granular statements as a shell script and load the commands after boot-up of the system.</p><p>Is the &quot;/etc/firewall.user&quot; the correct location or could I replace the code in file &quot;/etc/init.d/firewall&quot; to get my own iptables script enabled? Should I disable the actual openwrt firewall and delpoy another service incl. start/stop script to execute my iptables settings? I would like to understand the best method (keep it simple) how to replace the uci fw config by own code!</p><p>Thank You Very Much.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p254705">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						18 Nov 2014, 00:22					</div>
				</div>
				<div class="post-content content">
					<p>Uninstall &quot;firewall&quot; and deploy your own code in /etc/rc.local or write a custom init script.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>