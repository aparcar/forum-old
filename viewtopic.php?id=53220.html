<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Tenda 3g150m bricked. Not accepting new firmware from uboot.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p249783">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jimbolaya</div>
					<div class="post-datetime">
						8 Oct 2014, 23:19					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve got a 3g150m that seemed to be working fine until I loaded a bad firmware on it. Now, the uboot interface doesn&#039;t seem to finish loading the firmware from tftp.</p><p>This is what happens when I attempt to boot normally (from the serial console):<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Mar 19 2010 - 16:33:16)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
spi_wait_nsec: 3e   
spi deice id: c2 20 16 c2 20 (2016c220)
find flash: mx25l3205d
raspi_read: from:30000 len:1000   
*** Warning - bad CRC, using default environment</code></pre></div><p>It just hangs there.</p><p>I can tell the uboot to load a firmware from tftp, but it never seems to finish after the firmware is loaded:<br /></p><div class="codebox"><pre><code>Please choose the operation:
   1: Load system code to SDRAM via TFTP.
   2: Load system code then write to Flash via TFTP.
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   9: Load Boot Loader code then write to Flash via TFTP.

You choosed 2

0

2: System Load Linux Kernel then write to Flash via TFTP.
 Warning!! Erase Linux in Flash then burn new one. Are you sure?(Y/N)
 Please Input new ones /or Ctrl-C to discard
      Input device IP (10.10.10.123) ==:10.10.10.123
      Input server IP (10.10.10.3) ==:10.10.10.3
      Input Linux Kernel filename () ==:test.bin

 netboot_common, argc= 3

 NetTxPacket = 0x81FE4400

 KSEG1ADDR(NetTxPacket) = 0xA1FE4400

 NetLoop,call eth_halt !

 NetLoop,call eth_init !
Trying Eth0 (10/100-M)

 Waitting for RX_DMA_BUSY status Start... done

 Header Payload scatter function is Disable !!

 ETH_STATE_ACTIVE!!
Using Eth0 (10/100-M) device
TFTP from server 10.10.10.3; our IP address is 10.10.10.123
Filename &#039;test.bin&#039;.

 TIMEOUT_COUNT=10,Load address: 0x80100000
Loading: Got ARP REPLY, set server/gtwy eth addr (00:e0:b8:6d:32:ec)
Got it
T #
 first block received
################################################################
       #################################################################
       #################################################################
       #################################################################
       #################################################################
       #################################################################
       #################################################################
       #################################################################
       #################################################################
       ##############################
done
Bytes transferred = 3145732 (300004 hex)</code></pre></div><p>And there it hangs. I&#039;ve tried the Tenda firmware and I&#039;ve tried the &quot;factory&quot; firmware and the &quot;sysupgrade&quot; firmware from images I&#039;ve loaded successfully in the past using sysupgrade. All seem to have the same result. Does anyone have any suggestions? Should I try loading a new uboot image? If so, where would I find something like that?</p><p>James</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>