<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRT54GS v4</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p11408">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						28 Aug 2005, 00:50					</div>
				</div>
				<div class="post-content content">
					<p>Just got a WRT54GS which seems to be v4 (serial number on outside of box begins CGN60E...).</p><p>Enabling boot_wait via the serial port seems to go OK.</p><p>Is it safe to try to install a recent openwrt snapshot ??</p><p>----</p><p>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)<br />Build Date: Tue Jun 28 16:38:04 CST 2005 (root@localhost.localdomain)<br />Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.</p><p>Initializing Arena<br />Initializing Devices.</p><p>No DPN<br />et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.37.0<br />CPU type 0x29008: 200MHz<br />Total memory: 16384 KBytes</p><p>Total memory used by CFE:&nbsp; 0x80300000 - 0x803A3620 (669216)<br />Initialized Data:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x80339530 - 0x8033BC40 (10000)<br />BSS Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8033BC40 - 0x8033D620 (6624)<br />Local Heap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x8033D620 - 0x803A1620 (409600)<br />Stack Area:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0x803A1620 - 0x803A3620 (8192)<br />Text (code) segment:&nbsp; &nbsp; &nbsp; &nbsp;0x80300000 - 0x80339530 (234800)<br />Boot area (physical):&nbsp; &nbsp; &nbsp; 0x003A4000 - 0x003E4000<br />Relocation Factor:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;I:00000000 - D:00000000</p><p>Boot version: v3.6<br />The boot is CFE</p><p>mac_init(): Find mac [00:14:BF:34:3A:C6] in location 0<br />Nothing...</p><p>eou_key_init(): Find key pair in location 0<br />The eou device id is same<br />The eou public key is same<br />The eou private key is same<br />Device eth0:&nbsp; hwaddr 00-14-BF-34-3A-C6, ipaddr 192.168.1.1, mask 255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; gateway not set, nameserver not set<br />Reading :: Failed.: Timeout occured<br />Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)<br />Loading: ...... 1601536 bytes read<br />Entry at 0x80001000<br />Closing network.<br />Starting program at 0x80001000<br />CPU revision is: 00029008<br />Primary instruction cache 16kb, linesize 16 bytes (2 ways)<br />Primary data cache 8kb, linesize 16 bytes (2 ways)<br />Linux version 2.4.20 (root@localhost.localdomain) (gcc version 3.2.3 with Broadcom modifications) #15 Tue Jun 28 16:36:21 CST 2005<br />Setting the PFC value as 0x15<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 noinitrd console=ttyS0,115200<br />CPU: BCM5352 rev 0 at 200 MHz<br />Calibrating delay loop... 199.47 BogoMIPS<br />Memory: 14404k/16384k available (1370k kernel code, 1980k reserved, 112k data, 64k init, 0k highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount-cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; unavailable.<br />POSIX conformance testing by UNIFIX<br />PCI: no core<br />PCI: Fixing up bus 0<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled<br />ttyS00 at 0xb8000300 (irq = 3) is a 16550A<br />ttyS01 at 0xb8000400 (irq = 0) is a 16550A<br />HDLC line discipline: version $Revision: 1.1.1.4 $, maxframe=4096<br />N_HDLC line discipline registered.<br />PPP generic driver version 2.4.2<br />Flash device: 0x400000 at 0x1c000000<br />Physically mapped flash: squashfs filesystem found at block 926<br />le32_to_cpu(trx-&gt;magic)=0x30524448 trx-&gt;magic=0x30524448<br />bcm947xx_parts[1].offset=0x0 trx-&gt;offsets[1]=0x1 off<br />off=0xe7af4 off1=0x400000 size=0x400000<br />(Not Found Lang Block)off=0xe7af4 off1=0x3a0000 size=0x400000<br />nvram: offset=0x3f0000 size=0x10000<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;pmon&quot;<br />0x00040000-0x003a0000 : &quot;linux&quot;<br />0x000e7af4-0x003a0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x003a0000-0x003f0000 : &quot;lang&quot;<br />0x003f0000-0x00400000 : &quot;nvram&quot;<br />sflash: found no supported devices<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 2048)<br />Linux IP multicast router 0.06 plus PIM-SM<br />ip_conntrack version 2.1 (128 buckets, 1024 max) - 344 bytes per conntrack<br />ip_conntrack_pptp version 1.9 loaded<br />ip_nat_pptp version 1.5 loaded<br />ip_tables: (C) 2000-2002 Netfilter core team<br />ipt_time loading<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.7 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />cramfs: wrong magic<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Freeing unused kernel memory: 64k freed<br />SQUASHFS error: Can&#039;t find a SQUASHFS superblock on mtdblock(31,3)<br />ret = -1<br />www -&gt; /www<br />mount: Inappropriate ioctl for device<br />modules[0]=et buf=[et ]<br />modules[1]=ctmisc buf=[et ctmisc ]<br />modules[2]=wl buf=[et ctmisc wl ]<br />Needed modules: et ctmisc wl <br />Using /lib/modules/2.4.20/kernel/drivers/net/et/et.o<br />Using /lib/modules/2.4.20/kernel/drivers/net/ctmisc/ctmisc.o<br />Using /lib/modules/2.4.20/kernel/drivers/net/wl/wl.o<br />Hit enter to continue...type = [get_mac]<br />get_data(): cmd=0x11 count=8 len=18<br />get_data(): Get MAC count is [1]<br />get_data(): MAC 0: [00:14:BF:34:3A:C6]<br />get_data(): done<br />type = [get_eou]<br />get_data(): cmd=0x13 count=5 len=522<br />get_data(): Get EOU count is [1]<br />get_data(): EOU 0: [LDF9UYWN3744561b66bc5c8ef1d11bd9c86261558a093a4bde0ae8490aced914062b960e394f3c8787e4cb959a0263a5ed905904b6210b6422afebe31ddcf8839cb3e0000cca759852ddea24e482e4202bc46967640e87185f765ce3b8e3e3bbe02f49ada056013fa788aac364c427cde8bba649ab8f3758d991d14c74b5d52fca4f60e1bbe857f6c3b3a119362d5eb142e817bc6eec2c9b8c8b7c2b8b25aeddae9431638fa70100013d1a963ed4ec675aeac8433809f387a922eed0ff228025e196c66848aa6a7f13bfb369ba2ae926b243ad660f8cf85824aa0fac961db375b19716892c4167752cf5d0816244d75833c3d5fa0db344c76b2613ab2e0e24ac678d867311]<br />get_data(): done<br />type = [get_sn]<br />get_data(): cmd=0x15 count=8 len=20<br />get_data(): Get SN count is [0]<br />get_data(): done<br />type = [get_flash_type]<br />get_flash_type(): cmd=0x17 count=0 len=0<br />Get FLASH TYPE is [Intel 28F320C3 2Mx16 BotB]<br />The boot is CFE<br />insmod: writemac.o: no module by that name found<br />rmmod: writemac: No such file or directory<br />killall: httpd: no process killed<br />name=[vlan0] lan_ifname=[br0]<br />=====&gt; set br0 hwaddr to vlan0<br />name=[eth1] lan_ifname=[br0]<br />Write wireless mac successfully<br />br0: No child processes<br />name=[eth2] lan_ifname=[br0]<br />eth2: No such device<br />name=[eth3] lan_ifname=[br0]<br />eth3: No such device<br />lo: File exists<br />syslogd: 0: Unknown host<br />The boot is CFE<br />tftp server started<br />tftpd: standalone socket<br />[HTTPD Starting on /www]<br />br0 192.168.3.100&nbsp; 86400<br />info, udhcp server (v0.9.8) started<br />zebra disabled.<br />EOU: Generate hash of public key: 35 72 73 39 CD DA 72 DE EA E4 32 7C 94 31 4A 76 - E4 16 59 16 </p><p>EOU: The EoU is already configured<br />No interface specified. Quitting...</p><p>SES_SUPPORT_NEW_BOARD=1<br />SES2: In brcm_ses_event_get(), event in = SES2: In brcm_ses_event_notify(), event = SES_EVTO_UNCONFIGURED!!!<br />SES2: In brcm_ses_event_get(), event in = SES_EVTI_NULL!!!<br />calling upnp_main<br />tallest:=====( wan_or_lan=wan )=====<br />tallest:=====( wan_or_lan=wan is wan !!)=====<br />Hit enter to continue...info, udhcp client (v0.9.8) started<br />No interface specified. Quitting...<br />Hit enter to continue...SES_EVTI_NULL!!!</p><p>----</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11410">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						28 Aug 2005, 02:06					</div>
				</div>
				<div class="post-content content">
					<p>What&#039;s the firmware version currently installed?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11413">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						28 Aug 2005, 02:31					</div>
				</div>
				<div class="post-content content">
					<p>SysInfo.htm reports :</p><div class="codebox"><pre><code>Vendor:LINKSYS
ModelName:WRT54GSV4
Firmware Version:v1.05.0 , Jun 28 2005
#:001
Boot Version:v3.6.4
CodePattern:W54s
Country:US

RF Status:enabled
RF Firmware Version:v1.05.0
RF Domain:US (channel 1~11)
RF Channel:6
RF SSID:T65

-----Dynamic Information
RF Mac Address:00:14:BF:34:3A:C8
LAN Mac Address:00:14:BF:34:3A:C6
WAN Mac Address:00:14:BF:34:3A:C7
Hardware Version:2.0
Device Serial No.:</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11414">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						28 Aug 2005, 02:39					</div>
				</div>
				<div class="post-content content">
					<p>Just as I suspected. Please wait with trying to flash OpenWrt until we at least have a firmware file that will work on your router for sure. I haven&#039;t seen this v1.05 firmware anywhere nor any mention of the WRT54GSv4 router on the Linksys website.<br />If you want to try it anyway, you should add JTAG to your router and make a backup of the currently installed firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11431">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						28 Aug 2005, 11:11					</div>
				</div>
				<div class="post-content content">
					<p>Pf. seems like the GS v4 has 4MB flash and 16MB RAM only <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11439">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">linksysinfo</div>
					<div class="post-datetime">
						28 Aug 2005, 15:02					</div>
				</div>
				<div class="post-content content">
					<p>any internal pics yet?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11457">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						29 Aug 2005, 08:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>any internal pics yet?</p></blockquote></div><p><a href="http://www.armcc.org/wrt54gsv4/index.php?spgmGal=internals">http://www.armcc.org/wrt54gsv4/index.ph … =internals</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11458">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">wigyori</div>
					<div class="post-datetime">
						29 Aug 2005, 10:31					</div>
				</div>
				<div class="post-content content">
					<p>Hmm, seems like it has completely the same board that WRT54G v4 uses, with the same transceiver that was changed on WRT54G v5. IMHO two cases exist:<br />a.) this transceiver is shitty, and will be replaced soon on this board too, thus releasing a WRT54GS v5, or <br />b.) this transceiver was too expensive - or too good - for WRT54G v4 product line, and will become the only difference between the G and the GS line - as of the current features (4Mb flash, 16Mb memory), there is nothing else. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Now, can anybody tell a manufacturer and type of this transceiver?</p><p>-w-</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11464">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">linksysinfo</div>
					<div class="post-datetime">
						29 Aug 2005, 11:57					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the pictures, do you mind if I use them on my website for some news and info?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11487">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">thefRont</div>
					<div class="post-datetime">
						29 Aug 2005, 20:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Kaloz wrote:</cite><blockquote><p>Pf. seems like the GS v4 has 4MB flash and 16MB RAM only <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p></blockquote></div><p>that looks like a step back into stoneage.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11552">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						31 Aug 2005, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>Good news! Linksys has released a source tarball for the WRT54GSv4 v1.05 stuff - I&#039;ve looked through the kernel source and they didn&#039;t change it at all since WRT54GS v4.70, so I guess it&#039;s not that much different from the GS v3.<br />Now I have added some (hopefully working) firmware image patterns for that thing. You can get them here: <a href="http://downloads.openwrt.org/people/nbd/whiterussian/">http://downloads.openwrt.org/people/nbd/whiterussian/</a><br />So please test them whenever you feel like it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11591">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						1 Sep 2005, 00:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Good news! Linksys has released a source tarball for the WRT54GSv4 v1.05 stuff - I&#039;ve looked through the kernel source and they didn&#039;t change it at all since WRT54GS v4.70, so I guess it&#039;s not that much different from the GS v3.</p></blockquote></div><p>Do you have a link ??<br />I still don&#039;t see an official WRT54GSv4 v1.05 firmware on the linksys website (not that I plan to go back, but just in case... ;-)</p><div class="quotebox"><blockquote><p>Now I have added some (hopefully working) firmware image patterns for that thing. You can get them here: <a href="http://downloads.openwrt.org/people/nbd/whiterussian/">http://downloads.openwrt.org/people/nbd/whiterussian/</a><br />So please test them whenever you feel like it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p><strong>Issue 1</strong> : Direct ethernet connection between PC and WRT bootloader doesn&#039;t seem to work with a straight through cable.<br />A crossover cable does work though (and probably a hub or switch would work fine as well, but I didn&#039;t have one to hand).<br />No big problem, but I don&#039;t remember seeing it mentioned in the Wiki install notes.</p><p><strong>Issue 2</strong> : OpenWrt seems to get uart baud rate wrong...<br />Here&#039;s the uart output of the reflashing process:</p><div class="codebox"><pre><code>...
Reading :: CODE Pattern is CORRECT!
upgrade_ver[v1.5.0] upgrade_ver[10500] 4712_ver[10000]
Done. 2229248 bytes read
fname=flash1.trx
CODE Pattern is correct! (W54s)
Programming...done. 2229216 bytes written
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: .. 3704 bytes read
Entry at 0x80001000
Closing network.
Starting program at 0x80001000

&lt;after this, I get garbage&gt;</code></pre></div><p>Looking at the Tx output of the router with a scope, it seems to have a baud rate of 125000 (ie 8.5% faster than expected for 115200).</p><p><strong>But the good news... telnet connection (tested via ethernet) works !!</strong></p><div class="codebox"><pre><code>siig-ryan:~# telnet 192.168.3.10
Trying 192.168.3.10...
Connected to 192.168.3.10.
Escape character is &#039;^]&#039;.
 === IMPORTANT ============================
  Use &#039;passwd&#039; to set your login password
  this will disable telnet and enable SSH
 ------------------------------------------


BusyBox v1.00 (2005.08.30-13:48+0000) Built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 WHITE RUSSIAN (CVS) -------------------------------
  * 2 oz Vodka   Mix the Vodka and Kahlua together
  * 1 oz Kahlua  over ice, then float the cream or
  * 1/2oz cream  milk on the top.
 ---------------------------------------------------
root@OpenWrt:/# ls -la
drwxr-xr-x    1 root     root            0 Aug 30  2005 .
drwxr-xr-x    1 root     root            0 Aug 30  2005 ..
drwxr-xr-x    1 root     root            0 Aug 30  2005 bin
drwxr-xr-x    1 root     root            0 Jan  1  1970 dev
drwxr-xr-x    1 root     root            0 Apr 30  2005 etc
drwxr-xr-x    1 root     root            0 Aug 30  2005 lib
dr-xr-xr-x   32 root     root            0 Jan  1 00:00 proc
drwxr-xr-x    1 root     root            0 Apr 20  2005 rom
drwxr-xr-x    1 root     root            0 Aug 30  2005 sbin
drwxrwxrwt    4 root     root          100 Jan  1 00:00 tmp
drwxr-xr-x    1 root     root            0 Aug 30  2005 usr
lrwxrwxrwx    1 root     root            4 Aug 30  2005 var -&gt; /tmp
drwxr-xr-x    1 root     root            0 Feb  6  2005 www
root@OpenWrt:/# dmesg
CPU revision is: 00029008
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Linux version 2.4.30 (nbd@ux-2y01) (gcc version 3.4.4) #1 Wed Aug 31 01:30:09 CEST 2005
Setting the PFC value as 0x15
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
On node 0 totalpages: 4096
zone(0): 4096 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
CPU: BCM5352 rev 0 at 200 MHz
Using 100.000 MHz high precision timer.
Calibrating delay loop... 199.47 BogoMIPS
Memory: 14296k/16384k available (1390k kernel code, 2088k reserved, 100k data, 80k init, 0k highmem)
Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)
Inode cache hash table entries: 1024 (order: 1, 8192 bytes)
Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
POSIX conformance testing by UNIFIX
PCI: no core
PCI: Fixing up bus 0
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.
Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher
pty: 256 Unix98 ptys configured
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled
ttyS00 at 0xb8000300 (irq = 3) is a 16550A
ttyS01 at 0xb8000400 (irq = 0) is a 16550A
Software Watchdog Timer: 0.05, timer margin: 60 sec
Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0
cfi_cmdset_0001: Erase suspend on write enabled
0: offset=0x0,size=0x2000,blocks=8
1: offset=0x10000,size=0x10000,blocks=63
Using word write method
Flash device: 0x400000 at 0x1c000000
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:
0x00000000-0x00040000 : &quot;pmon&quot;
0x00040000-0x003f0000 : &quot;linux&quot;
0x000c0000-0x00260000 : &quot;rootfs&quot;
0x003f0000-0x00400000 : &quot;nvram&quot;
0x00260000-0x003f0000 : &quot;OpenWrt&quot;
Initializing Cryptographic API
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 1024 bind 2048)
ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack
ip_tables: (C) 2000-2002 Netfilter core team
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Ethernet Bridge 008 for NET4.0
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (jffs2 filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 80k freed
Algorithmics/MIPS FPU Emulator v1.5
diag boardtype: 00000467
jffs2.bbc: SIZE compression mode activated.
PCI: Setting latency timer of device 00:01.0 to 64
eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0
PCI: Setting latency timer of device 00:05.0 to 64
eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0
device eth0 entered promiscuous mode
vlan0: Setting MAC address to  00 14 bf 34 3a c6.
VLAN (vlan0):  Underlying device (eth0) has same MAC, not checking promiscious mode.
vlan0: add 01:00:5e:00:00:01 mcast address to master interface
device eth1 entered promiscuous mode
eth1: attempt to add interface with same source address.
br0: port 2(eth1) entering learning state
br0: port 1(vlan0) entering learning state
br0: port 2(eth1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(vlan0) entering forwarding state
br0: topology change detected, propagating
vlan1: Setting MAC address to  00 14 bf 34 3a c7.
vlan1: add 01:00:5e:00:00:01 mcast address to master interface
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
SysRq : HELP : loglevel0-8 reBoot tErm kIll showMem showPc unRaw Sync showTasks Unmount 
root@OpenWrt:/#</code></pre></div><p>Kernel timer tick seems to be working fine (sleep 10 takes 10 seconds and pings go out once a second as expected).</p><p>I guess I should test the WiFi next, but things look good so far.</p><p>Thanks !!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11592">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">linksysinfo</div>
					<div class="post-datetime">
						1 Sep 2005, 00:38					</div>
				</div>
				<div class="post-content content">
					<p><a href="ftp://ftp.linksys.com/opensourcecode/wrt54gs/1.05.0/WRT54GSV4_v1.05.0.tgz">ftp://ftp.linksys.com/opensourcecode/wr … 1.05.0.tgz</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11593">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						1 Sep 2005, 00:40					</div>
				</div>
				<div class="post-content content">
					<p>Please send me a dump of your nvram, I&#039;ll try to fix the serial console then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11595">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						1 Sep 2005, 01:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>Please send me a dump of your nvram, I&#039;ll try to fix the serial console then.</p></blockquote></div><p>Here&#039;s the output of &#039;nvram showall&#039; after telnetting into openwrt.<br />I&#039;ve enabled boot_wait, but everything else should be as the Linksys firmware left it.</p><p>How does it help fix the UART ?? (just curious...)</p><div class="codebox"><pre><code>filter_web_host4=
pppoe_keepalive=0
router_name=WRT54GSV4
qos_appport7=0
filter_web_host5=
qos_appport8=0
Intel_firmware_version=v1.00.0
filter_web_host6=
https_enable=0
filter_web_host7=
wl_infra=1
ses_event=0
filter_web_host8=
l2tp_get_ip=
filter_web_host9=
pmon_ver=CFE 3.91.37.0
ppp_get_ac=
pptp_server_ip=
wan_run_mtu=1500
get_sn=
restore_defaults=0
ppp_username=
filter_port=
wan_lease=0
wl0_wme_sta_be=15 1023 3 0 0 off
d11g_dtim=1
ddns_enable_buf=
filter_ip_grp1=
http_wanport=8080
wl_radius_ipaddr=
ddns_hostname=
filter_ip_grp2=
filter_ip_grp3=
wl0_ifname=eth1
lan_domain=
filter_ip_grp4=
dr_lan_rx=0
timer_interval=3600
filter_ip_grp5=
wl0_wme_sta_bk=15 1023 7 0 0 off
filter_ip_grp6=
gpio2=ses_led
filter_rule1=
filter_ip_grp7=
pppoe_ac=
wl_net_reauth=36000
gpio3=ses_led2
filter_rule2=
filter_ip_grp8=
gpio4=ses_button
ipsec_pass=1
hb_server_ip=
qos_devmac1=00:00:00:00:00:00
vlan0ports=3 2 1 0 5*
filter_rule3=
filter_ip_grp9=
ses_enable=1
qos_devmac2=00:00:00:00:00:00
filter_rule4=
lan_route=
filter_rule5=
wl0_mrate=0
filter_rule6=
filter_ip_grp10=
wan_gateway=0.0.0.0
filter_rule7=
wl0_mode=ap
filter_rule8=
dhcp_start=100
filter_rule9=
wl0_ap_isolate=0
ident_pass=0
eou_configured=1
wl_mrate=0
os_flash_addr=bfc40000
wl_akm=
l2tp_server_ip=
sromrev=2
dhcp_lease=0
wl0_gmode=6
wl0_wme_no_ack=off
qos_devpri1=0
get_mac_index=1
qos_devpri2=0
boardtype=0x0467
wl_active_add_mac=0
is_default=1
ping_ip=
wl_gmode=6
stats_server=
static_route=
d11g_rate=0
wl0_wep_last=
lan_netmask=255.255.255.0
dmz_enable=0
http_username=
wl0_ssid=T65
wl0_dtim=1
wl_wme_sta_vi=7 15 2 6016 3008 off
port_trigger=
manual_rate=0
filter_web_host10=
wl_wme_ap_be=15 63 3 0 0 off
qos_devname1=
os_date=Jun 28 2005
qos_devname2=
http_lanport=80
filter_mac_grp1=
wl_plcphdr=long
wl_wme_sta_vo=3 7 2 3264 1504 off
filter_mac_grp2=
ppp_redialperiod=30
ppp_service=
wl_macmode=disabled
wan_hwname=
wan_domain=
filter_mac_grp3=
wl_wme_ap_bk=15 1023 7 0 0 off
wl0id=0x4320
lan_lease=86400
wan_netmask=0.0.0.0
filter_mac_grp4=
wl_phytype=g
wl0_key1=
wl_lazywds=1
filter_mac_grp5=
pppoe_static_ip=
wl0_key2=
filter_mac_grp6=
wl0_key3=
filter_mac_grp7=
wl0_key4=
filter_client0=
filter_mac_grp8=
filter_maclist=
filter_mac_grp9=
ppp_demand=0
wl_auth_mode=none
pptp_get_ip=
pptp_pass=1
ppp_keepalive=0
mtu_enable=0
d11g_rts=2347
block_activex=0
ag0=0x02
http_passwd=admin
wl_wpa_psk=
remote_mgt_https=0
block_wan=1
lan_stp=0
wl0_wme_ap_vi=7 15 1 6016 3008 off
wl_mode=ap
skip_amd_check=0
wl0_closed=0
wl0_rate=0
wl0_plcphdr=long
wl0_macmode=disabled
d11g_rateset=default
wl_wpa_gtk_rekey=3600
wl0_radioids=BCM2050
lan_dhcp=0
wl0_wme_ap_vo=3 7 1 3264 1504 off
wl0gpio2=0
wl0_phytype=g
wl0gpio3=0
wl0_lazywds=1
filter_tod_buf1=
security_mode2=disabled
dr_wan_rx=0
filter_tod_buf2=
block_proxy=0
filter_tod_buf3=
boardflags2=0
upnp_ssdp_interval=60
filter_tod_buf4=
port_rate_limit_1=0
filter_tod_buf5=
port_rate_limit_2=0
http_client_ip=192.168.3.2
filter_tod_buf6=
wl0_afterburner=auto
dr_lan_tx=0
port_rate_limit_3=0
wl0_antdiv=-1
get_eou_index=1
lan_hwaddr=00:14:BF:34:3A:C6
filter_tod10=
filter_tod_buf7=
wl_wds_timeout=1
port_rate_limit_4=0
wan_dns=
filter_tod_buf8=
http_client_mac=00:09:5B:22:CD:37
filter_tod_buf9=
action_service=
wl_ssid=T65
wl_dtim=1
wl0_wpa_psk=
web_wl_filter=0
d11g_bcn=100
wl0_mac_list=
flash_type=Intel 28F320C3 2Mx16 BotB
daylight_time=1
wl_passphrase=
dhcp_wins=wan
security_mode=disabled
bcm4712_firmware_version=v1.00.0
os_server=
filter_tod_buf10=
multicast_pass=0
pppoe_static=0
wan_proto=dhcp
wl_key1=
hb_server_domain=
wl_key2=
ses_client_join=0
wl_key3=
wl0_unit=0
ses_fsm_last_status=6
wl_country_code=ALL
wl_key4=
wl_hwaddr=
ddns_cache=
aol_block_traffic1=0
wl0_net_reauth=36000
static_route_name=
aol_block_traffic2=0
pa0itssit=62
ntp_enable=1
wl_net_mode=mixed
wl_active_mac=
enable_game=0
forward_port=
d11g_frag=2346
sel_qosport1=0
filter_mac_grp10=
wl0_wds=
sel_qosport2=0
ppp_static_ip=
wl_rate=0
sel_qosport3=0
cctl=0
log_level=0
block_java=0
sel_qosport4=0
ct_modules=
ntp_server=
sel_qosport5=0
wan_hwaddr=00:14:BF:34:3A:C7
sel_qosport6=0
sel_qosport7=0
lan_ifnames=vlan0 eth1 eth2 eth3
sel_qosport8=0
pppoe_ifname=
wl_macmode1=disabled
wl0_mac_deny=
wl0_auth=0
wl0_wme=off
wl0_radius_port=1812
wl0_radius_ipaddr=
pppoe_service=
wl_country=ALL
wl0_wme_sta_vi=7 15 2 6016 3008 off
pa0maxpwr=0x4e
traceroute_ip=
ddns_change=
wan_ifnames=vlan1
remote_management=0
wl_rateset=default
wl_crypto=tkip
wl0_wme_sta_vo=3 7 2 3264 1504 off
block_loopback=0
ses_fsm_current_states=01:01
http_method=post
ppp_mru=1500
wl_wep_bit=64
lan_ipaddr=192.168.3.10
clkfreq=200
os_name=linux
lan_proto=static
filter_port_grp1=
wl_radius_key=
QoS=0
wl0_maxassoc=128
aa0=3
vlan1hwname=et0
filter_port_grp2=
filter_port_grp3=
filter_port_grp10=
ddns_passwd_2=
filter_id=1
filter_port_grp4=
wl_unit=0
dr_wan_tx=0
wl0_phytypes=g
firmware_version=v1.05.0
filter_port_grp5=
router_disable=0
filter_port_grp6=
wl0_wep=disabled
d11g_channel=6
wl0_frag=2346
filter_port_grp7=
ddns_username=
filter_port_grp8=
pppoe_passwd=
ddns_passwd=
filter_port_grp9=
ses_led_assertlvl=0
sdram_config=0x0062
log_enable=0
ppp_ac=
wl0_country=ALL
filter_web_url10=
vlan1ports=4 5
dmz_ipaddr=0
wl_wds=
security_mode_last=
scratch=a0180000
ddns_hostname_2=
eou_private_key=3744561b66bc5c8ef1d11bd9c86261558a093a4bde0ae8490aced914062b960e394f3c8787e4cb959a0263a5ed905904b6210b6422afebe31ddcf8839cb3e0000cca759852ddea24e482e4202bc46967640e87185f765ce3b8e3e3bbe02f49ada056013fa788aac364c427cde8bba649ab8f3758d991d14c74b5d52fca4f60e1
ccode=0
wl0_rateset=default
wl0_wep_bit=64
pppoe_idletime=5
wl_wme=off
port_flow_control_1=1
ping_times=
get_mac=00:14:BF:34:3A:C6
port_flow_control_2=1
eou_device_id=LDF9UYWN
lan_ifname=br0
wan_primary=1
wl_wme_ap_vi=7 15 1 6016 3008 off
port_flow_control_3=1
boardflags=0x2758
filter_services=$NAME:003:DNS$PROT:003:udp$PORT:005:53:53&lt; &gt;$NAME:004:Ping$PROT:004:icmp$PORT:003:0:0&lt; &gt;$NAME:004:HTTP$PROT:003:tcp$PORT:005:80:80&lt; &gt;$NAME:005:HTTPS$PROT:003:tcp$PORT:007:443:443&lt; &gt;$NAME:003:FTP$PROT:003:tcp$PORT:005:21:21&lt; &gt;$NAME:004:POP3$PROT:003:tcp$PORT:007:110:110&lt; &gt;$NAME:004:IMAP$PROT:003:tcp$PORT:007:143:143&lt; &gt;$NAME:004:SMTP$PROT:003:tcp$PORT:005:25:25&lt; &gt;$NAME:004:NNTP$PROT:003:tcp$PORT:007:119:119&lt; &gt;$NAME:006:Telnet$PROT:003:tcp$PORT:005:23:23&lt; &gt;$NAME:004:SNMP$PROT:003:udp$PORT:007:161:161&lt; &gt;$NAME:004:TFTP$PROT:003:udp$PORT:005:69:69&lt; &gt;$NAME:003:IKE$PROT:003:udp$PORT:007:500:500&lt; &gt;
port_flow_control_4=1
sdram_refresh=0x0000
dhcp_domain=wan
wl_auth=0
sdram_ncdl=0xfd0009
wl_wep_last=
wl_wme_ap_vo=3 7 1 3264 1504 off
wan_gateway_buf=0.0.0.0
block_cookie=0
wan_iface=vlan1
ezc_enable=1
wl_frameburst=on
upnp_wan_proto=
is_modified=0
wan_ipaddr=0.0.0.0
filter_web_url1=
dhcp_num=50
wl0_passphrase=
filter_web_url2=
filter_web_url3=
filter_web_url4=
wl0_rts=2347
filter_web_url5=
wan_wins=0.0.0.0
filter_web_url6=
wl_ifname=
filter_web_url7=
http_enable=1
wl_wep=disabled
ntp_mode=auto
filter_web_url8=
l2tp_pass=1
os_version=3.91.37.0
filter_web_url9=
pppoe_username=
wan_speed=4
wl_gmode_protection=off
qos_appname1=
wl0_wpa_gtk_rekey=3600
qos_appname2=
ppp_get_srv=
mac_clone_enable=0
qos_appname3=
wl_frag=2346
qos_appname4=
wl0_key=1
wl_wep_gen=
wan_mtu=1500
qos_appname5=
wl0_active_mac=
qos_appname6=
filter_macmode=deny
wl_maclist=
rate_mode=1
qos_appname7=
qos_appname8=
et0phyaddr=30
console_loglevel=1
time_zone=-08 1 1
wan_get_domain=
wan_ifname=vlan1
upnp_max_age=180
wl_wme_sta_be=15 1023 3 0 0 off
wl_radioids=
wan_hostname=
ppp_mtu=1500
wl_corerev=
wl0_radio=1
ddns_interval=60
wl_channel=6
wl0_bcn=100
wl_wme_sta_bk=15 1023 7 0 0 off
manual_boot_nv=0
port_priority_1=0
wl0_hwaddr=00:14:BF:34:3A:C8
filter_tod1=
ppp_static=0
wl_radio=1
wl_afterburner=auto
port_priority_2=0

filter_tod2=
port_priority_3=0
filter_tod3=
port_priority_4=0
wl0_wep_gen=
ezc_version=2
filter_tod4=
pa0b0=0x168b
filter_tod5=
wl0_gmode_protection=off
wk_mode=gateway
ddns_passwd_buf=
pa0b1=0xfabf
filter_tod6=
wl0_maclist=
eou_expired_hour=72
pa0b2=0xfeaf
filter_tod7=
sdram_init=0x010b
filter_tod8=
wl_rts=2347
filter_tod9=
vlan0hwname=et0
lan_wins=
wl_ap_isolate=0
aol_block_traffic=0
dl_ram_addr=a0001000
lan_hwnames=
wl_mac_list=
pppoe_demand=0
wl_wme_no_ack=off
filter_dport_grp10=
wl0_radius_key=
wl0_wme_ap_be=15 63 3 0 0 off
ddns_username_buf=
wl0_corerev=9
wl_key=1
wl0_channel=6
wl0_wds_timeout=1
upnp_enable=1
wl0_wme_ap_bk=15 1023 7 0 0 off
dr_setting=0
filter_rule10=
ddns_status=
ses_sw_btn_status=DEFAULTS
wl_closed=0
wl0_auth_mode=none
boot_ver=v3.6
autofw_port0=
boardnum=42
language=EN
wl0_crypto=tkip
def_hwaddr=00:00:00:00:00:00
wl_bcn=100
wl_wep_buf=
get_sn_index=0
eou_public_key=bbe857f6c3b3a119362d5eb142e817bc6eec2c9b8c8b7c2b8b25aeddae9431638fa70100013d1a963ed4ec675aeac8433809f387a922eed0ff228025e196c66848aa6a7f13bfb369ba2ae926b243ad660f8cf85824aa0fac961db375b19716892c4167752cf5d0816244d75833c3d5fa0db344c76b2613ab2e0e24ac678d867311
filter_dport_grp1=
filter_dport_grp2=
wl_antdiv=-1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11597">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						1 Sep 2005, 01:59					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t know if the nvram will help at all. I just wanted to have a look at it to see if there&#039;s anything that can give me a hint.<br />Please flash this image: <a href="http://openwrt.inf.fh-brs.de/~nbd/test/">http://openwrt.inf.fh-brs.de/~nbd/test/</a><br />It won&#039;t fix the UART problem, but it&#039;ll print some debugging output that might help...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11598">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						1 Sep 2005, 02:29					</div>
				</div>
				<div class="post-content content">
					<p>No obvious difference in the uart output.<br />New dmesg:</p><div class="codebox"><pre><code>root@OpenWrt:/# dmesg
CPU revision is: 00029008
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Linux version 2.4.30 (nbd@ux-2y01) (gcc version 3.4.4) #2 Thu Sep 1 00:48:37 CEST 2005
CHIP ID: 0x00005352, PLL Type: 0x00038000
Setting the PFC value as 0x15
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
On node 0 totalpages: 4096
zone(0): 4096 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
CPU: BCM5352 rev 0 at 200 MHz
Using 100.000 MHz high precision timer.
Calibrating delay loop... 199.47 BogoMIPS
Memory: 14296k/16384k available (1390k kernel code, 2088k reserved, 100k data, 80k init, 0k highmem)
Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)
Inode cache hash table entries: 1024 (order: 1, 8192 bytes)
Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
POSIX conformance testing by UNIFIX
PCI: no core
PCI: Fixing up bus 0
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.
Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher
pty: 256 Unix98 ptys configured
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled
ttyS00 at 0xb8000300 (irq = 3) is a 16550A
ttyS01 at 0xb8000400 (irq = 0) is a 16550A
Software Watchdog Timer: 0.05, timer margin: 60 sec
Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0
cfi_cmdset_0001: Erase suspend on write enabled
0: offset=0x0,size=0x2000,blocks=8
1: offset=0x10000,size=0x10000,blocks=63
Using word write method
Flash device: 0x400000 at 0x1c000000
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:
0x00000000-0x00040000 : &quot;pmon&quot;
0x00040000-0x003f0000 : &quot;linux&quot;
0x000c0000-0x00260000 : &quot;rootfs&quot;
0x003f0000-0x00400000 : &quot;nvram&quot;
0x00260000-0x003f0000 : &quot;OpenWrt&quot;
Initializing Cryptographic API
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 1024 bind 2048)
ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack
ip_tables: (C) 2000-2002 Netfilter core team
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Ethernet Bridge 008 for NET4.0
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (jffs2 filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 80k freed
Algorithmics/MIPS FPU Emulator v1.5
diag boardtype: 00000467
jffs2.bbc: SIZE compression mode activated.
PCI: Setting latency timer of device 00:01.0 to 64
CHIP ID: 0x00005352, PLL Type: 0x00038000
eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0
PCI: Setting latency timer of device 00:05.0 to 64
eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0
CHIP ID: 0x00005352, PLL Type: 0x00038000
device eth0 entered promiscuous mode
CHIP ID: 0x00005352, PLL Type: 0x00038000
CHIP ID: 0x00005352, PLL Type: 0x00038000
vlan0: Setting MAC address to  00 14 bf 34 3a c6.
VLAN (vlan0):  Underlying device (eth0) has same MAC, not checking promiscious mode.
CHIP ID: 0x00005352, PLL Type: 0x00038000
vlan0: add 01:00:5e:00:00:01 mcast address to master interface
device eth1 entered promiscuous mode
eth1: attempt to add interface with same source address.
br0: port 2(eth1) entering learning state
br0: port 1(vlan0) entering learning state
br0: port 2(eth1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(vlan0) entering forwarding state
br0: topology change detected, propagating
CHIP ID: 0x00005352, PLL Type: 0x00038000
vlan1: Setting MAC address to  00 14 bf 34 3a c7.
vlan1: add 01:00:5e:00:00:01 mcast address to master interface
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11600">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						1 Sep 2005, 02:58					</div>
				</div>
				<div class="post-content content">
					<p>OK. I have another one for you to try: <a href="http://openwrt.inf.fh-brs.de/~nbd/test2/">http://openwrt.inf.fh-brs.de/~nbd/test2/</a><br />This time it might work...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11602">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						1 Sep 2005, 03:14					</div>
				</div>
				<div class="post-content content">
					<p>jffs2 image md5sum are different, but test2 kernel (and dmesg) seems to be the same as test1 ??</p><div class="codebox"><pre><code>siig-ryan:~# md5sum openwrt-wrt54gs_v4-jffs2*
2a7c5196812e6613766a4c026404d097  openwrt-wrt54gs_v4-jffs2.bin
e91904a3d28cca2236cb58008b3232a5  openwrt-wrt54gs_v4-jffs2_uartdebug_test1.bin
b04eb686531168bff3f10d38f6ccc2bb  openwrt-wrt54gs_v4-jffs2_uartdebug_test2.bin</code></pre></div><p>(the links to test1 and test2 images seem to have gone dead).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11603">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						1 Sep 2005, 03:15					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, I didn&#039;t recompile it properly... You can get the new version from the same URL</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11604">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						1 Sep 2005, 03:26					</div>
				</div>
				<div class="post-content content">
					<p>new dmesg:<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# dmesg
CPU revision is: 00029008
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB, 2-way, linesize 16 bytes.
Linux version 2.4.30 (nbd@ux-2y01) (gcc version 3.4.4) #1 Thu Sep 1 02:03:43 CEST 2005
Setting the PFC value as 0x15
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
On node 0 totalpages: 4096
zone(0): 4096 pages.
zone(1): 0 pages.
zone(2): 0 pages.
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,115200
CPU: BCM5352 rev 0 at 200 MHz
Using 100.000 MHz high precision timer.
Calibrating delay loop... 199.47 BogoMIPS
Memory: 14296k/16384k available (1390k kernel code, 2088k reserved, 100k data, 80k init, 0k highmem)
Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)
Inode cache hash table entries: 1024 (order: 1, 8192 bytes)
Mount cache hash table entries: 512 (order: 0, 4096 bytes)
Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)
Page-cache hash table entries: 4096 (order: 2, 16384 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
POSIX conformance testing by UNIFIX
PCI: no core
PCI: Fixing up bus 0
Linux NET4.0 for Linux 2.4
Based upon Swansea University Computer Society NET3.039
Initializing RT netlink socket
Starting kswapd
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)
devfs: boot_options: 0x1
JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.
Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher
pty: 256 Unix98 ptys configured
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI enabled
ttyS00 at 0xb8000300 (irq = 3) is a 16550A
ttyS01 at 0xb8000400 (irq = 0) is a 16550A
Software Watchdog Timer: 0.05, timer margin: 60 sec
Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0
Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0
cfi_cmdset_0001: Erase suspend on write enabled
0: offset=0x0,size=0x2000,blocks=8
1: offset=0x10000,size=0x10000,blocks=63
Using word write method
Flash device: 0x400000 at 0x1c000000
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:
0x00000000-0x00040000 : &quot;pmon&quot;
0x00040000-0x003f0000 : &quot;linux&quot;
0x000c0000-0x00260000 : &quot;rootfs&quot;
0x003f0000-0x00400000 : &quot;nvram&quot;
0x00260000-0x003f0000 : &quot;OpenWrt&quot;
Initializing Cryptographic API
NET4: Linux TCP/IP 1.0 for NET4.0
IP Protocols: ICMP, UDP, TCP, IGMP
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 1024 bind 2048)
ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack
ip_tables: (C) 2000-2002 Netfilter core team
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.
NET4: Ethernet Bridge 008 for NET4.0
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (jffs2 filesystem) readonly.
Mounted devfs on /dev
Freeing unused kernel memory: 80k freed
Algorithmics/MIPS FPU Emulator v1.5
diag boardtype: 00000467
jffs2.bbc: SIZE compression mode activated.
PCI: Setting latency timer of device 00:01.0 to 64
eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.23.0
PCI: Setting latency timer of device 00:05.0 to 64
eth1: Broadcom BCM4320 802.11 Wireless Controller 3.90.37.0
device eth0 entered promiscuous mode
vlan0: Setting MAC address to  00 14 bf 34 3a c6.
VLAN (vlan0):  Underlying device (eth0) has same MAC, not checking promiscious mode.
vlan0: add 01:00:5e:00:00:01 mcast address to master interface
device eth1 entered promiscuous mode
eth1: attempt to add interface with same source address.
br0: port 2(eth1) entering learning state
br0: port 1(vlan0) entering learning state
br0: port 2(eth1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(vlan0) entering forwarding state
br0: topology change detected, propagating
vlan1: Setting MAC address to  00 14 bf 34 3a c7.
vlan1: add 01:00:5e:00:00:01 mcast address to master interface</code></pre></div><p>No obvious change in the uart output...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11606">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						1 Sep 2005, 04:05					</div>
				</div>
				<div class="post-content content">
					<p>New image, same URL, last try before I go to sleep <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11607">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">armcc</div>
					<div class="post-datetime">
						1 Sep 2005, 04:12					</div>
				</div>
				<div class="post-content content">
					<p>Serial console works !!</p><p>Sleep well <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22881">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">fragiac</div>
					<div class="post-datetime">
						15 Mar 2006, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;ve got a wrt54gl running openwrt rc3.</p><p>Alas, serial works only halfway, that is only from from the wrt54gl to PC. <br />So, the serial console works&nbsp; but getty - to say - does not.</p><p>I made attempts with microcom, picocom, several stty &amp; setserial settings, with <br />no success <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>I suspect an IRQ conflict with the Robo Switch because it uses the IRQ 3 line as<br />well as the serial does. If I am right what can be done to resolve this conflict?</p><p>Any idea is welcome.<br />Ciao,<br />---<br /> # cat /proc/pci | tail<br />...<br />&nbsp; Bus&nbsp; 0, device&nbsp; &nbsp;6, function&nbsp; 0:<br />&nbsp; &nbsp; Class 0280: PCI device 14e4:4719 (rev 0).<br />&nbsp; &nbsp; &nbsp; IRQ 3.<br />&nbsp; &nbsp; &nbsp; Non-prefetchable 32 bit memory at 0x18006000 [0x18006fff].</p><p># cat /proc/tty/driver/serial <br />serinfo:1.0 driver:5.05c revision:2001-07-08<br />0: uart:16550A port:B8000300 irq:3 baud:113636 tx:26964 rx:0 RTS|CTS|DTR|DSR|CD<br />1: uart:16550A port:B8000400 irq:3 tx:0 rx:0 CTS|DSR|CD</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>