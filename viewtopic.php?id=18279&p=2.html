<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear WNR2000 OpenWRT (Atheros AP81, AR9103 chip, u-boot)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 3 Apr 2018 and 3 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 15</div><nav><ul><li><a href="viewtopic.php%3Fid=18279&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=18279&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=15.html">15</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p82200">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">Spectrokid</div>
					<div class="post-datetime">
						19 Feb 2009, 15:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody,<br />I have a WNR2000 and succeeded in getting telnet going.&nbsp; I would like to set up IPV6 on this thing.&nbsp; Do I need to reflash it or are there packages out there I can install on top of the current firmware?&nbsp; Is it realistic, as I can see some don&#039;t even get the ethernet ports going?<br />thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82202">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						19 Feb 2009, 17:08					</div>
				</div>
				<div class="post-content content">
					<p>Which firmware did you use to get telnet working?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82248">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">Spectrokid</div>
					<div class="post-datetime">
						20 Feb 2009, 11:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />Thx for your response.&nbsp; I am running V1.1.2.6.&nbsp; I can handle some Linux commands but I am not about to start soldering a serial port or something.&nbsp; I don&#039;t mind chewing through a pile of documentation but I would like to know if it is a realistic goal before I start using a whole weekend on it.<br />thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82264">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						20 Feb 2009, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>So you still run the stock firmware.&nbsp; I&#039;m not aware of any openwrt firmware that runs on it yet, though the stock firmware was built with openwrt kernel 2.6.15.&nbsp; Netgear makes the GPL part of the stock firmware available for download, but they hold back their own code such as the UI.&nbsp; I download their GPL offering, build the firmware, hacked it alittle bit to get telnet running (with no password).&nbsp; The system seems to run, but you have no UI to configure it.&nbsp; I suppose you can compile your own apps and add to it, but I wouldn&#039;t recommend it, unless you know what you&#039;re doing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82278">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">Spectrokid</div>
					<div class="post-datetime">
						20 Feb 2009, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>Thank you.&nbsp; I guess I&#039;ll have to wait....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82674">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						26 Feb 2009, 04:19					</div>
				</div>
				<div class="post-content content">
					<p>Recent changes in Trunk should improve Ethernet support. I haven&#039;t tested, but I encourage anyone with a serial port hooked up to give tftpboot a try on latest trunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82676">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">gramulhaozin</div>
					<div class="post-datetime">
						26 Feb 2009, 04:24					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m testing the latest but I&#039;m getting:</p><p>Atheros AR71xx SPI Controller driver version 0.2.2<br />m25p80 spi0.0: s25sl032a (4096 Kbytes)<br />Searching for RedBoot partition table in spi0.0 at offset 0x3e0000<br />Searching for RedBoot partition table in spi0.0 at offset 0x3f0000<br />No RedBoot partition table detected in spi0.0<br />Creating 6 MTD partitions on &quot;spi0.0&quot;:<br />0x00000000-0x00020000 : &quot;u-boot&quot;<br />0x00020000-0x00030000 : &quot;config&quot;<br />0x00030000-0x000f0000 : &quot;kernel&quot;<br />0x000f0000-0x003e0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=300000, len=E0000 <br />0x00300000-0x003e0000 : &quot;rootfs_data&quot;<br />0x003e0000-0x00400000 : &quot;art&quot;<br />0x00030000-0x003e0000 : &quot;firmware&quot;<br />Atheros AR71xx hardware watchdog driver version 0.1.0<br />TCP vegas registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 132k freed<br />Please be patient, while OpenWrt loads ...<br />Algorithmics/MIPS FPU Emulator v1.5<br />Kernel panic - not syncing: Attempted to kill init!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82688">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						26 Feb 2009, 09:30					</div>
				</div>
				<div class="post-content content">
					<p>I put up a binary build of ramdisk image for tftpboot of SVN 14665 here: <a href="http://sites.google.com/site/stephengutknecht/">http://sites.google.com/site/stephengutknecht/</a>&nbsp; -- this should have working LAN and WAN ports.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 26 Feb 2009, 09:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82697">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">yjchang</div>
					<div class="post-datetime">
						26 Feb 2009, 12:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>I put up a binary build of ramdisk image for tftpboot of SVN 14665 here: <a href="http://sites.google.com/site/stephengutknecht/">http://sites.google.com/site/stephengutknecht/</a>&nbsp; -- this should have working LAN and WAN ports.</p></blockquote></div><p>I&#039;ve tried the image openwrt_r14665_ar71xx-uImage-gzip.bin with tftpboot, and indeed the LAN ports work normally, however, the WAN still does not work. WAN port can send out packet successfully, but it seems there is some issue on receiving packet -- I made WAN port send out ARP request packet and observed the packet is out successfully but WNR2000 does not have any react to the incoming ARP response and send out ARP request again and again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82766">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">yjchang</div>
					<div class="post-datetime">
						27 Feb 2009, 09:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yjchang wrote:</cite><blockquote><div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>I put up a binary build of ramdisk image for tftpboot of SVN 14665 here: <a href="http://sites.google.com/site/stephengutknecht/">http://sites.google.com/site/stephengutknecht/</a>&nbsp; -- this should have working LAN and WAN ports.</p></blockquote></div><p>I&#039;ve tried the image openwrt_r14665_ar71xx-uImage-gzip.bin with tftpboot, and indeed the LAN ports work normally, however, the WAN still does not work. WAN port can send out packet successfully, but it seems there is some issue on receiving packet -- I made WAN port send out ARP request packet and observed the packet is out successfully but WNR2000 does not have any react to the incoming ARP response and send out ARP request again and again.</p></blockquote></div><p>It seems this issue is caused by my wnr2000 hardware problem. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />I&#039;ve tried another wnr2000 board, and wan port works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82796">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						27 Feb 2009, 15:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yjchang wrote:</cite><blockquote><div class="quotebox"><cite>yjchang wrote:</cite><blockquote><p>I&#039;ve tried the image openwrt_r14665_ar71xx-uImage-gzip.bin with tftpboot, and indeed the LAN ports work normally, however, the WAN still does not work. WAN port can send out packet successfully, but it seems there is some issue on receiving packet -- I made WAN port send out ARP request packet and observed the packet is out successfully but WNR2000 does not have any react to the incoming ARP response and send out ARP request again and again.</p></blockquote></div><p>It seems this issue is caused by my wnr2000 hardware problem. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />I&#039;ve tried another wnr2000 board, and wan port works.</p></blockquote></div><p>If the same router works fine with the default vendor firmware.... then do anything you can to determine the differences between the two routers. This is very new adaption, is likely some subtle issue in OpenWRT.&nbsp; We had similar problems with nearly-identical Trendnet hardware due to bad EPROM settings on the WLAN device.&nbsp; Only two routers out of 10 had this issue.&nbsp; It seems the factory firmware ignored the EEPROM and used alternate config....&nbsp; so we had to adjust OpenWRT to deal with bad EPROM.&nbsp; &nbsp;((Just so I&#039;m clear, this does not sound your problem, as OpenWRT is already randomly assigning mac address on LAN ports right now))</p><p>Cold boot both devices.&nbsp; Maybe get copies of both of your dmesg files and run diff?&nbsp; also run &quot;uci show&quot; and diff that between devices.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 27 Feb 2009, 15:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83965">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">m3z</div>
					<div class="post-datetime">
						16 Mar 2009, 11:54					</div>
				</div>
				<div class="post-content content">
					<p>Hello, </p><p>I just bought a WNR2000 router.<br />I need a dhcp relay feature which is not a provided.<br />It seems OpenWRT does not currently support that router. Comming soons ?<br />Can you tell me if i can recompile NetGear Firmware addind openwrt dhcp-relay package.<br />I read that NetGeart GPL code doesn&#039;t include GUI but i can get GUI directly on router (connected with telnet).</p><p>Thanks by advance.</p>											<p class="post-edited">(Last edited by <strong>m3z</strong> on 17 Mar 2009, 12:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84388">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						23 Mar 2009, 16:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>m3z wrote:</cite><blockquote><p>I just bought a WNR2000 router.<br />I need a dhcp relay feature which is not a provided.<br />It seems OpenWRT does not currently support that router. Comming soons ?<br />Can you tell me if i can recompile NetGear Firmware addind openwrt dhcp-relay package.<br />I read that NetGeart GPL code doesn&#039;t include GUI but i can get GUI directly on router (connected with telnet).</p></blockquote></div><p>Right now, only option is to solder in serial port and tftpboot it with current OpenWrt (Trunk).&nbsp; The checksum issue of flashing to firmware is not yet resolved.&nbsp; Bartman007, you out there to update status on that?</p><p>The stock firmware is based on White Russian, I&#039;ve never touched it so I can&#039;t really offer any assistance.</p><p>I agree you can copy the GUI off the binary install if you go with modifying the stock firmware.... that should get around that issue. You obviously don&#039;t have the source code to modify it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84460">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						24 Mar 2009, 16:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>m3z wrote:</cite><blockquote><p>Hello, </p><p>I just bought a WNR2000 router.<br />I need a dhcp relay feature which is not a provided.<br />It seems OpenWRT does not currently support that router. Comming soons ?<br />Can you tell me if i can recompile NetGear Firmware addind openwrt dhcp-relay package.<br />I read that NetGeart GPL code doesn&#039;t include GUI but i can get GUI directly on router (connected with telnet).</p><p>Thanks by advance.</p></blockquote></div><p>It might be easier if you just un-assemble the stock firmware, get the rootfs, use the GPL package to build your own firmware with modified rootfs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84505">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">m3z</div>
					<div class="post-datetime">
						25 Mar 2009, 09:52					</div>
				</div>
				<div class="post-content content">
					<p>Hello, </p><p>and thanks a lot for your help.</p><p>scerpio, i am sorry i dont understand why i a have to un-assemble stock firmware.</p><p>I think the simple way to build a moded stock firmware is : </p><p>1) tar stock firmware and save (telnet)<br />2) recompile GPL code with the White Russian dhcp-relay package added. I suppose (not try yet) i get a ramfs image.<br />3) Load image with tftp <br />4) tar new firmware<br />5) diff tars <br />6) adapt (starting script ...) and reload files not included in new firmware. </p><p>7) be happy <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Is it correct ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84543">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						25 Mar 2009, 16:38					</div>
				</div>
				<div class="post-content content">
					<p>You can download the stock firmware from netgear.&nbsp; Its size is 2883713 bytes.&nbsp; The last 2097153 bytes of the stock firmware image is the rootfs.&nbsp; I use dd to extract it out.&nbsp; This root file system is squashfs-lzma version 2.1.&nbsp; I use unsquashfs to restore the root file system.&nbsp; No need to get into the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84550">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">m3z</div>
					<div class="post-datetime">
						25 Mar 2009, 17:45					</div>
				</div>
				<div class="post-content content">
					<p>Ok i see. <br />it seems i still have to work a little <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92138">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">Sean84</div>
					<div class="post-datetime">
						31 Jul 2009, 09:40					</div>
				</div>
				<div class="post-content content">
					<p>I managed to get an openwrt image past the netgear webupload page only to get a crc checksum error trying to boot it and then found out that the tftp mode didn&#039;t work.<br />It took a while to figure out that there is a bug in the bootloader networking code</p><p>The bug is triggered by the 4th digit of the mac address of the network card on your computer being a 5, it causes the router to corrupt the packets it sends out to that mac address.</p><p>ex)<br /> router mac)AA:BB:CC:DD:EE network card mac)11:2<strong>5</strong>:33:44:55:66<br />any frames/packets coming from the router to the network card would be corrupted, the router mac address in the ethernet frames would change to CC:DD:EE:08:00, and the network card mac would change to 33:44:55:66:AA:BB, your computer ignores the packets as they are not addressed to it and 2 way communication needed for tftp recovery is not possible. </p><p>Can someone else confirm this is a bug and that its not just my router, and then send another bug report to netgear to bring it to their attention.<br />bootloader version: U-Boot 1.1.4.16-g04e9b8bf (May 14 2008 - 17:04:28)</p>											<p class="post-edited">(Last edited by <strong>Sean84</strong> on 31 Jul 2009, 09:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p103756">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">guy</div>
					<div class="post-datetime">
						25 Feb 2010, 19:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Sean84 wrote:</cite><blockquote><p>I managed to get an openwrt image past the netgear webupload page only to get a crc checksum error trying to boot it and then found out that the tftp mode didn&#039;t work.<br />It took a while to figure out that there is a bug in the bootloader networking code</p><p>The bug is triggered by the 4th digit of the mac address of the network card on your computer being a 5, it causes the router to corrupt the packets it sends out to that mac address.</p><p>ex)<br /> router mac)AA:BB:CC:DD:EE network card mac)11:2<strong>5</strong>:33:44:55:66<br />any frames/packets coming from the router to the network card would be corrupted, the router mac address in the ethernet frames would change to CC:DD:EE:08:00, and the network card mac would change to 33:44:55:66:AA:BB, your computer ignores the packets as they are not addressed to it and 2 way communication needed for tftp recovery is not possible. </p><p>Can someone else confirm this is a bug and that its not just my router, and then send another bug report to netgear to bring it to their attention.<br />bootloader version: U-Boot 1.1.4.16-g04e9b8bf (May 14 2008 - 17:04:28)</p></blockquote></div><p>Did Netgear ever resolve this issue? I have a card with a 5 as the 4th digit of the MAC address and a WNR2000 if we need another bug report.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104922">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">jal2</div>
					<div class="post-datetime">
						21 Mar 2010, 11:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>WNR2000 - I had previously overlooked that we have source code for the u-boot for this router.&nbsp; So the checksum feature that is preventing us from flashing OpenWRT could be replaced.&nbsp; Anyone wanting to hack on u-boot <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> ?</p></blockquote></div><p>Has anyone already built a new u-boot for WNR2000 and flashed it?<br />I looked into the dl/u-boot-1.1.4.tgz from the Netgear source tarball (v1.2.3.7) but I couldn&#039;t find<br />any WNR2000 specific configuration. include/configs/ap81.h contains a flash layout for 8Mbyte flash only.</p>											<p class="post-edited">(Last edited by <strong>jal2</strong> on 21 Mar 2010, 11:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105077">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">cyrusza</div>
					<div class="post-datetime">
						23 Mar 2010, 13:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jal2 wrote:</cite><blockquote><div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>WNR2000 - I had previously overlooked that we have source code for the u-boot for this router.&nbsp; So the checksum feature that is preventing us from flashing OpenWRT could be replaced.&nbsp; Anyone wanting to hack on u-boot <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> ?</p></blockquote></div><p>Has anyone already built a new u-boot for WNR2000 and flashed it?<br />I looked into the dl/u-boot-1.1.4.tgz from the Netgear source tarball (v1.2.3.7) but I couldn&#039;t find<br />any WNR2000 specific configuration. include/configs/ap81.h contains a flash layout for 8Mbyte flash only.</p></blockquote></div><p>I think i found the code. It&#039;s in &quot;lib_mips/mips_linux.c&quot;. The directives are under the flag CONFIG_AR7100.</p><p>I&#039;m a bit rusty with C, therefore i don&#039;t know how to set in with the code and i have no time to find info now. I hope my finding will help someone <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105250">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">jal2</div>
					<div class="post-datetime">
						25 Mar 2010, 13:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cyrusza wrote:</cite><blockquote><div class="quotebox"><cite>jal2 wrote:</cite><blockquote><div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>WNR2000 - I had previously overlooked that we have source code for the u-boot for this router.&nbsp; So the checksum feature that is preventing us from flashing OpenWRT could be replaced.&nbsp; Anyone wanting to hack on u-boot <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> ?</p></blockquote></div><p>Has anyone already built a new u-boot for WNR2000 and flashed it?<br />I looked into the dl/u-boot-1.1.4.tgz from the Netgear source tarball (v1.2.3.7) but I couldn&#039;t find<br />any WNR2000 specific configuration. include/configs/ap81.h contains a flash layout for 8Mbyte flash only.</p></blockquote></div><p>I think i found the code. It&#039;s in &quot;lib_mips/mips_linux.c&quot;. The directives are under the flag CONFIG_AR7100.</p><p>I&#039;m a bit rusty with C, therefore i don&#039;t know how to set in with the code and i have no time to find info now. I hope my finding will help someone <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>IMHO that&#039;s only the code called if a Linux kernel is booted (do_bootm_linux).<br />The checksum is calculated in common/main.c inside main_loop(), look for a call to check_rootfs_checksum(). If the checksum of the rootfs is wrong, autoboot (the bootm variable&#039;s content) [s]is[/s] isn&#039;t executed and the bootloader enters tftp.</p><p>My question was if anone has found the configuration file for the WNR2000 in include/configs. Usually you define the features of your board in a separate file there, including the values for the bootargs and serverip env variables. I couldn&#039;t find any config file matching the settings of the WNR2000 u-boot env.</p>											<p class="post-edited">(Last edited by <strong>jal2</strong> on 25 Mar 2010, 14:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105337">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">jal2</div>
					<div class="post-datetime">
						27 Mar 2010, 00:19					</div>
				</div>
				<div class="post-content content">
					<p>I guess I&#039;ve located the checksum comparsion in the u-boot binary.<br />Patched the check of the result, but as I don&#039;t own any AR9130 based board with JTAG, I don&#039;t dare to flash it.</p><p>Anyone else out there with JTAG who wants to try it? Just drop me an email.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105401">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">Allaun</div>
					<div class="post-datetime">
						28 Mar 2010, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m not that familar with jtag but if you could give some how to links I might be able to afford a jtag cable sometime soon. I bought this router and should arrive by tuesday and after that I&#039;ll look into getting a jtag cable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105422">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">jal2</div>
					<div class="post-datetime">
						28 Mar 2010, 10:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Allaun wrote:</cite><blockquote><p>I&#039;m not that familar with jtag but if you could give some how to links I might be able to afford a jtag cable sometime soon. I bought this router and should arrive by tuesday and after that I&#039;ll look into getting a jtag cable.</p></blockquote></div><p>Currently we don&#039; know where the JTAG pins on the WNR2000 are. I asked for someone with another board with JTAG and the same SoC to test the bootloader first (DIR-615 C1, ..., see some previous posts).<br />So if you only own a WNR2000 and none of the other boards there is no use for a JTAG cable yet.</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 51 to 50 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 15</div><nav><ul><li><a href="viewtopic.php%3Fid=18279&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=18279&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=15.html">15</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>