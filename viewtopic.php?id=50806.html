<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Proxy/server to connect multiple SIP ATA&#039;s to same account</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p234635">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mnp</div>
					<div class="post-datetime">
						26 May 2014, 21:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi. Sorry if this has been answered before, but I&#039;m having difficulty distinguishing what&#039;s relevant and what isn&#039;t. </p><p>What I&#039;d like to do is install some kind of SIP proxy/server on an OpenWRT router which will manage connections to VoIP servers and have my ATA&#039;s connect to the OpenWRT router. I&#039;d like to have two (or possibly three) ATA&#039;s connected. I&#039;ve had a brief look at milkfish and siproxd, however I&#039;m not sure if they can do what I want. They seem to be designed to facilitate multiple ATA&#039;s that connect directly to different VoIP servers (or the same one but with different logins). </p><p>Our current home networking setup is a Dynalink RTA1320E ADSL2+ router in half-bridge mode, connected to an Asus WL-520GC running DD-WRT v24-sp2 (10/10/09) micro <br />(SVN revision 13064), connected to a Fritz!Box Fon DSL ATA running as an ATA only (DSL disabled).</p><p>The Fritz!Box has 2 phone extensions, and is connected to 3 VoIP services, one of which supports 2 (or possibly more, not sure) concurrent calls. However, I&#039;d like to have more than 2 phone extensions. </p><p>I&#039;ve also just purchased some used 802.11n routers that seem to be incompatible with OpenWRT (Netcomm N300 NF5 and Netcomm NP803n). </p><p>The setup I&#039;d like to have is to use the NF5 as our main router, the NP803n simply as an extension AP (connect ethernet from main router to LAN side of NP803n, disable DHCP, hopefully it&#039;ll work), use the WL-520GC simply for the SIP proxy/server and hopefully have one phone connected to the NF5 and the two existing ones to the Fritz!Box Fon. </p><p>Is it possible to use OpenWRT on the WL-520GC for this role? I realise the 2MB ROM may be limiting, however I believe this model supports a compressed CFE and I don&#039;t need most wireless support or router functionality. I&#039;m hoping that with Image Builder I can squeeze something onto this. If this can&#039;t fit onto the WL-520GC, could I use a different OpenWRT compatible router to achieve this?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234645">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						26 May 2014, 23:06					</div>
				</div>
				<div class="post-content content">
					<p>Forget, that you will fit openwrt onto 2mb. I don&#039;t know what exactly are you trying to do, but I&#039;d go for asterisk, no matter what you want to do. The cheapest router with 8MB flash where it MIGHT fit is tl-wr842nd, but I&#039;d rather go for wr1043nd v2, because it has faster cpu and more ram. Maybe you will need external usb flash drive for asterisk, I have never tried to install it.</p><p>I don&#039;t know if it is applicable for your case, but instead of reinventing a wheel you may want to consider some asterisk hosting, I know only one, but it is really cheap and probably in Czech language only: <a href="http://www.4smart.cz">www.4smart.cz</a>. I use their sip server and it is very good, so their asterisk hosting could work too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234673">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">qasdfdsaq</div>
					<div class="post-datetime">
						27 May 2014, 02:39					</div>
				</div>
				<div class="post-content content">
					<p>Agree with the above, fitting Openwrt on its own into 2Mb is hard enough, Asterisk is pretty big too so you want at a router with least 8MB if not external/16MB</p><p>The TL-WR2543ND is probably the cheapest router you will find with that spec - 8MB flash 64MB RAM and a USB port in case external storage is needed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234707">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mnp</div>
					<div class="post-datetime">
						27 May 2014, 10:27					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the replies, that&#039;s pretty much what I thought. I was hoping there was a solution with some simple software and my existing hardware, but guess that&#039;s not an option.</p><p>I definitely don&#039;t want to use a hosted server. I live in New Zealand and ping times from here to anywhere are quite high. Our home phone line is from a SIP provider in NZ, but a hosted server in the Czech Republic would involve sending data there and back which would add at least 0.5s (probably more) delay. Hosted servers here in NZ are quite expensive, hence why I&#039;m trying to set something up at home.</p><p>Right now I&#039;m trying to figure out how much it&#039;d cost to import a used Fritz!Box Fon 7390 from Germany, which seems to have all the functionality I want plus a DECT base station in the stock firmware. Otherwise I think I might buy a Huawei HG556a (used ones are dirt cheap here) which seems to have 16MB flash, USB, 64MB RAM, and seems to be supported in Open WRT (minus the ADSL). I&#039;m assuming that&#039;d be suitable for Asterisk?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234715">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						27 May 2014, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>If openwrt supports that huawei, it might be good choice. If you are not going to do codec transcoding, processing power should not matter.</p><p>Fritzbox is a good choice and easy to configure, but it is expensive. I use FB 7270 in one company and it can work as a server for 10 voip phones, 6 dect and 2 analog. While ago it worked also as adsl gateway too, but now we have vdsl everywhere, so it works as a voip server only.</p><p>I have one spare fritz box 7270 brand new in the original packaging, bought it about 1.5 years ago for ~$300 for another company, but they never used it and they do not exist anymore, so I can sell it for ~$150 including postage <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234790">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mnp</div>
					<div class="post-datetime">
						27 May 2014, 22:30					</div>
				</div>
				<div class="post-content content">
					<p>Right, time to decide between the cheap option (the Huawei) or the better one (FB). The 7270 looks like an interesting model actually, they seem to be going for not much more than EUR 50 on ebay.de . Think I&#039;ll go for that as the setup should be simpler and DECT will increase my options. Just need to figure out how to import it.</p><p>Anyway, thanks for all the help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234795">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nozombian</div>
					<div class="post-datetime">
						27 May 2014, 22:55					</div>
				</div>
				<div class="post-content content">
					<p>Ic, they seem to be cheap nowadays... If you have time to play get that huawei, but for a company I&#039;d probably go the easier way <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Good luck <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>