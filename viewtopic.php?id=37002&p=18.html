<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> HAME MPR-A1 - Small and cheap router with built-in battery</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 12 May 2015 and 2 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 18 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=17.html">17</a></li><li class="pagination-current"><span>18</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=19.html">19</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=20.html">20</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p198133">
				<div class="post-metadata">
					<div class="post-num">Post #426</div>
					<div class="post-author">trapdragon</div>
					<div class="post-datetime">
						12 Apr 2013, 16:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>@trapdragon</p><p>Have you tried booting without the serial connected, then connecting it after a minute or so?&nbsp; That works for some devices which won&#039;t boot properly while the serial is connected.</p></blockquote></div><p>does not work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198134">
				<div class="post-metadata">
					<div class="post-num">Post #427</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						12 Apr 2013, 16:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>trapdragon wrote:</cite><blockquote><div class="quotebox"><cite>gaplee wrote:</cite><blockquote><p>@Squonk<br />I add a new board for this tiny module(<a href="https://forum.openwrt.org/viewtopic.php?id=42142">Details</a>), it is a 4M/16M device by default, but i change it to 8M/32M, and run luci on it. <br />This module does not have USB power control things, so I can use the UART full function, but i don&#039;t know how to patch it, can you give me some suggestions?<br />By the way, the mpr-a1 patches work fine on the HLK-RM04, just have some led problems, and now i don&#039;t find which pin the module uses.</p><p>In mach-mpr-a1.c you use some functions, such as gpio_request_one, rt305x_gpio*** and so on, where can i find the detail descriptions of these functions?</p></blockquote></div><p>Hi, I have the same, but no luck, I compile on Kubuntu 32bit/64bit in VMware 9.0, got the sysupgrade.bin, I burned uboot into the flash so I got the serial console, and write the option 2 in the uboot menu. I used ft232 usb-serial to work on my laptop, the method works with the&nbsp; HAME MPR-A1 official image, but on R35629 patched with Squonk files, it stops.</p><p>you do the same? </p><p>anybody got a clue ?</p></blockquote></div><p>i don&#039;t know why, but you may try <br /></p><div class="codebox"><pre><code> make kernel_menuconfig </code></pre></div><p>find <strong>kernel hacking</strong> , enter and then find<strong>(rootfstype=squashfs,jffs2) Default kernel command string</strong><br />enter again and manually set SDRAM value <strong>rootfstype=squashfs,jffs2 mem=16M</strong></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198137">
				<div class="post-metadata">
					<div class="post-num">Post #428</div>
					<div class="post-author">trapdragon</div>
					<div class="post-datetime">
						12 Apr 2013, 16:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Given where the crash happens, it looks like an SDRAM-related problem. What does U-boot reports during the early bootstrap?<br />Can you read the exact SDRAM chip label on the package to make sure there is no mismatch w/r U-Boot/Linux?</p></blockquote></div><p>here is the log of the flash, it can be the the problem of rootfs, the same with &quot;sysupgrade.bin&quot;, which contain fs.</p><p>SDRAM: M12L128168A -6T</p><br /><br /><p>U-Boot 1.1.3 (Apr&nbsp; 2 2013 - 10:22:08)</p><p>Board: Ralink APSoC DRAM:&nbsp; 16 MB<br />relocate_code Pointer at: 80fb4000<br />spi_wait_nsec: 42<br />spi device id: ef 40 16 0 0 (40160000)<br />find flash: W25Q32BV<br />raspi_read: from:30000 len:1000<br />.raspi_read: from:30000 len:1000<br />.============================================<br />Ralink UBoot Version: 3.6.0.0<br />--------------------------------------------<br />ASIC 5350_MP (Port5&lt;-&gt;None)<br />DRAM_CONF_FROM: Boot-Strapping<br />DRAM_TYPE: SDRAM<br />DRAM_SIZE: 256 Mbits<br />DRAM_WIDTH: 16 bits<br />DRAM_TOTAL_WIDTH: 16 bits<br />TOTAL_MEMORY_SIZE: 32 MBytes<br />Flash component: SPI Flash<br />Date:Apr&nbsp; 2 2013&nbsp; Time:10:22:08<br />============================================<br />icache: sets:256, ways:4, linesz:32 ,total:32768<br />dcache: sets:128, ways:4, linesz:32 ,total:16384</p><p> ##### The CPU freq = 360 MHZ ####<br /> estimate memory size =16 Mbytes</p><p>Please choose the operation:<br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP.<br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP.<br />&nbsp; &nbsp;3: Boot system code via Flash (default).<br />&nbsp; &nbsp;4: Entr boot command line interface.<br />&nbsp; &nbsp;7: Load Boot Loader code then write to Flash via Serial.<br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.<br /> 2<br />You choosed 1</p><p> 0<br />raspi_read: from:40028 len:6<br />.</p><p>1: System Load Linux to SDRAM via TFTP.<br /> Please Input new ones /or Ctrl-C to discard<br />&nbsp; &nbsp; &nbsp; &nbsp; Input device IP (192.168.3.99) ==:192.168.3.99</p><p>U-Boot 1.1.3 (Apr&nbsp; 2 2013 - 10:22:08)</p><p>Board: Ralink APSoC DRAM:&nbsp; 16 MB<br />relocate_code Pointer at: 80fb4000<br />spi_wait_nsec: 42<br />spi device id: ef 40 16 0 0 (40160000)<br />find flash: W25Q32BV<br />raspi_read: from:30000 len:1000<br />.raspi_read: from:30000 len:1000<br />.============================================<br />Ralink UBoot Version: 3.6.0.0<br />--------------------------------------------<br />ASIC 5350_MP (Port5&lt;-&gt;None)<br />DRAM_CONF_FROM: Boot-Strapping<br />DRAM_TYPE: SDRAM<br />DRAM_SIZE: 256 Mbits<br />DRAM_WIDTH: 16 bits<br />DRAM_TOTAL_WIDTH: 16 bits<br />TOTAL_MEMORY_SIZE: 32 MBytes<br />Flash component: SPI Flash<br />Date:Apr&nbsp; 2 2013&nbsp; Time:10:22:08<br />============================================<br />icache: sets:256, ways:4, linesz:32 ,total:32768<br />dcache: sets:128, ways:4, linesz:32 ,total:16384</p><p> ##### The CPU freq = 360 MHZ ####<br /> estimate memory size =16 Mbytes</p><p>Please choose the operation:<br />&nbsp; &nbsp;1: Load system code to SDRAM via TFTP.<br />&nbsp; &nbsp;2: Load system code then write to Flash via TFTP.<br />&nbsp; &nbsp;3: Boot system code via Flash (default).<br />&nbsp; &nbsp;4: Entr boot command line interface.<br />&nbsp; &nbsp;7: Load Boot Loader code then write to Flash via Serial.<br />&nbsp; &nbsp;9: Load Boot Loader code then write to Flash via TFTP.<br /> 3<br />You choosed 2</p><p> 0<br />raspi_read: from:40028 len:6<br />.</p><p>2: System Load Linux Kernel then write to Flash via TFTP.<br /> Warning!! Erase Linux in Flash then burn new one. Are you sure?(Y/N)<br /> Please Input new ones /or Ctrl-C to discard<br />&nbsp; &nbsp; &nbsp; &nbsp; Input device IP (192.168.3.99) ==:192.168.3.99<br />&nbsp; &nbsp; &nbsp; &nbsp; Input server IP (192.168.3.3) ==:192.168.3.3<br />&nbsp; &nbsp; &nbsp; &nbsp; Input Linux Kernel filename (openwrt-ramips-rt305x-mpr-a1-initramfs-uImage.bin) ==:openwrt-ramips-rt305x-mpr-a1-initramfs-uImage.bin</p><p> netboot_common, argc= 3</p><p> NetTxPacket = 0x80FE5EC0</p><p> KSEG1ADDR(NetTxPacket) = 0xA0FE5EC0</p><p> NetLoop,call eth_halt !</p><p> NetLoop,call eth_init !<br />Trying Eth0 (10/100-M)</p><p> Waitting for RX_DMA_BUSY status Start... done</p><br /><p> Header Payload scatter function is Disable !!</p><p> ETH_STATE_ACTIVE!!<br />Using Eth0 (10/100-M) device<br />TFTP from server 192.168.3.3; our IP address is 192.168.3.99<br />Filename &#039;openwrt-ramips-rt305x-mpr-a1-initramfs-uImage.bin&#039;.</p><p> TIMEOUT_COUNT=10,Load address: 0x80100000<br />Loading: checksum bad<br />checksum bad<br />checksum bad<br />checksum bad<br />checksum bad<br />checksum bad<br />checksum bad</p><p>ArpTimeoutCheck<br />Got ARP REPLY, set server/gtwy eth addr (00:1c:25:99:02:5b)<br />Got it<br />#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#################################################################<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#######################################################<br />done<br />Bytes transferred = 2277137 (22bf11 hex)<br />NetBootFileXferSize= 0022bf11<br />raspi_erase_write: offs:50000, count:22bf11<br />raspi_erase: offs:50000 len:220000<br />..................................<br />raspi_write: to:50000 len:220000<br />..................................<br />raspi_read: from:50000 len:10000<br />.raspi_read: from:60000 len:10000<br />.raspi_read: from:70000 len:10000<br />.raspi_read: from:80000 len:10000<br />.raspi_read: from:90000 len:10000<br />.raspi_read: from:a0000 len:10000<br />.raspi_read: from:b0000 len:10000<br />.raspi_read: from:c0000 len:10000<br />.raspi_read: from:d0000 len:10000<br />.raspi_read: from:e0000 len:10000<br />.raspi_read: from:f0000 len:10000<br />.raspi_read: from:100000 len:10000<br />.raspi_read: from:110000 len:10000<br />.raspi_read: from:120000 len:10000<br />.raspi_read: from:130000 len:10000<br />.raspi_read: from:140000 len:10000<br />.raspi_read: from:150000 len:10000<br />.raspi_read: from:160000 len:10000<br />.raspi_read: from:170000 len:10000<br />.raspi_read: from:180000 len:10000<br />.raspi_read: from:190000 len:10000<br />.raspi_read: from:1a0000 len:10000<br />.raspi_read: from:1b0000 len:10000<br />.raspi_read: from:1c0000 len:10000<br />.raspi_read: from:1d0000 len:10000<br />.raspi_read: from:1e0000 len:10000<br />.raspi_read: from:1f0000 len:10000<br />.raspi_read: from:200000 len:10000<br />.raspi_read: from:210000 len:10000<br />.raspi_read: from:220000 len:10000<br />.raspi_read: from:230000 len:10000<br />.raspi_read: from:240000 len:10000<br />.raspi_read: from:250000 len:10000<br />.raspi_read: from:260000 len:10000<br />.raspi_read: from:270000 len:10000<br />.raspi_erase: offs:270000 len:10000<br />.<br />raspi_write: to:270000 len:10000<br />.<br />raspi_read: from:270000 len:10000<br />.Done!<br />## Booting image at bc050000 ...<br />raspi_read: from:50000 len:40<br />.&nbsp; &nbsp;Image Name:&nbsp; &nbsp;MIPS OpenWrt Linux-3.7.8<br />&nbsp; &nbsp;Created:&nbsp; &nbsp; &nbsp; 2013-04-09&nbsp; &nbsp;9:00:48 UTC<br />&nbsp; &nbsp;Image Type:&nbsp; &nbsp;MIPS Linux Kernel Image (lzma compressed)<br />&nbsp; &nbsp;Data Size:&nbsp; &nbsp; 2277073 Bytes =&nbsp; 2.2 MB<br />&nbsp; &nbsp;Load Address: 80000000<br />&nbsp; &nbsp;Entry Point:&nbsp; 80000000<br />raspi_read: from:50040 len:22bed1<br />...................................&nbsp; &nbsp;Verifying Checksum ... OK<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK<br />No initrd<br />## Transferring control to Linux (at address 80000000) ...<br />## Giving linux memsize in MB, 16</p><p>Starting kernel ...</p><p>[&nbsp; &nbsp; 0.000000] Linux version 3.7.8 (brick@dev-mac) (gcc version 4.6.4 20121210 (prerelease) (Linaro GCC 4.6-2012.12) ) #3 Tue Apr 9 17:00:19 HKT 2013<br />[&nbsp; &nbsp; 0.000000] bootconsole [early0] enabled<br />[&nbsp; &nbsp; 0.000000] CPU revision is: 0001964c (MIPS 24KEc)<br />[&nbsp; &nbsp; 0.000000] Ralink RT5350 id:1 rev:3 running at 360.00 MHz<br />[&nbsp; &nbsp; 0.000000] Determined physical RAM map:<br />[&nbsp; &nbsp; 0.000000]&nbsp; memory: 02000000 @ 00000000 (usable)<br />[&nbsp; &nbsp; 0.000000] Initrd not found or empty - disabling initrd<br />[&nbsp; &nbsp; 0.000000] Zone ranges:<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;Normal&nbsp; &nbsp;[mem 0x00000000-0x01ffffff]<br />[&nbsp; &nbsp; 0.000000] Movable zone start for each node<br />[&nbsp; &nbsp; 0.000000] Early memory node ranges<br />[&nbsp; &nbsp; 0.000000]&nbsp; &nbsp;node&nbsp; &nbsp;0: [mem 0x00000000-0x01ffffff]<br />--------------------------------------------------------------------------</p><p>STOPS HERE</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198139">
				<div class="post-metadata">
					<div class="post-num">Post #429</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						12 Apr 2013, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>@trapdragon<br />the RAM of your board is 16M but linux check RAM as 32M for some unknown reason, try the post#427</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198141">
				<div class="post-metadata">
					<div class="post-num">Post #430</div>
					<div class="post-author">trapdragon</div>
					<div class="post-datetime">
						12 Apr 2013, 17:14					</div>
				</div>
				<div class="post-content content">
					<p>@ Squonk</p><div class="quotebox"><blockquote><p>Volunteers?</p></blockquote></div><p>, I have a copy of preliminary data sheet of rt5350, if helps, I can email you, it indicates that this SoC has a build-in rom to work in prior to any bootloader external storage, it functions like bootloader but would pass the job on to bootloader when there is.</p><p>I have been lucky that on my lost HAME MPR-A1, on the administrative webpage there is a command line box, with allows root access to busybox. : ) , not sure if others would have. </p><p>so I guess to solve the problem </p><div class="quotebox"><blockquote><p>The bad thing is: I don&#039;t have enough time to write and test that, since I was busy decoding the factory file format so that nobody will require a serial console any more to be able to install OpenWrt on a stock device</p></blockquote></div><p>and probably you can reverse into the official tools &quot;<a href="http://www.hamedata.com/uploadfiles/download/201210110141573860.rar">http://www.hamedata.com/uploadfiles/dow … 573860.rar</a>&quot; the software included tried to write to the devices via RJ45 which is normal on rt5350 routers.</p><p>I am bought Hi-Link wireless module HLK-RM04 and working on it, a clone of the board which HAME MPR-A1 copy from, I guess. and we can share the experiences.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198142">
				<div class="post-metadata">
					<div class="post-num">Post #431</div>
					<div class="post-author">trapdragon</div>
					<div class="post-datetime">
						12 Apr 2013, 17:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gaplee wrote:</cite><blockquote><p>@trapdragon<br />the RAM of your board is 16M but linux check RAM as 32M for some unknown reason, try the post#427</p></blockquote></div><p>thanks no worry the linux have the right size &quot; Giving linux memsize in MB, 16&quot;. it is the same when I use the official Hame fireware, and strange that firmware works !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198147">
				<div class="post-metadata">
					<div class="post-num">Post #432</div>
					<div class="post-author">xakep666</div>
					<div class="post-datetime">
						12 Apr 2013, 18:22					</div>
				</div>
				<div class="post-content content">
					<p>I found that premilinary datasheet and now reading it. For rt5350 we (me and my friend) found and partitaly integrated:<br />1) Led polarity control (critical for dir-320 rev b2, some leds has inverted polarity)<br />2) Transmit good and bad packet counter<br />3) Hardware igmp forward from lan to wan (or only to cpu port, WiP)<br />4) Broadcast storm protection<br />5) Hardware QoS with 4 queues (classification with 802.11p or ToS, WiP)</p><p>Patches already sent to patchwork</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198148">
				<div class="post-metadata">
					<div class="post-num">Post #433</div>
					<div class="post-author">bertc3p0</div>
					<div class="post-datetime">
						12 Apr 2013, 18:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bertc3p0 wrote:</cite><blockquote><div class="quotebox"><cite>oschemes wrote:</cite><blockquote><p>Hmm. probably.&nbsp; I will have to go back and check on one of the virgin devices we have around here, but it seems reasonable that if we init the DRAM controller to 32MB it would override the bootstrap load.</p><p>If I recall correctly, you already have 32M on your board but bootstrap was limiting you to 16MB.&nbsp; Have you tried putting the resistor on, or you don&#039;t think you&#039;d have any luck in soldering it.&nbsp; FYI - our first attempt used a little 1/8W leaded resistor that had it&#039;s leads bent over and clipped short.&nbsp; It worked but is kind of a danger of knocking it off and ripping the pads off too.</p><p>Do you want to be the guinea pig of just shorting the terminals instead of installing a resistor?&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>I hate soldering 0402 resistors. Tried hard, but I failed :-(</p><div class="codebox"><pre><code>RT5350 # mm 0x10000300
10000300: d1825282 ? d1825282
10000304: e0110600 ? a0120600
10000308: 00000000 ? 
RT5350 # md 0x10000300 2
10000300: d1825282 e0120600    .R......
RT5350 # bootm bc050000</code></pre></div><p>boom:<br /></p><div class="codebox"><pre><code>[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)

root@OpenWrt:~# free
             total         used         free       shared      buffers
Mem:         29988        15712        14276            0         1528
-/+ buffers:              14184        15804
Swap:            0            0            0</code></pre></div><p>still searching a way to setup the memory controller on uboot automatically ...</p></blockquote></div><p>Strange, it&#039;s even possible to change the DRAM controller on Linux startup to get the appropiate memory:<br /></p><div class="codebox"><pre><code>        printk(KERN_INFO &quot;  mem_detect by memory controller: 0x%08X\n&quot; , ret);
        printk(KERN_INFO &quot;  trying harder ...&quot;);
        t = __raw_readl(sysc + MEMC_REG_SDRAM_CFG1);
        save_t = t;
        t = 0xa0120600;
        printk(KERN_INFO &quot;  try 0x%08X instead of 0x%08X\n&quot; , t, save_t);
        __raw_writel(t, sysc + MEMC_REG_SDRAM_CFG1);
        ret = ret &lt;&lt; 1;</code></pre></div><p>resulting in:<br /></p><div class="codebox"><pre><code>[    0.000000]   mem_detect by memory controller: 0x01000000
[    0.000000]   trying harder ...
[    0.000000]   try 0xA0120600 instead of 0xE0110600
[    0.000000] Ralink RT5350 id:1 rev:3 running at 360.00 MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
...
root@OpenWrt:~# free
             total         used         free       shared      buffers
Mem:         29988        22160         7828            0         1528
-/+ buffers:              20632         9356
Swap:            0            0            0</code></pre></div><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Still need to write a memory test code on Linux startup, if the memory is really there and change the memory controller settings accordingly. No more soldering damn small resitors <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>bertc3p0</strong> on 12 Apr 2013, 19:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198149">
				<div class="post-metadata">
					<div class="post-num">Post #434</div>
					<div class="post-author">trapdragon</div>
					<div class="post-datetime">
						12 Apr 2013, 18:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xakep666 wrote:</cite><blockquote><p>I found that premilinary datasheet and now reading it. For rt5350 we (me and my friend) found and partitaly integrated:<br />1) Led polarity control (critical for dir-320 rev b2, some leds has inverted polarity)<br />2) Transmit good and bad packet counter<br />3) Hardware igmp forward from lan to wan (or only to cpu port, WiP)<br />4) Broadcast storm protection<br />5) Hardware QoS with 4 queues (classification with 802.11p or ToS, WiP)</p><p>Patches already sent to patchwork</p></blockquote></div><p>memory mapping:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Start&nbsp; &nbsp; End&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Size&nbsp; Description <br />0000.0000&nbsp; -&nbsp; 03FF.FFFF&nbsp; 64 M&nbsp; SDRAM 64MB <br />0400.0000&nbsp; -&nbsp; 0FFF.FFFF&nbsp; 192M&nbsp; Reserved <br />1000.0000&nbsp; -&nbsp; 1000.00FF&nbsp; 256&nbsp; SYSCTL <br />1000.0100&nbsp; -&nbsp; 1000.01FF&nbsp; 256&nbsp; TIMER <br />1000.0200&nbsp; -&nbsp; 1000.02FF&nbsp; 256&nbsp; INTCTL <br />1000.0300&nbsp; -&nbsp; 1000.03FF&nbsp; 256&nbsp; MEM_CTRL (SDR) <br />1000.0400&nbsp; -&nbsp; 1000.04FF&nbsp; 256&nbsp; &lt;&lt;Reserved&gt;&gt;<br />1000.0500&nbsp; -&nbsp; 1000.05FF&nbsp; 256&nbsp; UART <br />1000.0600&nbsp; -&nbsp; 1000.06FF&nbsp; 256&nbsp; PIO <br />1000.0700&nbsp; -&nbsp; 1000.07FF&nbsp; 256&nbsp; Reserved&gt;&gt;<br />1000.0800&nbsp; -&nbsp; 1000.08FF&nbsp; 256&nbsp; Reserved&gt;&gt;<br />1000.0900&nbsp; -&nbsp; 1000.09FF&nbsp; 256&nbsp; I2C <br />1000.0A00&nbsp; -&nbsp; 1000.0AFF&nbsp; 256&nbsp; I2S <br />1000.0B00&nbsp; -&nbsp; 1000.0BFF&nbsp; 256&nbsp; SPI <br />1000.0C00&nbsp; -&nbsp; 1000.0CFF&nbsp; 256&nbsp; UARTLITE <br />1000.0D00&nbsp; -&nbsp; 1000.0DFF&nbsp; 256&nbsp; MIPS CNT <br />1000.2000&nbsp; -&nbsp; 1000.27FF&nbsp; 2 K&nbsp; PCM (up to 16 channel) <br />1000.2800&nbsp; -&nbsp; 1000.2FFF&nbsp; 2 K&nbsp; Generic DMA (up to 64 channel) <br />1000.3000&nbsp; -&nbsp; 1000.37FF&nbsp; 2 K&nbsp; Reserved&gt;&gt;<br />1000.3800&nbsp; -&nbsp; 1000.3FFF&nbsp; 2 K&nbsp; Reserved&gt;&gt;<br />1000.4000&nbsp; -&nbsp; 100F.FFFF&nbsp; &nbsp; &lt;&lt;Reserved&gt;&gt;<br />1010.0000&nbsp; -&nbsp; 1010.FFFF&nbsp; 64 K&nbsp; Frame Engine <br />1011.0000&nbsp; -&nbsp; 1011.7FFF&nbsp; 32 K&nbsp; Ethernet Swtich <br />1011.8000&nbsp; &nbsp; 1011.BFFF&nbsp; 16 K&nbsp; ROM <br />1011.C000&nbsp; -&nbsp; 1011.FFFF&nbsp; 16 K&nbsp; &lt;&lt;Reserved&gt;&gt; <br />1012.0000&nbsp; -&nbsp; 1012.7FFF&nbsp; 16 K&nbsp; USB Device <br />1012.8000&nbsp; -&nbsp; 1012.FFFF&nbsp; 16 K&nbsp; &lt;&lt;Reserved&gt;&gt; <br />1013.0000&nbsp; -&nbsp; 1013.7FFF&nbsp; 32 K&nbsp; &lt;&lt;Reserved&gt;&gt;<br />1013.8000&nbsp; -&nbsp; 1013.FFFF&nbsp; 32 K&nbsp; &lt;&lt;Reserved&gt;&gt; <br />1014.0000&nbsp; -&nbsp; 1017.FFFF&nbsp; 256 K&nbsp; Reserved&gt;&gt;<br />1018.0000&nbsp; -&nbsp; 101B.FFFF&nbsp; 256 K&nbsp; 802.11n MAC/BBP <br />101C.0000&nbsp; -&nbsp; 101F.FFFF&nbsp; 256 K&nbsp; USB Host <br />1020.0000&nbsp; -&nbsp; 1023.FFFF&nbsp; 256 K&nbsp; &lt;&lt;Reserved&gt;&gt; <br />1024.0000&nbsp; -&nbsp; 1027.FFFF&nbsp; 256 K&nbsp; &lt;&lt;Reserved&gt;&gt;<br />1028.0000&nbsp; -&nbsp; 1BFF.FFFF&nbsp; &nbsp; &lt;&lt;Reserved&gt;&gt;<br />1C00.0000&nbsp; -&nbsp; 1C00.3FFF 16KB ROM When system is power on, 16KB internal boot ROM is mapped.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198150">
				<div class="post-metadata">
					<div class="post-num">Post #435</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						12 Apr 2013, 18:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>trapdragon wrote:</cite><blockquote><div class="quotebox"><cite>gaplee wrote:</cite><blockquote><p>@trapdragon<br />the RAM of your board is 16M but linux check RAM as 32M for some unknown reason, try the post#427</p></blockquote></div><p>thanks no worry the linux have the right size &quot; Giving linux memsize in MB, 16&quot;. it is the same when I use the official Hame fireware, and strange that firmware works !</p></blockquote></div><p>This is just the uboot checked the 16MB RAM, and pass it to kernel, but kernel detect 0x02000000(32M), you need do the &quot;make kernel menuconfig&quot; specify mem=16M manually to fix this problem<br /></p><div class="codebox"><pre><code>[    0.000000] Linux version 3.7.8 (brick@dev-mac) (gcc version 4.6.4 20121210 (prerelease) (Linaro GCC 4.6-2012.12) ) #3 Tue Apr 9 17:00:19 HKT 2013
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] Ralink RT5350 id:1 rev:3 running at 360.00 MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
--------------------------------------------------------------------------</code></pre></div><p>memory: 02000000 @ 00000000 (usable) this is the problem, </p><p> 02000000 means 32M, but your RAM is only 16M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198152">
				<div class="post-metadata">
					<div class="post-num">Post #436</div>
					<div class="post-author">trapdragon</div>
					<div class="post-datetime">
						12 Apr 2013, 19:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gaplee wrote:</cite><blockquote><div class="quotebox"><cite>trapdragon wrote:</cite><blockquote><div class="quotebox"><cite>gaplee wrote:</cite><blockquote><p>@trapdragon<br />the RAM of your board is 16M but linux check RAM as 32M for some unknown reason, try the post#427</p></blockquote></div><p>thanks no worry the linux have the right size &quot; Giving linux memsize in MB, 16&quot;. it is the same when I use the official Hame fireware, and strange that firmware works !</p></blockquote></div><p>This is just the uboot checked the 16MB RAM, and pass it to kernel, but kernel detect 0x02000000(32M), you need do the &quot;make kernel menuconfig&quot; specify mem=16M manually to fix this problem<br /></p><div class="codebox"><pre><code>[    0.000000] Linux version 3.7.8 (brick@dev-mac) (gcc version 4.6.4 20121210 (prerelease) (Linaro GCC 4.6-2012.12) ) #3 Tue Apr 9 17:00:19 HKT 2013
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] Ralink RT5350 id:1 rev:3 running at 360.00 MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
--------------------------------------------------------------------------</code></pre></div><p>memory: 02000000 @ 00000000 (usable) this is the problem, </p><p> 02000000 means 32M, but your RAM is only 16M.</p></blockquote></div><p>let me try and see.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198189">
				<div class="post-metadata">
					<div class="post-num">Post #437</div>
					<div class="post-author">oschemes</div>
					<div class="post-datetime">
						12 Apr 2013, 23:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>unfortunately, I&#039;ve never been able to start OpenWRT on Hame MPR-A1, I have a board similar to carambola but rt5350 SOC, w25q32fv. patched with Squonk files no luck, just stop here :</p><br /><p>Given where the crash happens, it looks like an SDRAM-related problem. What does U-boot reports during the early bootstrap?<br />Can you read the exact SDRAM chip label on the package to make sure there is no mismatch w/r U-Boot/Linux?</p></blockquote></div><p>Agreed.<br />This is what happens if you set the kernel mem string larger than you really have, I hit it several times during my men upgrade experiments.</p><p>If you&#039;ve really upgraded the dram, just add the extra resistor ( or just short the pads) so the memory controller is initialized properly.</p>											<p class="post-edited">(Last edited by <strong>oschemes</strong> on 12 Apr 2013, 23:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198253">
				<div class="post-metadata">
					<div class="post-num">Post #438</div>
					<div class="post-author">trapdragon</div>
					<div class="post-datetime">
						13 Apr 2013, 15:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>oschemes wrote:</cite><blockquote><div class="quotebox"><cite>Squonk wrote:</cite><blockquote><p>unfortunately, I&#039;ve never been able to start OpenWRT on Hame MPR-A1, I have a board similar to carambola but rt5350 SOC, w25q32fv. patched with Squonk files no luck, just stop here :</p><br /><p>Given where the crash happens, it looks like an SDRAM-related problem. What does U-boot reports during the early bootstrap?<br />Can you read the exact SDRAM chip label on the package to make sure there is no mismatch w/r U-Boot/Linux?</p></blockquote></div><p>Agreed.<br />This is what happens if you set the kernel mem string larger than you really have, I hit it several times during my men upgrade experiments.</p><p>If you&#039;ve really upgraded the dram, just add the extra resistor ( or just short the pads) so the memory controller is initialized properly.</p></blockquote></div><p>yes, with the the command-line &quot;mem=16m&quot; the board is going with Openwrt. thanks to you two, and gaplee.</p><br /><p>------------------------------------------------</p><p>[ 2013 - 4 -15 ] it works, while not going smooth, which is due to the limitation of 16M RAM.</p>											<p class="post-edited">(Last edited by <strong>trapdragon</strong> on 15 Apr 2013, 07:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198430">
				<div class="post-metadata">
					<div class="post-num">Post #439</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						15 Apr 2013, 10:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Heffer wrote:</cite><blockquote><p>I already created a MPR-A1 dts file and also ones for the Poray devices. However a GPIO bug currently prevents LEDs and Buttons from working.</p></blockquote></div><p>From the ralink RT5350 and RT3050 datasheets, i realize there are some GPIO register differences between RT5350F and RT305x.&nbsp; Is this what you call it GPIO bug, can we do something to fix it.</p><p>I also want to use the second serial on RT5350F, and do not know how to enable it. Ther is a patch about how to enable second serial(<em><strong>trunk\target\linux\ramips\patches-3.7\101-rt288x_serial_driver_hack.patch</strong></em>), but i do not know how to test it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198431">
				<div class="post-metadata">
					<div class="post-num">Post #440</div>
					<div class="post-author">Heffer</div>
					<div class="post-datetime">
						15 Apr 2013, 10:15					</div>
				</div>
				<div class="post-content content">
					<p>Nope, the bug is somewhere else. It&#039;s already fixed and a patch is on it&#039;s way in to trunk. Should be there today I guess.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198455">
				<div class="post-metadata">
					<div class="post-num">Post #441</div>
					<div class="post-author">gaplee</div>
					<div class="post-datetime">
						15 Apr 2013, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>I disable the LEDs and USB power control pins of the mpr-a1, and the ttyS0 works on my <a href="https://forum.openwrt.org/viewtopic.php?id=42142">HI-LINK HLK-RM04</a>, now i have <strong>2 serial ports</strong> and <strong>several GPIOs</strong> in use, even I2C in future. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />Thanks everyone in this forum, especially @Squonk @Heffer @p1vo and @arteq who make the openwrt support the Hame mpr-a1.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198686">
				<div class="post-metadata">
					<div class="post-num">Post #442</div>
					<div class="post-author">123serge123</div>
					<div class="post-datetime">
						17 Apr 2013, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>Coz of this most active rt5350 topic I post here. I start digging rt5350 wifi performance. Current version of driver is restricted to HT20. Do you measure real wifi speed? I have speeds (with my hack to support HT40)&nbsp; ~24Mbps wifi-client &lt;-&gt; wifi-client and ~56Mbps wifi-client&lt;-&gt;wired-client (I use iperf package). The main problem is atheros wifi-client (I test atheros ar9280 and intel 5150 cards). And what is your result? Intrested in client hardware and speed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199008">
				<div class="post-metadata">
					<div class="post-num">Post #443</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						20 Apr 2013, 13:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><div class="quotebox"><cite>derrij wrote:</cite><blockquote><div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>The Hame A5 works with openwrt...</p></blockquote></div><p>Please, share firmware image and instruction how to flash&nbsp; the Hame A5 with openwrt.<br />Thank you.</p></blockquote></div><p>My image is self-built (February 8) with Squonk&#039;s patches and the linux command line modification for 16M.</p><p>I could upload the image (where best?), but it might not be useful since there&#039;s not enough ram to run ipkg or sysupgrade.&nbsp; My image has little on it except usb serial and storage.&nbsp; You would do best to build yourself to get exactly what you need.</p><p>To flash, you need to solder on a serial connector (GND, TX, RX) and interrupt u-boot to set up a download and flash over ethernet with tftp.</p></blockquote></div><p>You can send me the file and I can share it via Dropbox or my VPS server. Also I started WIKI page for Hame A5 so please share any info:<br /><a href="http://wiki.openwrt.org/toh/hame/mpr-a5">http://wiki.openwrt.org/toh/hame/mpr-a5</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199046">
				<div class="post-metadata">
					<div class="post-num">Post #444</div>
					<div class="post-author">p1vo</div>
					<div class="post-datetime">
						20 Apr 2013, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>This is how resistorst should be change to have 32MB in HAME MPR-A1 v2.1 (both are 4.7K)</p><p><span class="postimg"><img src="http://www.pivo.neostrada.pl/hameMPR-A1-2-1.jpg" alt="HAME MPR-A1 v2.1 32RAM/8MB Flash" /></span></p><br /><p>This is how resistorst should be change to have 32MB in HAME MPR-A1 v1.4 and clones (both are 4.7K)</p><p><span class="postimg"><img src="http://www.pivo.neostrada.pl/hameMPR-A1-1-4.jpg" alt="HAME MPR-A1 v2.1 32RAM/8MB Flash" /></span></p><p>Blue - Where they were orginaly<br />Red - Now with working 32MB RAM</p><p>Move resistors from blue -&gt; red positions.</p><p>PS. of course u have to solder 32MB RAM 4x4x16M chip first <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>p1vo</strong> on 21 Apr 2013, 19:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199195">
				<div class="post-metadata">
					<div class="post-num">Post #445</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						22 Apr 2013, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>@p1vo</p><p>With your resistor modification for 32MB memory configuration, is it still need kernel patches/config to mem=32 ? or no.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199200">
				<div class="post-metadata">
					<div class="post-num">Post #446</div>
					<div class="post-author">olegvekhov</div>
					<div class="post-datetime">
						22 Apr 2013, 11:09					</div>
				</div>
				<div class="post-content content">
					<p>The EBS-PMA-W1 works good with mem=16M patch to kernel.</p><p>However, USB doesn&#039;t work: compiled usb support + usb-serial drivers, bun nothing shows up in dmesg when i plug usb-modem or LU-150 modem (usb-cdc-ether) device.</p><p>GPIO7 and 12 looks &quot;1&quot; in /sys/class/gpio.</p><p>tried different combinations of uhci, ohci, usb2. nothing.</p><p>Where to look forward?</p><p>This is part of boot log<br /></p><div class="codebox"><pre><code>[   11.140000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   11.160000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   11.170000] cfg80211:   (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   11.190000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   11.200000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   11.220000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   11.600000] usbcore: registered new interface driver usbfs
[   11.610000] usbcore: registered new interface driver hub
[   11.630000] usbcore: registered new device driver usb
[   11.760000] zsmalloc: module is from the staging directory, the quality is unknown, you have been warned.
[   11.790000] zram: module is from the staging directory, the quality is unknown, you have been warned.
[   11.810000] zram: num_devices not specified. Using default: 1
[   11.830000] zram: Creating 1 devices ...
[   13.000000] PPP generic driver version 2.4.2
[   13.060000] tun: Universal TUN/TAP device driver, 1.6
[   13.070000] tun: (C) 1999-2004 Max Krasnyansky &lt;maxk@qualcomm.com&gt;
[   13.100000] PPP MPPE Compression module registered
[   13.290000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.590000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[   14.610000] ehci-platform ehci-platform: Generic Platform EHCI Controller
[   14.620000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[   14.670000] ehci-platform ehci-platform: irq 26, io mem 0x101c0000
[   14.700000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[   14.710000] hub 1-0:1.0: USB hub found
[   14.720000] hub 1-0:1.0: 1 port detected
[   14.760000] nf_conntrack version 0.5.0 (211 buckets, 844 max)
[   15.180000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[   15.190000] ohci-platform ohci-platform: Generic Platform OHCI Controller
[   15.200000] ohci-platform ohci-platform: new USB bus registered, assigned bus number 2
[   15.220000] ohci-platform ohci-platform: irq 26, io mem 0x101c1000
[   15.290000] hub 2-0:1.0: USB hub found
[   15.300000] hub 2-0:1.0: 1 port detected
[   15.500000] usbcore: registered new interface driver usbserial
[   15.520000] usbcore: registered new interface driver usbserial_generic
[   15.530000] usbserial: USB Serial support registered for generic
[   15.650000] usbcore: registered new interface driver cdc_ether
[   15.730000] usbcore: registered new interface driver rndis_host
[   15.760000] usbcore: registered new interface driver option
[   15.780000] usbserial: USB Serial support registered for GSM modem (1-port)
[   15.810000] usbcore: registered new interface driver qcserial
[   15.820000] usbserial: USB Serial support registered for Qualcomm USB modem</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199212">
				<div class="post-metadata">
					<div class="post-num">Post #447</div>
					<div class="post-author">oschemes</div>
					<div class="post-datetime">
						22 Apr 2013, 14:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>123serge123 wrote:</cite><blockquote><p>Coz of this most active rt5350 topic I post here. I start digging rt5350 wifi performance. Current version of driver is restricted to HT20. Do you measure real wifi speed? I have speeds (with my hack to support HT40)&nbsp; ~24Mbps wifi-client &lt;-&gt; wifi-client and ~56Mbps wifi-client&lt;-&gt;wired-client (I use iperf package). The main problem is atheros wifi-client (I test atheros ar9280 and intel 5150 cards). And what is your result? Intrested in client hardware and speed.</p></blockquote></div><p>Hi Serge,<br />What is your hack to support HT40?&nbsp; Please show us.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199214">
				<div class="post-metadata">
					<div class="post-num">Post #448</div>
					<div class="post-author">rusink</div>
					<div class="post-datetime">
						22 Apr 2013, 15:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>olegvekhov wrote:</cite><blockquote><p>The EBS-PMA-W1 works good with mem=16M patch to kernel.</p><p>However, USB doesn&#039;t work: compiled usb support + usb-serial drivers, bun nothing shows up in dmesg when i plug usb-modem or LU-150 modem (usb-cdc-ether) device.</p><p>GPIO7 and 12 looks &quot;1&quot; in /sys/class/gpio.</p></blockquote></div><p>These gpios are in Squonk patch. But problem is -&nbsp; EBS-PMA-W1 (M1&nbsp; -perhaps?) is not full Hame clone, USB may use another gpio. Which one? You should find them. Try 6 and 7 like in&nbsp; - <a href="https://forum.openwrt.org/viewtopic.php?pid=198124#p198124">https://forum.openwrt.org/viewtopic.php … 24#p198124</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199383">
				<div class="post-metadata">
					<div class="post-num">Post #449</div>
					<div class="post-author">bertc3p0</div>
					<div class="post-datetime">
						23 Apr 2013, 19:29					</div>
				</div>
				<div class="post-content content">
					<p>@heffer, could you share your dts files, please ? Don&#039;t want to reinvent the wheel ...</p>											<p class="post-edited">(Last edited by <strong>bertc3p0</strong> on 23 Apr 2013, 19:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199463">
				<div class="post-metadata">
					<div class="post-num">Post #450</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						24 Apr 2013, 10:17					</div>
				</div>
				<div class="post-content content">
					<p>Come on guys, how can I get openwrt on A5 ?!?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 18 of 28</div><nav><ul><li><a href="viewtopic.php%3Fid=37002&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=17.html">17</a></li><li class="pagination-current"><span>18</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=19.html">19</a></li><li><a href="viewtopic.php%3Fid=37002&amp;p=20.html">20</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37002&amp;p=28.html">28</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>