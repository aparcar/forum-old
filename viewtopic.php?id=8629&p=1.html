<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asterisk 1.2.14 and 1.4.0-beta4</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 5 Apr 2018 and 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=8629&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p38976">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						16 Dec 2006, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I put packages for Asterisk 1.2.14 and 1.4.0-beta4 for White Russian (RC5&amp;RC6) up at:</p><p>&nbsp; <a href="http://zandbelt.dyndns.org/asterisk.html">http://zandbelt.dyndns.org/asterisk.html</a></p><p>If these work for you I&#039;ll try to get the packages up to the openwrt repositories and the patches into the source tree.</p><p>Regards,</p><p>Hans.</p><p>PS: these work with the dummy zaptel (1.2.12 update) timer for IAX2 and app_meetme as described on the webpage and elsewhere in this forum</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39117">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Gazoo2</div>
					<div class="post-datetime">
						18 Dec 2006, 03:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello Zanbelt, I have downloaded your packages and i am not sure how to get them installed, even if I should install them. </p><p>I am running asterisk 1.2.1&nbsp; (running fine on a WRT54GS but I have to yet connect a PAP2 to asterisk</p><p>Downloaded<br /># asterisk_1.4.0-beta4-1_mipsel.ipk<br /># asterisk-sounds_1.4.0-beta4-1_mipsel.ipk<br /># asterisk-voicemail_1.4.0-beta4-1_mipsel.ipk </p><p>will the 1.2.*.*_mipsel.ipk packages work with the above, is there better functionality with the 1.4.* packages</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39134">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">macsat</div>
					<div class="post-datetime">
						18 Dec 2006, 11:38					</div>
				</div>
				<div class="post-content content">
					<p>I am currently playing a bit around with your 1.4b4 build on my asus wl-500g premium, making it work with a Linksys PAP2T. Will post results here once I get some ;-)</p><p>(So far I can connect to my sip provider with the asterisk, and also connect the PAP2T to the asterisk server. Calls dont work though, but I think I know the problem. Will look at it later).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39252">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Gazoo2</div>
					<div class="post-datetime">
						19 Dec 2006, 20:28					</div>
				</div>
				<div class="post-content content">
					<p>I managed to get my sip phones on the pap2 to work and I used the generic voice mail 1234, i just stumbled on to the right&nbsp; settings to get everything working tho. smbmount seems to be a problem with openwrt, it isn&#039;t found and I don&#039;t know which package would contain it, I have openwrt samba clien/server working but no smbmount. I might try the sd card mod to get more file space for voice mail and other files, and to unload the flash writes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39253">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Gazoo2</div>
					<div class="post-datetime">
						19 Dec 2006, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>just re read the thread and I have to add I am still running the 1.2 asterisk package</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39255">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						19 Dec 2006, 20:50					</div>
				</div>
				<div class="post-content content">
					<p>HI Zandbelt,</p><p>I tried the 1.4.3 beta. Got an error when tring to run &quot;asterisk&quot;, it says &quot; can&#039;t load library libstdc++.so.6:</p><p>do you know whwy? Does this happen in 1.4.4 as well?</p><p>Will the new GUI framwork work with Webif2 from x-wrt? How to use it?</p><p>thanks<br />peng</p><p>Can you list of steps for me to learn how to compile from source of Asterisk to ipkg package for openwrt? Trying to learn first and see how i can work out to help with you and others.</p><p>tks<br />peng</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39274">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						20 Dec 2006, 01:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>peng wrote:</cite><blockquote><p>I tried the 1.4.3 beta. Got an error when tring to run &quot;asterisk&quot;, it says &quot; can&#039;t load library libstdc++.so.6:</p><p>do you know whwy? Does this happen in 1.4.4 as well?</p></blockquote></div><p>I bet; you&#039;d need libstdc++.so.6 for that...<br />I don&#039;t remember where I got it; if needed I can provide a standalone .so file (ie. I don&#039;t have the ipkg at hand, if I have ever had it at all...)<br />Maybe one of the other people that run these packages would know?</p><div class="quotebox"><cite>peng wrote:</cite><blockquote><p>Will the new GUI framwork work with Webif2 from x-wrt? How to use it?</p></blockquote></div><p>I don&#039;t think so; they are pretty much independent of eachother; unless x-wrt has been working on integrating this.<br />You can avoid any port conflicts by configuring the port of the internal webserver in the asterisk config.</p><div class="quotebox"><cite>peng wrote:</cite><blockquote><p>Can you list of steps for me to learn how to compile from source of Asterisk to ipkg package for openwrt? Trying to learn first and see how i can work out to help with you and others.</p></blockquote></div><p>I provided a source patch &amp; short build instructions for Asterisk 1.2.13 on:</p><p>&nbsp; <a href="http://zandbelt.dyndns.org">http://zandbelt.dyndns.org</a></p><p>Regards,</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39280">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						20 Dec 2006, 02:23					</div>
				</div>
				<div class="post-content content">
					<p>HI zandbelt,</p><p>Thanks a lot for your guidance and help on this topic.</p><p>As per Asterisk&#039;s document, it doesn&#039;t seem to mention the lib file we encountered. Is it a required by Asterisk? if so, by which part?</p><p>the followings is from asterisk.org.<br />Install the following in order to build Asterisk and/or Zaptel:</p><p>&nbsp; &nbsp; * ncurses, and associated -devel<br />&nbsp; &nbsp; * openssl, and associated -devel<br />&nbsp; &nbsp; * zlib, and associated -devel<br />&nbsp; &nbsp; * bison, and associated -devel (1.0.X only) </p><p>Why don&#039;t we have this problem with other Asterisk ipk, like that 1.2 ver in backport and 1.0 in whiterussian?</p><p>Can you drop that on your web and let us know how we use it? should we put into ImageBuilder&#039;s package directory to build it, or just add it to asterisk&#039;s directory in openwrt box? Is it compiled for MIPS or it a generic file?</p><p>I guess that you&#039;re a fast tracker with Asterisk. I am trying to folllow its development as well. it&#039;s good to have opportunity to learn from you.</p><p>Thanks<br />Peng</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39300">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">candlerb</div>
					<div class="post-datetime">
						20 Dec 2006, 11:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zandbelt wrote:</cite><blockquote><div class="quotebox"><cite>peng wrote:</cite><blockquote><p>I tried the 1.4.3 beta. Got an error when tring to run &quot;asterisk&quot;, it says &quot; can&#039;t load library libstdc++.so.6:</p><p>do you know whwy? Does this happen in 1.4.4 as well?</p></blockquote></div><p>I bet; you&#039;d need libstdc++.so.6 for that...<br />I don&#039;t remember where I got it; if needed I can provide a standalone .so file (ie. I don&#039;t have the ipkg at hand, if I have ever had it at all...)<br />Maybe one of the other people that run these packages would know?</p></blockquote></div><p>I don&#039;t think I needed this for the 1.2.13 package. Here&#039;s what the box has (an Asus WL-500g Deluxe):</p><div class="codebox"><pre><code>root@OpenWrt:~# ipkg status | grep Package:
Package: kernel
Package: base-files
Package: base-files-brcm
Package: bridge
Package: busybox
Package: dnsmasq
Package: dropbear
Package: ipkg-sh
Package: iptables
Package: iwlib
Package: kmod-brcm-wl
Package: kmod-diag
Package: kmod-switch
Package: kmod-wlcompat
Package: mtd
Package: nvram
Package: uclibc
Package: wificonf
Package: asterisk-mini  # 1.2.13-1
Package: kmod-usb-core  # 2.4.30-brcm-4
Package: libpthread  # 0.9.27-1
Package: libncurses  # 5.2-7
Package: libopenssl  # 0.9.8d-1
Package: ntpclient
root@OpenWrt:~# ls /lib
ld-uClibc-0.9.27.so   libm-0.9.27.so        libresolv.so.0
ld-uClibc.so.0        libm.so.0             librt-0.9.27.so
libc.so.0             libnsl-0.9.27.so      librt.so.0
libcrypt-0.9.27.so    libnsl.so.0           libuClibc-0.9.27.so
libcrypt.so.0         libpthread-0.9.27.so  libutil-0.9.27.so
libdl-0.9.27.so       libpthread.so.0       libutil.so.0
libdl.so.0            libresolv-0.9.27.so   modules
root@OpenWrt:~# ls /usr/lib
asterisk            libiw.so.28         libpanel.so.5
common.awk          libmenu.so.5        libpanel.so.5.2
firewall.awk        libmenu.so.5.2      libshared.so
ipkg                libncurses.so.5     libssl.so.0.9.8
iptables            libncurses.so.5.2   parse-config.awk
libcrypto.so.0.9.8  libnvram.so
root@OpenWrt:~# ldd /usr/sbin/asterisk
        libdl.so.0 =&gt; /lib/libdl.so.0 (0x2aaee000)
        libpthread.so.0 =&gt; /lib/libpthread.so.0 (0x2ab30000)
        libncurses.so.5 =&gt; /usr/lib/libncurses.so.5 (0x2ab84000)
        libm.so.0 =&gt; /lib/libm.so.0 (0x2ac07000)
        libresolv.so.0 =&gt; /lib/libresolv.so.0 (0x2ac4e000)
        libssl.so.0.9.8 =&gt; /usr/lib/libssl.so.0.9.8 (0x2ac8f000)
        libcrypto.so.0.9.8 =&gt; /usr/lib/libcrypto.so.0.9.8 (0x2ad04000)
        libc.so.0 =&gt; /lib/libc.so.0 (0x2ae49000)
        ld-uClibc.so.0 =&gt; /lib/ld-uClibc.so.0 (0x2aaa8000)
root@OpenWrt:~# uname -a
Linux OpenWrt 2.4.30 #1 Mon Nov 6 17:35:21 PST 2006 mips unknown
root@OpenWrt:~#</code></pre></div><p>Maybe it&#039;s one of the modules? But ldd appears to be broken for .so files :-(</p><div class="codebox"><pre><code>root@OpenWrt:~# for i in /usr/lib/asterisk/modules/*; do ldd $i; done
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault
Segmentation fault</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39338">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						20 Dec 2006, 21:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I looked into the libstdc++ dependency and apparently this is because the Asterisk 1.4.0 executable is linked by default with g++ instead of gcc; my guess is that this is because of the h323 module that could be linked in that way. Since the h323 module is not in the OpenWRT packages (yet) I decided to patch the source for linking with gcc and I released an update of the 1.4.0-beta4 packages (the package release number is 2 now). You can get the new packages from the original link.</p><p>So the dependency on libstdc++ no longer exists.</p><p>You can try this one and let me know if it works for you.</p><p>Regards,</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39360">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						21 Dec 2006, 02:36					</div>
				</div>
				<div class="post-content content">
					<p>HI Hans,</p><p>It would be highly appreciated that you can spend some time in writing a dummy guide for a dummy like me about,</p><p>1. how to get Asterisk.org &#039;s source file into my Ubuntu box.<br />2. how to set up in the Ubuntu box to start compile those sources into IPKG that can be used for MIPS on openWRT box. Which is the result you posted.<br />3. how to untar the tar file you provide in the OpenWRT box and get it installed in the box. <br /> I got the optimized things packed up again as a .tar.bz2 file and loaded to the box. but don&#039;t know which command/options/ to use to get it loaded.<br />Thanks a lot</p><p>Peng<br />Alternative installation<br />If you don&#039;t want to install the core package (as it is rather large: 1.5 Mb) you can also download the asterisk_1.4.0-beta3-1.tar.gz tarball, unpack it on an external drive, filter out the stuff that you don&#039;t want or need and pack the rest in a trimmed down tarfile that you untar on the OpenWRT box.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39393">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						21 Dec 2006, 14:18					</div>
				</div>
				<div class="post-content content">
					<p>HI Hans,</p><p>I tried ImageBuilder to build the image using your asterisk ipk. It seems that I always get &quot;duplicate files&quot; with Asterisk. </p><p>When I use Asterisk 1.2 from OpenWrt stock, with Asterisk-sournds, it will say duplicate &quot;5&quot; files. with out Asterisk-sounds, it says &quot;0&quot; duplicate.</p><p>What is about this duplicate file thing? what is duplicated? Is this something that we can fix or something beyond our capability and doesn&#039;t hurt?</p><p>Trying to understand this.</p><p>BTW, this time asterisk doesn&#039;t complain about that libstc++ thing. I will test out other functions and let you know. hope you will toss out the final 1.4 next Friday as well.</p><p>Good work!<br />thanks<br />Peng</p><p>***with asterisk-sounds****it says duplicate &quot;11&quot;file<br />Creating little endian 2.1 filesystem on /home/savvid/Desktop/OpenWrt-ImageBuilder-Linux-i686/build_mipsel/linux-2.4-brcm/root.squashfs, block size 65536.</p><p>Little endian filesystem, data block size 65536, compressed data, compressed metadata, compressed fragments<br />Filesystem size 3807.33 Kbytes (3.72 Mbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 40.21% of uncompressed filesystem size (9467.49 Kbytes)<br />Inode table size 6645 bytes (6.49 Kbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 26.97% of uncompressed inode table size (24639 bytes)<br />Directory table size 7726 bytes (7.54 Kbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 51.91% of uncompressed directory table size (14883 bytes)<br />Number of duplicate files found 11<br />Number of inodes 1071<br />Number of files 833<br />Number of fragments 71<br />Number of symbolic links&nbsp; 171<br />Number of device nodes 0<br />Number of fifo nodes 0<br />Number of socket nodes 0<br />Number of directories 67<br />Number of uids 1<br />&nbsp; &nbsp; &nbsp; &nbsp; root (0)<br />Number of gids 0</p><br /><p>**Taking out asterisk-sounds*** it says duplicate &quot;1&quot; file.</p><p>Configuring webif...Done.<br />Creating little endian 2.1 filesystem on /home/savvid/Desktop/OpenWrt-ImageBuilder-Linux-i686/build_mipsel/linux-2.4-brcm/root.squashfs, block size 65536.</p><p>Little endian filesystem, data block size 65536, compressed data, compressed metadata, compressed fragments<br />Filesystem size 3231.92 Kbytes (3.16 Mbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 36.11% of uncompressed filesystem size (8949.68 Kbytes)<br />Inode table size 5683 bytes (5.55 Kbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 27.74% of uncompressed inode table size (20485 bytes)<br />Directory table size 6865 bytes (6.70 Kbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 53.41% of uncompressed directory table size (12853 bytes)<br />Number of duplicate files found 1<br />Number of inodes 895<br />Number of files 665<br />Number of fragments 62<br />Number of symbolic links&nbsp; 171<br />Number of device nodes 0<br />Number of fifo nodes 0<br />Number of socket nodes 0<br />Number of directories 59<br />Number of uids 1<br />&nbsp; &nbsp; &nbsp; &nbsp; root (0)</p><p>****taking out asterisk*** it says &quot;0&quot; duplicate files.</p><p>Little endian filesystem, data block size 65536, compressed data, compressed metadata, compressed fragments<br />Filesystem size 1422.23 Kbytes (1.39 Mbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 32.39% of uncompressed filesystem size (4390.42 Kbytes)<br />Inode table size 3663 bytes (3.58 Kbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 27.25% of uncompressed inode table size (13441 bytes)<br />Directory table size 4360 bytes (4.26 Kbytes)<br />&nbsp; &nbsp; &nbsp; &nbsp; 55.18% of uncompressed directory table size (7901 bytes)<br />Number of duplicate files found 0<br />Number of inodes 604<br />Number of files 386<br />Number of fragments 25<br />Number of symbolic links&nbsp; 169<br />Number of device nodes 0<br />Number of fifo nodes 0<br />Number of socket nodes 0<br />Number of directories 49<br />Number of uids 1<br />&nbsp; &nbsp; &nbsp; &nbsp; root (0)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39401">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						21 Dec 2006, 16:07					</div>
				</div>
				<div class="post-content content">
					<p>HI Hans, </p><p>Started testing your 1.4B4-2. got the following errors in the log. hope you can help with some suggestions.</p><p>thanks<br />peng</p><p>\\asterisk/messages<br />[Dec 21 08:03:47] NOTICE[818] cdr.c: CDR simple logging enabled.<br />[Dec 21 08:03:48] WARNING[818] db.c: Unable to open Asterisk database<br />[Dec 21 08:03:48] NOTICE[818] loader.c: 51 modules will be loaded.<br />[Dec 21 08:03:51] WARNING[818] res_musiconhold.c: Cannot open dir /var/lib/asterisk/moh or dir does not exist ***shouldn&#039;t this be <br />/usr/lib/asterisk/moh/</p><p>[Dec 21 08:03:51] WARNING[818] res_smdi.c: No SMDI interfaces are available to listen on, not starting SDMI listener.***what do i do with this?<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show cache&#039; already registered (or something close enough)***i currently don&#039;t use IAX2 on this box. what does these IAX related error mean? What can we do about this?</p><p>[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show channels&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show firmware&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show netstats&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show peers&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show registry&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show stats&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show threads&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] cli.c: Command &#039;iax2 show users&#039; already registered (or something close enough)<br />[Dec 21 08:03:52] WARNING[818] chan_iax2.c: Error opening firmware directory &#039;/var/lib/asterisk/firmware/iax&#039;: No such file or directory</p><p>[Dec 21 08:03:52] WARNING[818] db.c: Unable to open Asterisk database&nbsp; *******this is the most annoying part. what do i do about this?</p><p>[Dec 21 08:03:52] WARNING[818] chan_sip.c: insecure=very at line 124 is deprecated; use insecure=port,invite instead<br />[<br />[Dec 21 08:03:53] WARNING[818] translate.c: plc_samples 160 format 6<br />[Dec 21 08:03:53] WARNING[818] translate.c: plc_samples 160 format 6</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39407">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						21 Dec 2006, 17:04					</div>
				</div>
				<div class="post-content content">
					<p>hmmm,</p><p>It seems that DTMF also doesn&#039;t work when I use Asterisk 1.4 B-2 with 7970/7960 phone.</p><p>What&#039;s been changed on Asterisk new version?</p><p>tks<br />peng</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39419">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						21 Dec 2006, 18:37					</div>
				</div>
				<div class="post-content content">
					<p>Can you check that your asterisk.conf specifies an entry for &quot;astdatadir&quot; in the [directories] section?<br />In my case it should point to the same directory as &quot;astvarlibdir&quot;.<br />This was not present/needed in 1.2.x but it is required in 1.4.x, so you can&#039;t just copy over your old asterisk.conf.</p><p>Hans.</p>											<p class="post-edited">(Last edited by <strong>zandbelt</strong> on 21 Dec 2006, 18:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39420">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						21 Dec 2006, 18:42					</div>
				</div>
				<div class="post-content content">
					<p>Hi hans,</p><p>As i didn&#039;t figure out how to untar and install your tar file in the openwrt box, i downloaded your three IPK files in the imageBuilder. This is the new rebuild i loaded up.</p><p>This is what it looks like.</p><p>I do realize that i have quite a few questions here, hope you can help out with your expertise.</p><p>Thanks<br />peng</p><p>root@OpenWrt:~$ more /etc/asterisk/asterisk.conf<br />[directories]<br />astetcdir =&gt; /etc/asterisk<br />astmoddir =&gt; /usr/lib/asterisk/modules<br />astvarlibdir =&gt; /var/lib/asterisk<br />astdatadir =&gt; /var/lib/asterisk<br />astagidir =&gt; /var/lib/asterisk/agi-bin<br />astspooldir =&gt; /var/spool/asterisk<br />astrundir =&gt; /var/run<br />astlogdir =&gt; /var/log/asterisk</p><p>; Changing the following lines may compromise your security.<br />;[files]<br />;astctlpermissions = 0660<br />;astctlowner = root<br />;astctlgroup = apache<br />;astctl = asterisk.ctl<br />;[options]<br />;internal_timing = yes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39423">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						21 Dec 2006, 19:07					</div>
				</div>
				<div class="post-content content">
					<p>more /usr/lib/asterisk/moh/</p><p>hmmm, so, where should this moh/ directory should be? in /usr? or /var?</p><p>after installation, it&#039;s locased in /usr?</p><p>now, the prompts is for /var?</p><p>I really need your help with all the questions listed above. Thanks a lot in advance.</p><p>Peng</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39432">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						21 Dec 2006, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>Linksys PAP2 also lost DTMF functions. So, there must be some change to Asterisk 1.4 B4-2. I am not sure it&#039;s only happening on this compiled version for MIPS or for the whole new 1.4 from asterisk.org.</p><p>thanks<br />peng</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39446">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						22 Dec 2006, 00:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi Peng,</p><p>I won&#039;t spend time on answering Asterisk specific configuration questions/problems here; you have to refer to the Asterisk documentation and fora for that (and perhaps the tutorial that macsat is writing). One exception now;-), I guess your config would have to look like this:</p><p>[directories]<br />astetcdir =&gt; /etc/asterisk<br />astmoddir =&gt; /usr/lib/asterisk/modules<br />astvarlibdir =&gt; /usr/lib/asterisk<br />astdatadir =&gt; /usr/lib/asterisk<br />astagidir =&gt; /usr/lib/asterisk/agi-bin<br />astspooldir =&gt; var/spool/asterisk<br />astrundir =&gt; /var/run<br />astlogdir =&gt; /var/log/asterisk</p><p>I&#039;ll look into configuring these values by default in the ipkgs.<br />Then again, I&#039;d recommend the stable 1.2.x release in your case, being relatively new to Asterisk on OpenWRT.<br />I appreciate your feedback on the duplicate files in the packages; I&#039;ll solve those in the next releases as well.</p><p>Regards,</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39447">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						22 Dec 2006, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>HI Hans,</p><p>Yes, those directories are generated by your packages by default. I am not sure what&#039;s happening.</p><p>I will try your 1.2.x and see how it goes.</p><p>Thanks<br />peng</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39448">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						22 Dec 2006, 01:38					</div>
				</div>
				<div class="post-content content">
					<p>HI hans,</p><p>I loaded your 1.2.14 stable in ImageBuilder, and it says duplicate file of &quot;11&quot; as well.</p><p>I also couldn&#039;t run asterisk as it complains the follwoing lib. What does this lib do with Asterisk?</p><p>thanks<br />peng</p><p>root@OpenWrt:~$ asterisk<br />asterisk: can&#039;t load library &#039;libssl.so.0.9.8&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39458">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">macsat</div>
					<div class="post-datetime">
						22 Dec 2006, 10:08					</div>
				</div>
				<div class="post-content content">
					<p>Just to give a status.</p><p>I AM in the middle of the tutorial.</p><p>I am however stuck right now due to the fact that I am waiting for my new ISP to deliver my internet line. Until I get the new line I cant forward ports (I am on a shared line right now, with no control over the gateway router), and hence cant test the dial in- and out features of asterisk.</p><p>Currently making local calls on my LAN between to SIP phones works fine however.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39462">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">candlerb</div>
					<div class="post-datetime">
						22 Dec 2006, 11:17					</div>
				</div>
				<div class="post-content content">
					<p>You can always register with an upstream SIP provider, like sipgate.co.uk, through your NAT firewall. You can do this without opening any extra ports on the fierwall.</p><p>As far as the provider is concerned, your Asterisk box is just an ATA. So as long as they work with devices behind NAT (e.g. they support the SIP &#039;rport&#039; extension, they send periodic empty SIP packets as keepalives, and they perform RTP rendezvous) then it should work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39465">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">zandbelt</div>
					<div class="post-datetime">
						22 Dec 2006, 12:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>peng wrote:</cite><blockquote><p>root@OpenWrt:~$ asterisk<br />asterisk: can&#039;t load library &#039;libssl.so.0.9.8&#039;</p></blockquote></div><p>You can download the libssl-0.9.8 package from the same site in the Asterisk 1.2.13 package listing. This one is required since res_crypto is included in the core distribution now. I put that one in on request but I&#039;m considering to leave it out in the next release and provide it in a separate package because it is rather heavy-weight.</p><p>Hans.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39477">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						22 Dec 2006, 16:54					</div>
				</div>
				<div class="post-content content">
					<p>do you mean that libopenssl-0.9.8?<br />tks<br />peng</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=8629&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>