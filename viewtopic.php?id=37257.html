<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How do I successfully change the subnet on my router?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p168921">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">toolmaker</div>
					<div class="post-datetime">
						3 Jun 2012, 01:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I am trying to change the subnet on a WL-500GPv1 newly flashed with Backfire 10.03.1 r29592, but seem to keep locking up the router.&nbsp; The only way I have been able to re-establish access was to reboot in failsafe mode and perform an &quot;mtd -r erase rootfs_data&quot; each time.</p><p>I have tried changing the network.lan.ipaddr both by changing the value of the Luci Network-&gt;Interfaces-&gt;LAN IPv4 address box to 192.168.100.1, and in a later attempt by using</p><p>&nbsp; uci set network.lan.ipaddr=192.168.100.1<br />&nbsp; uci commit</p><p>from the command line interface.&nbsp; But as I said above, each attempt resulted in the router becoming unresposive (locking up).&nbsp; I haven&#039;t be able to find any wiki documents or forum posts that seemed to provide any help.</p><p>I need to change the subnet so that I can connect the WAN port of this router into one of the LAN ports of my existing Kamikaze-based <br />router.&nbsp; I need to do this to access the Internet so that I can update and install packages.&nbsp; I am trying to set the new router up without affecting current LAN operations.&nbsp; Once I get it configured to provide the services currently provided by the Kamikaze based router, I will switch them and reflash the Kamikaze to Backfire.&nbsp; Unfortunately my cable company&#039;s DOCSIS modem won&#039;t allow access to another MAC address, so I need to connect it downstream to the existing router.</p><p>Assistance will greatly appreciated.</p>											<p class="post-edited">(Last edited by <strong>toolmaker</strong> on 3 Jun 2012, 01:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168975">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">toolmaker</div>
					<div class="post-datetime">
						3 Jun 2012, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>OK, I knew I had to be overlooking something!&nbsp; As it turns out, and as most of you know, all I had to do after restarting the network on the router was to reboot my computer, because the router was using the new subnet, but the computer was still on the old subnet.&nbsp; </p><br /><p>For those, who like me, tend to overthink things or get somewhat easily confused sometimes:</p><p>Since the computer uses DHCP for the connection to the router, it was automatically set up for the newly assigned subnet.&nbsp; Login and authentication via both the Luci and ssh interfaces worked flawlessly.&nbsp; &nbsp;I had been concerned because the NVRAM variables for lan_ipaddr, dhcp_start and dhcp_end hadn&#039;t been set.&nbsp; But, of course, the OpenWrt variants are designed to work while minimizing changes to flash memory.&nbsp; </p><p>So to recap what I did:</p><p>&nbsp; 1.&nbsp; I changed the lan ip address</p><p>&nbsp; &nbsp; &nbsp; &nbsp; uci set network.lan.ipaddr<br />&nbsp; &nbsp; &nbsp; &nbsp; uci commit</p><br /><p>&nbsp; 2.&nbsp; I restarted network services</p><p>&nbsp; &nbsp; &nbsp; &nbsp; /etc/init.d/network restart</p><p>&nbsp; 3.&nbsp; I rebooted the downstrean computer connected to LAN1</p><br /><p>&nbsp; 4.&nbsp; I logged in normally using both ssh and the Luci web interface, changing only the IP address used for login</p><p>I hope this might help someone else.=)</p><br /><p>And a sincere thank you to all of the developers and forum and wiki contributors for all that you do to provide and advance great open source software!!!=D</p>											<p class="post-edited">(Last edited by <strong>toolmaker</strong> on 3 Jun 2012, 18:10)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>