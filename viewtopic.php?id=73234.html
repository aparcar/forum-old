<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> strange routing problem?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p372036">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ninjaef</div>
					<div class="post-datetime">
						12 Feb 2018, 10:26					</div>
				</div>
				<div class="post-content content">
					<p>I have had to revert back to stock because of a problem which I suspect is routing (firewall maybe?)</p><p>I have a Cosy Smarthub which is a device that controls central heating. At install , the MAC had dto be associated with my email. My email was used to create an account with the provider. The hub periodically sends is MAC and local+WAN IP to the provider system. The hub is connected to my router via a Cat5e and works perfectly as does my LAN. <br />However<br />A phone app is used to control the hub. The phone app requires a data connection to access the provider using my account (email). The provider system then talks to my hub over the WAN. When I use mobile data, the app works. When I switch to my home WiFi, the app cannot connect to my hub via the provder.</p><p>I was using the latest version of LEDE:<br /><a href="https://downloads.lede-project.org/releases/17.01.4/targets/mvebu/generic/linksys-wrt3200acm-squashfs-factory.img">https://downloads.lede-project.org/rele â€¦ actory.img</a></p><p>When I switch back to stock fw, the app now works when on WiFi</p><p>I would really like to go back to LEDE because it enables a third radio on this router which gives an optional 2nd 5Ghz band in addition to the extant two 2.4GHz and 5GHz bands. This third band was designed for radar detection but works perfectly as a third band - Ive used it.</p><p>Any ideas what I need to configure in LEDE to make this hub work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p372075">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cvmiller</div>
					<div class="post-datetime">
						12 Feb 2018, 23:51					</div>
				</div>
				<div class="post-content content">
					<p>Just a guess, but I suspect either the Cosy Smarthub, or your phone App is using UPNP to open ports on your router. And it isn&#039;t enabled (by default) on LEDE*. If you knew what port your Cosy Smarthub was opening on the stock firmware, you could probably just add that as a firewall rule to LEDE.</p><p>*UPNP is a bad thing, IMHO, because it gives other things control over your firewall, things that could be infected with viruses, and choose to open up lots of ports on your firewall without you knowing it.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>