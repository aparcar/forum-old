<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Porting to Airlink101 AR360W3G (alias Amit WMQ138)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p58057">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						25 Oct 2007, 23:38					</div>
				</div>
				<div class="post-content content">
					<p>This is a 3G-capable router I picked up recently for $65 at Fry&#039;s. (Nexaira also sells the same device as the NexConnect Wireless Broadband Router for $149.)</p><p>I contacted Airlink101 &amp; Amit, and was able to get them to post the GPL tarballs to <a href="http://www.airlink101.com/gpl/">http://www.airlink101.com/gpl/</a> which has disappeared in the last 4 hours or so - I have emailed them to see where it went. Good thing I downloaded them to my PC!</p><p>The hardware platform is listed on <a href="http://wiki.openwrt.org/TableOfHardware">http://wiki.openwrt.org/TableOfHardware</a> as &quot;AMRISC 20000&quot;. According to the info in their GPL tarball, this is a i386-linux target. </p><p>I&#039;m looking for pointers on where to go from here. Given that I have their GPL sources &amp; toolchain, how do I use that information to set up an OpenWRT build for this platform? </p><p>My main interest is in getting access to my Sprint EVDO card, so I know I&#039;ll need to configure in USBserial support, 3G support, etc.</p><p>Thanks for any direction you can provide.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58441">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jhonny_1977</div>
					<div class="post-datetime">
						3 Nov 2007, 11:07					</div>
				</div>
				<div class="post-content content">
					<p>can you share with us the code since it&#039;s a gpl ? jhonny_1977@hotmail.com</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58442">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dgi</div>
					<div class="post-datetime">
						3 Nov 2007, 11:27					</div>
				</div>
				<div class="post-content content">
					<p>Yes, please post your download somewhere. I am the one who listed the platform in the TableOfHardware wiki page. I found zero info about the innards on the web, so I opened it up and posted what I found. I&#039;m shocked that AirLink101 responded to your inquiry like that, because when I contacted them, they told me they believe shipping a device with firmware in it does not constitute software distribution and is therefore not subject to the GPL&#039;s requirement to provide source, so source would only be provided for firmware images available for download from their website. This means that models that have not had firmware updates, like the AR360W3G, AR625W, and AR680W would not have source. This model should be trivial for OpenWRT to support, since it already supports all the hardware in it. The RDC port, which was developed primarily by florian and myself, would be the one that would cover this hardware.<br /><a href="http://wiki.openwrt.org/RDCPort">http://wiki.openwrt.org/RDCPort</a><br /><a href="https://dev.openwrt.org/wiki/rdc">https://dev.openwrt.org/wiki/rdc</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58451">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						3 Nov 2007, 15:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>Yes, please post your download somewhere.</p></blockquote></div><p>I&#039;m uploading to my FTP server right now. I will post a link when it&#039;s done. </p><br /><div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>I am the one who listed the platform in the TableOfHardware wiki page. I found zero info about the innards on the web, so I opened it up and posted what I found.</p></blockquote></div><p>Since you&#039;ve taken a good look at the board, can you help me with the serial port pinouts? I have an FTDI USB-to-TTL pigtail cable I&#039;d like to hook up to it, but spent a good bit of time unsuccessfully trying to determine which pins are RX/TX. </p><br /><div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>I&#039;m shocked that AirLink101 responded to your inquiry like that, because when I contacted them, they told me they believe shipping a device with firmware in it does not constitute software distribution and is therefore not subject to the GPL&#039;s requirement to provide source, so source would only be provided for firmware images available for download from their website.</p></blockquote></div><p>They were actually very helpful. I had to mail them a couple of times over a period of 2 weeks or so, but they finally posted it. I never heard any of the arguments they gave you. I was also surprised that they were so cooperative. I didn&#039;t expect it. Then, the gpl directory on their site disappeared. I emailed them, they said they were redesigning their site, and it would be back in a day or two. That was over a week ago. </p><div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>This means that models that have not had firmware updates, like the AR360W3G, AR625W, and AR680W would not have source.</p></blockquote></div><p>From looking at the #defines in the source, this code base (or at least parts of it) covers several of their products, so it might help extend OpenWRT support to more than just this one model. </p><div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>This model should be trivial for OpenWRT to support, since it already supports all the hardware in it. The RDC port, which was developed primarily by florian and myself, would be the one that would cover this hardware.<br /><a href="http://wiki.openwrt.org/RDCPort">http://wiki.openwrt.org/RDCPort</a><br /><a href="https://dev.openwrt.org/wiki/rdc">https://dev.openwrt.org/wiki/rdc</a></p></blockquote></div><p>Thanks! Is there any way to know whether I&#039;d be safe to simply build an RDC port firmware &amp; flash the device, or do I need to make sure I have serial console access first?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58461">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						3 Nov 2007, 19:51					</div>
				</div>
				<div class="post-content content">
					<p>Here&#039;s the download link:</p><p><a href="http://downloads.astrogadgets.com/gpl/wmq138/">http://downloads.astrogadgets.com/gpl/wmq138/</a></p><p>I also uploaded the patch files I&#039;ve been looking at to determine what they&#039;ve changed from the base linux release. Looks like a lot of stuff.</p>											<p class="post-edited">(Last edited by <strong>dcarter</strong> on 5 Nov 2007, 14:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58466">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dgi</div>
					<div class="post-datetime">
						4 Nov 2007, 00:16					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, but the hostname <a href="ftp://ftp.astrogadgets.com">ftp.astrogadgets.com</a> does not resolve for me. Which other models are in #define&#039;s? I haven&#039;t looked closely at the openwrt code in a few weeks, but when I do (likely today), I will make sure I have a working serial console first.</p><p>JTAG:<br />1 Vcc<br />2 Ground<br />3 TCK<br />4 TDO<br />5 TDI<br />6 TMS</p><p>Serial:<br />1 RI<br />2 Vcc<br />3 CTS<br />4 RTS<br />5 Rx<br />6 DTR<br />7 DSR<br />8 Tx<br />9 DCD<br />10 Ground</p><p>It took me just a few minutes right now to figure out all of the above with just an ohmmeter.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58474">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						4 Nov 2007, 05:31					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the pinout info. Do you know if HW flow control is required, or can I get by with just Ground/Tx/Rx?</p><div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>Sorry, but the hostname <a href="ftp://ftp.astrogadgets.com">ftp.astrogadgets.com</a> does not resolve for me.</p></blockquote></div><p>It&#039;s not working for me now, either, but it was when I posted this. I&#039;ll put a ticket in with my hosting provider &amp; see if they can get it straightened out. </p><div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>Which other models are in #define&#039;s?</p></blockquote></div><p>This is from one of the Makefiles:</p><div class="codebox"><pre><code>    if [ &quot;${PROJECT_NAME}&quot; == &quot;WVQ138&quot; ]; then\
        $(CPP) $(CPPFLAGS) -D_WVQ138 -D__ASSEMBLY__ -traditional $(SVGA_MODE) $(RAMDISK) $&lt; -o $@; \
    fi;
    if [ &quot;${PROJECT_NAME}&quot; == &quot;DI824&quot; ]; then\
        $(CPP) $(CPPFLAGS) -D_DI824 -D__ASSEMBLY__ -traditional $(SVGA_MODE) $(RAMDISK) $&lt; -o $@; \
    fi;
    if [ &quot;${PROJECT_NAME}&quot; == &quot;MGB100&quot; ]; then\
        $(CPP) $(CPPFLAGS) -D_MGB100 -D__ASSEMBLY__ -traditional $(SVGA_MODE) $(RAMDISK) $&lt; -o $@; \
    fi;
    if [ &quot;${PROJECT_NAME}&quot; == &quot;MGB111&quot; ]; then\
        $(CPP) $(CPPFLAGS) -D_MGB111 -D__ASSEMBLY__ -traditional $(SVGA_MODE) $(RAMDISK) $&lt; -o $@; \
    fi;
    if [ &quot;${PROJECT_NAME}&quot; == &quot;WMQ138&quot; ]; then\
        $(CPP) $(CPPFLAGS) -D_WMQ138 -D__ASSEMBLY__ -traditional $(SVGA_MODE) $(RAMDISK) $&lt; -o $@; \
    fi;
    if [ &quot;${PROJECT_NAME}&quot; == &quot;WMQ139&quot; ]; then\
        $(CPP) $(CPPFLAGS) -D_WMQ139 -D__ASSEMBLY__ -traditional $(SVGA_MODE) $(RAMDISK) $&lt; -o $@; \</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58509">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jhonny_1977</div>
					<div class="post-datetime">
						5 Nov 2007, 10:17					</div>
				</div>
				<div class="post-content content">
					<p>try this to download :</p><p><a href="ftp://astrogadgets.com/gpl/wmq138/">ftp://astrogadgets.com/gpl/wmq138/</a></p><p>i;m little bit strange with AR360W3G. i hack the flash and got it not a linux but purely a firmware. and dunno contain firmware or not. Any suggesstion ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58518">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						5 Nov 2007, 14:27					</div>
				</div>
				<div class="post-content content">
					<p>That ftp link didn&#039;t work for me. I have moved the files here:</p><p><a href="http://downloads.astrogadgets.com/gpl/wmq138/">http://downloads.astrogadgets.com/gpl/wmq138/</a></p><p>Hopefully this will work for everyone.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58657">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jhonny_1977</div>
					<div class="post-datetime">
						8 Nov 2007, 10:37					</div>
				</div>
				<div class="post-content content">
					<p>Can other&#039;s friend give us the compiling firmware first ? This is for safety , when failed in upgrade.</p><p>And how reset the flash chip if failed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58673">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						8 Nov 2007, 19:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jhonny_1977 wrote:</cite><blockquote><p>Can other&#039;s friend give us the compiling firmware first ? This is for safety , when failed in upgrade.</p></blockquote></div><p>I don&#039;t believe AirLink101 has posted a firmware download for this model yet. Is there a way to download the current firmware image from the device to keep as a backup?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58674">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						8 Nov 2007, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>The original GPL download link from AirLink101 is active again:</p><p><a href="http://www.airlink101.com/gpl/ar360w3g/">http://www.airlink101.com/gpl/ar360w3g/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58695">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">jhonny_1977</div>
					<div class="post-datetime">
						9 Nov 2007, 06:55					</div>
				</div>
				<div class="post-content content">
					<p>Depedency must have RCS package.</p><p>But now i failed compile the package gcc showing :</p><p>gen-devlist.c:7:19: error: stdio.h: No such file or directory<br />gen-devlist.c:8:20: error: string.h: No such file or directory<br />gen-devlist.c:13: error: expected â€˜)â€™ before â€˜*â€™ token<br />gen-devlist.c: In function â€˜mainâ€™:<br />....<br />...<br />...</p><p>Any body know what&#039;s problem ?</p><p>And how to solve it.</p><p>About package is it different from original source and before sources ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58712">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">dcarter</div>
					<div class="post-datetime">
						9 Nov 2007, 14:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>This model should be trivial for OpenWRT to support, since it already supports all the hardware in it. The RDC port, which was developed primarily by florian and myself, would be the one that would cover this hardware.</p></blockquote></div><p>Could someone please outline the trivial steps that would required to extend support to this device? Or point me to documentation that already does this? I&#039;m willing to read &amp; to roll up my sleeves, but I&#039;m not really sure where to begin.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58841">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">jhonny_1977</div>
					<div class="post-datetime">
						12 Nov 2007, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>1. read GPL_readme.txt<br />2. using suse 10.0.0.1<br />3. compile. and make some file link.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58941">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">jhonny_1977</div>
					<div class="post-datetime">
						14 Nov 2007, 05:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dgi wrote:</cite><blockquote><p>Sorry, but the hostname <a href="ftp://ftp.astrogadgets.com">ftp.astrogadgets.com</a> does not resolve for me. Which other models are in #define&#039;s? I haven&#039;t looked closely at the openwrt code in a few weeks, but when I do (likely today), I will make sure I have a working serial console first.</p><p>JTAG:<br />1 Vcc<br />2 Ground<br />3 TCK<br />4 TDO<br />5 TDI<br />6 TMS</p><p>Serial:<br />1 RI<br />2 Vcc<br />3 CTS<br />4 RTS<br />5 Rx<br />6 DTR<br />7 DSR<br />8 Tx<br />9 DCD<br />10 Ground</p><p>It took me just a few minutes right now to figure out all of the above with just an ohmmeter.</p></blockquote></div><p>Is it this pin directly connect to computer or need one module to convert ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59628">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">jhonny_1977</div>
					<div class="post-datetime">
						28 Nov 2007, 09:31					</div>
				</div>
				<div class="post-content content">
					<p>nobody interest with this router ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67263">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">bigdan</div>
					<div class="post-datetime">
						22 Apr 2008, 10:46					</div>
				</div>
				<div class="post-content content">
					<p>Is anybody working on this? I have this router too and would love to see openwrt running on it. Has anybody got it to work? any news at all?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75585">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">dgi</div>
					<div class="post-datetime">
						30 Oct 2008, 06:47					</div>
				</div>
				<div class="post-content content">
					<p>In case anybody else is still subscribed to this thread, move to the new one:<br /><a href="http://forum.openwrt.org/viewtopic.php?id=15410">http://forum.openwrt.org/viewtopic.php?id=15410</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>