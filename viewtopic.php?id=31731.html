<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> dead WAG120N</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p142969">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">daegyguy</div>
					<div class="post-datetime">
						6 Sep 2011, 17:48					</div>
				</div>
				<div class="post-content content">
					<p>Hello, <br />my WAG120N is dead, the wireless doesn&#039;t work, the router is not responding, sometimes it pings, sometimes it doesnt, reset doesn&#039;t work, setup doesnt open. I tried running a&nbsp; port scan it shows all ports are closed, is there a hack so I could somehow make it work again?</p><p>P.S I didnt try to install OpenWRT, I dont know where exactly to get help , since&nbsp; this is a hardware hacking forum, I thought it might be relevant.<br />Thanks</p><p>Regards</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142980">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						6 Sep 2011, 20:43					</div>
				</div>
				<div class="post-content content">
					<p>Try to get information through serial port. See port.serial in the wiki.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143004">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">daegyguy</div>
					<div class="post-datetime">
						7 Sep 2011, 02:02					</div>
				</div>
				<div class="post-content content">
					<p>I could&#039;nt find either jtag or serial ports, anybody can help? <br />Regars</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143016">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						7 Sep 2011, 10:07					</div>
				</div>
				<div class="post-content content">
					<p>Maybe if you provide some more information (photos of the pcb front and back, vendor name, main chip labels).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210695">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">niksa</div>
					<div class="post-datetime">
						24 Aug 2013, 23:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I have the same problem which occurred randomly -.-</p><p>Here are the pics<br /><span class="postimg"><img src="http://i40.tinypic.com/2e185xd.jpg" alt="http://i40.tinypic.com/2e185xd.jpg" /></span><br /><span class="postimg"><img src="http://i41.tinypic.com/1088cc8.jpg" alt="http://i41.tinypic.com/1088cc8.jpg" /></span><br />This JA2 looks like serial pinout but could not verify that on net<br /><span class="postimg"><img src="http://i43.tinypic.com/vou7hk.jpg" alt="http://i43.tinypic.com/vou7hk.jpg" /></span><br /><span class="postimg"><img src="http://i40.tinypic.com/1z3seav.jpg" alt="http://i40.tinypic.com/1z3seav.jpg" /></span><br /><span class="postimg"><img src="http://i40.tinypic.com/sc8ky0.jpg" alt="http://i40.tinypic.com/sc8ky0.jpg" /></span><br /><span class="postimg"><img src="http://i43.tinypic.com/mvq5q9.jpg" alt="http://i43.tinypic.com/mvq5q9.jpg" /></span><br /><span class="postimg"><img src="http://i43.tinypic.com/velkrl.jpg" alt="http://i43.tinypic.com/velkrl.jpg" /></span></p><p>ps sorry for resurrecting 2 year old post <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210778">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">niksa</div>
					<div class="post-datetime">
						25 Aug 2013, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>In meantime, I&#039;ve soldered pin header for JA2 and it IS serial ^^<br />starting from arrow symbol 1st pin is GND, 2nd tx, 3rd 3,3v and finally 4th is rx</p><p>I&#039;m having problem with U-boot (magic number problem). TFTP is working (yay) but don&#039;t have experience with U-Boot<br /></p><div class="codebox"><pre><code>AMAZON_SE # printenv
bootcmd=run flash_flash
bootdelay=3
baudrate=115200
preboot=echo;echo Type &quot;run flash_nfs&quot; to mount root filesystem over NFS;echo
mem=32M
netdev=eth0
baudrate=115200
rootpath=/opt/nfs
nfsargs=setenv bootargs root=/dev/nfs rw nfsroot=$(serverip):$(rootpath)
ramargs=setenv bootargs root=/dev/ram rw
addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):on
addmisc=setenv bootargs $(bootargs) console=ttyS0,$(baudrate) ethaddr=$(ethaddr) mem=$(mem) panic=1
flash_nfs=run nfsargs addip addmisc;bootm $(kernel_addr)
ramdisk_addr=B0100000
flash_self=run ramargs addip addmisc;bootm $(kernel_addr) $(ramdisk_addr)
bootfile=uImage
u-boot=u-boot-spi.bin
firmware=firmware.img
fullimage=ifx_adslrt.img
net_nfs=tftp 80500000 $(bootfile);run nfsargs addip addmisc;bootm
root_filesystem=rootfs.img
load=tftp 80500000 $(u-boot)
update=protect off 1:0-2;era 1:0-2;cp.b 80500000 0x0 $(filesize)
flashargs=setenv bootargs root=/dev/mtdblock5
flash_flash=run flashargs addip addmisc; bootm $(kernel_addr)
update_uboot=tftpboot 80400000 $(u-boot); cp.b 80400000 00000000 $(filesize)
update_kernel=tftpboot 80400000 $(bootfile);upgrade 80400000 $(filesize)
update_rootfs=tftpboot 80400000 $(root_filesystem);upgrade 80400000 $(filesize)
update_firmware=tftpboot 80400000 $(firmware);upgrade 80400000 $(filesize)
update_fullimage=tftpboot 80400000 $(fullimage);upgrade 80400000 $(filesize)
reset_uboot_config=mw 80400000 &#039;FFFFFFFF&#039; 0x0008000;cp.b 80400000 0x0013000 0x0008000;reset
part0_begin=0x00000000
part1_begin=0x00010000
part2_begin=0x00040000
total_part=3
flash_end=0x003FFFFF
data_block0=uboot
data_block1=firmware
data_block2=rootfs
data_block3=kernel
data_block4=sysconfig
data_block5=ubootconfig
data_block6=fwdiag
total_db=7
f_uboot_addr=0x00000000
f_uboot_size=0
f_firmware_addr=0x00010000
f_firmware_size=0
f_rootfs_addr=0x00040000
f_rootfs_size=0
f_rootfs_end=0x00040000
f_kernel_addr=0x00030000
kernel_addr=0x00030000
f_kernel_size=0
f_sysconfig_addr=0x003FD200
f_sysconfig_size=0
f_ubootconfig_addr=0x0013000
f_ubootconfig_size=0x0008000
f_fwdiag_addr=0x003FFE00
f_fwdiag_size=0x0200
chipid=1.2
boardid=112233
stdin=serial
stdout=serial
stderr=serial
ethaddr=00:22:6b:fd:a0:af
ethact=AMAZON_SE Switch
filesize=400000
fileaddr=80100000
ipaddr=192.168.1.1
serverip=192.168.1.2

Environment size: 2324/32764 bytes</code></pre></div><p>and commands <br /></p><div class="codebox"><pre><code>AMAZON_SE # ?
?       - alias for &#039;help&#039;
askenv  - get environment variables from stdin
asmod   - assign!
autoscr - run script from memory
base    - print or set address offset
bootm   - boot application image from memory
bootp   - boot image via network using BootP/TFTP protocol
burnin  - burnin!
cmp     - memory compare
cp      - memory copy
crc32   - checksum calculation
dhrystone       - benchmark
download        - download!
echo    - echo args to console
eeprom  - EEPROM sub-system
go      - start application at address &#039;addr&#039;
help    - print online help
led_test        - led_test!
loadb   - load binary file over serial line (kermit mode)
loady   - load binary file over serial line (ymodem mode)
loop    - infinite loop on address range
md      - memory display
mm      - memory modify (auto-incrementing)
mtest   - simple RAM test
mw      - memory write (fill)
nm      - memory modify (constant address)
printenv- print environment variables
rarpboot- boot image via network using RARP/TFTP protocol
reset   - Perform RESET of the CPU
run     - run commands in an environment variable
saveenv - save environment variables to persistent storage
setenv  - set environment variables
sleep   - delay execution for some time
spi_erase       - erase serial flash!!
spi_write       - write serial flash!!
tftpboot- boot image via network using TFTP protocol
upgrade - forward/backward copy memory to pre-defined flash location
version - print monitor version</code></pre></div><p>I need help with tftp (stock fw is fine for now) to install new fw.</p>											<p class="post-edited">(Last edited by <strong>niksa</strong> on 25 Aug 2013, 18:47)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>