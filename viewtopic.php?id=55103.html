<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Send user data via both Ethernet and Serial port</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p261259">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Eric97</div>
					<div class="post-datetime">
						13 Jan 2015, 15:55					</div>
				</div>
				<div class="post-content content">
					<p>Dear all,</p><p>I have a ubiquity NanoBridge M5 module <a href="http://wiki.openwrt.org/toh/ubiquiti/airgrid">http://wiki.openwrt.org/toh/ubiquiti/airgrid</a> and flashed with a self built image with the buildroot. After installing Luci, it can be configured like a router. My application would like to use this device as a peripheral communication device to send my user data to another NanoBridge M5 with both Ethernet and Serial port. The serial port can be turned off with this method: <a href="http://thomasdaede.com/wordpress/?p=18.">http://thomasdaede.com/wordpress/?p=18.</a></p><p>I am a little confused how to realize the above function. After connecting the serial port, Ethernet port with my application host (i.e. my laptop with Ubuntu), they should appear as two devices, one is the serial port and the other one is the Ethernet IP address. Then I can access and write data to the two devices at the same time in my laptop application? The data stream from serial port and Ethernet can be correctly sent out to the air? Many thanks for your kind suggestions.</p><p>Regards,<br />Eric</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261263">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						13 Jan 2015, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>Not clear what you&#039;re trying to do.&nbsp; You can use ppp to pass IP traffic over serial.&nbsp; This will create an interface which you can make part of a network.&nbsp; Of course serial bit rate is literally 1000 times slower than ethernet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261277">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Eric97</div>
					<div class="post-datetime">
						13 Jan 2015, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your input. Basically, my laptop has two streams of user data. One needs to send from the serial port of laptop to the serial port of NanoBridge, the other one is from the ethernet port of laptop to the ethernet port of NanoBridge. This way, I want to realise two kinds of wireless streaming data. Do I need to modify some configurations in the OpenWRT to realize two sending source?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261305">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">makro</div>
					<div class="post-datetime">
						13 Jan 2015, 21:05					</div>
				</div>
				<div class="post-content content">
					<p>What is the data you are going to &quot;stream&quot;? What is the receiving device going to do with it? Why can&#039;t both data streams run on Ethernet? It&#039;s packet switched after all, not a phone line that is busy when it is in use.</p>											<p class="post-edited">(Last edited by <strong>makro</strong> on 13 Jan 2015, 21:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261381">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Eric97</div>
					<div class="post-datetime">
						14 Jan 2015, 09:24					</div>
				</div>
				<div class="post-content content">
					<p>Basically, I have two embedded subsystems, one is the sensor reading system with the serial port interface, the other one is the video streaming system with the Ethernet interface. So with the serial port and Ethernet port on the Ubiquity NanoBridge, we want to send the two streams of data wireless. Of course, the serial data and video data will be stored and forwarded via the RF processor onboard in the final end which is scheduled by the WiFi driver (this is my understanding, please help correct if anything wrong). The serial data can be forwarded to Ethernet and sent via Ethernet? <br />The reason I use the serial port is because the sensor reading system only has a serial port..</p><p>On the receiver end, we will just use the Ethernet port on another Ubiquity NanoBridge to receive two streams of data and display them.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261410">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						14 Jan 2015, 15:43					</div>
				</div>
				<div class="post-content content">
					<p>You would use ser2net or serialoverIP to convert the sensor to a telnet device.&nbsp; This would most logically be done at the PC but it could also be in the router.&nbsp; Once the serial traffic is in IP form it is transmitted by ethernet or wifi.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261811">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Eric97</div>
					<div class="post-datetime">
						17 Jan 2015, 10:17					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, mk24.<br />I think the ser2net is suitable and should be done in the router. Could you please help advise how should I achieve this? Guess need to install the &quot;ser2net&quot; package in the OpenWRT. Then the serial data will be automatically forwarded to the WiFi? </p><p>Another problem is how should I turn the OpenWRT router into a device that can keep sending and receiving data? As currently after flashing the OpenWRT, the spectrum analyzer cannot see the transmitted signal from the NanoBridge.</p><p>Thanks,<br />Eric</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p261856">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">zo0ok</div>
					<div class="post-datetime">
						17 Jan 2015, 18:16					</div>
				</div>
				<div class="post-content content">
					<p>Apologizes if I misunderstand here. Eric97, it sounds like you think too much low level. With OpenWRT your NanoBridge M5 is essentially turned into a multi-tasking, multi-user, memory protected unix (Linux) system... it has, essentially, the same capacity as the PC you are writing on, just less storage, memory and processing capacity.</p><p>You can write programs in C or C++, make use of libraries, to read/write to the serial port. This program can then process the data, listen to TCP/UDP ports, connect via TCP/UDP to other servers or read/write data temporarily to file. You can write CGI-programs if you want to connect to the NanoBridge over HTTP. You can use NFS, SMB or SSH/SSHFS to let other computers connect to the filesystem of the NanoBridge, or you can let the NanoBridge mount remote filesystems.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>