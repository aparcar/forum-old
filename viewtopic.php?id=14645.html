<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Tried the ram upgrade on the openwrt.org wiki, bricked...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p63988">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">thecross</div>
					<div class="post-datetime">
						24 Feb 2008, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>I successfully replaced the 16 megabyte chip with <a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail?name=557-1212-1-ND">this</a> 64 megabyte chip on my WRT54GL 1.1. The router booted right up the first time and I was able to see the expected 32 megabytes of space. However, once I attempted to change what appears to be the way the BCM5352 addresses memory as outlined on this link in order to access the full 64 megabytes</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/RAM_upgrade">http://wiki.openwrt.org/OpenWrtDocs/Cus … AM_upgrade</a></p><p>then it bricked. The power LED flashes quickly and the ethernet LED&#039;s are stuck on all the time. I tried all of the easy stuff (like TFTP) to get it back, but I can&#039;t connect over ethernet no matter what I do on the PC. It just keeps saying &quot;network cable unplugged&quot; regardless of what I do on the PC side. I then worked my way through this guide</p><p><a href="http://dd-wrt.com/wiki/index.php/Index:FAQ#I_think_I.27ve_bricked_my_router.21">http://dd-wrt.com/wiki/index.php/Index: … _router.21</a></p><p>and eventually built an unbuffered JTAG cable as defined here</p><p><a href="http://wiki.openwrt.org/OpenWrtDocs/Customizing/Hardware/JTAG_Cable">http://wiki.openwrt.org/OpenWrtDocs/Cus … JTAG_Cable</a></p><p>I was able to connect over JTAG, but whenever I try to probe or do anything the HairyDairyMaid utility gets stuck at &quot;Enabling Memory Writes ...&quot; and won&#039;t continue. The first thing I tried was using the &quot;/noemw&quot; command and I attempted to erase the NVRAM. No effect. I then attempted to erase and reflash the CFE with a CFE generated by the SkyNet repair kit. The flash took a few minutes, but there was still no change in the status of the router. When the &quot;/noemw&quot; is used, does this prevent erasing or overwriting?</p><p>I refuse to believe that what appears to be a &quot;simple&quot; memory addressing error bricks the whole thing. There has go to be a way to get this thing back. For the record, at this point something tells me it doesn&#039;t really matter, but I was using the &quot;standard generic&quot; DD-WRT v24 firmware located <a href="http://www.dd-wrt.com/dd-wrtv2/downloads/release%20candidates/DD-WRT%20v24%20RC6.2/Broadcom/Linksys/WRT54GL_1.1/dd-wrt.v24_std_generic.bin">here</a></p><p>I have also read through the entire 4-page thread listed above concerning the 64 megabyte upgrade, but I couldn&#039;t find anything that specifically addresses my issue.</p><p>Thanks in advance for any help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64463">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Wyrick</div>
					<div class="post-datetime">
						3 Mar 2008, 07:22					</div>
				</div>
				<div class="post-content content">
					<p>thecross,<br />&nbsp; I now have two wrt54GLs that are in the same boat.&nbsp; Both went fine, run for awhile, when I did nvram set sdram_init=0x0113 and comminted both have never rebooted from that.<br />I have used the JTAG to erase the nvram and that does not fix it.&nbsp; I have reuploaded the CFE that was taken from a backup before the upgrade, and that has not fixed it.&nbsp; There must be something that the HailryDairyMaid tools is not erasing when we do this.&nbsp; &nbsp;When I backedup the wholerom the file was only 2 Megs not the 4 I expected.&nbsp; I wonder if the addresses in the program are not right for the GL.</p><p>&nbsp; Please let me know if you find a way out of this.&nbsp; I would like to clean these two.</p><p>- M</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64468">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						3 Mar 2008, 08:19					</div>
				</div>
				<div class="post-content content">
					<p>Have a look at this thread for possibly useful information:<br /><a href="http://forum.openwrt.org/viewtopic.php?id=14560">http://forum.openwrt.org/viewtopic.php?id=14560</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64491">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Wyrick</div>
					<div class="post-datetime">
						3 Mar 2008, 16:20					</div>
				</div>
				<div class="post-content content">
					<p>I have now fixed both of these.&nbsp; &nbsp;Both wrt54g.exe and tjtag.exe don&#039;t set the length of the flash correctly so the -erase:nvram command does not clear the nvram.&nbsp; I used -erase:custom and set the start and length manualy for a 4 M flash and it got the CFE running again.</p><p>After that I found that if I only used sdram_init = 0x0113 and did not change&nbsp; sdram_ndcl that it gives me all 64Megs of ram and does not lockup.&nbsp; If I set sdram_ndcl to zero it does not boot and I have to erase the nvram again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64503">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						3 Mar 2008, 19:22					</div>
				</div>
				<div class="post-content content">
					<p>Never trust any Wiki. And second it&#039;s your own fault if you brick your router by doing such difficult and dangerous modifications on your hardware.</p><p>You are on your own...</p>											<p class="post-edited">(Last edited by <strong>forum2008</strong> on 3 Mar 2008, 19:23)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>