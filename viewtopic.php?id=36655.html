<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Philips webcam: Unable to set format (in MJPEG and in YUV mode)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p166665">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">VTCop</div>
					<div class="post-datetime">
						6 May 2012, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>HI! Im trying OpenWRT for first time to use a usb webcam in my Asus WL-500gP v1.</p><p>I&#039;m installed Open WRT Backfire 10.03.1 final.</p><p>I&#039;m installed usb support, video support, v4l2, and my web cam drivers (pwc). </p><p>Now I have my webcam on /dev/video0, and I can use it with fswebcam perfectly. I can take JPG captures:</p><p>&nbsp; # fswebcam --device /dev/video0 output.jpeg</p><p>My problem is that I CANT use mjpg_streamer. I always get the error: </p><p> i: Using V4L2 device.: /dev/video0<br /> i: Desired Resolution: 640 x 480<br /> i: Frames Per Second.: 5<br /> i: Format............: MJPEG<br />Unable to set format: 1196444237 res: 640x480<br /> Init v4L2 failed !! exit fatal<br /> i: init_VideoIn failed</p><br /><p>And if I use the -y parameter to force YUV mode I have:</p><br /><p>MJPG Streamer Version: svn rev: exported<br /> i: Using V4L2 device.: /dev/video0<br /> i: Desired Resolution: 640 x 480<br /> i: Frames Per Second.: 5<br /> i: Format............: YUV<br /> i: JPEG Quality......: 80<br />Unable to set format: 1448695129 res: 640x480<br /> Init v4L2 failed !! exit fatal<br /> i: init_VideoIn failed</p><br /><p>I dont know how to make my webcam works with mjpg_streamer.</p><p>Please, help me!</p><p>Must I recompile mjpg_streamer with some specific configuration??<br />Must I specify some special parameter in mjpg_streamer ???</p><br /><br /><p>Thanks very much in advance.</p><p>My webcam is:<br />Philips PCVC730K 0471:0310</p><p>Some help. This is the output of fswebcam in verbose mode:</p><p> fswebcam --device /dev/video0 output.jpeg --verbose<br />--- Opening /dev/video0...<br />Trying source module v4l2...<br />/dev/video0 opened.<br />src_v4l2_get_capability,83: /dev/video0 information:<br />src_v4l2_get_capability,84: cap.driver: &quot;pwc&quot;<br />src_v4l2_get_capability,85: cap.card: &quot;Philips 730 webcam&quot;<br />src_v4l2_get_capability,86: cap.bus_info: &quot;usb-0000:00:03.0-1&quot;<br />src_v4l2_get_capability,87: cap.capabilities=0x05000001<br />src_v4l2_get_capability,88: - VIDEO_CAPTURE<br />src_v4l2_get_capability,97: - READWRITE<br />src_v4l2_get_capability,99: - STREAMING<br />No input was specified, using the first.<br />src_v4l2_set_input,177: /dev/video0: Input 0 information:<br />src_v4l2_set_input,178: name = &quot;usb&quot;<br />src_v4l2_set_input,179: type = 00000000<br />src_v4l2_set_input,182: audioset = 00000000<br />src_v4l2_set_input,183: tuner = 00000000<br />src_v4l2_set_input,184: status = 00000000<br />src_v4l2_set_pix_format,537: Device offers the following V4L2 pixel formats:<br />src_v4l2_set_pix_format,550: 0: [0x32435750] &#039;PWC2&#039; (Raw Philips Webcam)<br />src_v4l2_set_pix_format,550: 1: [0x32315559] &#039;YU12&#039; (4:2:0, planar, Y-Cb-Cr)<br />Using palette YUV420P<br />src_v4l2_set_mmap,689: mmap information:<br />src_v4l2_set_mmap,690: frames=2<br />src_v4l2_set_mmap,737: 0 length=462848<br />src_v4l2_set_mmap,737: 1 length=462848<br />--- Capturing frame...<br />Captured frame in 0.00 seconds.<br />--- Processing captured image...<br />Unable to load font &#039;luxisr&#039;: libgd was not built with FreeType font support</p><p>Disabling the the banner.<br />Writing JPEG image to &#039;output.jpeg&#039;.</p>											<p class="post-edited">(Last edited by <strong>VTCop</strong> on 6 May 2012, 22:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175677">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cloverstd</div>
					<div class="post-datetime">
						24 Aug 2012, 10:11					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problem with you.<br />How can you solve it?<br />Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175688">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">StratoSnn</div>
					<div class="post-datetime">
						24 Aug 2012, 11:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>Does your camera UVC compatible? mjpg_stramer only handles UVC devices.<br /></p><div class="quotebox"><blockquote><p>MJPG-streamer takes JPGs from Linux-UVC compatible webcams, filesystem or other input plugins and streams them as M-JPEG via HTTP to webbrowsers, VLC and other software. It is the successor of uvc-streamer, a Linux-UVC streaming application with Pan/Tilt</p></blockquote></div><p>Â© <a href="http://sourceforge.net/projects/mjpg-streamer/">http://sourceforge.net/projects/mjpg-streamer/</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>