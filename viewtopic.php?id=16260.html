<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> building trunk error.. [rev 11750]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p70676">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">doggie</div>
					<div class="post-datetime">
						9 Jul 2008, 06:24					</div>
				</div>
				<div class="post-content content">
					<p>I am building trunk with the profile Broadcom BCM947xx/953xx [2.6] and No Wifi, and getting an error reported by uClibc..</p><p>the old revison of trunk(about rev 112xx) can be build correctly but the lastest revison cause this error with my building entironment.(arch linux 2.6.22 and gcc 4.2.1)<br />emm.. I have not do anything before svn up if I remember rightly.</p><p>log is here, any help is appreciation.</p><p>sorry for my english..</p><div class="codebox"><pre><code>make[1]: Entering directory `/doggy/openwrt/kamikaze&#039;
make[2]: Entering directory `/doggy/openwrt/kamikaze&#039;
++ mkdir -p /doggy/openwrt/kamikaze/staging_dir/mipsel
++ cd /doggy/openwrt/kamikaze/staging_dir/mipsel
++ mkdir -p bin lib include stamp
++ mkdir -p /doggy/openwrt/kamikaze/staging_dir/host
++ cd /doggy/openwrt/kamikaze/staging_dir/host
++ mkdir -p bin lib include stamp
mkdir -p /doggy/openwrt/kamikaze/build_dir/host/stamp /doggy/openwrt/kamikaze/build_dir/mipsel/stamp
install -m0644 /doggy/openwrt/kamikaze/tools/include/*.h /doggy/openwrt/kamikaze/staging_dir/host/include/
touch /doggy/openwrt/kamikaze/staging_dir/mipsel/.prepared
make[3]: Entering directory `/doggy/openwrt/kamikaze/toolchain/kernel-headers&#039;
make[3]: Leaving directory `/doggy/openwrt/kamikaze/toolchain/kernel-headers&#039;
make[3]: Entering directory `/doggy/openwrt/kamikaze/toolchain/uClibc&#039;
prepare uClibc version 0.9.29
bzcat /doggy/openwrt/kamikaze/dl/uClibc-0.9.29.tar.bz2 | /bin/tar -C /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/.. -xf -
Ignoring subdirectory ./patches/0.9.28.2

Applying ./patches/001-fix_mmap.patch using plaintext: 
patching file test/mmap/mmap2.c
patching file libc/sysdeps/linux/arm/mmap.c
patching file libc/sysdeps/linux/common/mmap64.c

Applying ./patches/002-conditional_sched_affinity.patch using plaintext: 
patching file libc/sysdeps/linux/common/sched_getaffinity.c
patching file libc/sysdeps/linux/common/sched_setaffinity.c

Applying ./patches/004-fix_gethostent_r_failure_retval.patch using plaintext: 
patching file libc/inet/resolv.c

Applying ./patches/005-fix_internal_function_definition.patch using plaintext: 
patching file libc/sysdeps/linux/i386/bits/uClibc_arch_features.h
patching file include/libc-symbols.h

Applying ./patches/006-rm_whitespace.patch using plaintext: 
patching file include/assert.h
patching file include/complex.h
patching file include/features.h
patching file include/tgmath.h

Applying ./patches/007-avr32.patch using plaintext: 
patching file Rules.mak
patching file extra/Configs/Config.avr32
patching file extra/Configs/Config.in
patching file extra/Configs/defconfigs/avr32
patching file include/elf.h
patching file ldso/include/dl-string.h
patching file ldso/include/dl-syscall.h
patching file ldso/ldso/avr32/dl-debug.h
patching file ldso/ldso/avr32/dl-startup.h
patching file ldso/ldso/avr32/dl-syscalls.h
patching file ldso/ldso/avr32/dl-sysdep.h
patching file ldso/ldso/avr32/elfinterp.c
patching file ldso/ldso/avr32/resolve.S
patching file ldso/ldso/dl-startup.c
patching file libc/inet/resolv.c
patching file libc/string/avr32/Makefile
patching file libc/string/avr32/bcopy.S
patching file libc/string/avr32/bzero.S
patching file libc/string/avr32/memcmp.S
patching file libc/string/avr32/memcpy.S
patching file libc/string/avr32/memmove.S
patching file libc/string/avr32/memset.S
patching file libc/string/avr32/strcmp.S
patching file libc/string/avr32/strlen.S
patching file libc/sysdeps/linux/avr32/Makefile
patching file libc/sysdeps/linux/avr32/Makefile.arch
patching file libc/sysdeps/linux/avr32/__longjmp.S
patching file libc/sysdeps/linux/avr32/bits/atomic.h
patching file libc/sysdeps/linux/avr32/bits/byteswap.h
patching file libc/sysdeps/linux/avr32/bits/endian.h
patching file libc/sysdeps/linux/avr32/bits/fcntl.h
patching file libc/sysdeps/linux/avr32/bits/kernel_stat.h
patching file libc/sysdeps/linux/avr32/bits/kernel_types.h
patching file libc/sysdeps/linux/avr32/bits/mman.h
patching file libc/sysdeps/linux/avr32/bits/setjmp.h
patching file libc/sysdeps/linux/avr32/bits/stackinfo.h
patching file libc/sysdeps/linux/avr32/bits/syscalls.h
patching file libc/sysdeps/linux/avr32/bits/uClibc_arch_features.h
patching file libc/sysdeps/linux/avr32/bits/wordsize.h
patching file libc/sysdeps/linux/avr32/brk.c
patching file libc/sysdeps/linux/avr32/bsd-_setjmp.S
patching file libc/sysdeps/linux/avr32/bsd-setjmp.S
patching file libc/sysdeps/linux/avr32/clone.c
patching file libc/sysdeps/linux/avr32/crt1.S
patching file libc/sysdeps/linux/avr32/crti.S
patching file libc/sysdeps/linux/avr32/crtn.S
patching file libc/sysdeps/linux/avr32/mmap.c
patching file libc/sysdeps/linux/avr32/setjmp.S
patching file libc/sysdeps/linux/avr32/sigaction.c
patching file libc/sysdeps/linux/avr32/sigrestorer.S
patching file libc/sysdeps/linux/avr32/sys/elf.h
patching file libc/sysdeps/linux/avr32/sys/procfs.h
patching file libc/sysdeps/linux/avr32/sys/ucontext.h
patching file libc/sysdeps/linux/avr32/sys/user.h
patching file libc/sysdeps/linux/avr32/syscall.S
patching file libc/sysdeps/linux/avr32/vfork.S
patching file libpthread/linuxthreads.old/sysdeps/avr32/pt-machine.h
patching file libpthread/linuxthreads/sysdeps/avr32/pt-machine.h
patching file utils/ldd.c

Applying ./patches/008-avr32_fix_sa_onstack.patch using plaintext: 
patching file libc/sysdeps/linux/avr32/sigaction.c

Applying ./patches/009-fix_getaddrinfo_infinite_loop.patch using plaintext: 
patching file libc/inet/getaddrinfo.c

Applying ./patches/100-termios.patch using plaintext: 
patching file libc/sysdeps/linux/common/bits/termios.h

Applying ./patches/110-compat_macros.patch using plaintext: 
patching file include/string.h
patching file include/strings.h

Applying ./patches/120-adjtimex.patch using plaintext: 
patching file include/sys/timex.h

Applying ./patches/130-compile_fixes.patch using plaintext: 
patching file libc/string/mips/sysdep.h
patching file Rules.mak

Applying ./patches/130-sockets_throw.patch using plaintext: 
patching file libc/sysdeps/linux/mips/bits/socket.h
cp -fpR ././config/mipsel /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/.config
/doggy/openwrt/kamikaze/staging_dir/host/bin/sed -i -e &#039;s,^KERNEL_HEADERS=.*,KERNEL_HEADERS=\&quot;/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include\&quot;,g&#039; -e &#039;s,.*UCLIBC_HAS_FPU.*,UCLIBC_HAS_FPU=y,g&#039; -e &#039;s,^.*UCLIBC_HAS_LFS.*,UCLIBC_HAS_LFS=y,g&#039; -e &#039;s,^.*CONFIG_ARM_EABI.*,CONFIG_ARM_EABI=n,g&#039; -e &#039;s,^.*CONFIG_ARM_OABI.*,CONFIG_ARM_OABI=y,g&#039; -e &#039;s,^.*UCLIBC_HAS_SHADOW.*,UCLIBC_HAS_SHADOW=y,g&#039; /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/.config
mkdir -p /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include
mkdir -p /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/lib
mkdir -p /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/lib
if [ ! -f /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/linux/version.h ] ; then cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-mips /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-generic /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/linux /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-mips /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-generic /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/linux /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-mips /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-generic /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/linux /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/include/ ; fi;
make -C /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/extra/config conf KBUILD_HAVE_NLS= HOSTCFLAGS=&quot;-DKBUILD_NO_NLS&quot;
make[4]: Entering directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/extra/config&#039;
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS -MM *.c &gt; .depend 2&gt;/dev/null || :
make[4]: Leaving directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/extra/config&#039;
make[4]: Entering directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/extra/config&#039;
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c conf.c -o conf.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c kxgettext.c -o kxgettext.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c lxdialog/checklist.c -o lxdialog/checklist.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c lxdialog/inputbox.c -o lxdialog/inputbox.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c lxdialog/menubox.c -o lxdialog/menubox.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c lxdialog/textbox.c -o lxdialog/textbox.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c lxdialog/util.c -o lxdialog/util.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c lxdialog/yesno.c -o lxdialog/yesno.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -c mconf.c -o mconf.o
mconf.c: In function &#039;conf_string&#039;:
mconf.c:775: warning: assignment discards qualifiers from pointer target type
mconf.c:778: warning: assignment discards qualifiers from pointer target type
mconf.c:781: warning: assignment discards qualifiers from pointer target type
cat zconf.tab.c_shipped &gt; zconf.tab.c
cat lex.zconf.c_shipped &gt; lex.zconf.c
cat zconf.hash.c_shipped &gt; zconf.hash.c
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS -I. -c zconf.tab.c -o zconf.tab.o
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE -DKBUILD_NO_NLS  -lncursesw conf.o  zconf.tab.o -o conf
make[4]: Leaving directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/extra/config&#039;
PATH=/doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/bin:/doggy/openwrt/kamikaze/staging_dir/host/bin:/doggy/openwrt/kamikaze/staging_dir/mipsel/host/bin:/doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/bin:/doggy/openwrt/kamikaze/staging_dir/host/bin:/doggy/openwrt/kamikaze/staging_dir/mipsel/host/bin:/doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/bin:/doggy/openwrt/kamikaze/staging_dir/host/bin:/doggy/openwrt/kamikaze/staging_dir/mipsel/host/bin:/bin:/usr/bin:/sbin:/usr/sbin:/usr/X11R6/bin:/opt/bin make -C /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29 PREFIX=/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/ DEVEL_PREFIX=/usr/ RUNTIME_PREFIX=/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/ HOSTCC=&quot;gcc&quot; CPU_CFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -fhonour-copts&quot; pregen install_dev;
make[4]: Entering directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29&#039;
install -d include/bits
make -C extra/config conf
gcc -DCURSES_LOC=&quot;&lt;ncurses.h&gt;&quot; -DLOCALE  -MM *.c &gt; .depend 2&gt;/dev/null || :
make[5]: `conf&#039; is up to date.
install -d include/bits/
.config:60:warning: trying to assign nonexistent symbol KERNEL_SOURCE
.config:72:warning: trying to assign nonexistent symbol BUILD_UCLIBC_LDSO
.config:79:warning: trying to assign nonexistent symbol DL_FINI_CRT_COMPAT
*
* uClibc Configuration
*
Target Architecture
  1. alpha (TARGET_alpha)
  2. arm (TARGET_arm)
  3. avr32 (TARGET_avr32)
  4. bfin (TARGET_bfin)
  5. cris (TARGET_cris)
  6. e1 (BROKEN) (TARGET_e1)
  7. frv (BROKEN) (TARGET_frv)
  8. h8300 (BROKEN) (TARGET_h8300)
  9. hppa (TARGET_hppa)
  10. i386 (TARGET_i386)
  11. i960 (BROKEN) (TARGET_i960)
  12. ia64 (TARGET_ia64)
  13. m68k (TARGET_m68k)
  14. microblaze (BROKEN) (TARGET_microblaze)
&gt; 15. mips (TARGET_mips)
  16. nios (TARGET_nios)
  17. nios2 (TARGET_nios2)
  18. powerpc (TARGET_powerpc)
  19. superh (TARGET_sh)
  20. sh64 (TARGET_sh64)
  21. sparc (TARGET_sparc)
  22. v850 (BROKEN) (TARGET_v850)
  23. vax (TARGET_vax)
  24. x86_64 (TARGET_x86_64)
choice[1-24?]: 15
*
* Target Architecture Features and Options
*
Target ABI
&gt; 1. O32 ABI (CONFIG_MIPS_O32_ABI)
  2. N32 ABI (CONFIG_MIPS_N32_ABI)
  3. N64 ABI (CONFIG_MIPS_N64_ABI)
choice[1-3?]: 1
Target Processor Architecture
  1. Generic (MIPS I) (CONFIG_MIPS_ISA_1)
  2. MIPS II (CONFIG_MIPS_ISA_2)
  3. MIPS III (CONFIG_MIPS_ISA_3)
  4. MIPS IV (CONFIG_MIPS_ISA_4)
&gt; 5. MIPS32 (CONFIG_MIPS_ISA_MIPS32)
  6. MIPS64 (CONFIG_MIPS_ISA_MIPS64)
choice[1-6?]: 5
*
* Using ELF file format
*
Target Processor Endianness
  1. Big Endian (ARCH_WANTS_BIG_ENDIAN)
&gt; 2. Little Endian (ARCH_WANTS_LITTLE_ENDIAN)
choice[1-2?]: 2
Target CPU has a memory management unit (MMU) (ARCH_HAS_MMU) [Y/n/?] y
  Do you want to utilize the MMU? (ARCH_USE_MMU) [Y/n/?] y
Enable floating point number support (UCLIBC_HAS_FLOATS) [Y/n/?] y
  Target CPU has a floating point unit (FPU) (UCLIBC_HAS_FPU) [Y/n/?] y
  Enable full C99 math library support (DO_C99_MATH) [Y/n/?] y
Linux kernel header location (KERNEL_HEADERS) [/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include] /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include
*
* General Library Settings
*
Generate only Position Independent Code (PIC) (DOPIC) [Y/n/?] y
Enable support for shared libraries (HAVE_SHARED) [Y/n/?] y
  Only load shared libraries which can share their text segment (FORCE_SHAREABLE_TEXT_SEGMENTS) [N/y/?] n
  Native &#039;ldd&#039; support (LDSO_LDD_SUPPORT) [Y/n/?] y
  Enable library loader cache (ld.so.conf) (LDSO_CACHE_SUPPORT) [Y/n/?] y
  Enable library loader preload file (ld.so.preload) (LDSO_PRELOAD_FILE_SUPPORT) [N/y/?] n
    Shared library loader naming prefix (LDSO_BASE_FILENAME) [ld.so] ld.so
  Link ldconfig statically (UCLIBC_STATIC_LDCONFIG) [N/y/?] n
  Enable ELF RUNPATH tag support (LDSO_RUNPATH) [Y/n/?] y
Support global constructors and destructors (UCLIBC_CTOR_DTOR) [Y/n/?] y
POSIX Threading Support (UCLIBC_HAS_THREADS) [Y/n/?] y
  Build pthreads debugging support (PTHREADS_DEBUG_SUPPORT) [N/y/?] n
  Use the older (stable) version of linuxthreads (LINUXTHREADS_OLD) [Y/n/?] y
Large File Support (UCLIBC_HAS_LFS) [Y/n/?] y
Malloc Implementation
  1. malloc (MALLOC)
  2. malloc-simple (MALLOC_SIMPLE)
&gt; 3. malloc-standard (MALLOC_STANDARD)
choice[1-3?]: 3
Malloc returns live pointer for malloc(0) (MALLOC_GLIBC_COMPAT) [Y/n/?] y
Dynamic atexit() Support (UCLIBC_DYNAMIC_ATEXIT) [Y/n/?] y
Old (visible) atexit Support (COMPAT_ATEXIT) [Y/n/?] y
Enable SuSv3 LEGACY functions (UCLIBC_SUSV3_LEGACY) [N/y/?] n
Enable SuSv3 LEGACY macros (UCLIBC_SUSV3_LEGACY_MACROS) [Y/n/?] y
Shadow Password Support (UCLIBC_HAS_SHADOW) [Y/n/?] y
Support for program_invocation_name (UCLIBC_HAS_PROGRAM_INVOCATION_NAME) [Y/n/?] y
Support for __progname (UCLIBC_HAS___PROGNAME) [Y/n/?] y
Support only Unix 98 PTYs (UNIX98PTY_ONLY) [N/y/?] n
Assume that /dev/pts is a devpts or devfs file system (ASSUME_DEVPTS) [Y/n/?] y
Support &#039;struct tm&#039; timezone extension fields (UCLIBC_HAS_TM_EXTENSIONS) [Y/n/?] y
Enable caching of the last valid timezone &#039;TZ&#039; string (UCLIBC_HAS_TZ_CACHING) [Y/n/?] y
Enable &#039;/etc/TZ&#039; file support to set a default timezone (uClibc-specific) (UCLIBC_HAS_TZ_FILE) [Y/n/?] y
  Repeatedly read the &#039;/etc/TZ&#039; file (UCLIBC_HAS_TZ_FILE_READ_MANY) [Y/n/?] y
  Path to the &#039;TZ&#039; file for setting the global timezone (UCLIBC_TZ_FILE_PATH) [/etc/TZ] /etc/TZ
*
* Advanced Library Settings
*
Buffer size for getpwnam() and friends (UCLIBC_PWD_BUFFER_SIZE) [256] 256
Buffer size for getgrnam() and friends (UCLIBC_GRP_BUFFER_SIZE) [256] 256
*
* Networking Support
*
IP version 6 Support (UCLIBC_HAS_IPV6) [Y/n/?] y
Remote Procedure Call (RPC) support (UCLIBC_HAS_RPC) [Y/n/?] y
  Full RPC support (UCLIBC_HAS_FULL_RPC) [Y/n/?] y
  Reentrant RPC support (UCLIBC_HAS_REENTRANT_RPC) [N/y/?] n
Use netlink to query interfaces (UCLIBC_USE_NETLINK) [N/y/?] n
Support res_close() (bsd-compat) (UCLIBC_HAS_BSD_RES_CLOSE) [Y/n/?] y
*
* String and Stdio Support
*
Use glibc generic string functions (UCLIBC_HAS_STRING_GENERIC_OPT) [Y/n/?] y
Use arch-specific string functions (UCLIBC_HAS_STRING_ARCH_OPT) [Y/n/?] y
Use Table Versions Of &#039;ctype.h&#039; Functions. (UCLIBC_HAS_CTYPE_TABLES) [Y/n/?] y
  Support Signed Characters In &#039;ctype.h&#039; Functions. (UCLIBC_HAS_CTYPE_SIGNED) [Y/n/?] y
  ctype argument checking
    1. Do not check -- unsafe (UCLIBC_HAS_CTYPE_UNSAFE)
  &gt; 2. Detect and handle appropriately (UCLIBC_HAS_CTYPE_CHECKED)
    3. Issue a diagnostic and abort() (UCLIBC_HAS_CTYPE_ENFORCED)
  choice[1-3?]: 2
Wide Character Support (UCLIBC_HAS_WCHAR) [Y/n/?] y
Locale Support (UCLIBC_HAS_LOCALE) [N/y/?] n
Support hexadecimal float notation (UCLIBC_HAS_HEXADECIMAL_FLOATS) [Y/n/?] y
Support glibc&#039;s register_printf_function() (glibc-compat) (UCLIBC_HAS_GLIBC_CUSTOM_PRINTF) [Y/n/?] y
Maximum number of positional args.  Either 0 or &gt;= 9. (UCLIBC_PRINTF_SCANF_POSITIONAL_ARGS) [9] 9
Support glibc&#039;s &#039;a&#039; flag for scanf string conversions (not implemented) (UCLIBC_HAS_SCANF_GLIBC_A_FLAG) [Y/n/?] y
Stdio buffer size
  1. 256 (minimum ANSI/ISO C99 value) (UCLIBC_HAS_STDIO_BUFSIZ_256)
  2. 512 (UCLIBC_HAS_STDIO_BUFSIZ_512)
  3. 1024 (UCLIBC_HAS_STDIO_BUFSIZ_1024)
  4. 2048 (UCLIBC_HAS_STDIO_BUFSIZ_2048)
&gt; 5. 4096 (UCLIBC_HAS_STDIO_BUFSIZ_4096)
  6. 8192 (UCLIBC_HAS_STDIO_BUFSIZ_8192)
choice[1-6?]: 5
Stdio builtin buffer size (uClibc-specific)
&gt; 1. None (UCLIBC_HAS_STDIO_BUILTIN_BUFFER_NONE)
  2. 4 (UCLIBC_HAS_STDIO_BUILTIN_BUFFER_4)
  3. 8 (UCLIBC_HAS_STDIO_BUILTIN_BUFFER_8)
choice[1-3?]: 1
Attempt to shutdown stdio subsystem when abort() is called. (UCLIBC_HAS_STDIO_SHUTDOWN_ON_ABORT) [N/y/?] n
Provide a macro version of getc() (UCLIBC_HAS_STDIO_GETC_MACRO) [Y/n/?] y
Provide a macro version of putc() (UCLIBC_HAS_STDIO_PUTC_MACRO) [Y/n/?] y
Support auto-r/w transition (UCLIBC_HAS_STDIO_AUTO_RW_TRANSITION) [Y/n/?] y
Support an fopen() &#039;F&#039; flag for large file mode (uClibc-specific) (UCLIBC_HAS_FOPEN_LARGEFILE_MODE) [N/y/?] n
Support an fopen() &#039;x&#039; flag for exclusive mode (glibc-compat) (UCLIBC_HAS_FOPEN_EXCLUSIVE_MODE) [Y/n/?] y
Support fmemopen(), open_memstream(), and fopencookie() (glibc-compat) (UCLIBC_HAS_GLIBC_CUSTOM_STREAMS) [Y/n/?] y
Support the &#039;%m&#039; specifier in printf format strings (glibc-compat) (UCLIBC_HAS_PRINTF_M_SPEC) [Y/n/?] y
Include the errno message text in the library (UCLIBC_HAS_ERRNO_MESSAGES) [Y/n/?] y
  Support sys_errlist[] (obsolete-compat) (UCLIBC_HAS_SYS_ERRLIST) [N/y/?] n
Include the signum message text in the library (UCLIBC_HAS_SIGNUM_MESSAGES) [Y/n/?] y
  Support sys_siglist[] (bsd-compat) (UCLIBC_HAS_SYS_SIGLIST) [N/y/?] n
Support gnu getopt (UCLIBC_HAS_GNU_GETOPT) [Y/n/?] y
Support glibc getsubopt (UCLIBC_HAS_GNU_GETSUBOPT) [Y/n/?] y
*
* Big and Tall
*
Regular Expression Support (UCLIBC_HAS_REGEX) [Y/n/?] y
  Use the older (stable) regular expression code (UCLIBC_HAS_REGEX_OLD) [Y/n/?] y
fnmatch Support (UCLIBC_HAS_FNMATCH) [Y/n/?] y
  Use the older (stable) fnmatch code (UCLIBC_HAS_FNMATCH_OLD) [Y/n/?] y
Support the wordexp() interface (UCLIBC_HAS_WORDEXP) [Y/n/?] y
Support the ftw() and nftw() interfaces (UCLIBC_HAS_FTW) [Y/n/?] y
Support the glob() interface (UCLIBC_HAS_GLOB) [Y/n/?] y
  Support gnu glob() interface (UCLIBC_HAS_GNU_GLOB) [Y/n/?] y
*
* Library Installation Options
*
Shared library loader path (SHARED_LIB_LOADER_PREFIX) [/lib] /lib
uClibc runtime library directory (RUNTIME_PREFIX) [/] /
uClibc development environment directory (DEVEL_PREFIX) [/usr/] /usr/
*
* Security options
*
Build utilities as ET_DYN/PIE executables (UCLIBC_BUILD_PIE) [N/y/?] n
Include the arc4random() function (UCLIBC_HAS_ARC4RANDOM) [N/y/?] n
Support for propolice smashing stack protector (UCLIBC_HAS_SSP) [N/y/?] n
Build uClibc with RELRO (UCLIBC_BUILD_RELRO) [Y/n/?] y
Build uClibc with NOW (UCLIBC_BUILD_NOW) [N/y/?] n
Build uClibc with noexecstack marking (UCLIBC_BUILD_NOEXECSTACK) [Y/n/?] y
*
* uClibc development/debugging options
*
Cross-compiling toolchain prefix (CROSS_COMPILER_PREFIX) [] 
Enter any extra CFLAGS to use to build uClibc (UCLIBC_EXTRA_CFLAGS) [] 
Build uClibc with debugging symbols (DODEBUG) [N/y/?] n
Build pthread with debugging output (DODEBUG_PT) [N/y/?] n
Strip libraries and executables (DOSTRIP) [Y/n/?] y
Build uClibc with run-time assertion testing (DOASSERTS) [N/y/?] n
Build the shared library loader with debugging support (SUPPORT_LD_DEBUG) [N/y/?] n
Build the shared library loader with early debugging support (SUPPORT_LD_DEBUG_EARLY) [N/y/?] n
Build malloc with debugging support (UCLIBC_MALLOC_DEBUGGING) [N/y/?] n
Compiler Warnings (WARNINGS) [-Wall] -Wall
Enable extra annoying warnings (EXTRA_WARNINGS) [N/y/?] n
Compile all sources at once into an object (DOMULTI) [N/y/?] n
Manuel&#039;s hidden warnings (UCLIBC_MJN3_ONLY) [N/y/?] n
#
# configuration written to .config
#
./extra/scripts/conf-header.sh .config &gt; include/bits/uClibc_config.h
make headers-y
ln -sf .././libpthread/linuxthreads.old/sysdeps/pthread/pthread.h ./include/
ln -sf .././libpthread/linuxthreads.old/semaphore.h ./include/
install -d ./include/bits
ln -sf ../.././libpthread/linuxthreads.old/sysdeps/pthread/bits/pthreadtypes.h ./include/bits/
ln -fs sgidefs.h ./include/
\
    set -e; \
    if [ -e libc/sysdeps/linux/mips/fpu_control.h ] ; then \
        ln -fs ../libc/sysdeps/linux/mips/fpu_control.h include/ ; \
    else \
        ln -fs ../libc/sysdeps/linux/common/fpu_control.h include/ ; \
    fi; \
    for f in dl-osinfo.h hp-timing.h ; do \
        ln -fs ../libc/sysdeps/linux/common/$f include/ ; \
    done
\
    cd include/bits; \
    set -e; \
    for i in byteswap.h cmathcalls.h confname.h elfclass.h environments.h errno.h fenvinline.h getopt.h huge_val.h huge_valf.h huge_vall.h in.h inf.h initspin.h ioctls.h local_lim.h locale.h mathcalls.h mathinline.h mqueue.h nan.h netdb.h posix1_lim.h posix2_lim.h posix_opt.h sched.h select.h sigset.h sigthread.h sockaddr.h statvfs.h stdio.h stdio_lim.h time.h types.h typesizes.h uClibc_clk_tck.h uClibc_ctype.h uClibc_errno.h uClibc_fpmax.h uClibc_local_lim.h uClibc_locale.h uClibc_mutex.h uClibc_pthread.h uClibc_stdio.h uClibc_touplow.h uClibc_uintmaxtostr.h uClibc_uwchar.h uClibc_va_copy.h uio.h ustat.h utmp.h utmpx.h utsname.h waitflags.h waitstatus.h wchar.h xopen_lim.h ; do \
        ln -fs ../../libc/sysdeps/linux/common/bits/$i .; \
    done; \
    for i in atomic.h dirent.h dlfcn.h endian.h errno_values.h fcntl.h fenv.h ioctl-types.h ipc.h kernel_sigaction.h kernel_stat.h kernel_types.h mathdef.h mman.h msq.h poll.h resource.h sem.h setjmp.h shm.h sigaction.h sigcontext.h sigcontextinfo.h siginfo.h signum.h sigstack.h socket.h stackinfo.h stat.h statfs.h syscalls.h termios.h uClibc_arch_features.h uClibc_page.h wordsize.h ; do \
        ln -fs ../../libc/sysdeps/linux/mips/bits/$i .; \
    done; \
    for i in atomic.h dirent.h dlfcn.h endian.h errno_values.h fcntl.h fenv.h ioctl-types.h ipc.h kernel_sigaction.h kernel_stat.h kernel_types.h mathdef.h mman.h msq.h poll.h resource.h sem.h setjmp.h shm.h sigaction.h sigcontext.h sigcontextinfo.h siginfo.h signum.h sigstack.h socket.h stackinfo.h stat.h statfs.h syscalls.h termios.h uClibc_arch_features.h uClibc_page.h wordsize.h ; do \
        ln -fs ../../libc/sysdeps/linux/mips/bits//$i .; \
    done
\
    cd include/sys; \
    set -e; \
    for i in `ls ../../libc/sysdeps/linux/common/sys/*.h` ; do \
        ln -fs $i .; \
    done; \
    if [ -d ../../libc/sysdeps/linux/mips/sys ] ; then \
        for i in `ls ../../libc/sysdeps/linux/mips/sys/*.h` ; do \
            ln -fs $i .; \
        done; \
    fi
\
    set -e; \
    cd ./; \
    tmp=`mktemp include/bits/sysnum.h.XXXXXX 2&gt;/dev/null`; \
    [ -z &quot;$tmp&quot; ] &amp;&amp; tmp=&#039;include/bits/sysnum.h.new&#039;; \
    KERNEL_HEADERS=&quot;/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/&quot; top_builddir=. CC=&quot; gcc -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -fhonour-copts&quot; /bin/sh extra/scripts/gen_bits_syscall_h.sh &gt; $tmp; \
    if cmp include/bits/sysnum.h $tmp &gt;/dev/null 2&gt;&amp;1; then \
        rm -f $tmp; \
    else \
        mv -f $tmp include/bits/sysnum.h; \
    fi
make[4]: *** [headers] Error 127
make[4]: Leaving directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29&#039;
make[3]: *** [/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.29/.prepared32b419d9e6565bdb66e7e3be59c0bc99] Error 2
make[3]: Leaving directory `/doggy/openwrt/kamikaze/toolchain/uClibc&#039;
make[2]: *** [toolchain/uClibc/prepare] Error 2
make[2]: Leaving directory `/doggy/openwrt/kamikaze&#039;
make[1]: *** [/doggy/openwrt/kamikaze/staging_dir/mipsel/stamp/.toolchain_install] Error 2
make[1]: Leaving directory `/doggy/openwrt/kamikaze&#039;
make: *** [world] Error 2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70680">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">doggie</div>
					<div class="post-datetime">
						9 Jul 2008, 09:16					</div>
				</div>
				<div class="post-content content">
					<p>fter i read this thread. [<a href="http://forum.openwrt.org/viewtopic.php?id=16230">http://forum.openwrt.org/viewtopic.php?id=16230</a>]</p><p>i have tried to compile uClibc 0.9.28. (just for test, maybe it will be better?~)<br />i changed uClibc 0.9.29 by 0.9.28 in menuconfig, then i got this error</p><div class="codebox"><pre><code>make[1]: Entering directory `/doggy/openwrt/kamikaze&#039;
make[2]: Entering directory `/doggy/openwrt/kamikaze&#039;
++ mkdir -p /doggy/openwrt/kamikaze/staging_dir/mipsel
++ cd /doggy/openwrt/kamikaze/staging_dir/mipsel
++ mkdir -p bin lib include stamp
++ mkdir -p /doggy/openwrt/kamikaze/staging_dir/host
++ cd /doggy/openwrt/kamikaze/staging_dir/host
++ mkdir -p bin lib include stamp
mkdir -p /doggy/openwrt/kamikaze/build_dir/host/stamp /doggy/openwrt/kamikaze/build_dir/mipsel/stamp
install -m0644 /doggy/openwrt/kamikaze/tools/include/*.h /doggy/openwrt/kamikaze/staging_dir/host/include/
touch /doggy/openwrt/kamikaze/staging_dir/mipsel/.prepared
make[3]: Entering directory `/doggy/openwrt/kamikaze/toolchain/kernel-headers&#039;
make[3]: Leaving directory `/doggy/openwrt/kamikaze/toolchain/kernel-headers&#039;
make[3]: Entering directory `/doggy/openwrt/kamikaze/toolchain/uClibc&#039;
prepare uClibc version 0.9.28.2
bzcat /doggy/openwrt/kamikaze/dl/uClibc-0.9.28.2.tar.bz2 | /bin/tar -C /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/.. -xf -

Applying ./patches/0.9.28.2/100-revert_broken_stuff.patch using plaintext: 
patching file libc/sysdeps/linux/common/bits/uClibc_pthread.h

Applying ./patches/0.9.28.2/120-more_standard_math.patch using plaintext: 
patching file libm/Makefile

Applying ./patches/0.9.28.2/150-portability.patch using plaintext: 
patching file Makefile
Hunk #1 succeeded at 158 with fuzz 2.
Hunk #2 succeeded at 250 (offset 2 lines).

Applying ./patches/0.9.28.2/160-move_stack_end.patch using plaintext: 
patching file libc/Makefile
patching file libc/misc/internals/Makefile
patching file libc/misc/internals/static.c
patching file libc/misc/internals/__uClibc_main.c

Applying ./patches/0.9.28.2/190-uml_x86_64_hack.patch using plaintext: 
patching file libc/sysdeps/linux/i386/bits/kernel_types.h

Applying ./patches/0.9.28.2/200-cris-syscall6.patch using plaintext: 
patching file libc/sysdeps/linux/cris/bits/syscalls.h

Applying ./patches/0.9.28.2/230-cris-pagesize.patch using plaintext: 
patching file ldso/include/dl-syscall.h
patching file libc/sysdeps/linux/cris/bits/uClibc_page.h

Applying ./patches/0.9.28.2/240-cris-crt0.patch using plaintext: 
patching file libc/sysdeps/linux/cris/crt0.c

Applying ./patches/0.9.28.2/250-cris-errno.patch using plaintext: 
patching file libc/sysdeps/linux/cris/sysdep.S

Applying ./patches/0.9.28.2/300-let-optimized-stringops-override-default-ones.patch using plaintext: 
patching file libc/Makefile

Applying ./patches/0.9.28.2/301-fix-getrusage-argument-type.patch using plaintext: 
patching file libc/sysdeps/linux/common/getrusage.c

Applying ./patches/0.9.28.2/302-fix-__libc_fcntl64-varargs-prototype.patch using plaintext: 
patching file libc/sysdeps/linux/common/__syscall_fcntl.c

Applying ./patches/0.9.28.2/303-fix-broken-__libc_open-declaration.patch using plaintext: 
patching file libc/sysdeps/linux/common/open64.c

Applying ./patches/0.9.28.2/400-avr32-arch-2.patch using plaintext: 
patching file extra/Configs/Config.avr32
patching file extra/Configs/Config.in
patching file include/elf.h
Hunk #1 succeeded at 305 with fuzz 2 (offset 44 lines).
Hunk #2 succeeded at 2709 with fuzz 2 (offset 20 lines).
patching file libc/sysdeps/linux/avr32/Makefile
patching file libc/sysdeps/linux/avr32/__longjmp.S
patching file libc/sysdeps/linux/avr32/_mmap.c
patching file libc/sysdeps/linux/avr32/bits/atomicity.h
patching file libc/sysdeps/linux/avr32/bits/byteswap.h
patching file libc/sysdeps/linux/avr32/bits/endian.h
patching file libc/sysdeps/linux/avr32/bits/fcntl.h
patching file libc/sysdeps/linux/avr32/bits/kernel_stat.h
patching file libc/sysdeps/linux/avr32/bits/kernel_types.h
patching file libc/sysdeps/linux/avr32/bits/machine-gmon.h
patching file libc/sysdeps/linux/avr32/bits/mman.h
patching file libc/sysdeps/linux/avr32/bits/profil-counter.h
patching file libc/sysdeps/linux/avr32/bits/setjmp.h
patching file libc/sysdeps/linux/avr32/bits/syscalls.h
patching file libc/sysdeps/linux/avr32/bits/wordsize.h
patching file libc/sysdeps/linux/avr32/brk.c
patching file libc/sysdeps/linux/avr32/bsd-_setjmp.S
patching file libc/sysdeps/linux/avr32/bsd-setjmp.S
patching file libc/sysdeps/linux/avr32/clone.c
patching file libc/sysdeps/linux/avr32/crt1.S
patching file libc/sysdeps/linux/avr32/crti.S
patching file libc/sysdeps/linux/avr32/crtn.S
patching file libc/sysdeps/linux/avr32/mmap.c
patching file libc/sysdeps/linux/avr32/setjmp.S
patching file libc/sysdeps/linux/avr32/sigaction.c
patching file libc/sysdeps/linux/avr32/sigrestorer.S
patching file libc/sysdeps/linux/avr32/sys/elf.h
patching file libc/sysdeps/linux/avr32/sys/io.h
patching file libc/sysdeps/linux/avr32/sys/procfs.h
patching file libc/sysdeps/linux/avr32/sys/ucontext.h
patching file libc/sysdeps/linux/avr32/sys/user.h
patching file libc/sysdeps/linux/avr32/syscall.S
patching file libc/sysdeps/linux/avr32/vfork.S
patching file Rules.mak
Hunk #1 succeeded at 234 (offset 3 lines).

Applying ./patches/0.9.28.2/401-avr32-linkrelax-option.patch using plaintext: 
patching file Rules.mak
Hunk #1 succeeded at 236 (offset 3 lines).
patching file extra/Configs/Config.avr32

Applying ./patches/0.9.28.2/402-avr32-string-ops.patch using plaintext: 
patching file libc/string/avr32/bcopy.S
patching file libc/string/avr32/bzero.S
patching file libc/string/avr32/Makefile
patching file libc/string/avr32/memchr.S
patching file libc/string/avr32/memcmp.S
patching file libc/string/avr32/memcpy.S
patching file libc/string/avr32/memmove.S
patching file libc/string/avr32/memset.S
patching file libc/string/avr32/strcat.S
patching file libc/string/avr32/strcmp.S
patching file libc/string/avr32/strcpy.S
patching file libc/string/avr32/stringtest.c
patching file libc/string/avr32/strlen.S
patching file libc/string/avr32/strncpy.S
patching file libc/string/avr32/test_memcpy.c

Applying ./patches/0.9.28.2/403-no-create_module-on-avr32.patch using plaintext: 
patching file libc/sysdeps/linux/common/create_module.c

Applying ./patches/0.9.28.2/407-ldso-avr32-2.patch using plaintext: 
patching file ldso/ldso/avr32/dl-debug.h
patching file ldso/ldso/avr32/dl-startup.h
patching file ldso/ldso/avr32/dl-syscalls.h
patching file ldso/ldso/avr32/dl-sysdep.h
patching file ldso/ldso/avr32/elfinterp.c
patching file ldso/ldso/avr32/resolve.S

Applying ./patches/0.9.28.2/409-ldso-avr32-startup-hack.patch using plaintext: 
patching file ldso/ldso/dl-startup.c

Applying ./patches/0.9.28.2/410-ldd-avr32-support.patch using plaintext: 
patching file utils/ldd.c

Applying ./patches/0.9.28.2/411-libpthread-avr32.patch using plaintext: 
patching file libpthread/linuxthreads/sysdeps/avr32/pt-machine.h

Applying ./patches/0.9.28.2/412-sync-fcntl-h-with-linux-kernel.patch using plaintext: 
patching file libc/sysdeps/linux/avr32/bits/fcntl.h
cp -fpR ././config/0.9.28.2/mipsel /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/.config
/doggy/openwrt/kamikaze/staging_dir/host/bin/sed -i -e &#039;s,^KERNEL_HEADERS=.*,KERNEL_HEADERS=\&quot;/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include\&quot;,g&#039; -e &#039;s,.*UCLIBC_HAS_FPU.*,UCLIBC_HAS_FPU=y,g&#039; -e &#039;s,^.*UCLIBC_HAS_LFS.*,UCLIBC_HAS_LFS=y,g&#039; -e &#039;s,^.*CONFIG_ARM_EABI.*,CONFIG_ARM_EABI=n,g&#039; -e &#039;s,^.*CONFIG_ARM_OABI.*,CONFIG_ARM_OABI=y,g&#039; -e &#039;s,^.*UCLIBC_HAS_SHADOW.*,UCLIBC_HAS_SHADOW=y,g&#039; /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/.config
mkdir -p /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include
mkdir -p /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/lib
mkdir -p /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/lib
if [ ! -f /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/linux/version.h ] ; then cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-mips /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-generic /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/linux /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/usr/include/; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-mips /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-generic /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/linux /doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-mips /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/asm-generic /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/include/ ; cp -pLR /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/linux/include/linux /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/include/ ; fi;
make -C /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/extra/config conf KBUILD_HAVE_NLS= HOSTCFLAGS=&quot;-DKBUILD_NO_NLS&quot;
make[4]: Entering directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/extra/config&#039;
cp zconf.tab.h_shipped zconf.tab.h
gcc -DKBUILD_NO_NLS -I. -c conf.c -o conf.o
cp zconf.tab.c_shipped zconf.tab.c
cp lex.zconf.c_shipped lex.zconf.c
gcc -DKBUILD_NO_NLS -I. -c zconf.tab.c -o zconf.tab.o
gcc  conf.o zconf.tab.o -o conf
make[4]: Leaving directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/extra/config&#039;
PATH=/doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/bin:/doggy/openwrt/kamikaze/staging_dir/host/bin:/doggy/openwrt/kamikaze/staging_dir/mipsel/host/bin:/doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/bin:/doggy/openwrt/kamikaze/staging_dir/host/bin:/doggy/openwrt/kamikaze/staging_dir/mipsel/host/bin:/doggy/openwrt/kamikaze/staging_dir/toolchain-mipsel_gcc4.1.2/bin:/doggy/openwrt/kamikaze/staging_dir/host/bin:/doggy/openwrt/kamikaze/staging_dir/mipsel/host/bin:/bin:/usr/bin:/sbin:/usr/sbin:/usr/X11R6/bin:/opt/bin make -C /doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2 PREFIX=/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/ DEVEL_PREFIX=/usr/ RUNTIME_PREFIX=/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc_dev/ HOSTCC=&quot;gcc&quot; CPU_CFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -fhonour-copts&quot; pregen install_dev;
make[4]: Entering directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2&#039;
rm -f -r include/bits
install -d include/bits
#
# using defaults found in .config
#
*
* uClibc Configuration
*
Target Architecture
  1. alpha (TARGET_alpha)
  2. arm (TARGET_arm)
  3. avr32 (TARGET_avr32)
  4. bfin (TARGET_bfin)
  5. cris (TARGET_cris)
  6. e1 (TARGET_e1)
  7. frv (TARGET_frv)
  8. h8300 (TARGET_h8300)
  9. i386 (TARGET_i386)
  10. i960 (TARGET_i960)
  11. m68k (TARGET_m68k)
  12. microblaze (TARGET_microblaze)
&gt; 13. mips (TARGET_mips)
  14. nios (TARGET_nios)
  15. nios2 (TARGET_nios2)
  16. powerpc (TARGET_powerpc)
  17. superh (TARGET_sh)
  18. sh64 (TARGET_sh64)
  19. sparc (TARGET_sparc)
  20. v850 (TARGET_v850)
  21. x86_64 (TARGET_x86_64)
choice[1-21?]: 13
*
* Target Architecture Features and Options
*
Target Processor Architecture
  1. Generic (MIPS I) (CONFIG_MIPS_ISA_1)
  2. MIPS II (CONFIG_MIPS_ISA_2)
  3. MIPS III (CONFIG_MIPS_ISA_3)
  4. MIPS IV (CONFIG_MIPS_ISA_4)
&gt; 5. MIPS32 (CONFIG_MIPS_ISA_MIPS32)
  6. MIPS64 (CONFIG_MIPS_ISA_MIPS64)
choice[1-6?]: 5
Target Processor Endianness
&gt; 1. Little Endian (ARCH_LITTLE_ENDIAN)
  2. Big Endian (ARCH_BIG_ENDIAN)
choice[1-2?]: 1
Target CPU has a memory management unit (MMU) (ARCH_HAS_MMU) [Y/n/?] y
Enable floating point number support (UCLIBC_HAS_FLOATS) [Y/n/?] y
  Target CPU has a floating point unit (FPU) (HAS_FPU) [Y/n/?] y
  Enable full C99 math library support (DO_C99_MATH) [Y/n/?] y
Linux kernel header location (KERNEL_SOURCE) [./toolchain_build_mipsel/linux] ./toolchain_build_mipsel/linux
*
* General Library Settings
*
Generate Position Independent Code (PIC) (DOPIC) [Y/n/?] y
Enable support for shared libraries (HAVE_SHARED) [Y/n/?] y
Compile native shared library loader (BUILD_UCLIBC_LDSO) [Y/n/?] y
  Only load shared libraries which can share their text segment (FORCE_SHAREABLE_TEXT_SEGMENTS) [N/y/?] n
  Native shared library loader &#039;ldd&#039; support (LDSO_LDD_SUPPORT) [Y/n/?] y
  Enable shared library loader cache (LDSO_CACHE_SUPPORT) [Y/n/?] y
  Enable shared library loader preload file support (LDSO_PRELOAD_FILE_SUPPORT) [N/y/?] n
    Shared library loader naming prefix (LDSO_BASE_FILENAME) [ld.so] ld.so
  Enable ELF RUNPATH tag support (LDSO_RUNPATH) [Y/n/?] y
uClibc 0.9.27 compatibility (DL_FINI_CRT_COMPAT) [Y/n/?] y
Support global constructors and destructors (UCLIBC_CTOR_DTOR) [Y/n/?] y
POSIX Threading Support (UCLIBC_HAS_THREADS) [Y/n/?] y
  Build pthreads debugging support (PTHREADS_DEBUG_SUPPORT) [N/y/?] n
Large File Support (UCLIBC_HAS_LFS) [Y/n/?] y
Link ldconfig statically (UCLIBC_STATIC_LDCONFIG) [N/y/?] n
Malloc Implementation
  1. malloc (MALLOC)
  2. malloc-simple (MALLOC_SIMPLE)
&gt; 3. malloc-standard (MALLOC_STANDARD)
choice[1-3?]: 3
Malloc returns live pointer for malloc(0) (MALLOC_GLIBC_COMPAT) [Y/n/?] y
Dynamic atexit() Support (UCLIBC_DYNAMIC_ATEXIT) [Y/n/?] y
Shadow Password Support (HAS_SHADOW) [Y/n/?] y
Support only Unix 98 PTYs (UNIX98PTY_ONLY) [N/y/?] n
Assume that /dev/pts is a devpts or devfs file system (ASSUME_DEVPTS) [Y/n/?] y
Support &#039;struct tm&#039; timezone extension fields (UCLIBC_HAS_TM_EXTENSIONS) [Y/n/?] y
Enable caching of the last valid timezone &#039;TZ&#039; string (UCLIBC_HAS_TZ_CACHING) [Y/n/?] y
Enable &#039;/etc/TZ&#039; file support to set a default timezone (uClibc-specific) (UCLIBC_HAS_TZ_FILE) [Y/n/?] y
  Repeatedly read the &#039;/etc/TZ&#039; file (UCLIBC_HAS_TZ_FILE_READ_MANY) [Y/n/?] y
  Path to the &#039;TZ&#039; file for setting the global timezone (UCLIBC_TZ_FILE_PATH) [/etc/TZ] /etc/TZ
*
* Networking Support
*
IP version 6 Support (UCLIBC_HAS_IPV6) [Y/n/?] y
Remote Procedure Call (RPC) support (UCLIBC_HAS_RPC) [Y/n/?] y
  Full RPC support (UCLIBC_HAS_FULL_RPC) [Y/n/?] y
*
* String and Stdio Support
*
Use glibc generic string functions (UCLIBC_HAS_STRING_GENERIC_OPT) [Y/n/?] y
Use arch-specific string functions (UCLIBC_HAS_STRING_ARCH_OPT) [Y/n/?] y
Use Table Versions Of &#039;ctype.h&#039; Functions. (UCLIBC_HAS_CTYPE_TABLES) [Y/n/?] y
  Support Signed Characters In &#039;ctype.h&#039; Functions. (UCLIBC_HAS_CTYPE_SIGNED) [Y/n/?] y
  ctype argument checking
    1. Do not check -- unsafe (UCLIBC_HAS_CTYPE_UNSAFE)
  &gt; 2. Detect and handle appropriately (UCLIBC_HAS_CTYPE_CHECKED)
    3. Issue a diagnostic and abort() (UCLIBC_HAS_CTYPE_ENFORCED)
  choice[1-3?]: 2
Wide Character Support (UCLIBC_HAS_WCHAR) [Y/n/?] y
Locale Support (UCLIBC_HAS_LOCALE) [N/y/?] n
Support hexadecimal float notation (UCLIBC_HAS_HEXADECIMAL_FLOATS) [Y/n/?] y
Support glibc&#039;s register_printf_function() (glibc-compat) (UCLIBC_HAS_GLIBC_CUSTOM_PRINTF) [Y/n/?] y
Maximum number of positional args.  Either 0 or &gt;= 9. (UCLIBC_PRINTF_SCANF_POSITIONAL_ARGS) [9] 9
Support glibc&#039;s &#039;a&#039; flag for scanf string conversions (not implemented) (UCLIBC_HAS_SCANF_GLIBC_A_FLAG) [Y/n/?] y
Stdio buffer size
  1. 256 (minimum ANSI/ISO C99 value) (UCLIBC_HAS_STDIO_BUFSIZ_256)
  2. 512 (UCLIBC_HAS_STDIO_BUFSIZ_512)
  3. 1024 (UCLIBC_HAS_STDIO_BUFSIZ_1024)
  4. 2048 (UCLIBC_HAS_STDIO_BUFSIZ_2048)
&gt; 5. 4096 (UCLIBC_HAS_STDIO_BUFSIZ_4096)
  6. 8192 (UCLIBC_HAS_STDIO_BUFSIZ_8192)
choice[1-6?]: 5
Stdio builtin buffer size (uClibc-specific)
&gt; 1. None (UCLIBC_HAS_STDIO_BUILTIN_BUFFER_NONE)
  2. 4 (UCLIBC_HAS_STDIO_BUILTIN_BUFFER_4)
  3. 8 (UCLIBC_HAS_STDIO_BUILTIN_BUFFER_8)
choice[1-3?]: 1
Attemt to shutdown stdio subsystem when abort() is called. (UCLIBC_HAS_STDIO_SHUTDOWN_ON_ABORT) [N/y/?] n
Provide a macro version of getc() (UCLIBC_HAS_STDIO_GETC_MACRO) [Y/n/?] y
Provide a macro version of putc() (UCLIBC_HAS_STDIO_PUTC_MACRO) [Y/n/?] y
Support auto-r/w transition (UCLIBC_HAS_STDIO_AUTO_RW_TRANSITION) [Y/n/?] y
Support an fopen() &#039;F&#039; flag for large file mode (uClibc-specific) (UCLIBC_HAS_FOPEN_LARGEFILE_MODE) [N/y/?] n
Support an fopen() &#039;x&#039; flag for exclusive mode (glibc-compat) (UCLIBC_HAS_FOPEN_EXCLUSIVE_MODE) [Y/n/?] y
Support fmemopen(), open_memstream(), and fopencookie() (glibc-compat) (UCLIBC_HAS_GLIBC_CUSTOM_STREAMS) [Y/n/?] y
Support the &#039;%m&#039; specifier in printf format strings (glibc-compat) (UCLIBC_HAS_PRINTF_M_SPEC) [Y/n/?] y
Include the errno message text in the library (UCLIBC_HAS_ERRNO_MESSAGES) [Y/n/?] y
  Support sys_errlist[] (obsolete-compat) (UCLIBC_HAS_SYS_ERRLIST) [N/y/?] n
Include the signum message text in the library (UCLIBC_HAS_SIGNUM_MESSAGES) [Y/n/?] y
  Support sys_siglist[] (bsd-compat) (UCLIBC_HAS_SYS_SIGLIST) [N/y/?] n
Support gnu getopt (UCLIBC_HAS_GNU_GETOPT) [Y/n/?] y
*
* Big and Tall
*
Regular Expression Support (UCLIBC_HAS_REGEX) [Y/n/?] y
Support the wordexp() interface (UCLIBC_HAS_WORDEXP) [Y/n/?] y
Support the ftw() and nftw() interfaces (UCLIBC_HAS_FTW) [Y/n/?] y
Support the glob() interface (UCLIBC_HAS_GLOB) [Y/n/?] y
*
* Library Installation Options
*
Shared library loader path (SHARED_LIB_LOADER_PREFIX) [/lib] /lib
uClibc runtime library directory (RUNTIME_PREFIX) [/] /
uClibc development environment directory (DEVEL_PREFIX) [/usr/] /usr/
*
* uClibc security related options
*
Enable security options (UCLIBC_SECURITY) [N/y] n
*
* uClibc development/debugging options
*
Cross-compiling toolchain prefix (CROSS_COMPILER_PREFIX) [] 
Build uClibc with debugging symbols (DODEBUG) [N/y/?] n
Build pthread with debugging output (DODEBUG_PT) [N/y/?] n
Build uClibc with run-time assertion testing (DOASSERTS) [N/y/?] n
Build the shared library loader with debugging support (SUPPORT_LD_DEBUG) [N/y/?] n
Build the shared library loader with early debugging support (SUPPORT_LD_DEBUG_EARLY) [N/y/?] n
Compiler Warnings (WARNINGS) [-Wall] -Wall
Manuel&#039;s hidden warnings (UCLIBC_MJN3_ONLY) [N/y/?] n
+ ./extra/scripts/fix_includes.sh -k ./toolchain_build_mipsel/linux -t mips


The file ./toolchain_build_mipsel/linux/Makefile or ./toolchain_build_mipsel/linux/include/linux/version.h is missing!
Perhaps your kernel source is broken?


make[4]: *** [headers] Error 1
make[4]: Leaving directory `/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2&#039;
make[3]: *** [/doggy/openwrt/kamikaze/build_dir/toolchain-mipsel_gcc4.1.2/uClibc-0.9.28.2/.prepared32b419d9e6565bdb66e7e3be59c0bc99] Error 2
make[3]: Leaving directory `/doggy/openwrt/kamikaze/toolchain/uClibc&#039;
make[2]: *** [toolchain/uClibc/prepare] Error 2
make[2]: Leaving directory `/doggy/openwrt/kamikaze&#039;
make[1]: *** [/doggy/openwrt/kamikaze/staging_dir/mipsel/stamp/.toolchain_install] Error 2
make[1]: Leaving directory `/doggy/openwrt/kamikaze&#039;
make: *** [world] Error 2</code></pre></div><p>it told me that my kernel source is broken?<br />still no progress on it..</p><p>could any one see any problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70723">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">doggie</div>
					<div class="post-datetime">
						10 Jul 2008, 08:43					</div>
				</div>
				<div class="post-content content">
					<p>looks like mktemp utils is missed on my system..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70724">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">doggie</div>
					<div class="post-datetime">
						10 Jul 2008, 09:03					</div>
				</div>
				<div class="post-content content">
					<p>uClibc was builing ok after i reinstalled coreutils which contains mktemp.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>