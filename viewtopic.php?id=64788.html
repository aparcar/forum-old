<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> openwrt handles vpn routing incorrectly over full tunnel configuration</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p323563">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rwyatt</div>
					<div class="post-datetime">
						12 May 2016, 20:55					</div>
				</div>
				<div class="post-content content">
					<p>OpenWRT Version v15.05.01(Openconnect Version 7.06-3) --&gt; Cisco ASA Version 9.2.4</p><p>I have setup an openconnect interface on my device pointing to my ssl appliance (ASA5505).&nbsp; If all works if I leave use default route unchecked on the VPN interface.. i.e split tunneling works fine.</p><p>If I check the use default route for the VPN interface.&nbsp; I get no connectivity anywhere..&nbsp; I am not even seeing the SSL packets going out the WAN interface.</p><p>What do I need to do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323569">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						12 May 2016, 21:56					</div>
				</div>
				<div class="post-content content">
					<p>Is the thread title slightly biased? Might the complication lie elsewhere (mmm, OpenConnect)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323572">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">rwyatt</div>
					<div class="post-datetime">
						12 May 2016, 22:00					</div>
				</div>
				<div class="post-content content">
					<p>If the thread title is biased, I apologize.&nbsp; As the routing of packets is handled by the openwrt stack,&nbsp; I truly believe it to be an openwrt issue or configuration issue.</p><p>I am hoping the fault is mine,&nbsp; I just need ideas on how to fix this.</p><p>Regards,<br />Randy</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323573">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						12 May 2016, 22:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rwyatt wrote:</cite><blockquote><p>As the routing of packets is handled by the openwrt stack, ...</p></blockquote></div><p>Incorrect. Linux stack.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323645">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						13 May 2016, 09:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rwyatt wrote:</cite><blockquote><p>If the thread title is biased, I apologize.&nbsp; As the routing of packets is handled by the openwrt stack,&nbsp; I truly believe it to be an openwrt issue or configuration issue.</p><p>I am hoping the fault is mine,&nbsp; I just need ideas on how to fix this.</p><p>Regards,<br />Randy</p></blockquote></div><p>Randy,</p><p>Max Hopper tries hard to act like a troll in this forum, please &quot;ignore&quot; all his responses that are not meaningfully related to your question. For reasons only known to him, he mostly does what he shoed in this thread trying to find an &quot;inaccuracy&quot; or small wrong detail in an post and then will respond to that. That is a pity as I am sure that if he wanted he could be an actual help here in the forum. What somewhat puzzles me though is the reference to &quot;courtesy&quot; in his signature, I am not sure he fully understands that concept (as judged from his often terse to the limit of hostility worded posts), but I digress. <br />&nbsp; &nbsp; &nbsp; &nbsp; Regarding your actual question, I believe that openconnect uses a script (often called vpnc-script or so, see <a href="http://www.infradead.org/openconnect/building.html">http://www.infradead.org/openconnect/building.html</a> and <a href="http://www.infradead.org/openconnect/vpnc-script.html">http://www.infradead.org/openconnect/vpnc-script.html</a> ) to handle the routing changes, maybe that script has issues with your configuration? I believe that at least for non-openwrt linux distributions the newer vpnc-script from the openconnect link works a bit better than the original one from vpnc, maybe replacing that script will also help on openwrt. Finally I would try to contact Nikos Mavrogiannopoulos (<a href="https://github.com/nmav">https://github.com/nmav</a>) who maintains the openconnect package for openwrt, maybe he can help you debug things.</p><p>Best Regards<br />&nbsp; &nbsp; &nbsp; &nbsp; M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323647">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						13 May 2016, 10:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>12 hours before moeller0 wrote:</cite><blockquote><p>Finally I would try to contact Nikos Mavrogiannopoulos (<a href="https://github.com/nmav">https://github.com/nmav</a>) who maintains the openconnect package for openwrt, maybe he can help you debug things.</p></blockquote></div><div class="quotebox"><cite>Max Hopper helpfully wrote:</cite><blockquote><p>Might the complication lie elsewhere (mmm, OpenConnect)?</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323651">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						13 May 2016, 10:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><div class="quotebox"><cite>12 hours before moeller0 wrote:</cite><blockquote><p>Finally I would try to contact Nikos Mavrogiannopoulos (<a href="https://github.com/nmav">https://github.com/nmav</a>) who maintains the openconnect package for openwrt, maybe he can help you debug things.</p></blockquote></div><div class="quotebox"><cite>Max Hopper helpfully wrote:</cite><blockquote><p>Might the complication lie elsewhere (mmm, OpenConnect)?</p></blockquote></div></blockquote></div><p>@Max this is a prime example of the reason why most of your post stick out like a sore post in this forum: your unwillingness to actually verbalize your thoughts in a way that can be easily parsed by other communication partners. I would humbly recommend you to read &quot;When what you type isn’t what they read: The perseverance of stereotypes and expectancies over e-mail&quot; (<a href="http://faculty.chicagobooth.edu/nicholas.epley/epleykruger.pdf">http://faculty.chicagobooth.edu/nichola … kruger.pdf</a>) and &quot;Egocentrism over e-mail: can we communicate as well as we think?&quot; (<a href="http://faculty.chicagobooth.edu/nicholas.epley/krugeretal05.pdf">http://faculty.chicagobooth.edu/nichola … etal05.pdf</a>). Spoiler alert&quot; &quot;people tend to believe that they can communicate over e-mail more effectively than they actually can&quot;. <br />&nbsp; &nbsp; &nbsp; &nbsp; But to not let you &quot;guess&quot; why I consider my response in this thread slightly better than yours: it is the specificity. Unlike you I took the time to figure out who maintains the openconnect package for openwrt and included a link, while you (trying to be succinct?) left things to vague... just following the openconnect pointer will lead you to <a href="http://www.infradead.org/openconnect/">http://www.infradead.org/openconnect/</a> and not the openwrt port/package... But I guess we might ned to agree to disgree here, the reason why I respond at all is that I really dislike your hostility towards posters in this forum, and I do not want this forum to slowly turn unpleasant and the demeanor toxic...</p><p>Best Regards<br />&nbsp; &nbsp; &nbsp; &nbsp; M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323654">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						13 May 2016, 10:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>moeller0 wrote:</cite><blockquote><p>... I took the time to figure out who maintains the openconnect package for openwrt ...</p></blockquote></div><p>Wherein the intelligence and capability of OPers is disregarded. That OpenWrt is installed to fulfill a requirement with which OEM software is incapable implies creativity that <strong>mollycoddling</strong> represses.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323655">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						13 May 2016, 10:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><div class="quotebox"><cite>moeller0 wrote:</cite><blockquote><p>... I took the time to figure out who maintains the openconnect package for openwrt ...</p></blockquote></div><p>Wherein the intelligence and capability of OPers is disregarded. That OpenWrt is installed to fulfill a requirement with which OEM software is incapable implies creativity that <strong>mollycoddling</strong> represses.</p></blockquote></div><p>According to that logic you might not want to respond at all, since that obviously interferes even less with the OPs creativity... Now, there are some that would argue that people that post a question in a forum might be more interested in a specific answer than having their &quot;creativity&quot; tickled... <br />&nbsp; &nbsp; &nbsp; &nbsp; But this confirms my impression, that your forum behavior follows some &quot;philosophical&quot; world view... do you really think (most of) your posts actually increase the signal to noise ratio in the openwrt forum?</p><p>Regards<br />&nbsp; &nbsp; &nbsp; &nbsp; M.</p><p>Corrected some typos and verbiage.</p>											<p class="post-edited">(Last edited by <strong>moeller0</strong> on 13 May 2016, 11:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323659">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						13 May 2016, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>@<strong>moeller0</strong> - rather a personal philosphy of self-reliance and learning, attributes which are broadly valued above instant gratification.&nbsp; The &#039;just tell me&#039; posters become self-deluded in believing they have acquired subject matter mastery.&nbsp; &#039;give back&#039; posts of OPers after garnering knowledge before succeeding are prima facie evidence that encouraging understanding through research, however terse the encouragement, is helpful.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323673">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						13 May 2016, 13:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><p>@<strong>moeler0</strong> - rather a personal philosphy of self-reliance and learning, attributes which are broadly valued above instant gratification.&nbsp; The &#039;just tell me&#039; posters become self-deluded in believing they have acquired subject matter mastery.&nbsp; &#039;give back&#039; posts of OPers after garnering knowledge before succeeding are prima facie evidence that encouraging understanding through research, however terse the encouragement, is helpful.</p></blockquote></div><p>Either this, or you are just great at rationalizing troll-like behavior. I remember at least one occasion, where you obviously had no clue about the OPs question but let that not get in your way when posting cryptic/terse &quot;puzzles&quot;; I guess, to each his own. <br />&nbsp; &nbsp; &nbsp; &nbsp; What you (attempt to) practice is the &quot;give a man a fish (and you will fedd him for a day)&quot; vs &quot;teach a man to fish (and you feed him for a lifetime)&quot; approach, except that you do not yet excel at the teaching part im my opinion... And I believe you are over-rating your own influence/leverage on people in the forums; from my perspective you mostly manage to scare/annoy posters away, that probably often leave the openwrt forums without an answer to theit question but with the idea that all of us are behaving like &quot;jerks&quot;.<br />&nbsp; &nbsp; &nbsp; &nbsp; But thanks for explaining your rationale/justification for the behavior; I thus realize I will not be able to convince you soften your approach (just as I hope I will not resort to your open unfriendliness)... <br />&nbsp; &nbsp; &nbsp; &nbsp; I will probably continue to occasionally try to step in when I have the feeling your are &quot;mis-treating&quot; innocent posters; I can be just as stubborn/dedicated as you.</p><p>Best Regards<br />&nbsp; &nbsp; &nbsp; &nbsp; M.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>