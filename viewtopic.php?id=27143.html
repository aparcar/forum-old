<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> p910nd not seeing any printer on USB port</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p120019">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">stanelie</div>
					<div class="post-datetime">
						30 Oct 2010, 06:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello.</p><p>I am trying to setup the p910nd print server on my NSLU2 running Backfire (10.03.1-rc3, r22796).</p><p>Nothing happens when I insert the usb cable from my printer into my device, there is no trace of anything in dmesg either.</p><p>I have installed all the required modules as per the wiki ( <a href="http://wiki.openwrt.org/doc/howto/printer?s">http://wiki.openwrt.org/doc/howto/printer?s</a>[]=p910nd ) and I know my usb works, I can mount a usb drive to it and access it.</p><p>Any thoughts?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120022">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						30 Oct 2010, 08:28					</div>
				</div>
				<div class="post-content content">
					<p>I have a printserver running on a wr1043nd with Backfire 10.03.&nbsp; I had the same problem as you and kept fiddling and adding packages until suddenly the printer was found, I&#039;m not sure which package did the trick.&nbsp; Here&#039;s the list of my installed packages:<br />---<br /> # opkg list-installed&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />base-files - 42-r20728<br />busybox - 1.15.3-2<br />crda - 1.1.0-2<br />dnsmasq - 2.52-2<br />dropbear - 0.52-4<br />firewall - 1-10<br />hotplug2 - 1.0-beta-1<br />iptables - 1.4.6-2<br />iptables-mod-conntrack - 1.4.6-2<br />iptables-mod-nat - 1.4.6-2<br />iw - 0.9.19-1<br />kernel - 2.6.32.10-1<br />kmod-ath - 2.6.32.10+2010-03-24-5<br />kmod-ath9k - 2.6.32.10+2010-03-24-5<br />kmod-button-hotplug - 2.6.32.10-1<br />kmod-cfg80211 - 2.6.32.10+2010-03-24-5<br />kmod-crc-ccitt - 2.6.32.10-1<br />kmod-crypto-aes - 2.6.32.10-1<br />kmod-crypto-arc4 - 2.6.32.10-1<br />kmod-crypto-core - 2.6.32.10-1<br />kmod-input-core - 2.6.32.10-1<br />kmod-input-gpio-buttons - 2.6.32.10-1<br />kmod-input-polldev - 2.6.32.10-1<br />kmod-ipt-conntrack - 2.6.32.10-1<br />kmod-ipt-core - 2.6.32.10-1<br />kmod-ipt-nat - 2.6.32.10-1<br />kmod-ipt-nathelper - 2.6.32.10-1<br />kmod-leds-gpio - 2.6.32.10-1<br />kmod-mac80211 - 2.6.32.10+2010-03-24-5<br />kmod-nls-base - 2.6.32.10-1<br />kmod-ppp - 2.6.32.10-1<br />kmod-pppoe - 2.6.32.10-1<br />kmod-usb-core - 2.6.32.10-1<br />kmod-usb-printer - 2.6.32.10-1<br />kmod-usb2 - 2.6.32.10-1<br />libc - 0.9.30.1-42<br />libgcc - 4.3.3+cs-42<br />libiptc - 1.4.6-2<br />liblua - 5.1.4-6<br />libnl-tiny - 0.1-1<br />libuci - 12012009.5-1<br />libuci-lua - 12012009.5-1<br />libusb - 0.1.12-2<br />libxtables - 1.4.6-2<br />lua - 5.1.4-6<br />luci - 0.9.0-1<br />luci-admin-core - 0.9.0-1<br />luci-admin-full - 0.9.0-1<br />luci-admin-mini - 0.9.0-1<br />luci-app-firewall - 0.9.0-1<br />luci-app-initmgr - 0.9.0-1<br />luci-app-p910nd - 0.9.0-1<br />luci-cbi - 0.9.0-1<br />luci-core - 0.9.0-1<br />luci-http - 0.9.0-1<br />luci-i18n-english - 0.9.0-1<br />luci-ipkg - 0.9.0-1<br />luci-lmo - 0.9.0-1<br />luci-nixio - 0.9.0-1<br />luci-sgi-cgi - 0.9.0-1<br />luci-sys - 0.9.0-1<br />luci-theme-base - 0.9.0-1<br />luci-theme-openwrt - 0.9.0-1<br />luci-uci - 0.9.0-1<br />luci-uvl - 0.9.0-1<br />luci-web - 0.9.0-1<br />mtd - 12<br />opkg - 513-2<br />p910nd - 0.93-1<br />ppp - 2.4.4-5<br />ppp-mod-pppoe - 2.4.4-5<br />swconfig - 5<br />uci - 12012009.5-1<br />udevtrigger - 106-1<br />uhttpd - 7<br />usbutils - 0.86-1<br />wireless-tools - 29-4<br />wpad-mini - 20100309-1<br />zlib - 1.2.3-5<br />---<br />Naturally some of these packages come with the base install and others are added on.</p><p>The dmesg output relevant to the usb printer looks like this:<br />---<br /># dmesg |grep usb<br />Registered led device: tl-wr1043nd:green:usb<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />usb usb1: configuration #1 chosen from 1 choice<br />usb 1-1: new full speed USB device using ar71xx-ehci and address 2<br />usb 1-1: configuration #1 chosen from 1 choice<br />usblp0: USB Bidirectional printer dev 2 if 0 alt 1 proto 2 vid 0x03F0 pid 0x0317<br />usbcore: registered new interface driver usblp<br />---<br />Hope this helps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120067">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">stanelie</div>
					<div class="post-datetime">
						31 Oct 2010, 06:53					</div>
				</div>
				<div class="post-content content">
					<p>Some progress :</p><p>I noticed that you don&#039;t have the kmod-usb-storage installed. I have 2 USB ports on my NSLU2, so I was using one of them to connect a USB hard drive to share it over the network.</p><p>I removed the kmod-usb-storage (and mountd which was depending on kmod-usb-storage) and I now get this :</p><p>root@OpenWrt:~# dmesg |grep usb<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />usb usb1: configuration #1 chosen from 1 choice<br />usb 1-1: new high speed USB device using ehci_hcd and address 2<br />usb 1-1: configuration #1 chosen from 1 choice<br />usbcore: registered new interface driver usblp<br />usb 1-1: USB disconnect, address 2</p><p>The attached printer does not appear there, but it&#039;s still some progress.</p><p>Am I not supposed to be able to have both kmod-usb-storage and kmod-usb-printer installed on the same device? Are these package mutually exclusive in some way?</p><p>Any input is appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120068">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">stanelie</div>
					<div class="post-datetime">
						31 Oct 2010, 06:58					</div>
				</div>
				<div class="post-content content">
					<p>Hum, maybe I was wrong.</p><p>I reinstalled kmod-usb-storage and I now get this :</p><p>root@OpenWrt:~# dmesg | grep usb<br />usbcore: registered new interface driver usbfs<br />usbcore: registered new interface driver hub<br />usbcore: registered new device driver usb<br />usb usb1: configuration #1 chosen from 1 choice<br />usb 1-1: new high speed USB device using ehci_hcd and address 2<br />usb 1-1: configuration #1 chosen from 1 choice<br />usbcore: registered new interface driver usblp<br />usbcore: registered new interface driver usb-storage<br />usb-storage: device found at 2<br />usb-storage: waiting for device to settle before scanning<br />usb-storage: device scan complete</p><br /><p>usblp is there. Still no printer.</p><p>Any thoughts?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120070">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						31 Oct 2010, 08:08					</div>
				</div>
				<div class="post-content content">
					<p>I guess if I were at this point I would try to create /dev/lp0 manually using mknod.&nbsp; My device looks like this:</p><p># ls -l /dev/lp0<br />crw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp;180,&nbsp; &nbsp;0 Apr&nbsp; 5&nbsp; 2010 /dev/lp0</p><p>So you would be doing something like:</p><p>mknod /dev/lp0 c 180 0</p><p>Then I would try to manually send something to the printer like</p><p>cat test.txt &gt; /dev/lp0</p><p>It&#039;s a kinda lame program, but the idea is to see what&#039;s the problem.&nbsp; Is it the hotplugging failing to detect a printer is there, is the underlying printer device is missing, etc.</p><p>Sorry I can&#039;t be of more help than the above.&nbsp; As I said in my post, I got printing working by stumbling around changing things.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120095">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">stanelie</div>
					<div class="post-datetime">
						31 Oct 2010, 16:47					</div>
				</div>
				<div class="post-content content">
					<p>After issuing the mknod command, I tried&nbsp; this :</p><p>root@OpenWrt:/home# ls /dev/lp*<br />/dev/lp0<br />root@OpenWrt:/home# cat test.txt &gt; /dev/lp0<br />-ash: can&#039;t create /dev/lp0: No such device<br />root@OpenWrt:/home#</p><p>Still no go. The lp device is there, but not really...?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120099">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						31 Oct 2010, 17:18					</div>
				</div>
				<div class="post-content content">
					<p>Here are the kernel modules which refer to usb:<br />#&nbsp; lsmod |grep usb<br />usblp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8512&nbsp; 0 <br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 97552&nbsp; 3 usblp,ehci_hcd<br />nls_base&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4800&nbsp; 1 usbcore</p><p>and the full list of modules in play on my system:<br /># lsmod<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Not tainted<br />usblp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8512&nbsp; 0 <br />nf_nat_tftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 432&nbsp; 0 <br />nf_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;2400&nbsp; 1 nf_nat_tftp<br />nf_nat_irc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;816&nbsp; 0 <br />nf_conntrack_irc&nbsp; &nbsp; &nbsp; &nbsp; 2512&nbsp; 1 nf_nat_irc<br />nf_nat_ftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1328&nbsp; 0 <br />nf_conntrack_ftp&nbsp; &nbsp; &nbsp; &nbsp; 4640&nbsp; 1 nf_nat_ftp<br />ipt_MASQUERADE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;992&nbsp; 2 <br />iptable_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2768&nbsp; 1 <br />nf_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10912&nbsp; 5 nf_nat_tftp,nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat<br />xt_NOTRACK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;544&nbsp; 0 <br />iptable_raw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 656&nbsp; 1 <br />xt_state&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;768&nbsp; 3 <br />nf_conntrack_ipv4&nbsp; &nbsp; &nbsp; &nbsp;7920&nbsp; 6 iptable_nat,nf_nat<br />nf_defrag_ipv4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;624&nbsp; 1 nf_conntrack_ipv4<br />nf_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;38848 12 nf_nat_tftp,nf_conntrack_tftp,nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_NOTRACK,xt_state,nf_conntrack_ipv4<br />ehci_hcd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31120&nbsp; 0 <br />pppoe&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8304&nbsp; 0 <br />pppox&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1216&nbsp; 1 pppoe<br />ipt_REJECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1680&nbsp; 2 <br />xt_TCPMSS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2560&nbsp; 2 <br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4176&nbsp; 0 <br />xt_comment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;464&nbsp; 0 <br />xt_multiport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1792&nbsp; 0 <br />xt_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;576&nbsp; 0 <br />xt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1008&nbsp; 1 <br />iptable_mangle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;992&nbsp; 0 <br />iptable_filter&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;768&nbsp; 1 <br />ip_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8464&nbsp; 4 iptable_nat,iptable_raw,iptable_mangle,iptable_filter<br />xt_tcpudp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1760&nbsp; 8 <br />x_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9296 13 ipt_MASQUERADE,iptable_nat,xt_NOTRACK,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_comment,xt_multiport,xt_mac,xt_limit,ip_tables,xt_tcpudp<br />ppp_async&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6400&nbsp; 0 <br />ppp_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 18848&nbsp; 3 pppoe,pppox,ppp_async<br />slhc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4160&nbsp; 1 ppp_generic<br />ath9k&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 75760&nbsp; 0 <br />ath9k_common&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5184&nbsp; 1 ath9k<br />ath9k_hw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 202960&nbsp; 2 ath9k,ath9k_common<br />ath&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7008&nbsp; 3 ath9k,ath9k_common,ath9k_hw<br />mac80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192608&nbsp; 2 ath9k,ath9k_common<br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 97552&nbsp; 3 usblp,ehci_hcd<br />nls_base&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4800&nbsp; 1 usbcore<br />crc_ccitt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 976&nbsp; 1 ppp_async<br />cfg80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 116992&nbsp; 4 ath9k,ath9k_common,ath,mac80211<br />compat_firmware_class&nbsp; &nbsp; &nbsp;5168&nbsp; 0 <br />compat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;432&nbsp; 0 <br />arc4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;816&nbsp; 2 <br />aes_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 30256&nbsp; 1 <br />deflate&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1360&nbsp; 0 <br />ecb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1328&nbsp; 2 <br />cbc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2016&nbsp; 0 <br />leds_gpio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1456&nbsp; 0 <br />button_hotplug&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2560&nbsp; 0 <br />gpio_buttons&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1968&nbsp; 0 <br />input_polldev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1360&nbsp; 1 gpio_buttons<br />input_core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16896&nbsp; 4 button_hotplug,gpio_buttons,input_polldev</p><p>You might try rmmod to remove some strategic sounding ones, then reinsert while monitoring dmesg.</p><p>Finally, is the usb printer one you have used with linux?&nbsp; Maybe it is a freakin&#039; winprinter?&nbsp; It used to be HP printers were solid choices for linux, but then the company started cutting corners and coming up with the usual trash this practice entails.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120104">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						31 Oct 2010, 18:59					</div>
				</div>
				<div class="post-content content">
					<p>Sort the output for better reading.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120117">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">yawlhoo</div>
					<div class="post-datetime">
						31 Oct 2010, 23:22					</div>
				</div>
				<div class="post-content content">
					<p>Good point.&nbsp; Here&#039;s all modules again, but sorted:<br /># lsmod |sort<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Not tainted<br />aes_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 30256&nbsp; 1 <br />arc4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;816&nbsp; 2 <br />ath&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7008&nbsp; 3 ath9k,ath9k_common,ath9k_hw<br />ath9k&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 75760&nbsp; 0 <br />ath9k_common&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5184&nbsp; 1 ath9k<br />ath9k_hw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 202960&nbsp; 2 ath9k,ath9k_common<br />button_hotplug&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2560&nbsp; 0 <br />cbc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2016&nbsp; 0 <br />cfg80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 116992&nbsp; 4 ath9k,ath9k_common,ath,mac80211<br />compat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;432&nbsp; 0 <br />compat_firmware_class&nbsp; &nbsp; &nbsp;5168&nbsp; 0 <br />crc_ccitt&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 976&nbsp; 1 ppp_async<br />deflate&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1360&nbsp; 0 <br />ecb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1328&nbsp; 2 <br />ehci_hcd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;31120&nbsp; 0 <br />gpio_buttons&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1968&nbsp; 0 <br />input_core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;16896&nbsp; 4 button_hotplug,gpio_buttons,input_polldev<br />input_polldev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1360&nbsp; 1 gpio_buttons<br />ip_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8464&nbsp; 4 iptable_nat,iptable_raw,iptable_mangle,iptable_filter<br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4176&nbsp; 0 <br />ipt_MASQUERADE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;992&nbsp; 2 <br />ipt_REJECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1680&nbsp; 2 <br />iptable_filter&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;768&nbsp; 1 <br />iptable_mangle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;992&nbsp; 0 <br />iptable_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2768&nbsp; 1 <br />iptable_raw&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 656&nbsp; 1 <br />leds_gpio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1456&nbsp; 0 <br />mac80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 192608&nbsp; 2 ath9k,ath9k_common<br />nf_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;38848 12 nf_nat_tftp,nf_conntrack_tftp,nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_NOTRACK,xt_state,nf_conntrack_ipv4<br />nf_conntrack_ftp&nbsp; &nbsp; &nbsp; &nbsp; 4640&nbsp; 1 nf_nat_ftp<br />nf_conntrack_ipv4&nbsp; &nbsp; &nbsp; &nbsp;7920&nbsp; 6 iptable_nat,nf_nat<br />nf_conntrack_irc&nbsp; &nbsp; &nbsp; &nbsp; 2512&nbsp; 1 nf_nat_irc<br />nf_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;2400&nbsp; 1 nf_nat_tftp<br />nf_defrag_ipv4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;624&nbsp; 1 nf_conntrack_ipv4<br />nf_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;10912&nbsp; 5 nf_nat_tftp,nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat<br />nf_nat_ftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1328&nbsp; 0 <br />nf_nat_irc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;816&nbsp; 0 <br />nf_nat_tftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 432&nbsp; 0 <br />nls_base&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4800&nbsp; 1 usbcore<br />ppp_async&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6400&nbsp; 0 <br />ppp_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 18848&nbsp; 3 pppoe,pppox,ppp_async<br />pppoe&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8304&nbsp; 0 <br />pppox&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1216&nbsp; 1 pppoe<br />slhc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4160&nbsp; 1 ppp_generic<br />usbcore&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 97552&nbsp; 3 usblp,ehci_hcd<br />usblp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8512&nbsp; 0 <br />x_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9296 13 ipt_MASQUERADE,iptable_nat,xt_NOTRACK,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_comment,xt_multiport,xt_mac,xt_limit,ip_tables,xt_tcpudp<br />xt_NOTRACK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;544&nbsp; 0 <br />xt_TCPMSS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2560&nbsp; 2 <br />xt_comment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;464&nbsp; 0 <br />xt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1008&nbsp; 1 <br />xt_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;576&nbsp; 0 <br />xt_multiport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1792&nbsp; 0 <br />xt_state&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;768&nbsp; 3 <br />xt_tcpudp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1760&nbsp; 8</p><p>The important ones must be the usb ones, but then maybe there is something subtle at work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120125">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">playdude</div>
					<div class="post-datetime">
						1 Nov 2010, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>Some printers are USB 1. Install ohci and see what happens.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120417">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">stanelie</div>
					<div class="post-datetime">
						5 Nov 2010, 03:58					</div>
				</div>
				<div class="post-content content">
					<p>Nice!</p><p>That was it! I had tried 2 different printers and both were USB1, both wouldn&#039;t trigger anything in dmesg.</p><p>Now it works, I installed the print server daemon p910nd and it works great!</p><p>Thanks a lot!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120458">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						5 Nov 2010, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>Always follow what wiki says.</p><p><a href="http://wiki.openwrt.org/inbox/howto/install-usb-support">Installing USB support - OpenWrt Wiki</a><br /></p><div class="quotebox"><blockquote><p>Note: that you may want to have available the utility, lsusb. To install it run opkg install usbutils.</p></blockquote></div><p><a href="http://wiki.openwrt.org/doc/howto/printer">Why should I use printer sharing? What is that? - OpenWrt Wiki</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p120463">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">stanelie</div>
					<div class="post-datetime">
						5 Nov 2010, 15:12					</div>
				</div>
				<div class="post-content content">
					<p>Yup, it&#039;s unclear from that that you need OHCI to support usb 1.1, as I thought usb 2 was backward compatible with usb 1. Hopefully, this thread will be of help to someone, it was to me.</p><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>