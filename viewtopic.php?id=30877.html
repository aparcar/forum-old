<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Please help Running nzbget.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p139166">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">derdigge</div>
					<div class="post-datetime">
						15 Jul 2011, 09:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi there!</p><p>I am using latest Trunk on 1024nd from tplink. (R27340)<br />I sucessfully conected an external Harddisk on active USB Hub.<br />Now is want to use nzbget.</p><p>For that i installed nzbget and nzbgetweb.<br />Luci is also installed. </p><p>When i Run Top then uhttpd is up with /www/nzbgetweb, the nzbget deamon is also up.<br />But if i try to connect to the webinterface using Browser at <a href="http://192.168.1.1:8008">http://192.168.1.1:8008</a><br />i get an empty page displayed with One sentence &quot;No input file specified&quot;</p><p>Is there an Solution for that? What i am doing wring?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139176">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">silversurfer</div>
					<div class="post-datetime">
						15 Jul 2011, 13:29					</div>
				</div>
				<div class="post-content content">
					<p>Sound&#039;s like you didn&#039;t specify a source. You read this:&nbsp; <a href="http://nzbget.sourceforge.net/Overview#Configuration">http://nzbget.sourceforge.net/Overview#Configuration</a> ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139181">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">derdigge</div>
					<div class="post-datetime">
						15 Jul 2011, 14:06					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply!</p><p>What do you mean with specify a Source?</p><p>I edited The /etc/nzbget.conf as described in the wiki_</p><p>- added the maindir and created it using mkdir<br />- same for tmp, queue and other dirs<br />- configured my newsserver</p><p>i tried wit running Deamon -&gt; Same result<br />itried without Deamon running -&gt; Same Result</p><p>EDIT:</p><p>it seems to somethimg with the webinterface,<br />in terminal nzbget is running fine!! (nzbget -s)</p>											<p class="post-edited">(Last edited by <strong>derdigge</strong> on 15 Jul 2011, 22:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139238">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">derdigge</div>
					<div class="post-datetime">
						16 Jul 2011, 12:25					</div>
				</div>
				<div class="post-content content">
					<p>So far so good!</p><p>I have now more information about the problem.</p><p>reason could be something wit uhttpd or php interpreter<br />- i tried apache - looks terrible, but page is been displayed (somekind of html screwup)</p><br /><p>My uhttpd.conf:</p><p>config &#039;uhttpd&#039; &#039;main&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;listen_http&#039; &#039;0.0.0.0:80&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;listen_https&#039; &#039;0.0.0.0:443&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;home&#039; &#039;/www&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;rfc1918_filter&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;cert&#039; &#039;/etc/uhttpd.crt&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;key&#039; &#039;/etc/uhttpd.key&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;cgi_prefix&#039; &#039;/cgi-bin&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;script_timeout&#039; &#039;60&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;network_timeout&#039; &#039;30&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;tcp_keepalive&#039; &#039;1&#039;</p><p>config &#039;cert&#039; &#039;px5g&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;days&#039; &#039;730&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;bits&#039; &#039;1024&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;country&#039; &#039;DE&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;state&#039; &#039;Berlin&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;location&#039; &#039;Berlin&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;commonname&#039; &#039;OpenWrt&#039;</p><p>config &#039;uhttpd&#039; &#039;nzbgetweb&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;listen_http&#039; &#039;0.0.0.0:8008&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;script_timeout&#039; &#039;60&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;network_timeout&#039; &#039;30&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;home&#039; &#039;/www/nzbgetweb&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;index_page&#039; &#039;index.php&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;interpreter&#039; &#039;.php=/usr/bin/php-cgi&#039;</p><p>any Suguestions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139242">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">derdigge</div>
					<div class="post-datetime">
						16 Jul 2011, 13:06					</div>
				</div>
				<div class="post-content content">
					<p>OK Next Update!</p><p>It is the PHP interpreter!!</p><p>Just Edit /etc/php.ini</p><p>; Paths and Directories</p><p>; UNIX: &quot;/path1:/path2&quot;<br />;include_path = &quot;.:/php/includes&quot;<br />doc_root = &quot;/www&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;- This line has to be changes to : doc_root = &quot;/www/nzbgetweb&quot; <br />user_dir =<br />extension_dir = &quot;/usr/lib/php&quot;<br />enable_dl = On<br />;cgi.force_redirect = 1<br />;cgi.nph = 1<br />;cgi.redirect_status_env = ;<br />cgi.fix_pathinfo=1<br />;fastcgi.impersonate = 1;<br />;fastcgi.logging = 0<br />;cgi.rfc2616_headers = 0</p><p>An Taaadddaaa Webinterface came up as excpected!</p><p>But now we are at Current State :<br />Web Interface told me:</p><p>ERROR: Could not detect available RPC-API: old PHP version or modules missing. See README for details.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139259">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">derdigge</div>
					<div class="post-datetime">
						16 Jul 2011, 19:41					</div>
				</div>
				<div class="post-content content">
					<p>the final solution was to install the json_rpc package.<br />nzbgetweb works now.</p><p>But believe me, you dont want it to run it on your router.<br />I tested it with an 200mb file to download. It hoggs the cpu<br />and ram of the router like hell. added 128mb swap.</p><p>you cant access luci at all! cpu is permanent at 100%. (running top)<br />as a result of that the download is becomming slow ~ 200kb/s.</p><p>for me it makes no sense running such a service on a mips plattform.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146900">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">rw</div>
					<div class="post-datetime">
						28 Oct 2011, 15:55					</div>
				</div>
				<div class="post-content content">
					<p>Maybe you intended to say that you have WR1043ND? There is no model 1024nd on TP-Link&#039;s site.</p><p>Anyway, I have WR1043ND, and use both nzbget and nzbgetweb. This combination works works very well, and while nzbget uses a lot of RAM, it almost doesn&#039;t use CPU (usage is 4-5%) and downloads max out my connection speeds ( ~320Kb/s). </p><p>The reason why you get different result may be related to a configuration. In the beginning I also had severe performance issues, but some tweaking resolved them. </p><p>It is very important to change value of WriteBufferSize. By default it is set to 0. As the result, I/O is very high - on my router I/O usage was constantly above 90%, which caused both significant drop in download speed (which reached 100Kb/s at it&#039;s peaks) and overloaded the machine so that it barely responded. After I changed buffer size to 2Mb I/O dropped to 6-8%, machine became responsive and download speeds reached maximum levels. BTW, setting buffer size to -1 will probably be even a better idea, since automatic cache management may use RAM more efficiently, but I am pleased enough with the current results.</p><br /><p>In addition, related to your earlier posts: I just unset doc_root, otherwise it seems that if you install additional web server components which use PHP they may not work properly, since setting doc_root to a particular directory will prevent serving files outside this directory (see PHP documentation for doc_root). Also, I installed php5-mod-json instead of json_rpc (there is no such package in openwrt repository for the device).</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>