<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-LINK WDR4300: OpenWrt, Gargoyle, or Stock FW?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p196790">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">smokarz1</div>
					<div class="post-datetime">
						31 Mar 2013, 20:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, I just purchased a WDR4300 and not sure if I should flash the latest stock firm ware, OpenWRT, or Gargoyle.</p><p>My usage is pretty basic. Desktop, couple tablets, a few smart phones, and XBOX.</p><p>I just want something stable and reliable. Nothing fancy or power usage.</p><p>What do you suggest? Also, I assume stock FW is the easiest to flash, without the risk of bricking?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196792">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						31 Mar 2013, 21:05					</div>
				</div>
				<div class="post-content content">
					<p>question: what problems do you have with your current firmware?</p><p>if aint broke, don&#039;t fix it..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196793">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">smokarz1</div>
					<div class="post-datetime">
						31 Mar 2013, 21:11					</div>
				</div>
				<div class="post-content content">
					<p>I haven&#039;t set it up yet. But based on user reviews, there seems to be quite a bit of problem with drop connections and poor range. Those are the only 2 areas that I wish to improve.</p><p>Would OpenWRT or Gargoyle improve those issues?</p>											<p class="post-edited">(Last edited by <strong>smokarz1</strong> on 31 Mar 2013, 21:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196796">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">brontide</div>
					<div class="post-datetime">
						31 Mar 2013, 21:35					</div>
				</div>
				<div class="post-content content">
					<p>Even the stock FW fixed the problem with power; both OenWRT and Gargoyle should have the problems resolved as well in recent builds.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196798">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">smokarz1</div>
					<div class="post-datetime">
						31 Mar 2013, 21:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>brontide wrote:</cite><blockquote><p>Even the stock FW fixed the problem with power; both OenWRT and Gargoyle should have the problems resolved as well in recent builds.</p></blockquote></div><br /><br /><p>What do you mean? The latest sock FW?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196799">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						31 Mar 2013, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>yes, latest stock fixes the dropped wifi connections problem and improves overall stability.</p><p>upgrade to Gargoyle if you want something easy to use with better QoS than stock. Doesn&#039;t sound like you need the flexibility of OpenWrt.</p>											<p class="post-edited">(Last edited by <strong>drawz</strong> on 31 Mar 2013, 21:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196801">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						31 Mar 2013, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>Probably wouldn&#039;t improve range. <br />Stability could go up or down.</p><p>I also suggest that you try it w/ the latest TP-LINK firmware first and see how it works for you.&nbsp; &nbsp; AArc1 is fairly old for this router and trunk can be unstable so as something you don&#039;t want to mess with neither is ideal.</p>											<p class="post-edited">(Last edited by <strong>vhrm</strong> on 31 Mar 2013, 21:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196805">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">smokarz1</div>
					<div class="post-datetime">
						31 Mar 2013, 22:18					</div>
				</div>
				<div class="post-content content">
					<p>Thanks guys. I will try the latest stock FW and see if it has any issues.</p><p>Also, do I need to rename the stock FW file after I download it before flashing? Does the FW need to be a specific name?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196806">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						31 Mar 2013, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>You download a zip file which you unzip to find it contains a&nbsp; .bin file.&nbsp; You upload the .bin.</p><p>(like the instructions at the top of&nbsp; <a href="http://www.tp-link.com/en/support/download/?model=TL-WDR4300&amp;version=V1">http://www.tp-link.com/en/support/downl … version=V1</a>&nbsp; suggest&nbsp; (but don&#039;t spell out entirely)&nbsp; :-)&nbsp; )</p><div class="quotebox"><blockquote><p>- Please verify the hardware version of your device for the firmware version. Wrong firmware upgrade may damage your device and void the warranty.<br />&nbsp; &nbsp; - Do NOT turn off the power during upgrade.<br />&nbsp; &nbsp; - Do NOT upgrade the firmware through wireless connection unless the device only has wireless connection;<br />&nbsp; &nbsp; - It&#039;s recommended that users stop all Internet applications on the computer, or simply disconnect Internet line from the device before upgrade.<br />&nbsp; &nbsp; - Use decompression software such as WinZIP or WinRAR to extract the file you download before upgrade.</p></blockquote></div>											<p class="post-edited">(Last edited by <strong>vhrm</strong> on 31 Mar 2013, 22:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197053">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">smokarz1</div>
					<div class="post-datetime">
						3 Apr 2013, 07:21					</div>
				</div>
				<div class="post-content content">
					<p>So I set up my new WDR4300 and also placed a TP822N wireless adapter on my HTPC.</p><p>I tested the connection by transferring a 30GB file from my desktop (Wired) to my HTPC (wireless N) and I achieved an average rate of about 60mbps (that&#039;s megabits per second).</p><p>This is way short of the advertised 300mbps for this router and the adapter.</p><p>I already flashed the latest TP-link firmware on the router and also installed the latest driver on the adapter.</p><p>I put my router in channel 11 so not to compete with other routers on the neighborhood.</p><p>This looks really slow to me. What is the actual throughput that I should expect with this router?</p><p>I think I would be happy if I could achieve around 150mbps. I am not even getting anywhere 1/4 of the rated speed.</p><p>Any suggestions?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197057">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						3 Apr 2013, 08:01					</div>
				</div>
				<div class="post-content content">
					<p>&quot;it&#039;s complicated&quot;... and 60mbps isn&#039;t bad at all.</p><p>How far is it ? </p><p>This chart tells (some of ) the story:<br /><a href="http://en.wikipedia.org/wiki/IEEE_802.11n-2009#Data_rates">http://en.wikipedia.org/wiki/IEEE_802.1 … Data_rates</a></p><p>To get to 300mbps you&#039;d need&nbsp; to be using the 40Mhz channel and dual streams and short guard interval and the signal would have to be so clean and strong that it would use the &quot;best&quot; modulation.</p><p>MCS 15 in this case.&nbsp; &nbsp; &nbsp; Unfortuantely, with the stock firmware it&#039;s hard (impossible) to tell what MCS it&#039;s connected at.&nbsp; &nbsp;Even the channel width is questionable.</p><p>Before i go&nbsp; off and type a lot about all this... the first thing to do, imo, if you really need more throughput would be to replace your TP822n with a&nbsp; 5ghz capable adapter with 3x3 capability.<br />(like maybe <a href="https://www.asus.com/Networking/USBN66/">https://www.asus.com/Networking/USBN66/</a> ... though it might be cheaper to actually get a 2nd wdr4300 to use as a client&nbsp; :-)&nbsp; ) </p><p>On the 5ghz band it&#039;ll connect on a 40 mhz channel and most likely it&#039;s cleaner up there and it&#039;ll possibly give you a better throughput (depending on the range and your environment).</p><p>BUT&nbsp; perhaps before you do that i&#039;m curious to hear what other people have seen in terms of throughput.&nbsp; &nbsp;A friend&#039;s macbook connected to a wdr4300&nbsp; at a link rate of 270mbps (on a 5ghz channel&nbsp; and getting supposedly full signal strength ) would only do an internet speed test at ~16mbps&nbsp; when a few rooms away&nbsp; where it was ~30mbps (the line rate)&nbsp; &nbsp;when it was in the same room.&nbsp; &nbsp;So as i said..&nbsp; complicated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197086">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">brontide</div>
					<div class="post-datetime">
						3 Apr 2013, 15:04					</div>
				</div>
				<div class="post-content content">
					<p>60mbps sounds pretty good for a single 20mhz stream on 2.4ghz.</p><p>vhrm is correct, in order to receive the real speed boost you need to be using multiple 40mhz channels on 5ghz with little to no interference.&nbsp; Even then it&#039;s working correctly you can&#039;t rely on the highest data rates.</p><p>My laptop has a crappy intel N which only wants to connect via one spacial stream ( MCS 7 40Mhz channel, highest coding = 150 mbps ).</p><div class="codebox"><pre><code>MIGRATED TCP STREAM TEST from 0.0.0.0 (0.0.0.0) port 0 AF_INET to myth.lan (192.168.111.10) port 0 AF_INET : demo
Recv   Send    Send                          
Socket Socket  Message  Elapsed              
Size   Size    Size     Time     Throughput  
bytes  bytes   bytes    secs.    10^6bits/sec  

 87380  16384  16384    10.09      91.55 </code></pre></div><p>OpenWRT can&#039;t magically make the hardware push more bps when the software is not the limiting factor here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197119">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">smokarz1</div>
					<div class="post-datetime">
						3 Apr 2013, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the repsonses guys.</p><p>At this point, I am thinking the WDR4300 is the limiting factor.</p><p>Smallnetbuilder.com tested other dual band routers (e.g. Asus, Linksys, etc) and they achieved throughput between 600-800 mbps.</p><p>Unfortunately, they haven&#039;t tested the WDR4300 yet so I am not sure if I am getting the expected real world throughput with this router or not.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197128">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						3 Apr 2013, 22:36					</div>
				</div>
				<div class="post-content content">
					<p>Dude...&nbsp; i think you&#039;re significantly confused about how&nbsp; and/or how well this stuff works.&nbsp; &quot;800-900mpbs&quot; throughput to a single client isn&#039;t even theoretically supported by anything in the standard.&nbsp; &nbsp; You&#039;re probably thinking about the WAN -&gt; LAN routing.</p><p>Here&#039;s the 2.4ghz page from smallnetbuilder&#039;s review of the Asus&nbsp; RT-N66U Dark Knight&nbsp; (currently the cat&#039;s meow of home routers):</p><p><a href="http://www.smallnetbuilder.com/wireless/wireless-reviews/31687-asus-rt-n66u-dark-knight-dual-band-wireless-n900-gigabit-router-reviewed?showall=&amp;start=4">http://www.smallnetbuilder.com/wireless … mp;start=4</a></p><p>the 2 stream 20mhz 2.4ghz&nbsp; download throughput performance at 4 of his test locations is:&nbsp; &nbsp;<br />18mbps , 54mbps, 66mbps, 80mbps.</p><p>(ironically, the 40mhz was worse in some cases and only slightly better in other locations)</p><p>So your 60 mbps is just fine.</p><p>Even moving to 3-stream on 20mhz tops out at&nbsp; 85mbps transfer and 3-stream at 40mhz (which is the 450mbps advertised) is only about 100mbps at the fastest location.&nbsp; </p><p>If you look through other reviews you&#039;ll note the there are only a handful of numbers over 100mbps actual transfer (and,strangely, those seem to be in the &quot;upload&quot; direction).</p><p>Where the multi-stream really helps is bringing up the throughput in bad signal locations.&nbsp; So it&#039;ll more likely get you from 5mbps to 15mbps&nbsp; rather than 150 to 450.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p197155">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">smokarz1</div>
					<div class="post-datetime">
						4 Apr 2013, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>Thanks. That help a lot.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>