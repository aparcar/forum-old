<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to use the new block-mount ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 19 Jun 2015 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 9 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=44939&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44939&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=44939&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p223891">
				<div class="post-metadata">
					<div class="post-num">Post #201</div>
					<div class="post-author">gently</div>
					<div class="post-datetime">
						27 Jan 2014, 17:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Crazy wrote:</cite><blockquote><p>With option delay_root &#039;35&#039; works!!</p></blockquote></div><p>is that HDD or USB stick?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p223900">
				<div class="post-metadata">
					<div class="post-num">Post #202</div>
					<div class="post-author">Crazy</div>
					<div class="post-datetime">
						27 Jan 2014, 19:49					</div>
				</div>
				<div class="post-content content">
					<p>usb stick without hub<br />note that only option target &#039;/overlay&#039; works, if I use option target &#039;/&#039; router don&#039;t boot.<br />Test with 1043ND v1.8, 2 MR3220 v1, MR3420 and DIR-505 A1</p>											<p class="post-edited">(Last edited by <strong>Crazy</strong> on 27 Jan 2014, 20:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232398">
				<div class="post-metadata">
					<div class="post-num">Post #203</div>
					<div class="post-author">cfairman</div>
					<div class="post-datetime">
						5 May 2014, 03:25					</div>
				</div>
				<div class="post-content content">
					<p>This is probably Old News, the fix for me with TL-WR1043ND v2 was to add option delay_root&nbsp; &#039;1&#039; to fstab.</p><p>According to: <a href="http://patchwork.openwrt.org/patch/3785/">http://patchwork.openwrt.org/patch/3785/</a> &quot;This option defines how long mount_root should wait (in seconds) for an external storage to show up.&quot;</p><p>Unfortunately the extra time used to wait for the USB device appears to have unintended consequences for the rest of the system startup. Specifically I am running bind, and for whatever reason it runs before my network devices are completely up when I enable &#039;delay_root&#039; in fstab. The router would boot, but name resolution was broken for the network until I restarted the &#039;named&#039; service. </p><p>Out of curiosity I added a service that simply waits the amount of time that I defined in fstab. I called the service &#039;delay_root&#039;, and enabled it like any other (`delay_root enable`). I set its Startup Sequence so that it would run right after the fstab service. Its low tech but worked for me. Perhaps the delay_root command should do something similar behind the scenes when mounting the device.</p><p>Here is my config:<br />cat /etc/init.d/delay_root <br /></p><div class="codebox"><pre><code>#!/bin/sh /etc/rc.common
START=41

# grep delay_root  /etc/config/fstab
DELAY_ROOT=1

start() {
  echo Waiting for $DELAY_ROOT seconds
  /bin/sleep $DELAY_ROOT
}</code></pre></div><p>cat /etc/config/fstab <br /></p><div class="codebox"><pre><code>config global
        option anon_swap &#039;0&#039;
        option anon_mount &#039;0&#039;
        option auto_swap &#039;1&#039;
        option auto_mount &#039;1&#039;
        option delay_root &#039;1&#039;
        option check_fs &#039;0&#039;

config mount
        option target &#039;/overlay&#039;
        option uuid &#039;a1720a8b-8995-4e83-8518-320926904720&#039;
        option enabled &#039;1&#039;</code></pre></div><p>cat /proc/cpuinfo <br /></p><div class="codebox"><pre><code>system type             : Qualcomm Atheros QCA9558 rev 0
machine                 : TP-LINK TL-WR1043ND v2
processor               : 0
cpu model               : MIPS 74Kc V5.0
BogoMIPS                : 358.80
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0000, 0x0ff8, 0x0ff8, 0x0ff8]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp dsp2
shadow register sets    : 1
kscratch registers      : 0
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available</code></pre></div><br /><div class="codebox"><pre><code>BusyBox v1.19.4 (2014-05-02 11:28:58 UTC) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 BARRIER BREAKER (Bleeding Edge, r40652)</code></pre></div>											<p class="post-edited">(Last edited by <strong>cfairman</strong> on 5 May 2014, 03:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232406">
				<div class="post-metadata">
					<div class="post-num">Post #204</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						5 May 2014, 05:35					</div>
				</div>
				<div class="post-content content">
					<p>Does block-mount depend on /etc/fstab file? The reason I asked is my Seagate Dockstar has the /etc/fstab linked to /tmp/fstab. However, there is no /tmp/fstab, except /etc/config/fstab file, yet <em>free</em> utility reports a swap file being used.<br /></p><div class="codebox"><pre><code>[dockstar@DockStar:/home/local/users/dockstar 3%] ~ free
             total       used       free     shared    buffers     cached
Mem:        125068     121732       3336          0        892      87356
-/+ buffers/cache:      33484      91584
Swap:       216872       7104     209768</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232418">
				<div class="post-metadata">
					<div class="post-num">Post #205</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						5 May 2014, 08:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cfairman wrote:</cite><blockquote><p>Perhaps the delay_root command should do something similar behind the scenes when mounting the device.</p></blockquote></div><p>You can set the delay_root option in fstab to values greater than 1, e.g. 5 or 10 seconds.<br />Some USB drives need a good amount of time to get ready for use.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233227">
				<div class="post-metadata">
					<div class="post-num">Post #206</div>
					<div class="post-author">dsultanr</div>
					<div class="post-datetime">
						13 May 2014, 12:30					</div>
				</div>
				<div class="post-content content">
					<p>extroot not mounting on cold boot, but mounts after reboot</p><p>option delay_root is &#039;30&#039;</p><p>what it could be?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p245546">
				<div class="post-metadata">
					<div class="post-num">Post #207</div>
					<div class="post-author">Meaulnes</div>
					<div class="post-datetime">
						1 Sep 2014, 01:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone,</p><p>Currently testing BARRIER BREAKER (14.07-rc3, r42056) and block-mount (installed through opkg) definitely not working on my WNDR3700v4. Is the problem described in this topic supposed to be fixed in 14.07 RC3? I followed wiki&#039;s instructions and advices found here but I cannot get overlay to work although my USB key is recognized and I can mount it manually. Thx in advance fo the help.</p>											<p class="post-edited">(Last edited by <strong>Meaulnes</strong> on 1 Sep 2014, 01:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p246625">
				<div class="post-metadata">
					<div class="post-num">Post #208</div>
					<div class="post-author">andjelko.conar</div>
					<div class="post-datetime">
						10 Sep 2014, 12:26					</div>
				</div>
				<div class="post-content content">
					<p>all this worked so nice on attitude adjustment.<br />with 14.07-rc3 all this is big pile of sh*t.<br />why change something that is working well?</p><p>after reboot usb is mounted to /mnt/sda1 not where i want.<br />How to solve this?</p>											<p class="post-edited">(Last edited by <strong>andjelko.conar</strong> on 10 Sep 2014, 12:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p247502">
				<div class="post-metadata">
					<div class="post-num">Post #209</div>
					<div class="post-author">tomo0</div>
					<div class="post-datetime">
						19 Sep 2014, 17:08					</div>
				</div>
				<div class="post-content content">
					<p>Is there information on using the new ubox and block commands to create a pivot NFS mount at boot time? It seems I cannot create a persistent NFS mount on boot time at all using /etc/config/fstab and the block detect command doesn&#039;t provide any useful output for NFS mounts.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248240">
				<div class="post-metadata">
					<div class="post-num">Post #210</div>
					<div class="post-author">geoffw</div>
					<div class="post-datetime">
						27 Sep 2014, 05:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi,&nbsp; I&#039;ve read all the suggestions in this thread and what seems to be the corresponding ticket at <a href="https://dev.openwrt.org/ticket/13763">https://dev.openwrt.org/ticket/13763</a> and I can&#039;t for the life of me get pivot_overlay or pivot_root mounting to work for me.</p><p>I&#039;m using the latest build: OpenWrt Chaos Calmer r42659 on a netgear wndr-3700v4 usb storage support is installed and if I specify a target mount point in /etc/config/fstab to something that isn&#039;t &#039;/&#039; or &#039;/overlay&#039; the drive gets mounted ok.</p><div class="codebox"><pre><code># /etc/config/fstab
config &#039;global&#039;
    option    anon_swap    &#039;0&#039;
    option    anon_mount    &#039;0&#039;
    option    auto_swap    &#039;1&#039;
    option    auto_mount    &#039;1&#039;
    option    delay_root    &#039;30&#039;
    option    check_fs    &#039;0&#039;

config &#039;mount&#039;
    option    target    &#039;/&#039;
    option    uuid    &#039;b474dd0a-8d61-45d9-a0f5-7309615d47d6&#039;
    option  enabled    &#039;1&#039;</code></pre></div><p>I&#039;m new to developing with openwrt and C but not to programming in general.&nbsp; Unfortuanately I don&#039;t have a the hardware handy to do serial port debugging but I managed to download and cross compile the fstools package containing the block.c sources.</p><p>To debug things, I added a bunch of syslog() calls throughout the file, compiled and uploaded to the router.</p><p>I&#039;ve been getting suspicious messages such as: <br /></p><div class="codebox"><pre><code>[ 1216.440000] end_request: I/O error, dev mtdblock0, sector 48
[ 1216.440000] Buffer I/O error on device mtdblock0, logical block 6</code></pre></div><p>In syslog so I wondered if the block binary was segfaulting or something.&nbsp; The debug code I added proves this is not the case as the program exits normally.</p><p>I think I have two problems here - first the main_extroot() method is never caled on a normal boot as its messages don&#039;t show up in syslog.&nbsp; It looks like logread gives me everthing since the system was booted.&nbsp; Second if I ssh to the router and do </p><div class="codebox"><pre><code>export PREINIT=1</code></pre></div><p>, then run:<br /></p><div class="codebox"><pre><code>block extroot</code></pre></div><p>the program fails with:&nbsp; </p><div class="codebox"><pre><code>user.err syslog: extroot: unable to locate rootfs mtdblock</code></pre></div><p>Looking at block.c, I can see this being generated because a call to find_block_mtd() is failing.&nbsp; The debug code I added shows the function was called like this: <br /></p><div class="codebox"><pre><code>find_block_mtd(rootfs,,32)</code></pre></div><p>The code shows this function does a hardcoded lookup for the first value on </p><div class="codebox"><pre><code>/proc/mtd</code></pre></div><p> but it never matches &#039;rootfs&#039;- in my file I have:<br /></p><div class="codebox"><pre><code>dev:    size   erasesize  name
mtd0: 00040000 00020000 &quot;u-boot&quot;
mtd1: 00040000 00020000 &quot;u-boot-env&quot;
mtd2: 00040000 00020000 &quot;caldata&quot;
mtd3: 00080000 00020000 &quot;pot&quot;
mtd4: 00200000 00020000 &quot;language&quot;
mtd5: 00080000 00020000 &quot;config&quot;
mtd6: 00300000 00020000 &quot;traffic_meter&quot;
mtd7: 00200000 00020000 &quot;kernel&quot;
mtd8: 01700000 00020000 &quot;ubi&quot;
mtd9: 01900000 00020000 &quot;firmware&quot;
mtd10: 00040000 00020000 &quot;caldata_backup&quot;
mtd11: 06000000 00020000 &quot;reserved&quot;</code></pre></div><p>The router uses a ubifs partition for /overlay and my mount table looks like this:<br /></p><div class="codebox"><pre><code>rootfs on / type rootfs (rw)
/dev/root on /rom type squashfs (ro,relatime)
proc on /proc type proc (rw,noatime)
sysfs on /sys type sysfs (rw,noatime)
tmpfs on /tmp type tmpfs (rw,nosuid,nodev,noatime)
/dev/ubi0_1 on /overlay type ubifs (rw,noatime)
overlayfs:/overlay on / type overlayfs (rw,noatime,lowerdir=/,upperdir=/overlay)
tmpfs on /dev type tmpfs (rw,relatime,size=512k,mode=755)
devpts on /dev/pts type devpts (rw,relatime,mode=600)
debugfs on /sys/kernel/debug type debugfs (rw,noatime</code></pre></div><p>I&#039;m continuing to investigate this but if anyone has any suggestions of things to try I&#039;d be really interested - thanks</p>											<p class="post-edited">(Last edited by <strong>geoffw</strong> on 27 Sep 2014, 06:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248244">
				<div class="post-metadata">
					<div class="post-num">Post #211</div>
					<div class="post-author">geoffw</div>
					<div class="post-datetime">
						27 Sep 2014, 07:20					</div>
				</div>
				<div class="post-content content">
					<p>none of the boot scripts seem to reference </p><div class="codebox"><pre><code>block extroot</code></pre></div><p>, instead mount_root seems to be the entry point into the system and it calls the equivalent of &quot;block extroot&quot; via an extern defined in libfstools.h - at least thats what I make of it from my beginners understanding of C.</p><p>It looks like fixing block.c is the way to go for this one - I&#039;ll report back if I get something working</p>											<p class="post-edited">(Last edited by <strong>geoffw</strong> on 27 Sep 2014, 10:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p248262">
				<div class="post-metadata">
					<div class="post-num">Post #212</div>
					<div class="post-author">geoffw</div>
					<div class="post-datetime">
						27 Sep 2014, 12:49					</div>
				</div>
				<div class="post-content content">
					<p>I seem to have fixed it&nbsp; - at least if your ubifs is mounted from /dev/ubiblock0_0 and you want to use pivot_root&nbsp; <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>I added my new block executable to the router&#039;s overlay partition and added:<br /></p><div class="codebox"><pre><code>export PREINIT=1
mount_root</code></pre></div><p>to/etc/rc.local.&nbsp; Nothing gets triggered if I don&#039;t do this.</p><div class="codebox"><pre><code>root@router:~# mount
rootfs on / type rootfs (rw)
/dev/root on /rom/rom type squashfs (ro,relatime)
proc on /proc type proc (rw,noatime)
sysfs on /sys type sysfs (rw,noatime)
tmpfs on /tmp type tmpfs (rw,nosuid,nodev,noatime)
/dev/ubi0_1 on /overlay type ubifs (rw,noatime)
overlayfs:/overlay on /rom type overlayfs (ro,noatime,lowerdir=/,upperdir=/overlay)
tmpfs on /dev type tmpfs (rw,relatime,size=512k,mode=755)
devpts on /dev/pts type devpts (rw,relatime,mode=600)
debugfs on /sys/kernel/debug type debugfs (rw,noatime)
/dev/sda1 on / type ext4 (rw,relatime,data=ordered)

root@router:~# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                    1.8T     78.0M      1.7T   0% /
/dev/root                 2.0M      2.0M         0 100% /rom/rom
tmpfs                    61.5M     80.0K     61.4M   0% /tmp
/dev/ubi0_1              14.2M      2.2M     11.3M  16% /overlay
overlayfs:/overlay       14.2M      2.2M     11.3M  16% /rom
tmpfs                   512.0K         0    512.0K   0% /dev
/dev/sda1                 1.8T     78.0M      1.7T   0% /</code></pre></div><p>I added a new function to block.c to try mounting as ubifs if the mtdblock device for rootfs doesn&#039;t exist.&nbsp; I&#039;m not sure I&#039;ve fixed things in a reliable way (I hard coded /dev/ubiblock0_0 as I wasn&#039;t sure how to look it up) but it works for me at least.</p><p>Patch is here: <a href="https://gist.github.com/GeoffWilliams/e2ece256608a9f084ae5">https://gist.github.com/GeoffWilliams/e … 8a9f084ae5</a></p><p>I&#039;m a bit confused about how to submit patches/communicate with the developers for this part of the project.&nbsp; The git repository I checked out from is at <a href="git://nbd.name/fstools.git">git://nbd.name/fstools.git</a>.&nbsp; I had a look at the contribution guidelines at <a href="https://dev.openwrt.org/wiki/SubmittingPatches">https://dev.openwrt.org/wiki/SubmittingPatches</a> and it mentions the quilt tool but this looks like it applies a patch to upstream rather then fixing the problem at source?</p><p>In any case, I think this code needs to be looked at by someone more knowledgeable before merging it - could an openwrt developer look at this please?</p><p>The old code was failing for me because of the check for </p><div class="codebox"><pre><code>find_block_mtd(&quot;rootfs&quot;, fs, sizeof(fs));</code></pre></div><p> which looks up the mtdblock device in /proc/mtd.&nbsp; On my ubifs based router this caused the program to exit so I wrote and called a new function find_block_ubi() if the first lookup fails.&nbsp; I couldn&#039;t see an easy way of matching ubifs devices to names like we have with /proc/mtd so I just hardcoded something to get myself up and running.&nbsp; Happy to discuss futher/refine if anyone has pointers for me (new topic?).</p><p>If anyone wants a copy of my cross-compiled block binary PM me.</p><p>- cheers!</p>											<p class="post-edited">(Last edited by <strong>geoffw</strong> on 27 Sep 2014, 15:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250429">
				<div class="post-metadata">
					<div class="post-num">Post #213</div>
					<div class="post-author">theliquid</div>
					<div class="post-datetime">
						13 Oct 2014, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m really stuck getting extroot to work on a TPLINK 1043ND and a TP-LINK WDR4300.<br />They both worked fine with extroot on BB RC3 - so I upgraded today to final version of BB and I can&#039;t get extroot back to working. I tried serveral configurations, set the option delay_root to several values (1,2,3,4,5,10,15,20,30,50,120,etc).</p><p>The fstab itself works, when I mount the /dev/sda1 to /mnt/sda1; but when I try to target it to /overlay it doesnt work - /dev/mtdblock3 keeps getting mounted. </p><p>Current Configuration is:<br /></p><div class="codebox"><pre><code>config global
    option delay_root &#039;6&#039;

config global &#039;automount&#039;
    option from_fstab &#039;1&#039;
    option anon_mount &#039;0&#039;

config global &#039;autoswap&#039;
    option from_fstab &#039;1&#039;
    option anon_swap &#039;0&#039;

config mount
    option target &#039;/overlay&#039;
    option fstype &#039;ext4&#039;
    option device &#039;/dev/sda1&#039;
    option options &#039;rw,sync&#039;
    option is_rootfs &#039;1&#039;
    option uuid &#039;###&#039;
    option enabled &#039;1&#039;
    option enabled_fsck &#039;1&#039;

config swap
    option uuid &#039;###&#039;
    option enabled &#039;1&#039;</code></pre></div><p>Please note that I tried serveral configurations (even a blank one with block detect) and that this configuration worked fine on RC3. I really dont have a clue what was changed in the final version, but there must have went something wrong. <br />Another big problem is, that there is nearly no way to debug extroot mounting. I don&#039;t see any logs that would help. Dmesg output doesn&#039;t help me either:<br /></p><div class="codebox"><pre><code>...
[    1.260000] 8021q: 802.1Q VLAN Support v1.8
[    1.280000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    1.280000] Freeing unused kernel memory: 272K (8034c000 - 80390000)
[    4.130000] usbcore: registered new interface driver usbfs
[    4.140000] usbcore: registered new interface driver hub
[    4.140000] usbcore: registered new device driver usb
[    4.150000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    4.160000] ehci-platform: EHCI generic platform driver
[    4.170000] ehci-platform ehci-platform: EHCI Host Controller
[    4.170000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[    4.180000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000
[    4.210000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[    4.210000] hub 1-0:1.0: USB hub found
[    4.220000] hub 1-0:1.0: 1 port detected
[    4.540000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[    4.640000] ar71xx: pll_reg 0xb8050014: 0x1a000000
[    4.640000] eth0: link up (1000Mbps/Full duplex)
[    8.070000] jffs2: notice: (333) jffs2_build_xattr_subsystem: complete building xattr subsystem, 20 of xdatum (1 unchecked, 19 orphan) and 33 of xref (0 dead, 19 orphan) found.
[    8.940000] SCSI subsystem initialized
[    8.950000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    8.960000] uhci_hcd: USB Universal Host Controller Interface driver
[    8.970000] usb-storage 1-1:1.0: USB Mass Storage device detected
[    8.980000] scsi0 : usb-storage 1-1:1.0
[    8.990000] usbcore: registered new interface driver usb-storage
[    9.990000] scsi 0:0:0:0: Direct-Access     SanDisk  Cruzer Fit       1.27 PQ: 0 ANSI: 6
[   10.000000] sd 0:0:0:0: [sda] 15633408 512-byte logical blocks: (8.00 GB/7.45 GiB)
[   10.010000] sd 0:0:0:0: [sda] Write Protect is off
[   10.010000] sd 0:0:0:0: [sda] Mode Sense: 43 00 00 00
[   10.010000] sd 0:0:0:0: [sda] Write cache: disabled, read cache: enabled, doesn&#039;t support DPO or FUA
[   10.030000]  sda: sda1 sda2
[   10.030000] sd 0:0:0:0: [sda] Attached SCSI disk
[   14.340000] EXT4-fs (sda1): mounted filesystem with ordered data mode. Opts:
[   14.400000] eth0: link down
[   16.880000] NET: Registered protocol family 10
[   16.900000] nf_conntrack version 0.5.0 (450 buckets, 1800 max)
[   16.910000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   16.930000] sd 0:0:0:0: Attached scsi generic sg0 type 0
[   16.940000] Loading modules backported from Linux version master-2014-05-22-0-gf2032ea
[   16.950000] Backport generated by backports.git backports-20140320-37-g5c33da0
...</code></pre></div><p>It seems that the system thinks that the extroot is mounted properly ([&nbsp; &nbsp;14.340000] EXT4-fs (sda1): mounted filesystem with ordered data mode. Opts:), but it isnt:</p><div class="codebox"><pre><code># df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                    4.6M      1.8M      2.8M  39% /
/dev/root                 2.3M      2.3M         0 100% /rom
tmpfs                    14.1M     56.0K     14.0M   0% /tmp
/dev/mtdblock3            4.6M      1.8M      2.8M  39% /overlay
overlayfs:/overlay        4.6M      1.8M      2.8M  39% /
tmpfs                   512.0K         0    512.0K   0% /dev</code></pre></div><p>On another TP-Link 1043ND I got it working but I dont know how I did it. I was lost like with these two devices and all of a sudden it worked. I also tried creating the /etc/.extroot-uuid manually, but it also doesn&#039;t help.</p><p>I noticed that when extroot fails to load I get some strange folders (&quot;extroot&quot;, &quot;overlay&quot;) in /tmp which aren&#039;t there on a working extroot system:<br /></p><div class="codebox"><pre><code>#dir /tmp
TZ           dnsmasq.d  extroot  lock  overlay      resolv.conf.auto  state
dhcp.leases  etc        hosts    log   resolv.conf  run               sysinfo</code></pre></div><p>Btw: The swap paritition gets mounted properly every time.</p><p>Any clue? <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>theliquid</strong> on 13 Oct 2014, 22:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251447">
				<div class="post-metadata">
					<div class="post-num">Post #214</div>
					<div class="post-author">matze1999</div>
					<div class="post-datetime">
						21 Oct 2014, 15:27					</div>
				</div>
				<div class="post-content content">
					<p>after days of reading und trying, thats my results:</p><div class="codebox"><pre><code>BusyBox v1.22.1 (2014-10-21 05:15:05 CEST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Bleeding Edge, r43006)</code></pre></div><p>Configuration:<br /></p><div class="codebox"><pre><code>config &#039;global&#039;
        option  anon_swap       &#039;0&#039;
        option  anon_mount      &#039;0&#039;
        option  auto_swap       &#039;1&#039;
        option  auto_mount      &#039;1&#039;
        option  delay_root      &#039;1&#039;
        option  check_fs        &#039;0&#039;

config &#039;swap&#039;
        option  uuid    &#039;14dcc0cf-c67d-41e9-ac5f-9f6c2979a818&#039;
        option  enabled &#039;1&#039;

config &#039;mount&#039;
        option  target  &#039;/overlay&#039;
        option  uuid    &#039;a03ef3b1-8368-4393-96b3-c44511114e89&#039;
        option  enabled &#039;1&#039;</code></pre></div><p>logread:<br /></p><div class="codebox"><pre><code>Tue Oct 21 10:14:45 2014 kern.notice kernel: [   57.790000] sd 1:0:0:0: [sda] 31074304 512-byte logical blocks: (15.9 GB/14.8 GiB)
Tue Oct 21 10:14:45 2014 kern.notice kernel: [   57.850000] sd 1:0:0:0: [sda] Write Protect is off
Tue Oct 21 10:14:45 2014 kern.debug kernel: [   57.850000] sd 1:0:0:0: [sda] Mode Sense: 0f 0e 00 00
Tue Oct 21 10:14:45 2014 kern.notice kernel: [   57.860000] sd 1:0:0:0: [sda] Write cache: enabled, read cache: enabled, doesn&#039;t support DPO or FUA
Tue Oct 21 10:14:45 2014 kern.info kernel: [   57.920000]  sda: sda1 sda2
Tue Oct 21 10:14:45 2014 kern.notice kernel: [   57.930000] sd 1:0:0:0: [sda] Attached SCSI removable disk
Tue Oct 21 10:14:45 2014 kern.info kernel: [   58.330000] EXT4-fs (sda2): mounted filesystem with ordered data mode. Opts: 
Tue Oct 21 10:14:47 2014 kern.info kernel: [   60.070000] Adding 1048572k swap on /dev/sda1.  Priority:-1 extents:1 across:1048572k 
Tue Oct 21 10:14:47 2014 user.err syslog: /dev/sda2 is already mounted</code></pre></div><p>and this ist the result:</p><div class="codebox"><pre><code>root@OpenWrt:~# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                   13.5G     46.3M     12.7G   0% /
/dev/root                 2.0M      2.0M         0 100% /rom/rom
tmpfs                    14.1M     60.0K     14.0M   0% /tmp
/dev/mtdblock3          960.0K    708.0K    252.0K  74% /overlay
overlayfs:/overlay      960.0K    708.0K    252.0K  74% /rom
tmpfs                   512.0K         0    512.0K   0% /dev
/dev/sda2                13.5G     46.3M     12.7G   0% /</code></pre></div><p>especialy:<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.0M&nbsp; &nbsp; &nbsp; 2.0M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom/rom<br />/dev/mtdblock3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 960.0K&nbsp; &nbsp; 708.0K&nbsp; &nbsp; 252.0K&nbsp; 74% /overlay<br />overlayfs:/overlay&nbsp; &nbsp; &nbsp; 960.0K&nbsp; &nbsp; 708.0K&nbsp; &nbsp; 252.0K&nbsp; 74% /rom</p><p>whats wrong?</p><p>matze1999</p>											<p class="post-edited">(Last edited by <strong>matze1999</strong> on 21 Oct 2014, 15:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251483">
				<div class="post-metadata">
					<div class="post-num">Post #215</div>
					<div class="post-author">Schnello</div>
					<div class="post-datetime">
						21 Oct 2014, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>@theliquid<br /></p><div class="quotebox"><blockquote><p>I&#039;m really stuck getting extroot to work on a TPLINK 1043ND and a TP-LINK WDR4300.</p></blockquote></div><p>Iam working here with an WDR4300:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# cat /etc/config/fstab

config global
        option anon_swap &#039;0&#039;
        option anon_mount &#039;0&#039;
        option auto_swap &#039;1&#039;
        option auto_mount &#039;1&#039;
        option delay_root &#039;5&#039;
        option check_fs &#039;0&#039;

config mount
        option uuid &#039;7fe94dfe-0ba8-44a7-ac1e-a65391d951aa&#039;
        option enabled &#039;1&#039;
        option device &#039;/dev/sda1&#039;
        option fstype &#039;ext4&#039;
        option is_rootfs &#039;1&#039;</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:~# df -h
Filesystem                Size      Used Available Use% Mounted on
rootfs                    3.5G    520.1M      2.8G  15% /
/dev/root                 2.3M      2.3M         0 100% /rom
tmpfs                    61.7M    576.0K     61.1M   1% /tmp
/dev/sda1                 3.5G    520.1M      2.8G  15% /overlay
overlayfs:/overlay        3.5G    520.1M      2.8G  15% /
tmpfs                   512.0K     52.0K    460.0K  10% /dev</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251834">
				<div class="post-metadata">
					<div class="post-num">Post #216</div>
					<div class="post-author">enoon</div>
					<div class="post-datetime">
						23 Oct 2014, 23:55					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>Unfortunately I have not much to add to the TL 1043nd problem, only that my hardware version is 1.1<br />It&#039;s my 4th day trying to install extroot, config:</p><div class="codebox"><pre><code>config &#039;global&#039;
        option  anon_swap       &#039;0&#039;
        option  anon_mount      &#039;0&#039;
        option  auto_swap       &#039;1&#039;
        option  auto_mount      &#039;1&#039;
        option  delay_root      &#039;3&#039;
        option  check_fs        &#039;0&#039;

config &#039;mount&#039;
        option  target  &#039;/overlay&#039;
        option  device  &#039;/dev/sda1&#039;
        option  fstype  &#039;ext4&#039;
        option  enabled &#039;1&#039;
        option  is_rootfs &#039;1&#039;

config &#039;mount&#039;
        option  target  &#039;/mnt/sda2&#039;
        option  uuid    &#039;32f7e9b7-5fdc-4f78-8969-2ac90f32e601&#039;
        option  enabled &#039;1&#039;</code></pre></div><p>Tried several variations, with device, UUID, is_rootfs etc, no luck.</p><p>Does anyone advise to get a nightly build or something?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257575">
				<div class="post-metadata">
					<div class="post-num">Post #217</div>
					<div class="post-author">kartheo</div>
					<div class="post-datetime">
						13 Dec 2014, 10:52					</div>
				</div>
				<div class="post-content content">
					<p>BARRIER BREAKER (Barrier Breaker, r42961)<br />Tp link 1043 nd v2.</p><p>I have also the problem with auto mount fail to work.</p><p>I attach a usb 2.5 ext4 formatted drive and openwrt recognizes as sda1.</p><br /><p>Sat Dec 13 10:28:16 2014 kern.info kernel: usb 1-1: new high-speed USB device number 4 using ehci-platform<br />Sat Dec 13 10:28:17 2014 kern.info kernel: usb-storage 1-1:1.0: USB Mass Storage device detected<br />Sat Dec 13 10:28:17 2014 kern.info kernel: scsi2 : usb-storage 1-1:1.0<br />Sat Dec 13 10:28:18 2014 kern.notice kernel: scsi 2:0:0:0: Direct-Access&nbsp; &nbsp; &nbsp;TOSHIBA&nbsp; MK1031GAS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PQ: 0 ANSI: 2 CCS<br />Sat Dec 13 10:28:18 2014 kern.notice kernel: sd 2:0:0:0: [sda] 195371568 512-byte logical blocks: (100 GB/93.1 GiB)<br />Sat Dec 13 10:28:18 2014 kern.notice kernel: sd 2:0:0:0: [sda] Write Protect is off<br />Sat Dec 13 10:28:18 2014 kern.debug kernel: sd 2:0:0:0: [sda] Mode Sense: 28 00 00 00<br />Sat Dec 13 10:28:18 2014 kern.err kernel: sd 2:0:0:0: [sda] No Caching mode page found<br />Sat Dec 13 10:28:18 2014 kern.err kernel: sd 2:0:0:0: [sda] Assuming drive cache: write through<br />Sat Dec 13 10:28:18 2014 kern.info kernel:&nbsp; sda: sda1<br />Sat Dec 13 10:28:18 2014 kern.notice kernel: sd 2:0:0:0: [sda] Attached SCSI disk</p><br /><p>When i run block-detect it gives me only a swap configuration</p><p>root@OpenWrt:~# block detect<br />config &#039;global&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; anon_swap&nbsp; &nbsp; &nbsp; &nbsp;&#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; anon_mount&nbsp; &nbsp; &nbsp; &#039;0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; auto_swap&nbsp; &nbsp; &nbsp; &nbsp;&#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; auto_mount&nbsp; &nbsp; &nbsp; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; delay_root&nbsp; &nbsp; &nbsp; &#039;5&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; check_fs&nbsp; &nbsp; &nbsp; &nbsp; &#039;0&#039;</p><p>config &#039;swap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; uuid&nbsp; &nbsp; &#039;28dd2ecd-7681-4ebd-a75c-55b7b7558263&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option&nbsp; enabled &#039;0&#039;</p><p>trying to manual edit the mount config doesnt help and i can enable the mount.<br />this is the error from system log</p><p>Sat Dec 13 10:59:24 2014 user.err syslog: /dev/mtdblock3 is already mounted</p><p>has anyone a clue about this?<br />thanks</p><br /><p>Disk /dev/sda: 93.2 GiB, 100030242816 bytes, 195371568 sectors<br />Units: sectors of 1 * 512 = 512 bytes<br />Sector size (logical/physical): 512 bytes / 512 bytes<br />I/O size (minimum/optimal): 512 bytes / 512 bytes<br />Disklabel type: dos<br />Disk identifier: 0xeb33eb33</p><p>Device&nbsp; &nbsp; Boot Start&nbsp; &nbsp; &nbsp; &nbsp;End&nbsp; &nbsp;Blocks&nbsp; Id System<br />/dev/sda1&nbsp; &nbsp; &nbsp; &nbsp;2048 195371567 97684760&nbsp; 83 Linux</p>											<p class="post-edited">(Last edited by <strong>kartheo</strong> on 13 Dec 2014, 10:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257606">
				<div class="post-metadata">
					<div class="post-num">Post #218</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						13 Dec 2014, 19:27					</div>
				</div>
				<div class="post-content content">
					<p>Did you try to mount it manually?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p257711">
				<div class="post-metadata">
					<div class="post-num">Post #219</div>
					<div class="post-author">yannails</div>
					<div class="post-datetime">
						15 Dec 2014, 09:43					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>opkg update
opkg install kmod-usb-storage block-mount kmod-fs-ext4 kmod-usb2 kmod-usb-core</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269526">
				<div class="post-metadata">
					<div class="post-num">Post #220</div>
					<div class="post-author">trickstarter</div>
					<div class="post-datetime">
						22 Mar 2015, 00:04					</div>
				</div>
				<div class="post-content content">
					<p>I have a 1st gen 1043ND. I can not get extroot working at all. I have read every post in this thread and I&#039;ve tried everything. </p><p>Important details, this was all done on device</p><p>1) I zero&#039;d the disk with dd if=/dev/zero of=/dev/sda<br />2) I setup a new GPT partition type<br />3) I made a partition sda1 the size of the disk (750GB)<br />4) I made a ext4 file system on it<br />5) It mounts fine as /dev/sda1 under /mnt/sda1<br />6) /etc/init.d/fstab enable is done<br />7) I tried delay_root up to 60 seconds without joy<br />8) I added 4e5e2bb7-c161-43fc-b4e1-560fdec739a2 to /etc/.extroot-uuid</p><div class="codebox"><pre><code>root@firewall:/etc/config# cat /etc/openwrt_release 
DISTRIB_ID=&quot;OpenWrt&quot;
DISTRIB_RELEASE=&quot;14.07&quot;
DISTRIB_REVISION=&quot;r42625&quot;
DISTRIB_CODENAME=&quot;barrier_breaker&quot;
DISTRIB_TARGET=&quot;ar71xx/generic&quot;
DISTRIB_DESCRIPTION=&quot;OpenWrt Barrier Breaker 14.07&quot;
DISTRIB_TAINTS=&quot;&quot;

root@firewall:/etc/config# block info
/dev/mtdblock2: UUID=&quot;215b9a87-be150340-43cef433-ed9e3dde&quot; VERSION=&quot;4.0&quot; TYPE=&quot;squashfs&quot;
/dev/mtdblock3: TYPE=&quot;jffs2&quot;
/dev/sda1: UUID=&quot;4e5e2bb7-c161-43fc-b4e1-560fdec739a2&quot; NAME=&quot;EXT_JOURNAL&quot; VERSION=&quot;1.0&quot; TYPE=&quot;ext4&quot;

root@firewall:/etc/config# block detect
config &#039;global&#039;
    option    anon_swap    &#039;0&#039;
    option    anon_mount    &#039;0&#039;
    option    auto_swap    &#039;1&#039;
    option    auto_mount    &#039;1&#039;
    option    delay_root    &#039;5&#039;
    option    check_fs    &#039;0&#039;

config &#039;mount&#039;
    option    target    &#039;/mnt/sda1&#039;
    option    uuid    &#039;4e5e2bb7-c161-43fc-b4e1-560fdec739a2&#039;
    option    enabled    &#039;0&#039;</code></pre></div><p>I have tried all kinds of /etc/config/fstab setups</p><p>1) with is_rootfs &amp; without that<br />2) with target &#039;overlay&#039;<br />3) with target &#039;/overlay&#039;<br />4) with target &#039;/&#039; </p><p>With /overlay it wont boot (USB LED DOES come on, but the system never gets to the point where I can use the wireless)<br />With target=/ it wont boot. (USB LED never switches on- is this happening because target = / is basically a pivot_root, not an overlay, and you need a fully populated file system on /dev/sda1?)</p><p>With target=overlay it DOES boot and:</p><div class="codebox"><pre><code>Filesystem                Size      Used Available Use% Mounted on
rootfs                    4.6M      3.3M      1.4M  70% /
/dev/root                 2.3M      2.3M         0 100% /rom
tmpfs                    14.1M     80.0K     14.0M   1% /tmp
/dev/mtdblock3          687.7G     69.0M    652.7G   0% /overlay
overlayfs:/overlay        4.6M      3.3M      1.4M  70% /
tmpfs                   512.0K         0    512.0K   0% /dev
/dev/sda1               687.7G     69.0M    652.7G   0% /overlay</code></pre></div><p>The only thing that seems to have possibly yielded results is , upon login, setting PREINIT=1 and calling mount_root which worked and gave / as having 700GB. I am reluctant to do this and just put it in /etc/rc.local because I know it&#039;s not &quot;right&quot; and might cause me problems. I do expect to load kernel modules upon boot, and though most of them are installed in flash already, I might eventually want to call ones that are on the disk</p><p>This is driving me nuts.</p>											<p class="post-edited">(Last edited by <strong>trickstarter</strong> on 22 Mar 2015, 01:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p269527">
				<div class="post-metadata">
					<div class="post-num">Post #221</div>
					<div class="post-author">trickstarter</div>
					<div class="post-datetime">
						22 Mar 2015, 00:06					</div>
				</div>
				<div class="post-content content">
					<p>Is it because it&#039;s a gpt partition? Or ext4 is loaded as a module and the root overlay attempt is before that module is loaded?</p><p>EDIT: Nope. Moved it to ext2. No difference. Made a smaller partition (4gb) No difference. Ditched GPT paritions, no change. Sigh.</p><p>EDIT2: Hm. Does the ext4 module handle the ext2 fs type? maybe it&#039;s the same problem.</p>											<p class="post-edited">(Last edited by <strong>trickstarter</strong> on 22 Mar 2015, 02:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281843">
				<div class="post-metadata">
					<div class="post-num">Post #222</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						30 Jun 2015, 03:56					</div>
				</div>
				<div class="post-content content">
					<p>CC 15.05 RC2<br />I have installed USB and found that if I set an EXT3 partion to use an EXT3 file system when using kmod-fs-ext4 that it did not work,&nbsp; I had to use a file system of EXT4 with and EXT3 formatted drive.</p><p>I installed USB and can get a USB EXT3 formatted drive running, but not an NTFS drive with NTFS-3g.&nbsp; </p><p>Is this relevant?<br />Can someone explain what this is telling me?<br />I got the following when I installed block-mount.<br /></p><div class="quotebox"><blockquote><p>Installing block-mount (2015-05-24-09027fc86babc3986027a0e677aca1b6999a9e14) to root...<br />Downloading <a href="http://downloads.openwrt.org/chaos_calmer/15.05-rc2/x86/geode/packages/base/block-mount_2015-05-24-09027fc86babc3986027a0e677aca1b6999a9e14_x86.ipk.">http://downloads.openwrt.org/chaos_calm … 4_x86.ipk.</a><br />this file has been obseleted. please call &quot;/sbin/block mount&quot; directly<br />Configuring block-mount.</p></blockquote></div><p>the information seems contradictory.&nbsp; <br />How do I &quot;call&quot; /sbin/block mount?&nbsp; <br />It seems like if the module is obsolete. Should it be removed?&nbsp; <br />The wiki on Block Mount appears out of date.<br /><a href="http://wiki.openwrt.org/doc/techref/block_mount">http://wiki.openwrt.org/doc/techref/block_mount</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281873">
				<div class="post-metadata">
					<div class="post-num">Post #223</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						30 Jun 2015, 12:29					</div>
				</div>
				<div class="post-content content">
					<p>Traditionally, all the automounting went through fstab (configuration in /etc/fstab, control script in /etc/init.d/fstab). This has been replaced by /sbin/mount. So the message you get usually appears, if fstab is still being accessed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281952">
				<div class="post-metadata">
					<div class="post-num">Post #224</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						1 Jul 2015, 01:59					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your explanation</p><p>I have /etc/config/fstab and it contains all the info about the devices the system or I have tried to mount via LuCi.&nbsp; In /etc there is what appears to be a shortcut called fstab that I can not access.&nbsp; (using WINSCP)</p><p>If I look at /etc/init.d/fstab I see some text indicating it has been replaced with sbin/mount.&nbsp; </p><p>If I go to sbin the only files with mount in it are mount.ntfs-3g, mtd and mount_root.&nbsp; (Indeed my whole issue started trying to get the ntfs.3g package running for USB)</p><p>Does this mean I am missing a package &#039;mount&#039; (mount-utils or mountd)?</p><p>RC 15.05 RC2 Geode</p><p>RangerZ</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281957">
				<div class="post-metadata">
					<div class="post-num">Post #225</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						1 Jul 2015, 02:37					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, my bad. I meant /sbin/block.&nbsp; So far you should be fine. I could not really follow the exact problem you are facing. Please explain more detailed what you want to achieve, what you already tried and where you failed.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 9 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=44939&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44939&amp;p=7.html">7</a></li><li><a href="viewtopic.php%3Fid=44939&amp;p=8.html">8</a></li><li class="pagination-current"><span>9</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>