<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problems with aiccu on 7.07</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p54783">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Morbid Angel</div>
					<div class="post-datetime">
						29 Aug 2007, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>I have a problem with aiccu on kamikaze 7.07.</p><p>I see a successfull response from server:</p><p>Tunnel Information for T4500:<br />POP Id&nbsp; &nbsp; &nbsp; : deham01<br />IPv6 Local&nbsp; : 2001:6f8:900:32c::2/64<br />IPv6 Remote : 2001:6f8:900:32c::1/64<br />Tunnel Type : 6in4-heartbeat<br />Adminstate&nbsp; : enabled<br />Userstate&nbsp; &nbsp;: enabled</p><p>and this in logread:</p><p>Aug 29 21:49:53 cerber local7.debug syslog: sock_printf()&nbsp; : &quot;challenge md5&quot;<br />Aug 29 21:49:53 cerber local7.debug syslog: sock_getline() : &quot;200 eee34d27ecfaea59b05713fb839b02be&quot;<br />Aug 29 21:49:53 cerber local7.debug syslog: sock_printf()&nbsp; : &quot;authenticate md5 53c2b78429f50de6191182ea0defd50b&quot;<br />Aug 29 21:49:53 cerber local7.debug syslog: sock_getline() : &quot;200 Succesfully logged in using md5 as CS14-6BONE (Chris Steinewski) from 89.246.38.242&quot;<br />Aug 29 21:49:53 cerber local7.debug syslog: sock_printf()&nbsp; : &quot;tunnel list&quot;<br />Aug 29 21:49:53 cerber local7.debug syslog: sock_getline() : &quot;201 Listing tunnels&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;T4500 2001:6f8:900:32c::2 heartbeat deham01&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;202 &lt;tunnel_id&gt; &lt;ipv6_endpoint&gt; &lt;ipv4_endpoint&gt; &lt;pop_name&gt;&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_printf()&nbsp; : &quot;tunnel show T4500&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;201 Showing tunnel information for T4500&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;TunnelId: T4500&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;Type: 6in4-heartbeat&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;IPv6 Endpoint: 2001:6f8:900:32c::2&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;IPv6 POP: 2001:6f8:900:32c::1&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;IPv6 PrefixLength: 64&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;Tunnel MTU: 1280&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;Tunnel Name: My First Tunnel&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;POP Id: deham01&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;IPv4 Endpoint: heartbeat&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;IPv4 POP: 212.224.0.188&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;UserState: enabled&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;AdminState: enabled&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;Password: 2c74edd312874a2b2b50787ea812dd46&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;Heartbeat_Interval: 60&quot;<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_getline() : &quot;202 Done&quot;<br />Aug 29 21:49:54 cerber local7.info syslog: Succesfully retrieved tunnel information for T4500<br />Aug 29 21:49:54 cerber local7.debug syslog: sock_printf()&nbsp; : &quot;QUIT None of this is real&quot;<br />Aug 29 21:49:54 cerber local7.info syslog: AICCU running as PID 1925<br />Aug 29 21:49:54 cerber local7.debug syslog: heartbeat_socket() - IPv4 : 89.246.38.242<br />Aug 29 21:49:54 cerber local7.debug syslog: [HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188416994 6be758aee6bb21fad8c876e1c6ec8523<br />Aug 29 21:49:54 cerber local7.debug syslog: [HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188416994 6be758aee6bb21fad8c876e1c6ec8523<br />Aug 29 21:50:54 cerber local7.debug syslog: [HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188417054 4bacf34fbf9299e35aa9151fa067a0c0<br />Aug 29 21:51:09 cerber daemon.info ntpd[964]: Listening on interface #13 tun1, 193.175.185.66#123 Enabled<br />Aug 29 21:51:54 cerber local7.debug syslog: [HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188417114 f517d3ebb08ec9cb3abcf8583acdf2c6<br />Aug 29 21:52:54 cerber local7.debug syslog: [HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188417174 19b3e4a7270b8be7eec69e1952bb111e<br />Aug 29 21:53:54 cerber local7.debug syslog: [HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188417234 28b18c34ce9fb9f5f768849f0900a872<br />Aug 29 21:54:54 cerber local7.debug syslog: [HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188417294 5ac50e74a0359826bf57686a5ce2b5ec</p><p>but I dont have a ipv6 interface if I do ifconfig -a.</p><p>this is my config: </p><p># AICCU Configuration</p><p># Login information (defaults: none)<br />username myusername<br />password mypass</p><p># Protocol and server to use for setting up the tunnel (defaults: none)<br />#protocol &lt;tic|tsp|l2tp&gt;<br />#server &lt;server to use&gt;</p><p># Interface names to use (default: aiccu)<br /># ipv6_interface is the name of the interface that will be used as a tunnel interface.<br /># On *BSD the ipv6_interface should be set to gifX (eg gif0) for proto-41 tunnels<br /># or tunX (eg tun0) for AYIYA tunnels.<br />#ipv6_interface sixxs</p><p># The tunnel_id to use (default: none)<br /># (only required when there are multiple tunnels in the list)<br />#tunnel_id Txxxx</p><p># Be verbose? (default: false)<br />verbose true</p><p># Daemonize? (default: true)<br /># Set to false if you want to see any output<br /># When true output goes to syslog<br />#<br /># WARNING: never run AICCU from DaemonTools or a similar automated<br /># &#039;restart&#039; tool/script. When AICCU does not start, it has a reason<br /># not to start which it gives on either the stdout or in the (sys)log<br /># file. The TIC server *will* automatically disable accounts which<br /># are detected to run in this mode.<br />#<br />daemonize true</p><p># Automatic Login and Tunnel activation?<br />automatic true</p><p># Require TLS?<br /># When set to true, if TLS is not supported on the server<br /># the TIC transaction will fail.<br /># When set to false, it will try a starttls, when that is<br /># not supported it will continue.<br /># In any case if AICCU is build with TLS support it will<br /># try to do a &#039;starttls&#039; to the TIC server to see if that<br /># is supported.<br />requiretls false</p><p># PID File<br />pidfile /var/run/aiccu.pid</p><p># Add a default route (default: true)<br />defaultroute true</p><p># Script to run after setting up the interfaces (default: none)<br />#setupscript /usr/local/etc/aiccu-subnets.sh</p><p># Make heartbeats (default true)<br /># In general you don&#039;t want to turn this off<br /># Of course only applies to AYIYA and heartbeat tunnels not to static ones<br />#makebeats true</p><p># Don&#039;t configure anything (default: false)<br />#noconfigure true</p><p># Behind NAT (default: false)<br /># Notify the user that a NAT-kind network is detected<br />#behindnat true</p><p># Local IPv4 Override (default: none)<br /># Overrides the IPv4 parameter received from TIC<br /># This allows one to configure a NAT into &quot;DMZ&quot; mode and then<br /># forwarding the proto-41 packets to an internal host.<br />#<br /># This is only needed for static proto-41 tunnels!<br /># AYIYA and heartbeat tunnels don&#039;t require this.<br />#local_ipv4_override</p><p>whats the problem? any solution?</p><p>TiA<br />Greetings</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54801">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cereal</div>
					<div class="post-datetime">
						30 Aug 2007, 11:29					</div>
				</div>
				<div class="post-content content">
					<p>try to uncomment:</p><p>#ipv6_interface sixxs</p><br /><p>but the default interface should be &quot;aiccu&quot; as described in the configfile</p>											<p class="post-edited">(Last edited by <strong>cereal</strong> on 30 Aug 2007, 11:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54802">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Morbid Angel</div>
					<div class="post-datetime">
						30 Aug 2007, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>done, still the same problem</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54862">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Morbid Angel</div>
					<div class="post-datetime">
						31 Aug 2007, 14:05					</div>
				</div>
				<div class="post-content content">
					<p>can someone who uses aiccu with kamikaze 7.07 past his package list here?</p><p>I want compare it with my packages list...</p><p>TiA<br />Greetings</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54876">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tty56</div>
					<div class="post-datetime">
						31 Aug 2007, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I remember that I had a similar problem because I forgot to install and load the tun kernel module...</p>											<p class="post-edited">(Last edited by <strong>tty56</strong> on 31 Aug 2007, 16:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54882">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						31 Aug 2007, 18:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tty56 wrote:</cite><blockquote><p>Hi,</p><p>I remember that I had a similar problem because I forgot to install and load the tun kernel module...</p></blockquote></div><p>This was never a problem for me when I had aiccu on WR RC5.&nbsp; Haven&#039;t played with IPv6 since, so I can&#039;t give you any experience in Kamikaze.</p><p>You could always test with an x86 VMWare image to save messing around in flash.<br /><a href="http://forum.openwrt.org/viewtopic.php?id=7879">http://forum.openwrt.org/viewtopic.php?id=7879</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54884">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Morbid Angel</div>
					<div class="post-datetime">
						31 Aug 2007, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>ipv6 and tun are loaded... still same problem... grr it worked on white russian</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54885">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Morbid Angel</div>
					<div class="post-datetime">
						31 Aug 2007, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>here the complete output in non daemon mode:</p><p>sock_getline() : &quot;200 SixXS TIC Service on noc.sixxs.net ready (<a href="http://www.sixxs.net">http://www.sixxs.net</a>)&quot;<br />sock_printf()&nbsp; : &quot;client TIC/draft-00 AICCU/2007.01.15-console Linux/2.6.22&quot;<br />sock_getline() : &quot;200 Client Identity accepted&quot;<br />sock_printf()&nbsp; : &quot;get unixtime&quot;<br />sock_getline() : &quot;200 1188575634&quot;<br />sock_printf()&nbsp; : &quot;username CS14-6BONE&quot;<br />sock_getline() : &quot;200 Choose your authentication challenge please&quot;<br />sock_printf()&nbsp; : &quot;challenge md5&quot;<br />sock_getline() : &quot;200 ca2a2321da4eaa41eb85af1c5951fbad&quot;<br />sock_printf()&nbsp; : &quot;authenticate md5 a39706a98ad44757145fb1369d52ed0a&quot;<br />sock_getline() : &quot;200 Succesfully logged in using md5 as CS14-6BONE (Chris Steinewski) from 89.246.48.212&quot;<br />sock_printf()&nbsp; : &quot;tunnel list&quot;<br />sock_getline() : &quot;201 Listing tunnels&quot;<br />sock_getline() : &quot;T4500 2001:6f8:900:32c::2 heartbeat deham01&quot;<br />sock_getline() : &quot;202 &lt;tunnel_id&gt; &lt;ipv6_endpoint&gt; &lt;ipv4_endpoint&gt; &lt;pop_name&gt;&quot;<br />sock_printf()&nbsp; : &quot;tunnel show T4500&quot;<br />sock_getline() : &quot;201 Showing tunnel information for T4500&quot;<br />sock_getline() : &quot;TunnelId: T4500&quot;<br />sock_getline() : &quot;Type: 6in4-heartbeat&quot;<br />sock_getline() : &quot;IPv6 Endpoint: 2001:6f8:900:32c::2&quot;<br />sock_getline() : &quot;IPv6 POP: 2001:6f8:900:32c::1&quot;<br />sock_getline() : &quot;IPv6 PrefixLength: 64&quot;<br />sock_getline() : &quot;Tunnel MTU: 1280&quot;<br />sock_getline() : &quot;Tunnel Name: My First Tunnel&quot;<br />sock_getline() : &quot;POP Id: deham01&quot;<br />sock_getline() : &quot;IPv4 Endpoint: heartbeat&quot;<br />sock_getline() : &quot;IPv4 POP: 212.224.0.188&quot;<br />sock_getline() : &quot;UserState: enabled&quot;<br />sock_getline() : &quot;AdminState: enabled&quot;<br />sock_getline() : &quot;Password: 2c74edd312874a2b2b50787ea812dd46&quot;<br />sock_getline() : &quot;Heartbeat_Interval: 60&quot;<br />sock_getline() : &quot;202 Done&quot;<br />Succesfully retrieved tunnel information for T4500<br />sock_printf()&nbsp; : &quot;QUIT My Autumn&#039;s Done Come&quot;<br />Tunnel Information for T4500:<br />POP Id&nbsp; &nbsp; &nbsp; : deham01<br />IPv6 Local&nbsp; : 2001:6f8:900:32c::2/64<br />IPv6 Remote : 2001:6f8:900:32c::1/64<br />Tunnel Type : 6in4-heartbeat<br />Adminstate&nbsp; : enabled<br />Userstate&nbsp; &nbsp;: enabled<br />ioctl: No such device<br />SIOCGIFFLAGS: No such device<br />SIOCSIFMTU: No such device<br />ioctl: No such device<br />Cannot find device &quot;sixxs&quot;<br />Cannot find device &quot;sixxs&quot;<br />heartbeat_socket() - IPv4 : 89.246.48.212<br />ioctl: No such device<br />[HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188575635 c17f914a450ad3fa2396cfea8251d9d0<br />[HB] HEARTBEAT TUNNEL 2001:6f8:900:32c::2 sender 1188575635 c17f914a450ad3fa2396cfea8251d9d0</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63859">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">volkris</div>
					<div class="post-datetime">
						22 Feb 2008, 09:43					</div>
				</div>
				<div class="post-content content">
					<p>I saw the same problem in kamikaze 7.09</p><p>aiccu needs the tun module (as you probably know) and the sit module, but the sit module requires&nbsp; kmod-iptunnel4 to operate.</p><p>The symbol &quot;xfrm4_tunnel_deregister&quot; referenced by sit is provided by tunnel4.</p><p>And now I see the dancing kame.</p>											<p class="post-edited">(Last edited by <strong>volkris</strong> on 22 Feb 2008, 10:02)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>