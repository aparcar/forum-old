<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to force 10BaseT-FD for switchport on WR1043nd (rtl8366rb)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 21 Apr 2018 and 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=27296&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p138216">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">sagemol</div>
					<div class="post-datetime">
						30 Jun 2011, 08:33					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s a good idea. i&#039;ll do that.</p><p>Edit: Done.</p><p>regards,<br />Ralph</p>											<p class="post-edited">(Last edited by <strong>sagemol</strong> on 30 Jun 2011, 10:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141522">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">Zend</div>
					<div class="post-datetime">
						17 Aug 2011, 11:22					</div>
				</div>
				<div class="post-content content">
					<p><strong>sagemol</strong>,</p><p>Tell me please, do you use registers PAACR[x] for speed\duplex control?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141527">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">sagemol</div>
					<div class="post-datetime">
						17 Aug 2011, 12:00					</div>
				</div>
				<div class="post-content content">
					<p>No, I do not use PAACR, I just set the PHY&#039;s registers.<br />So if You want to set it on reboot, You have to put the swconfig in a startup script.</p><p>regards,<br />Ralph</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141538">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">Zend</div>
					<div class="post-datetime">
						17 Aug 2011, 12:59					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, I just want to to understand <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>You are using register 0x0000 of RTL8366RB, which RTL8366RB_PHY_CONTROL_REG in your patch?</p>											<p class="post-edited">(Last edited by <strong>Zend</strong> on 17 Aug 2011, 13:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141565">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">sagemol</div>
					<div class="post-datetime">
						17 Aug 2011, 19:40					</div>
				</div>
				<div class="post-content content">
					<p>Nope, I don&#039;t write the register 0x0000 of RTL8366RB, I write into the PHY register.</p><p>The function to write the PHY register was already implemented before and I just use it:</p><p>rtl8366rb_write_phy_reg</p><p>If You go through the rtl8366rb.c source, You&#039;ll see, that the RTL8366RB registers are writable through<br />the rtl8366_smi_write_reg function, which is located in the generic smi source (rtl8366_smi.c and rtl8366_smi.h).</p><p>regards,<br />Ralph</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168343">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">laggflor</div>
					<div class="post-datetime">
						28 May 2012, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m having problems using your patch. It simply doesn&#039;t work (using the current trunk). Please review <a href="https://forum.openwrt.org/viewtopic.php?id=37104">https://forum.openwrt.org/viewtopic.php?id=37104</a><br />Do you have any advice for me?</p><p>Thanks, Florian.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168351">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						28 May 2012, 17:08					</div>
				</div>
				<div class="post-content content">
					<p>From my experience, there is no &quot;simply doesn&#039;t work&quot; - patch normally outputs a pretty descent error message on what&#039;s not working. Besides that, it helps to look at the patch to figure out which source files it patches. Then you can look at the history of those source files in trunk to see which changes were applied since the time of patch creation - and finally work around them.&nbsp; (simple task for an IT-Komplettl√∂sung :-D )</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168374">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">laggflor</div>
					<div class="post-datetime">
						28 May 2012, 21:22					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for answering anyway, even if the answer doesn&#039;t help <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p><p>I CAN apply the patch, but I cannot set the speed/duplex with swconfig.<br />This IS described in my earlier post here: <a href="https://forum.openwrt.org/viewtopic.php?id=37104">https://forum.openwrt.org/viewtopic.php?id=37104</a><br />Just as mentioned above.</p><p>And no, I&#039;m no C programmer, and don&#039;t know how swconfig and drivers work together in detail. </p><p>So maybe I get an helpful comment now <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Does this work for you? How?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168378">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">sagemol</div>
					<div class="post-datetime">
						28 May 2012, 22:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>laggflor wrote:</cite><blockquote><p>It simply doesn&#039;t work (using the CURRENT trunk).</p></blockquote></div><p>Of course THAT is Your problem.<br />The patch was created for an older version of trunk, so You have to look for the changes in trunk since then,<br />and then probably patch the sources manually.</p><p>It&#039;s not a problem of understanding how swconfig and drivers work together,<br />it&#039;s a problem of understanding, how patch files work and what they do...</p><p>But that should be easy to figure out for an IT specialist,<br />as i am one myself and have almost no idea of C programming.</p><p>And that is what MBS pointed out already...</p><p>regards,<br />Ralph</p>											<p class="post-edited">(Last edited by <strong>sagemol</strong> on 28 May 2012, 22:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168391">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">laggflor</div>
					<div class="post-datetime">
						28 May 2012, 23:36					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, now I got it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I didn&#039;t consider there are changes breaking the patch. But you guys are right. <br />Sry for being a bit rude ... but it doesn&#039;t help pointing to error messages of the patch if there aren&#039;t any (using the latest patch). </p><p>Think I found a problem comparing the different versions ... will try with old trunk versions now. <br />If I find some time I&#039;ll provide a new patch, hope it will be included as it&#039;s really a needed feature <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168410">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">sagemol</div>
					<div class="post-datetime">
						29 May 2012, 09:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>laggflor wrote:</cite><blockquote><p>Thanks, now I got it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />....<br />If I find some time I&#039;ll provide a new patch, hope it will be included as it&#039;s really a needed feature <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>You&#039;re welcome.</p><p>Obviously it was my fault not to put a comment to the patch, for what version of trunk it was made for.<br />But since i&#039;m still a newbie regarding C and patches, one might excuse that mistake.<br />I&#039;ll make it better next time (if ever...).</p><p>Regarding Your hope: <br />Will take long time, all the patches were created long long time ago and didn&#039;t make it into trunk.<br />Seems like the developers have other priorities.</p><p>regards,<br />Ralph</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168416">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">laggflor</div>
					<div class="post-datetime">
						29 May 2012, 11:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sagemol wrote:</cite><blockquote><p>Obviously it was my fault not to put a comment to the patch, for what version of trunk it was made for.</p></blockquote></div><p>No, it wasn&#039;t. Just found the version number 27302 in the rtl8366rb.forcephy.patch file.</p><p>Hope it works now, as I really want to use my 10MBit bandwith <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168423">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">laggflor</div>
					<div class="post-datetime">
						29 May 2012, 12:20					</div>
				</div>
				<div class="post-content content">
					<p>Works @27302. Will review the current trunk later. Thank you guys!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p168946">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">laggflor</div>
					<div class="post-datetime">
						3 Jun 2012, 11:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>laggflor wrote:</cite><blockquote><p>If I find some time I&#039;ll provide a new patch, hope it will be included as it&#039;s really a needed feature <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Well, will need some more time since i bricked one of my devices with a kernel panic I think. USB-TTL-converter is ordered, will need it anyhow sooner or later. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Unpacking a new device now and start with configuration work <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169636">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">laggflor</div>
					<div class="post-datetime">
						10 Jun 2012, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>I tried a new way to implement such options, as I do not use the method you used i started a new thread here: <a href="https://forum.openwrt.org/viewtopic.php?id=37428">https://forum.openwrt.org/viewtopic.php?id=37428</a></p><p>Hope I can get this working *thumbsup*</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=27296&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>