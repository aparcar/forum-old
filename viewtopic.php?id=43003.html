<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> MySQL client</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 15 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p195469">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">rullbandspelare</div>
					<div class="post-datetime">
						20 Mar 2013, 11:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi!<br />I would like to use OpenWRT on a 703n to insert data into a external MySQL server.&nbsp; But how?</p><p>I installed libmysqlclient , but that did not help me much. I do not understand how to use it. There is no mysql executable.<br />And Mysql server will not fit on the 703n.</p><p>Any help is appreciated!<br />Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196202">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rullbandspelare</div>
					<div class="post-datetime">
						26 Mar 2013, 10:24					</div>
				</div>
				<div class="post-content content">
					<p>I need a smal mySQL client for OpenWRT!</p><p>I been searching some more, but not found anything that I can use.</p><p>any tip is welcome!</p><p>- Is it possible to extract some parts of the mySQLServer package to make it fit in a 703n<br />- Can I use the mysqlclient package - How?</p><p>Thanks a million for any help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196205">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">vhrm</div>
					<div class="post-datetime">
						26 Mar 2013, 10:42					</div>
				</div>
				<div class="post-content content">
					<p>haven&#039;t tried it myself but there&#039;s a luasql-mysql package you can use</p><p>and <a href="http://www.keplerproject.org/luasql/manual.html">http://www.keplerproject.org/luasql/manual.html</a></p><p>there&#039;s also python, but that&#039;s 2MB just for the base package so it prob won&#039;t fit whereas you already have lua if you installed luci.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196383">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rullbandspelare</div>
					<div class="post-datetime">
						27 Mar 2013, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>Thanks. Good idea!</p><p>I have installed and again i have new learning curve ahead of me :-)</p><p>Anyone experienced with lua?</p><p>I have connected to my database (i think)<br />But I dont understand how to get somethingg out of it. I.e how to make a SQL statement like&nbsp; &quot;SELECT * from fum&quot;</p><p>This is what I have.<br />#!/usr/bin/lua<br />require &quot;luasql.mysql&quot;<br />env = assert (luasql.mysql())<br />env:connect(&quot;192.168.1.34&quot;, &quot;user&quot;, &quot;pass&quot;, &quot;foo&quot;, 3306)</p><br /><p>Thanks for any help!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p196725">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">rullbandspelare</div>
					<div class="post-datetime">
						30 Mar 2013, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>This is working as a MySQL client now:</p><p>:-)</p><br /><p>#!/usr/bin/lua<br />require &quot;luasql.mysql&quot;<br />env = assert (luasql.mysql())<br />con = assert (env:connect(&#039;test&#039;, &#039;test&#039;, &#039;test&#039;, &#039;192.168.10.16&#039;))<br />res = con:execute(string.format( &quot;INSERT INTO test VALUES (&#039;test&#039;, &#039;test&#039;)&quot; , test1, test2) )<br />cur:close()</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218813">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">duong.tran</div>
					<div class="post-datetime">
						29 Nov 2013, 06:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi, sorry I&#039;m not a native English speaker. Can you teach me how to install luasql on OpenWRT, I stuck at this step for days... Thanks you very much</p>											<p class="post-edited">(Last edited by <strong>duong.tran</strong> on 29 Nov 2013, 06:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218851">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">rullbandspelare</div>
					<div class="post-datetime">
						29 Nov 2013, 23:45					</div>
				</div>
				<div class="post-content content">
					<p>opkg update<br />opkg install luasql-mysql</p><p>&nbsp; &nbsp;vi test.lua</p><p>#!/usr/bin/lua<br />require &quot;luasql.mysql&quot;<br />env = assert (luasql.mysql())<br />con = assert (env:connect(&#039;database&#039;, &#039;login, &#039;password&#039;, &#039;192.168.10.10&#039;))<br />res = assert (con:execute(string.format( &quot;INSERT INTO testable (one,two,three,four) VALUES (%s,%s,&#039;DBTest&#039;,now())&quot;, variable1,variable2)))</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219274">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">duong.tran</div>
					<div class="post-datetime">
						5 Dec 2013, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your guide, it was very detail. However I decide to use socket, I think it will be a little more secure because the router was setup at client&#039;s site, so I don&#039;t want to put the username and password near their hands. ^^, but thanks again for your help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219328">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						6 Dec 2013, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>You can take mysql client binary from mysql server package. If it is too big to install - unpack it and take only needed binary</p>											<p class="post-edited">(Last edited by <strong>bolvan</strong> on 6 Dec 2013, 21:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219341">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">rullbandspelare</div>
					<div class="post-datetime">
						7 Dec 2013, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>Please explain how You solved it.<br />Are You connecting OpenWrt to MySql via socket?</p><p>thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219418">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">rullbandspelare</div>
					<div class="post-datetime">
						8 Dec 2013, 11:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bolvan wrote:</cite><blockquote><p>You can take mysql client binary from mysql server package. If it is too big to install - unpack it and take only needed binary</p></blockquote></div><br /><p>I tried this. but it is not sufice wiith only the mysql binary. You need som libraries and stuff.<br />Using luasql-mysql is about 268kB and mysql client takes 590kB.<br />It will fit, but leavs not much space left for other things.<br />I stick with the awkward lua for now.</p><p>I am still courios how this can be solved with sockets, as mentioned in an earlier post</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p219421">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">gkarakou</div>
					<div class="post-datetime">
						8 Dec 2013, 11:55					</div>
				</div>
				<div class="post-content content">
					<p>If you configure the mysql server to listen on a lan ip and port instead of a unix socket you could use the mysql client from cli. That way installing the mysql client will&nbsp; give you the option to operate against the server from openwrt(You would have to specify the host flag on&nbsp; the mysql client interface). If mysql server is listening on a unix socket you would have to connect to it from the same host.</p>											<p class="post-edited">(Last edited by <strong>gkarakou</strong> on 8 Dec 2013, 11:56)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>