<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with OpenWrt from Trunk on ARM (at91sam9260)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p113741">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">asanoki</div>
					<div class="post-datetime">
						26 Jul 2010, 03:31					</div>
				</div>
				<div class="post-content content">
					<p>Hello. I decided to upgrade firmware on my board to openwrt from trunk.<br />The vendor provided sources, so I copied .config&#039;s from older version of openWrt and kernel.</p><p>I finally compiled it successfully (with one patch on decompress_unlzo.c, becouse it seems to be broken).</p><p>The problem is booting.</p><p><strong>I got that</strong>:<br /></p><div class="codebox"><pre><code>rtc-at91sam9 at91_rtt.0: setting system clock to 2010-07-26 02:18:48 UTC (1280110728)
UBIFS: recovery needed
UBIFS: recovery completed
UBIFS: mounted UBI device 0, volume 0, name &quot;rootfs&quot;
UBIFS: file system size:   131862528 bytes (128772 KiB, 125 MiB, 511 LEBs)
UBIFS: journal size:       9420800 bytes (9200 KiB, 8 MiB, 37 LEBs)
UBIFS: media format:       w4/r0 (latest is w4/r0)
UBIFS: default compressor: lzo
UBIFS: reserved for root:  0 bytes (0 KiB)
VFS: Mounted root (ubifs filesystem) on device 0:11.
Freeing init memory: 88K
Kernel panic - not syncing: Attempted to kill init!
[&lt;c0023464&gt;] (unwind_backtrace+0x0/0xec) from [&lt;c0225a30&gt;] (panic+0x58/0xd4)
[&lt;c0225a30&gt;] (panic+0x58/0xd4) from [&lt;c00334e8&gt;] (do_exit+0x68/0x6a4)
[&lt;c00334e8&gt;] (do_exit+0x68/0x6a4) from [&lt;c0033be4&gt;] (do_group_exit+0xc0/0xf4)
[&lt;c0033be4&gt;] (do_group_exit+0xc0/0xf4) from [&lt;c003efe8&gt;] (get_signal_to_deliver+0x3dc/0x43c)
[&lt;c003efe8&gt;] (get_signal_to_deliver+0x3dc/0x43c) from [&lt;c0020f58&gt;] (do_notify_resume+0x74/0x644)
[&lt;c0020f58&gt;] (do_notify_resume+0x74/0x644) from [&lt;c001ef0c&gt;] (work_pending+0x1c/0x20)</code></pre></div><p>The error is the same, when I flash only new kernel leaving old openWrt distro and when I flash both.</p><p><strong>The previous firmware preinstalled on my board (r13340 openwrt) output:</strong></p><div class="codebox"><pre><code>rtc-at91sam9 at91_rtt.0: setting system clock to 2010-07-26 02:27:20 UTC (1280111240)
UBIFS: mounted UBI device 0, volume 0, name &quot;rootfs&quot;
UBIFS: file system size:   131862528 bytes (128772 KiB, 125 MiB, 511 LEBs)
UBIFS: journal size:       9420800 bytes (9200 KiB, 8 MiB, 37 LEBs)
UBIFS: media format:       4 (latest is 4)
UBIFS: default compressor: lzo
UBIFS: reserved for root:  0 bytes (0 KiB)
VFS: Mounted root (ubifs filesystem) on device 253:1.
Freeing init memory: 104K
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe
- init -

Please press Enter to activate this console. UBIFS: mounted UBI device 0, volume 1, name &quot;storage&quot;</code></pre></div><p>Do you have any idea why I got kernel panic with new kernel? Any way to fix it or debug it?</p>											<p class="post-edited">(Last edited by <strong>asanoki</strong> on 26 Jul 2010, 04:00)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>