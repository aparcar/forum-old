<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> hostapd_utils documentation?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p366230">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Diameter</div>
					<div class="post-datetime">
						3 Oct 2017, 16:17					</div>
				</div>
				<div class="post-content content">
					<p>As far as I understand the man pages, the implementation of hostapd_cli can be differerent form OS to OS. </p><p>see e.g. <br />manpages of netbsd -&gt; netbsd.gw.com/cgi-bin/man-cgi?hostapd+8+NetBSD-current<br />or manpages of Debian -&gt; manpages.debian.org/jessie/hostapd/hostapd_cli.1.en.html</p><p>Hence, in Debian based Linux I can do something like that:<br /></p><div class="codebox"><pre><code> hostapd_cli -p /var/run/hostapd -i [Interface] -a /path/to/script -B </code></pre></div><p>which will send hostapd messages to a script for further processing.</p><p>It seems that I do not have these options e.g. in netBSD.</p><p>Where can I find information, which options are supported by hostapd_cli in hostapd_utils in the OpenWrt version?</p><p>How could I have the same fuctionality like under Debian also in OpenWrt, i.e. how can I send information sent/received by hostapd to an external script?</p><p>Thanks a lot for your support.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366236">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						3 Oct 2017, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>It seems that the &quot;control socket&quot; feature of hostapd never became very well debugged or useful or documented.&nbsp; Reviewing the source code is probably the only way to know what it can do or attempts to do.</p><p>OpenWrt has added a ubus extension to hostapd for run-time interaction.&nbsp; I would suggest that instead.&nbsp; It is reasonably easy to extend it to meet your needs.&nbsp; &nbsp;See my &quot;drop on low signal&quot; project:&nbsp; <a href="https://github.com/mk248/lede-modhostapd">https://github.com/mk248/lede-modhostapd</a></p><p>What specifically are you trying to do?</p>											<p class="post-edited">(Last edited by <strong>mk24</strong> on 3 Oct 2017, 18:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366243">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Diameter</div>
					<div class="post-datetime">
						3 Oct 2017, 19:28					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot for your reply. I will have a look at your project. Seems I have to read a lot more about OWRT to fully understand it.</p><p>Actually I want to control the assignment of IP-addresses to users, a user should always receive the same IP address irrespective of the MAC address of the device he uses.</p><p>My basic plan is to use WPA2/EAP<br />- make hostapd to hand over username and MAC address to a script<br />- make hostapad to hand over the VLANID for this user received from a radius server<br />- derive an IP address from the VLANID, e.g. VLANID = XX -&gt; IP address = 192.168.77.XX ยง<br />- assign this IP address to the device</p><p>I thought I could do steps 1 and 2 with a hostapd_cli call like that shown in the Debian example</p><p>ยง see: wiki.opnsense.org/manual/how-tos/accounting.html<br />Sorry, it seems I can not post real links here, otherwise I could send information about the respective steps more easily ...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>