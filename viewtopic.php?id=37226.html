<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WR941ND - did I ruin it?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p168794">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">madness</div>
					<div class="post-datetime">
						1 Jun 2012, 12:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;ve just joined this forum for help with my WR941ND router.&nbsp; &nbsp; I&#039;m totally stuck!&nbsp; &nbsp; &nbsp;FYI&nbsp; &nbsp;I&#039;m not a hacker.....</p><p>I tried to upgrade the firmware of my WR941ND because of a problem I had with internet connection dying (something to do with wireless router not working properly with my ADSL modem? Seems like DNS stops working because I could ping an IP address, but not via its URL.<br />It happened after 5 to 10 minutes of surfing.</p><p>Anyway I used the Web GUI and a file from the TP-LINK site and attempted to upgrade the firmware, however, at completion, my browser did not refresh!!!! Oh oh.....</p><p>After searching, I discovered this thing called openWrt and this forum.&nbsp; I found posts about accessing a serial debug port. <br />So I grafted an RS232 interface onto the four pin header of my WR941, and shorted R356.</p><p>(After somewhat munting the fricken case to get it off!!!)</p><p>Below is what I get if I power the unit up.&nbsp; &nbsp; Is there anyway I can return it to stock or have I inadvertently BRICKED my wireless router??</p><p>I thank you in advance for answering a clueless noobs questions.</p><p>Best Regards, Nick</p><p>------------------------------------------------</p><p>U-Boot 1.1.4 (Jun&nbsp; 1 2010 - 15:09:49)</p><p>AP81 (ar7100) U-boot<br />DRAM:&nbsp; <br />sri<br />32 MB<br />id read 0x100000ff<br />flash size 4MB, sector count = 64<br />Flash:&nbsp; 4 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag7100_enet_initialize...<br />No valid address in Flash. Using fixed address<br />bsingle_phy = 0<br />eth0: 00:03:7f:09:0b:ad<br />eth0 up<br />eth0<br />Autobooting in 1 seconds## Booting image at bf020000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... OK</p><p>Starting kernel ...</p><p>Linux version 2.6.15--LSDK-6.1.1.40 (zhongjin@rd3linux.tplink) (gcc version 3.4.4) #1 Mon Jan 30 18:01:21 CST 2012</p><p>flash_size passed from bootloader = 4</p><p>CPU revision is: 00019374</p><p>Determined physical RAM map:</p><p> memory: 02000000 @ 00000000 (usable)</p><p>User-defined physical RAM map:</p><p> memory: 02000000 @ 00000000 (usable)</p><p>Built 1 zonelists</p><p>Kernel command line: console=ttyS0,115200 root=/dev/mtdblock2 rootfstype=squashfs init=/sbin/init mtdparts=ar7100-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art) mem=32M</p><p>Primary instruction cache 64kB, physically tagged, 4-way, linesize 32 bytes.</p><p>Primary data cache 32kB, 4-way, linesize 32 bytes.</p><p>Synthesized TLB refill handler (20 instructions).</p><p>Synthesized TLB load handler fastpath (32 instructions).</p><p>Synthesized TLB store handler fastpath (32 instructions).</p><p>Synthesized TLB modify handler fastpath (31 instructions).</p><p>Cache parity protection disabled</p><p>PID hash table entries: 256 (order: 8, 4096 bytes)</p><p>Using 200.000 MHz high precision timer.</p><p>Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)</p><p>Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)</p><p>Memory: 30516k/32768k available (1407k kernel code, 2236k reserved, 300k data, 112k init, 0k highmem)</p><p>Mount-cache hash table entries: 512</p><p>Checking for &#039;wait&#039; instruction...&nbsp; available.</p><p>NET: Registered protocol family 16</p><p>Jumpstart button pressed.</p><p>SCSI subsystem initialized</p><p>AR7100 GPIOC major 0</p><p>squashfs: version 3.3 (2007/10/31) Phillip Lougher</p><p>squashfs: LZMA suppport for slax.org by jro</p><p>Initializing Cryptographic API</p><p>io scheduler noop registered</p><p>io scheduler deadline registered</p><p>Serial: 8250/16550 driver $Revision: #2 $ 1 ports, IRQ sharing disabled</p><p>serial8250.0: ttyS0 at MMIO 0x0 (irq = 19) is a 16550A</p><p>RAMDISK driver initialized: 1 RAM disks of 8192K size 1024 blocksize</p><p>PPP generic driver version 2.4.2</p><p>PPPoX init, max protocols:3</p><p>NET: Registered protocol family 24</p><p>pppox protocol 0 register. max:3</p><p>cmdlinepart partition parsing not available</p><p>Searching for RedBoot partition table</p><p>5 RedBoot partitions found on MTD device ar7100-nor0</p><p>Creating 5 MTD partitions on &quot;ar7100-nor0&quot;:</p><p>0x00000000-0x00020000 : &quot;boot&quot;</p><p>0x00020000-0x00120000 : &quot;kernel&quot;</p><p>0x00120000-0x003e0000 : &quot;rootfs&quot;</p><p>0x003e0000-0x003f0000 : &quot;config&quot;</p><p>0x003f0000-0x00400000 : &quot;art&quot;</p><p>-&gt;Oops: flash id 0x10215 . </p><p>NET: Registered protocol family 2</p><p>IP route cache hash table entries: 512 (order: -1, 2048 bytes)</p><p>TCP established hash table entries: 2048 (order: 1, 8192 bytes)</p><p>TCP bind hash table entries: 2048 (order: 1, 8192 bytes)</p><p>TCP: Hash tables configured (established 2048 bind 2048)</p><p>TCP reno registered</p><p>TCP bic registered</p><p>NET: Registered protocol family 1</p><p>NET: Registered protocol family 17</p><p>802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;</p><p>All bugs added by David S. Miller &lt;davem@redhat.com&gt;</p><p>ar7100wdt_init: Registering WDT success</p><p>SQUASHFS error: sb_bread failed reading block 0x7f8</p><p>SQUASHFS error: Unable to read cache block [1fe3e0:17e2]</p><p>SQUASHFS error: Unable to read inode [1fe3e0:17e2]</p><p>VFS: Cannot open root device &quot;mtdblock2&quot; or unknown-block(31,2)</p><p>Please append a correct &quot;root=&quot; boot option</p><p>Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,2)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>