<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Pictures/details of TL-WR720N 3G Chinese version</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Feb 2018 and 8 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 5 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=37912&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37912&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=37912&amp;p=4.html">4</a></li><li class="pagination-current"><span>5</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p258414">
				<div class="post-metadata">
					<div class="post-num">Post #101</div>
					<div class="post-author">mtotheathe</div>
					<div class="post-datetime">
						22 Dec 2014, 14:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>loyukfai wrote:</cite><blockquote><p>Someone friendly gave me these builds to try out (built on/around 14-Aug), trialed okay on a test device:</p><p><a href="http://goo.gl/NmN5bX">http://goo.gl/NmN5bX</a></p><p>Disclaimer/Warning: There are always risks of possibly bricking the device or of any other unexpected harm that may do to your device.</p><p>Cheers.</p></blockquote></div><br /><br /><p>Hey, just a little curious, i&#039;ve bought the device and used the build from the post above, works like a charm, thanks!</p><p>Altough, when installing additional packages, i cant seem to install, i get errors</p><p>Is there a newer build maybe?</p>											<p class="post-edited">(Last edited by <strong>mtotheathe</strong> on 22 Dec 2014, 14:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264481">
				<div class="post-metadata">
					<div class="post-num">Post #102</div>
					<div class="post-author">malfi</div>
					<div class="post-datetime">
						7 Feb 2015, 11:35					</div>
				</div>
				<div class="post-content content">
					<p>I bought the tl-wr720n v4 chinese version and found this chinese tutorial.<br />It might be useful for someone, so I post what I did...</p><p>Tutorial:<br /><a href="http://bbs.mydigit.cn/simple/?t991342.html">http://bbs.mydigit.cn/simple/?t991342.html</a></p><p>At baidu you can download the needed files<br /><a href="http://pan.baidu.com/s/1hqJzuXe">http://pan.baidu.com/s/1hqJzuXe</a> (pass u2e9)</p><p>Step 1 is to enable uboot-flashing:</p><p>When you are at the stock-firmware, download<br />wr720nv4/wr720nv4解锁ubootopenwrt固件.bin (3.8M 20141030 11:09 MD5sum 321248fc3d9121b261ffc6f35b60bbde)<br />and flash it with the original web interface (192.168.1.253)</p><p>You can find the firmware update in the webinterface the following way:<br />System is the entry under the readable (***DNS***) on the left side pane.<br />Then the third entry is firmware update. If in doubt, use google translate.</p><p>Afterwards a bb openwrt-image with write enabled mtd is flashed.</p><p>Step 2 is to get the pepe2k uboot:</p><p>download the files in the wr720nv4***uboot folder<br />copy them to the wr720nv4<br />$ scp flash.sh wr720n-v4-uboot-pepe.bin&nbsp; root@192.168.1.1:/tmp<br /></p><div class="codebox"><pre><code>root@OpenWrt:/tmp# sh flash.sh wr720n-v4-uboot-pepe.bin 9acf3d80cdcf70375618d900
ab355cdc
wr720n-v4-uboot-pepe.bin md5sum : 9acf3d80cdcf70375618d900ab355cdc
wr720n-v4-uboot-pepe.bin md5sum check pass
0+1 records in
0+1 records out
64512+0 records in
64512+0 records out
Backuping to uboot_backup.bin
Backup some config first,just like MAC address ...
1024+0 records in
1024+0 records out
Flashing
Sync Finished</code></pre></div><p>power it down, power it up and immediatly after powering up, press the reset button until the led flashed three times. you should be able to access the uboot webinterface at 192.168.1.1</p><p>Now you have a proper fallback to try different firmware images. The chinese image seems fine and has luci.<br />There is a overclock uboot for the v4. I didn&#039;t try itNow you have a proper fallback to try different firmware images. The chinese image seems fine and has luci..</p><p>If you want to build a new one with openvpn and luci (or don&#039;t trust the chinese guy). Just get the Imagebuilder:<br /></p><div class="codebox"><pre><code>OpenWrt-ImageBuilder-ar71xx_generic-for-linux-x86_64$ nice -n 19 make image PROFILE=TLWR720 PACKAGES=&quot;openvpn-polarssl luci  -ip6tables -kmod-ip6tables -kmod-ipv6 -ppp -ppp-mod-pppoe -odhcp6c -luci-proto-ipv6 -luci-proto-ppp&quot; 
OpenWrt-ImageBuilder-ar71xx_generic-for-linux-x86_64$ scp bin/ar71xx/openwrt-ar71xx-generic-tl-wr720n-v3-squashfs-sysupgrade.bin root@192.168.1.1:/tmp/</code></pre></div><p>The ImageBuilder builds for the v3 but still the image works fine.<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# sysupgrade -v /tmp/openwrt-ar71xx-generic-tl-wr720n-v3-squashfs-sysupgrade.bin 
Invalid image, hardware ID mismatch, hw:07200104 image:07200103.
Image check &#039;platform_check_image&#039; failed.
root@OpenWrt:~# sysupgrade -F -v /tmp/openwrt-ar71xx-generic-tl-wr720n-v3-squashfs-sysupgrade.bin 
Invalid image, hardware ID mismatch, hw:07200104 image:07200103.
Image check &#039;platform_check_image&#039; failed but --force given - will update anyway!
....
Performing system upgrade...
Unlocking firmware ...

Writing from &lt;stdin&gt; to firmware ...     
Appending jffs2 data from /tmp/sysupgrade.tgz to firmware...TRX header not found
Error fixing up TRX header
    
Upgrade completed
Rebooting system...</code></pre></div><p>Seems to run fine.</p><p>Even though the following isn&#039;t wr720n specific, I figured, that many will buy this device to use it as a openvpn-gateway due to its two ethernet ports.</p><p>To do so, just drop your openvpn.conf in /etc/openvpn/ and modify the /etc/config/openvpn<br /></p><div class="codebox"><pre><code>option enabled 1
option config /etc/openvpn/yourconf.ovpn</code></pre></div><p>Add a vpn-device to /etc/config/network<br /></p><div class="codebox"><pre><code>config interface &#039;vpn&#039;
    option proto &#039;none&#039;
    option ifname &#039;tun0&#039;
    option delegate &#039;0&#039;</code></pre></div><p>And finally set your firewall up: /etc/config/firewall<br /></p><div class="codebox"><pre><code>config defaults
    option syn_flood &#039;1&#039;
    option input &#039;ACCEPT&#039;
    option output &#039;ACCEPT&#039;
    option forward &#039;REJECT&#039;

config zone
    option name &#039;lan&#039;
    option input &#039;ACCEPT&#039;
    option output &#039;ACCEPT&#039;
    option forward &#039;REJECT&#039;
    option network &#039;lan&#039;

config zone
    option name &#039;wan&#039;
    option input &#039;ACCEPT&#039;
    option output &#039;ACCEPT&#039;
    option forward &#039;REJECT&#039;
    option network &#039;wan&#039;

config zone
    option name &#039;vpn&#039;
    option input &#039;REJECT&#039;
    option forward &#039;REJECT&#039;
    option output &#039;ACCEPT&#039;
    option network &#039;vpn&#039;
    option masq &#039;1&#039;
    option mtu_fix &#039;1&#039;


config forwarding
    option src &#039;lan&#039;
    option dest &#039;vpn&#039;</code></pre></div><p>Reboot and you&#039;re ready to go. Plug the wan-port in any dhcp-enabled network and you will have on lan (and wifi if configured) the openvpn&#039;ed network.</p>											<p class="post-edited">(Last edited by <strong>malfi</strong> on 7 Feb 2015, 13:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265793">
				<div class="post-metadata">
					<div class="post-num">Post #103</div>
					<div class="post-author">loyukfai</div>
					<div class="post-datetime">
						16 Feb 2015, 19:42					</div>
				</div>
				<div class="post-content content">
					<p>Maybe you could upstream the patch so there will be official builds for v4?</p><p>Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p265794">
				<div class="post-metadata">
					<div class="post-num">Post #104</div>
					<div class="post-author">loyukfai</div>
					<div class="post-datetime">
						16 Feb 2015, 19:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mtotheathe wrote:</cite><blockquote><p>Hey, just a little curious, i&#039;ve bought the device and used the build from the post above, works like a charm, thanks!</p><p>Altough, when installing additional packages, i cant seem to install, i get errors</p><p>Is there a newer build maybe?</p></blockquote></div><p>Best would be to have the v4 patch upstreamed and let the buildbots do its job.</p><p>As a temporary alternative, you may try flashing v3 onto it?</p><p>Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366134">
				<div class="post-metadata">
					<div class="post-num">Post #105</div>
					<div class="post-author">muloot</div>
					<div class="post-datetime">
						1 Oct 2017, 07:32					</div>
				</div>
				<div class="post-content content">
					<p>Hello, is v1.1 not supported by OpenWRT?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366136">
				<div class="post-metadata">
					<div class="post-num">Post #106</div>
					<div class="post-author">loyukfai</div>
					<div class="post-datetime">
						1 Oct 2017, 07:53					</div>
				</div>
				<div class="post-content content">
					<p>According to the wiki, v1 only has 2MB flash, so presumably, no, it&#039;s not supported.</p><p><a href="https://wiki.openwrt.org/toh/tp-link/tl-wr720n">https://wiki.openwrt.org/toh/tp-link/tl-wr720n</a></p><p>In general, OpenWrt/LEDE only supports devices with min. 4MB flash.</p><p>Cheers.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 5 of 5</div><nav><ul><li><a href="viewtopic.php%3Fid=37912&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37912&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=37912&amp;p=4.html">4</a></li><li class="pagination-current"><span>5</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>