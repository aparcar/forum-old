<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Latest Kamikaze on the Netgear DG834</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50031">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Stephen Fry</div>
					<div class="post-datetime">
						8 Jun 2007, 15:33					</div>
				</div>
				<div class="post-content content">
					<p>I have build the AR7 port, and using the adam2flash.pl perl script flashed the squashfs image onto my router (I have already patched ADAM to stop it baulking at invalid checksums), however it doesn&#039;t seem to boot. Has anyone got this working? I am in the process of adding a serial port, but before I do this has anyone got any tips? Will I need to modify the ADAM mtd partition sizes? It looks from the source like it doesn&#039;t matter how big mtd0 and mtd1 are as long as the image fits into the span of them (which is what the perl script does).</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50060">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">exobyte</div>
					<div class="post-datetime">
						8 Jun 2007, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>I had a DG834Gv2 where OpenWRT wouldn&#039;t boot when I had the wireless card plugged in.&nbsp; That might be worth checking.</p><p>Back in the day, I had to add a 5th mtd so I could flash the large file to it while in the bootloader.&nbsp; You kids and your scripts...</p><p>What have you done to confirm that it doesn&#039;t boot?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50106">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						9 Jun 2007, 02:03					</div>
				</div>
				<div class="post-content content">
					<p>I tried r7496 on my DG834Gv2 which obviously includes the <a href="https://dev.openwrt.org/changeset/7487">r7487</a> fixes.&nbsp; Booting past the boot loader only produced the Kernel version and then it hangs.</p><p>I have r7038 working without any major problems on my other v2.&nbsp; There are bugs, but it&#039;s been stable enough to run in production for me.</p><p>Not sure what&#039;s going on with the <a href="http://buildbot.openwrt.org/">buildbot</a> lately.&nbsp; I haven&#039;t seen any green for a couple weeks now.</p><p>EDIT:&nbsp; And to overcome the need to split images, I found it pretty easy to just add an mtd5 partition spanning across mtd0 and mtd1.&nbsp; The instructions are on the DG834G page of the wiki.&nbsp; I also like to patch the bootloader so that you don&#039;t need to add the checksum.</p>											<p class="post-edited">(Last edited by <strong>KillaB</strong> on 9 Jun 2007, 02:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50119">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Stephen Fry</div>
					<div class="post-datetime">
						9 Jun 2007, 10:22					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your replies. Yes I was hoping that r7487 changes were going to help, I have tried a few revisions before that but get the same result. Maybe I&#039;ll try r7038 just to check I&#039;m not doing something else wrong.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50250">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">exobyte</div>
					<div class="post-datetime">
						11 Jun 2007, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>Try making your own build, and if that doesn&#039;t work, go back to an old build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50397">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Stephen Fry</div>
					<div class="post-datetime">
						13 Jun 2007, 11:10					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve now built r7038 and it works OK. I haven&#039;t done much testing but it starts up OK. I now need to find what has broken between then and the latest build...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50408">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						13 Jun 2007, 14:00					</div>
				</div>
				<div class="post-content content">
					<p>Check out this ticket if you want to test higher revisions:&nbsp; <a href="https://dev.openwrt.org/ticket/1858">https://dev.openwrt.org/ticket/1858</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50481">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Stephen Fry</div>
					<div class="post-datetime">
						14 Jun 2007, 15:49					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, I&#039;ll try a revision with this change in too. Also what is required to get PPPoA working? Which components do I need to include in the build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50625">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Stephen Fry</div>
					<div class="post-datetime">
						16 Jun 2007, 18:54					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m now up and running (and posting this) on r7632. I had an issue with DNAT in that the shared library doesn&#039;t seem to be packaged at the moment (There is a ticket for this). So all in all a pretty easy setup.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52994">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">chrismonks</div>
					<div class="post-datetime">
						28 Jul 2007, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I&#039;ve been reading alot about this port but I&#039;ve been having problems<br />i&#039;ve tried to get owrt working on my DG843g V1<br />i&#039;ve patch Adam 2 to stop the shecksum error.<br />I created mtd5 partition.</p><p>I then flashed the image here<br /><a href="http://downloads.openwrt.org/snapshots/ar7-2.6/openwrt-ar7-2.6-squashfs.bin">http://downloads.openwrt.org/snapshots/ â€¦ uashfs.bin</a><br />to the router.</p><p>Rebooted and it looks like it booting.</p><p>I can&#039;t ping 192.168.1.1, or telnet to it. NO DHCP happens so I can&#039;t get a ip.</p><p>I&#039;ve reverted back ot netgear firmware by holding down the reset butt and rebooting. this allows me to use the netgear recovery tool to go back.</p><p>Is the image i&#039;m using correct.</p><p>I haven&#039;t got the foggist notion how to build my own firmware. Is there a firmware out there that should work.</p><p>Any help would be great.</p><p>Chris</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53000">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">nabcore</div>
					<div class="post-datetime">
						28 Jul 2007, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>Have you got any serial port output from the booting?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53001">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">chrismonks</div>
					<div class="post-datetime">
						28 Jul 2007, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>No no serial port output. i&#039;ve not done the serial port thing, do i need to?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53003">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">nabcore</div>
					<div class="post-datetime">
						28 Jul 2007, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>Well, it would give more information as to what the problem is. Without serial output, one is essentially blind to any problems that are preventing the router from starting up. I suspect you&#039;re experiencing <a href="https://dev.openwrt.org/ticket/1858">https://dev.openwrt.org/ticket/1858</a> but one cannot be sure without the serial output.</p>											<p class="post-edited">(Last edited by <strong>nabcore</strong> on 28 Jul 2007, 23:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53063">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">chrismonks</div>
					<div class="post-datetime">
						30 Jul 2007, 01:59					</div>
				</div>
				<div class="post-content content">
					<p>could be a problem I don&#039;t even have a serial port on my motherboard. Has anyone got a image that is known to work on a DG834g that would be a great help</p><p>Thanks<br />Chris</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53065">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">nabcore</div>
					<div class="post-datetime">
						30 Jul 2007, 03:35					</div>
				</div>
				<div class="post-content content">
					<p>The following entry in the wiki gives details about the router&#039;s serial port.<br /><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Netgear/DG834G">http://wiki.openwrt.org/OpenWrtDocs/Har â€¦ ear/DG834G</a></p><p>As for images that may work, you could try rebuilding the image, but commenting the call to ar7_init_clocks(); in setup.c</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61014">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">colchaodemola</div>
					<div class="post-datetime">
						30 Dec 2007, 03:16					</div>
				</div>
				<div class="post-content content">
					<p>How can i get pppoe working in this ?<br />It is strange , i can not connect at all.<br />I do not see an nas0 interface , i am really new to openwrt.<br />If i edit&nbsp; /etc/config/network add this it won`t work since nas0 does not exist.<br />My ifconfig shows eth0 [lan ip] and eth1 [which i suppose would be the interface to the pppoe to use], but if i set ifname to eth1 in the config file the modem will not reboot at all. No ping , no ssh , nothing... i had to reflash to get back to it.<br />any ideas ?</p><p># config interface wan<br />##&nbsp; &nbsp; &nbsp; PPPoE:<br />&nbsp; &nbsp; &nbsp; &nbsp;option ifname&nbsp; &nbsp;nas0<br />&nbsp; &nbsp; &nbsp; &nbsp;option proto&nbsp; &nbsp; pppoe<br />&nbsp; &nbsp; &nbsp; &nbsp;option encaps&nbsp; &nbsp;llc<br />&nbsp; &nbsp; &nbsp; &nbsp;option vpi&nbsp; &nbsp; &nbsp; 0<br />&nbsp; &nbsp; &nbsp; &nbsp;option vci&nbsp; &nbsp; &nbsp; 33<br />&nbsp; &nbsp; &nbsp; &nbsp;option username &quot;my_username&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp;option password &quot;my_password&quot;</p><p>BusyBox v1.8.2 (2007-12-29 18:47:03 BRT) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> KAMIKAZE (bleeding edge, r10030) -------------------<br />&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain<br />&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.<br />&nbsp; * 10 oz lime juice&nbsp; Salute!<br /> ---------------------------------------------------</p><p># ipkg list<br />base-files-ar7 - 12-r10030 - <br />bridge - 1.0.6-1 - <br />busybox - 1.8.2-1 - <br />dnsmasq - 2.40-1 - <br />dropbear - 0.50-3 - <br />hotplug2 - 0.9+r102-2 - <br />ip - 2.6.20-070313-1 - <br />iptables - 1.3.8-2 - <br />iptables-mod-conntrack - 1.3.8-2 - <br />iptables-mod-filter - 1.3.8-2 - <br />iptables-mod-imq - 1.3.8-2 - <br />iptables-mod-ipopt - 1.3.8-2 - <br />kernel - 2.6.23.1-ar7-1 - <br />kmod-ipt-conntrack - 2.6.23.1-ar7-1 - <br />kmod-ipt-filter - 2.6.23.1-ar7-1 - <br />kmod-ipt-imq - 2.6.23.1-ar7-1 - <br />kmod-ipt-ipopt - 2.6.23.1-ar7-1 - <br />kmod-ipt-nathelper - 2.6.23.1-ar7-1 - <br />kmod-ppp - 2.6.23.1-ar7-1 - <br />kmod-ppp-synctty - 2.6.23.1-ar7-1 - <br />kmod-pppoe - 2.6.23.1-ar7-1 - <br />kmod-sched - 2.6.23.1-ar7-1 - <br />libgcc - 4.1.2-12 - <br />mtd - 6 - <br />ppp - 2.4.3-9 - <br />ppp-mod-pppoe - 2.4.3-9 - <br />qos-scripts - 1.2.1-1 - <br />tc - 2.6.20-070313-1 - <br />uclibc - 0.9.29-12 - <br />udevtrigger - 106-1 - <br />Done.</p><br /><br /><p>#&nbsp; ifconfig -a<br />eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:01:B1:C1:91:51&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.0.1&nbsp; Bcast:192.168.0.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:3136 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1631 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:1616568 (1.5 MiB)&nbsp; TX bytes:225557 (220.2 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:41 </p><p>eth1&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:02:B2:C2:92:52&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:27 </p><p>imq0&nbsp; &nbsp; &nbsp; Link encap:UNSPEC&nbsp; HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOARP&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:30 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>imq1&nbsp; &nbsp; &nbsp; Link encap:UNSPEC&nbsp; HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; NOARP&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:30 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><br /><p>my modem is a DG834 V2.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61030">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">nabcore</div>
					<div class="post-datetime">
						30 Dec 2007, 15:29					</div>
				</div>
				<div class="post-content content">
					<p>colchaodemola; Don&#039;t cross post <a href="http://forum.openwrt.org/viewtopic.php?id=13924">http://forum.openwrt.org/viewtopic.php?id=13924</a> ;&nbsp; I suggest that you keep all replies in the newer post that you&#039;ve created.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61031">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">colchaodemola</div>
					<div class="post-datetime">
						30 Dec 2007, 15:33					</div>
				</div>
				<div class="post-content content">
					<p>Yeah <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; thats why i created that post <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>