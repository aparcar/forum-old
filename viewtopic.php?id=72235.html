<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How To Compile OpenWRT with latest Raspberry Pi Kernel on Ubuntu 16.04</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p366267">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">thanaraj.s</div>
					<div class="post-datetime">
						4 Oct 2017, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>I&#039;m working on OpenWrt compilation with Raspberry Pi Kernel on Ubuntu 16.04 LTS Machine. How to prepare a setup to compile and download source. I&#039;m new to OpenWrt as well as Raspberry Pi platform. </p><p>Can anyone provide information for OpenWrt with Raspberry Pi compilation?..it would be more helpful if I get user manual for building image..</p><p>Thanks!!</p><p>Regards,<br />Thanaraj.</p>											<p class="post-edited">(Last edited by <strong>thanaraj.s</strong> on 4 Oct 2017, 15:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366274">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						4 Oct 2017, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>There&#039;s a whole lot of good information on the wiki regarding development. Have a look: <a href="https://wiki.openwrt.org/about/toolchain">https://wiki.openwrt.org/about/toolchain</a>.</p><p>If you want to understand all the nuts and bolts, I recommend reading about the Buildroot project. OpenWrt build environment is an adaptation of Buildroot: <a href="https://buildroot.org/downloads/manual/manual.html">https://buildroot.org/downloads/manual/manual.html</a></p><p>For details regarding suitable target, subtarget and platform for Raspberry Pi, check out the device-specific page at <a href="https://wiki.openwrt.org/toh/raspberry_pi_foundation/raspberry_pi">https://wiki.openwrt.org/toh/raspberry_ … spberry_pi</a></p><p>The OpenWrt wiki is a bit disorganized, so there might not be step-by-step guides or exact manuals. Read through the above links to get your general bearings first. They&#039;ll give you a pretty solid base, although there&#039;s quite a lot of reading to do <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Note that Ubuntu 16.04 is not listed as one of the &quot;known-to-work&quot; build environments for OpenWrt. It might work, but it might not, and you&#039;ll need to figure out what host-side packages and software you need to make it all work. Ubuntu 12.04 LTS is on the list. I&#039;ve used Debian 8 to build OpenWrt myself.</p><p>Also, in my opinion it might be a better idea to use the LEDE source code as a base for building your firmware. OpenWrt source code base is a bit aged by now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366292">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">thanaraj.s</div>
					<div class="post-datetime">
						5 Oct 2017, 11:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi Antek,</p><p>Thanks for Reply.</p><p>I have started to compile OpenWrt. Below are the steps I followed to compile it,</p><p>1. <strong>make menuconfig -&gt;</strong> “Target System” → Broadcom BCM27XX<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; “Subtarget” → BCM2709<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; “Target Profile” → Raspberry Pi 2 enabled.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Save and Exit.</p><p>2. make V=s</p><p>I&#039;m getting below errors in compilation, do you have any idea to resolve this error,</p><p>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++<br />libtool: install: /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/bin/ranlib /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib/libitm.a<br />libtool: finish: PATH=&quot;/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/sbin&quot; ldconfig -n /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib<br />----------------------------------------------------------------------<br />Libraries have been installed in:<br />&nbsp; &nbsp;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib</p><p>If you ever happen to want to link against installed libraries<br />in a given directory, LIBDIR, you must either use libtool, and<br />specify the full pathname of the library, or use the `-LLIBDIR&#039;<br />flag during linking and do at least one of the following:<br />&nbsp; &nbsp;- add LIBDIR to the `LD_LIBRARY_PATH&#039; environment variable<br />&nbsp; &nbsp; &nbsp;during execution<br />&nbsp; &nbsp;- add LIBDIR to the `LD_RUN_PATH&#039; environment variable<br />&nbsp; &nbsp; &nbsp;during linking<br />&nbsp; &nbsp;- use the `-Wl,-rpath -Wl,LIBDIR&#039; linker flag<br />&nbsp; &nbsp;- have your system administrator add LIBDIR to `/etc/ld.so.conf&#039;</p><p>See any operating system documentation about shared libraries for<br />more information, such as the ld(1) and ld.so(8) manual pages.<br />----------------------------------------------------------------------<br />test -z &quot;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/share/info&quot; || /bin/mkdir -p &quot;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/share/info&quot;<br /> /usr/bin/install -c -m 644 /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0/libitm/libitm.info &#039;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/share/info&#039;<br /> install-info --info-dir=&#039;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/share/info&#039; &#039;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/share/info/libitm.info&#039;<br />make[8]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libitm&#039;<br />make[7]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libitm&#039;<br />make[6]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libitm&#039;<br />make[6]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic&#039;<br />Making install in testsuite<br />make[7]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic/testsuite&#039;<br />make[8]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic/testsuite&#039;<br />make[8]: Nothing to be done for &#039;install-exec-am&#039;.<br />make[8]: Nothing to be done for &#039;install-data-am&#039;.<br />make[8]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic/testsuite&#039;<br />make[7]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic/testsuite&#039;<br />make[7]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic&#039;<br />true&nbsp; DO=all multi-do # make<br />make[8]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic&#039;<br />true&nbsp; DO=install multi-do # make<br /> /bin/mkdir -p &#039;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib&#039;<br /> /bin/bash ./libtool&nbsp; &nbsp;--mode=install /usr/bin/install -c&nbsp; &nbsp;libatomic.la &#039;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib&#039;<br />libtool: install: /usr/bin/install -c .libs/libatomic.so.1.1.0 /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib/libatomic.so.1.1.0<br />libtool: install: (cd /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib &amp;&amp; { ln -s -f libatomic.so.1.1.0 libatomic.so.1 || { rm -f libatomic.so.1 &amp;&amp; ln -s libatomic.so.1.1.0 libatomic.so.1; }; })<br />libtool: install: (cd /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib &amp;&amp; { ln -s -f libatomic.so.1.1.0 libatomic.so || { rm -f libatomic.so &amp;&amp; ln -s libatomic.so.1.1.0 libatomic.so; }; })<br />libtool: install: /usr/bin/install -c .libs/libatomic.lai /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib/libatomic.la<br />libtool: install: /usr/bin/install -c .libs/libatomic.a /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib/libatomic.a<br />libtool: install: chmod 644 /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib/libatomic.a<br />libtool: install: /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/bin/ranlib /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib/libatomic.a<br />libtool: finish: PATH=&quot;/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/sbin&quot; ldconfig -n /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib<br />----------------------------------------------------------------------<br />Libraries have been installed in:<br />&nbsp; &nbsp;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/arm-openwrt-linux-muslgnueabi/lib</p><p>If you ever happen to want to link against installed libraries<br />in a given directory, LIBDIR, you must either use libtool, and<br />specify the full pathname of the library, or use the `-LLIBDIR&#039;<br />flag during linking and do at least one of the following:<br />&nbsp; &nbsp;- add LIBDIR to the `LD_LIBRARY_PATH&#039; environment variable<br />&nbsp; &nbsp; &nbsp;during execution<br />&nbsp; &nbsp;- add LIBDIR to the `LD_RUN_PATH&#039; environment variable<br />&nbsp; &nbsp; &nbsp;during linking<br />&nbsp; &nbsp;- use the `-Wl,-rpath -Wl,LIBDIR&#039; linker flag<br />&nbsp; &nbsp;- have your system administrator add LIBDIR to `/etc/ld.so.conf&#039;</p><p>See any operating system documentation about shared libraries for<br />more information, such as the ld(1) and ld.so(8) manual pages.<br />----------------------------------------------------------------------<br />make[8]: Nothing to be done for &#039;install-data-am&#039;.<br />make[8]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic&#039;<br />make[7]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic&#039;<br />make[6]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/arm-openwrt-linux-muslgnueabi/libatomic&#039;<br />make[5]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final&#039;<br />make[4]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final&#039;<br /># Set up the symlinks to enable lying about target name.<br />set -e; (cd /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi; ln -sf arm-openwrt-linux-muslgnueabi arm-openwrt-linux; cd bin; for app in arm-openwrt-linux-muslgnueabi-* ; do ln -sf ${app} arm-openwrt-linux${app##arm-openwrt-linux-muslgnueabi}; done; );<br />rm -f /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/lib/libiberty.a<br />/Thanaraj/MyOpenWrt/openwrt/scripts/patch-specs.sh &quot;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi&quot;<br />Locating cpp ... /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin/arm-openwrt-linux-cpp<br />Patching specs ... ok<br />Toolchain successfully patched.<br />mkdir -p /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/stamp<br />touch /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/gcc-5.3.0-final/.built<br />touch /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/stamp/.gcc_final_installed<br />make[3]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/toolchain/gcc/final&#039;<br />make[3]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/toolchain/fortify-headers&#039;<br />. /Thanaraj/MyOpenWrt/openwrt/include/shell.sh; gzip -dc /Thanaraj/MyOpenWrt/openwrt/dl/fortify-headers-0.7.tar.gz | tar -C /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7/.. -xf - <br />touch /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7/.prepared<br />make[3]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/toolchain/fortify-headers&#039;<br />make[3]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/toolchain/fortify-headers&#039;<br />(cd /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7/; if [ -x configure ]; then cp -fpR /Thanaraj/MyOpenWrt/openwrt/scripts/config.{guess,sub} /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7// &amp;&amp;&nbsp; bash ./configure CC=&quot;gcc&quot; CFLAGS=&quot;-O2 -I/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/include -I/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/usr/include &quot; CPPFLAGS=&quot;-I/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/include -I/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/usr/include &quot; LDFLAGS=&quot;-L/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/lib -L/Thanaraj/MyOpenWrt/openwrt/staging_dir/host/usr/lib &quot; SHELL=&quot;/usr/bin/env bash&quot; --target=x86_64-linux-gnu --host=x86_64-linux-gnu --build=x86_64-linux-gnu --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi --exec-prefix=/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi --sysconfdir=/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/etc --localstatedir=/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/var --sbindir=/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/bin ; fi )<br />touch /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7/.configured<br />true<br />touch /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7/.built<br />make[3]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/toolchain/fortify-headers&#039;<br />make[3]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/toolchain/fortify-headers&#039;<br />make -C /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7 PREFIX=&quot;&quot; DESTDIR=&quot;/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi&quot; install<br />make[4]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7&#039;<br />mkdir -p /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/fortify<br />cp -R include/* /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/fortify<br />make[4]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7&#039;<br />mkdir -p /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/stamp<br />touch /Thanaraj/MyOpenWrt/openwrt/build_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/fortify-headers-0.7/.built<br />touch /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a7+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/stamp/.fortify-headers_installed<br />make[3]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/toolchain/fortify-headers&#039;<br />make[2]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt&#039;<br />make[2]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt&#039;<br />make[3]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/target/linux&#039;<br />make[4]: Entering directory &#039;/Thanaraj/MyOpenWrt/openwrt/target/linux/brcm2708&#039;<br />rm -rf /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709<br />mkdir -p /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709<br />xzcat /Thanaraj/MyOpenWrt/openwrt/dl/linux-4.4.50.tar.xz | tar -C /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709 -xf -<br />rm -rf /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/patches; mkdir -p /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/patches<br />cp -fpR &quot;/Thanaraj/MyOpenWrt/openwrt/target/linux/generic/files&quot;/. /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/<br />find /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/ -name \*.rej -or -name \*.orig | xargs -r rm -f<br />touch /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/.quilt_used<br />touch /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/.prepared<br />if [ -s &quot;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/patches/series&quot; ]; then (cd &quot;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50&quot;; if quilt --quiltrc=- next &gt;/dev/null 2&gt;&amp;1; then quilt --quiltrc=- push -a; else quilt --quiltrc=- top &gt;/dev/null 2&gt;&amp;1; fi ); fi<br />touch &quot;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/.quilt_checked&quot;<br />/Thanaraj/MyOpenWrt/openwrt/scripts/kconfig.pl&nbsp; &nbsp; &gt; /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-<strong>a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/.config.target<br />Parse error at /Thanaraj/MyOpenWrt/openwrt/scripts/kconfig.pl line 137.<br />Makefile:29: recipe for target &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/.configured&#039; failed<br />make[4]: *** [/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/linux-brcm2708_bcm2709/linux-4.4.50/.configured] Error 255<br />make[4]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/target/linux/brcm2708&#039;<br />Makefile:13: recipe for target &#039;compile&#039; failed<br />make[3]: *** [compile] Error 2<br />make[3]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/target/linux&#039;<br />target/Makefile:21: recipe for target &#039;target/linux/compile&#039; failed<br />make[2]: *** [target/linux/compile] Error 2<br />make[2]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt&#039;<br />target/Makefile:16: recipe for target &#039;/Thanaraj/MyOpenWrt/openwrt/staging_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/stamp/.target_compile&#039; failed<br />make[1]: *** [/Thanaraj/MyOpenWrt/openwrt/staging_dir/target-arm_cortex-a7+neon-vfpv4_musl-1.1.16_eabi/stamp/.target_compile] Error 2<br />make[1]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt&#039;<br />/Thanaraj/MyOpenWrt/openwrt/include/toplevel.mk:192: recipe for target &#039;world&#039; failed<br />make: *** [world] Error 2<br />root@tringapps-3542:/Thanaraj/MyOpenWrt/openwrt#</strong></p><br /><p>Regards,<br />Thanaraj.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366300">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						5 Oct 2017, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>Well.. Maybe &#039;make distclean&#039; -&gt; update &amp; install feeds (if you use them). Then &#039;make menuconfig&#039;, select your target, subtarget and profile. Save &amp; Exit. Run &#039;make defconfig&#039; to generate a default config for this combination.</p><p>Then try &#039;make V=s&#039; again.</p><p>If it doesn&#039;t work, try switching to one of the &quot;known to work&quot; build environments, install the dependencies listed for that environment and then give it a shot. I&#039;m serious; there&#039;s a reason why only a handful of distros are used, and why a specific version of said distro is required, although I do not know what exactly the reason is. </p><p>However, I did learn this lesson the hard way by banging my head on a brick wall trying to use an unlisted distro (I think it was Ubuntu 15). I finally gave up, then installed Debian 8. And lo&#039; &amp; behold, suddenly everything just worked <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>Antek</strong> on 5 Oct 2017, 15:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366302">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">thanaraj.s</div>
					<div class="post-datetime">
						5 Oct 2017, 15:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi Antek,</p><p>Yeah. I have tried as you told, Still I&#039;m getting lot of issues and compilation errors.</p><p>Can you please tell, how to get <strong>&quot;known to work environment&quot;</strong> for openwrt?. So that I will start preparing the setup.</p><p>Now I&#039;m facing below compilation error,</p><p> 65%] Building C object CMakeFiles/netifd.dir/bridge.c.o<br />[ 69%] Building C object CMakeFiles/netifd.dir/vlan.c.o<br />[ 73%] Building C object CMakeFiles/netifd.dir/alias.c.o<br />[ 78%] Building C object CMakeFiles/netifd.dir/macvlan.c.o<br />[ 82%] Building C object CMakeFiles/netifd.dir/ubus.c.o<br />[ 86%] Building C object CMakeFiles/netifd.dir/vlandev.c.o<br />[ 91%] Building C object CMakeFiles/netifd.dir/wireless.c.o<br />[ 95%] Building C object CMakeFiles/netifd.dir/system-linux.c.o<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if_bridge.h:18:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:36:<br /><strong>/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/in6.h:32:8: error: redefinition of &#039;struct in6_addr&#039;</strong><br /> struct in6_addr {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/arpa/inet.h:9:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:27:<br /><strong>/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/netinet/in.h:23:8: note: originally defined here<br /> struct in6_addr {</strong><br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if_bridge.h:18:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:36:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/in6.h:49:8: error: redefinition of &#039;struct sockaddr_in6&#039;<br /> struct sockaddr_in6 {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/arpa/inet.h:9:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:27:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/netinet/in.h:34:8: note: originally defined here<br /> struct sockaddr_in6 {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if_bridge.h:18:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:36:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/in6.h:59:8: error: redefinition of &#039;struct ipv6_mreq&#039;<br /> struct ipv6_mreq {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/arpa/inet.h:9:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:27:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/netinet/in.h:42:8: note: originally defined here<br /> struct ipv6_mreq {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:24:0:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if.h:79:2: error: expected identifier before numeric constant<br />&nbsp; IFF_UP&nbsp; &nbsp; = 1&lt;&lt;0,&nbsp; /* sysfs */<br />&nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if_tunnel.h:5:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:37:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if.h:189:8: error: redefinition of &#039;struct ifmap&#039;<br /> struct ifmap {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:24:0:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/net/if.h:64:8: note: originally defined here<br /> struct ifmap {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if_tunnel.h:5:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:37:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if.h:226:8: error: redefinition of &#039;struct ifreq&#039;<br /> struct ifreq {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:24:0:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/net/if.h:76:8: note: originally defined here<br /> struct ifreq {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if_tunnel.h:5:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:37:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if.h:278:8: error: redefinition of &#039;struct ifconf&#039;<br /> struct ifconf&nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:24:0:<br />/Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/net/if.h:116:8: note: originally defined here<br /> struct ifconf {<br />&nbsp; &nbsp; &nbsp; &nbsp; ^<br />In file included from /Thanaraj/MyOpenWrt/openwrt/staging_dir/toolchain-arm_cortex-a53+neon-vfpv4_gcc-5.3.0_musl-1.1.16_eabi/include/linux/if_tunnel.h:5:0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;from /Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:37:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c: In function &#039;system_if_clear_state&#039;:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:897:34: error: &#039;IFF_UP&#039; undeclared (first use in this function)<br />&nbsp; system_if_flags(dev-&gt;ifname, 0, IFF_UP);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:897:34: note: each undeclared identifier is reported only once for each function it appears in<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c: In function &#039;system_if_get_settings&#039;:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1240:32: error: &#039;IFF_PROMISC&#039; undeclared (first use in this function)<br />&nbsp; &nbsp;s-&gt;promisc = ifr.ifr_flags &amp; IFF_PROMISC;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1243:34: error: &#039;IFF_MULTICAST&#039; undeclared (first use in this function)<br />&nbsp; &nbsp;s-&gt;multicast = ifr.ifr_flags &amp; IFF_MULTICAST;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c: In function &#039;system_if_apply_settings&#039;:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1357:49: error: &#039;IFF_PROMISC&#039; undeclared (first use in this function)<br />&nbsp; &nbsp;if (system_if_flags(dev-&gt;ifname, s-&gt;promisc ? IFF_PROMISC : 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1392:51: error: &#039;IFF_MULTICAST&#039; undeclared (first use in this function)<br />&nbsp; &nbsp;if (system_if_flags(dev-&gt;ifname, s-&gt;multicast ? IFF_MULTICAST : 0,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c: In function &#039;system_if_up&#039;:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1407:38: error: &#039;IFF_UP&#039; undeclared (first use in this function)<br />&nbsp; return system_if_flags(dev-&gt;ifname, IFF_UP, 0);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c: In function &#039;system_if_down&#039;:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1412:44: error: &#039;IFF_UP&#039; undeclared (first use in this function)<br />&nbsp; int ret = system_if_flags(dev-&gt;ifname, 0, IFF_UP);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c: In function &#039;cb_if_check_valid&#039;:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1437:45: error: &#039;IFF_LOWER_UP&#039; undeclared (first use in this function)<br />&nbsp; device_set_link(chk-&gt;dev, ifi-&gt;ifi_flags &amp; IFF_LOWER_UP ? true : false);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c: In function &#039;system_if_up&#039;:<br />/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/system-linux.c:1408:1: error: control reaches end of non-void function [-Werror=return-type]<br /> }<br /> ^<br />cc1: all warnings being treated as errors<br />CMakeFiles/netifd.dir/build.make:566: recipe for target &#039;CMakeFiles/netifd.dir/system-linux.c.o&#039; failed<br />make[6]: *** [CMakeFiles/netifd.dir/system-linux.c.o] Error 1<br />make[6]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09&#039;<br />CMakeFiles/Makefile2:67: recipe for target &#039;CMakeFiles/netifd.dir/all&#039; failed<br />make[5]: *** [CMakeFiles/netifd.dir/all] Error 2<br />make[5]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09&#039;<br />Makefile:127: recipe for target &#039;all&#039; failed<br />make[4]: *** [all] Error 2<br />make[4]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09&#039;<br />Makefile:46: recipe for target &#039;/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/.built&#039; failed<br />make[3]: *** [/Thanaraj/MyOpenWrt/openwrt/build_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/netifd-2016-12-09/.built] Error 2<br />make[3]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt/package/network/config/netifd&#039;<br />package/Makefile:196: recipe for target &#039;package/network/config/netifd/compile&#039; failed<br />make[2]: *** [package/network/config/netifd/compile] Error 2<br />make[2]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt&#039;<br />package/Makefile:193: recipe for target &#039;/Thanaraj/MyOpenWrt/openwrt/staging_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/stamp/.package_compile&#039; failed<br />make[1]: *** [/Thanaraj/MyOpenWrt/openwrt/staging_dir/target-arm_cortex-a53+neon-vfpv4_musl-1.1.16_eabi/stamp/.package_compile] Error 2<br />make[1]: Leaving directory &#039;/Thanaraj/MyOpenWrt/openwrt&#039;<br />/Thanaraj/MyOpenWrt/openwrt/include/toplevel.mk:192: recipe for target &#039;world&#039; failed<br />make: *** [world] Error 2<br />root@tringapps-3542:/Thanaraj/MyOpenWrt/openwrt# </p><br /><br /><p>Thanks!!</p><p>Regards,<br />Thanaraj.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366308">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						5 Oct 2017, 19:20					</div>
				</div>
				<div class="post-content content">
					<p>&quot;Known to work&quot; build environments: <a href="https://wiki.openwrt.org/doc/howto/buildroot.exigence#examples_of_package_installations">https://wiki.openwrt.org/doc/howto/buil … tallations</a>. Take your pick <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>The error messages you posted seem to be related to netifd package. It should compile without modifications just fine after you switch build environments.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366328">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">thanaraj.s</div>
					<div class="post-datetime">
						6 Oct 2017, 09:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi Antek,</p><p>Thank you for your support.</p><p>Currently I&#039;m preparing new environment. By Researching I found one more option with LEDE Code Project.</p><p>Can we use LEDE image builder for building OpenWrt in Raspberry Pi? [Instead of OpenWrt manual compilation].</p><p>What is the main difference of actual compilation <strong>vs</strong> LEDE build? Can you please give basic tips on this?</p><br /><p>Thanks!!</p><p>Regards,<br />Thanaraj.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366336">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						6 Oct 2017, 13:17					</div>
				</div>
				<div class="post-content content">
					<p>I think there&#039;s a misunderstanding here.</p><p>LEDE and OpenWrt are two different entities. They have many things in common within the code base (LEDE is a branch from a specific revision/commit in the OpenWrt source tree), and the final firmware that can be built by either project&#039;s buildroot can be quite similar, or in some cases it can be exactly the same image as well, just with a different name. These two projects are (probably?) merging back together at some point, and will (probably eventually?) continue as one project.</p><div class="quotebox"><cite>thanaraj.s wrote:</cite><blockquote><p>Can we use LEDE image builder for building OpenWrt in Raspberry Pi? [Instead of OpenWrt manual compilation].</p></blockquote></div><p>You can use the LEDE image builder to build a custom LEDE firmware for several versions of Raspberry Pi, using a collection of pre-compiled packages that you pick &amp; choose from. The packages are downloaded by the image builder from corresponding download mirrors, and a final firmware image is composed like a LEGO construct. The exact same applies to the OpenWrt image builder.</p><p>The source code that was used to construct the pre-compiled packages for the LEDE image builder is more recent though, and often contains patches, bugfixes and enhancements that the pre-compiled packages constructed for the OpenWrt image builder do not.</p><p>Do note that using LEDE image builder is not equivalent of using &quot;better&quot; in all cases. Some things work better in LEDE, some things work worse. Some things are present in LEDE, while some things that OpenWrt has are not. It&#039;s quite a mixed soup at the moment, although the looming merger between the projects should help clear the confusion.</p><div class="quotebox"><cite>thanaraj.s wrote:</cite><blockquote><p>What is the main difference of actual compilation vs LEDE build? Can you please give basic tips on this?</p></blockquote></div><p>You can build a LEDE firmware (or an OpenWrt firmware) in several different ways:<br /></p><ul><li><p>Check out the entire source tree of either project, and build the tools, toolchain, kernel and the packages you want from scratch, using original sources downloaded from various mirrors. This is called the &quot;buildroot&quot; approach, and offers the greatest degree of flexibility regarding what you can do</p></li><li><p>Download the LEDE (or OpenWrt) SDK for your final target, and use the pre-built tools and toolchain to compile a kernel and the packages you want, again using original sources downloaded from various mirrors. There are some caveats on what you can and cannot do using this &quot;SDK&quot; approach. I can&#039;t remember all of those, since I do not use this approach myself.</p></li><li><p>Download the LEDE (or OpenWrt) image builder for your final target, and use the pre-built packages available in the respective download mirrors to compose a custom firmware. This is the most restrictive approach, as you cannot do things like change the Linux kernel version, use third party source code, apply custom patches or similar. You can only choose from an existing list of pre-built packages.</p></li></ul><p>If you have ever installed Ubuntu (or Debian, Red Hat Linux or similar), then the third option should feel very familiar: someone else has compiled the installation image, and all the software you can install beforehand for you, and all you do is &#039;apt-get install barfoo&#039; to get the software you want to use.</p><p>If you choose the first option, then you can even build your &quot;own&quot; SDK or an image builder. This is how the two different projects make their SDKs and image builders available in the first place: they build them and put them to a folder where others can download them from.</p><p>If you want tips for something in specific, you&#039;ll need to ask more detailed questions. As you can probably figure out, the above three approaches, while similar, each have their unique characteristics, so it&#039;s difficult to provide some universal &quot;basic tips&quot; that apply to all scenarios.</p>											<p class="post-edited">(Last edited by <strong>Antek</strong> on 6 Oct 2017, 13:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366342">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">thanaraj.s</div>
					<div class="post-datetime">
						6 Oct 2017, 13:45					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Antek...</p><p>I think, As a beginner, this information is enough to proceed further.</p><p>I have compiled Raspberry Pi image in Ubuntu machine. The images are generated in bin directory,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1) md5sums&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<strong> 2) openwrt-brcm2708-bcm2709-rpi-2-ext4-sdcard.img&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3) openwrt-brcm2708-bcm2709-rpi-2-ext4-sdcard.img.gz&nbsp; </strong><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4) packages&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 5) sha256sums</p><p>Regards,<br />Thanaraj.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366344">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						6 Oct 2017, 13:59					</div>
				</div>
				<div class="post-content content">
					<p>No problem, glad I could help <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>