<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link TL-MR3020 - Boot Loop / Re-Flash Error</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p259169">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lageos</div>
					<div class="post-datetime">
						30 Dec 2014, 12:15					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I am a beginner regarding openwrt and encountered a problem where I am not sure who to continue.</p><p>I tried to reflash the original software of my TP-Link TL-MR3020 - coppied&nbsp; (from TL-MR3020-V1-stripped.zip )&nbsp; the bin with scp to /tmp and flashed with<br /></p><div class="codebox"><pre><code>mtd -r write /tmp/TL-MR3020-V1-FW0.0.3-stripped.bin firmware</code></pre></div><p>, but afterwards the ETH0 wasn&#039;t responding anymore.</p><p>So I soldered connectors to the PCB and used the serial console (with the 10k pullup resistor).</p><p>This is the output of ther serial consol (is in a boot loop):<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4-ge28c8345 (Jun 10 2014 - 17:57:43)

AP121 (ar9330) U-boot

DRAM:  32 MB
led turning on for 1s...
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup
eth1 up
eth0, eth1
auto update firmware: is_auto_upload_firmware = 0!
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... Too big uncompressed streamLZMA ERROR 1 - must RESET</code></pre></div><p>How should I continue to debrick (if it is bricked technically)?</p><p>Many thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259686">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						3 Jan 2015, 17:59					</div>
				</div>
				<div class="post-content content">
					<p>well the hard part (accessing serial) is done..</p><p>what is unclear to you about the tftp recovery procedure?</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-mr3020#manual_method_using_serial_console_and_tftp_experts">http://wiki.openwrt.org/toh/tp-link/tl- … tp_experts</a></p><p>or</p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr841nd#tftp_install">http://wiki.openwrt.org/toh/tp-link/tl- … tp_install</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259854">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">lageos</div>
					<div class="post-datetime">
						4 Jan 2015, 15:50					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your reply!</p><p>I had problems to get out the information where exactly to get the hex size of the file and adress positions (because it was only mentioned in one of the code sections).<br />Here what worked for me:<br /></p><div class="codebox"><pre><code>tpl
setenv 192.168.1.234
tftpboot 0x80000000 firm.bin
erase 0x9f020000 +0x3c0000
cp.b 0x80000000 0x9f020000 0x3c0000
bootm 9f020000</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>