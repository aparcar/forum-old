<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 11b mode is not working in AR9331</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p355215">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">grajeshkannan</div>
					<div class="post-datetime">
						29 Mar 2017, 23:16					</div>
				</div>
				<div class="post-content content">
					<p>Dear Community, I&#039;m trying to configure AR9331 in DESIGNATED DRIVER (Bleeding Edge, 50104) for 11b mode and it fails during driver initialization. Below are the wireless settings and the kernel logs. Any help on this matter is highly appreciated.</p><p>config wifi-device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;mac80211&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel &#039;11&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option path &#039;platform/ar933x_wmac&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode &#039;HT20&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode &#039;11b&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option disabled &#039;0&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;wifi&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;RECOIL_BS&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;recoil123&#039;</p><br /><br /><p>Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): Configuration file: /var/run/hostapd-phy0.conf<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): HT (IEEE 802.11n) in 11b mode is not allowed, disabling HT capabilities<br />Sun Feb&nbsp; 5 12:08:17 2017 kern.info kernel: [&nbsp; &nbsp;23.650764] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): Driver does not support configured HT capability [SHORT-GI-20]<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): wlan0: interface state UNINITIALIZED-&gt;DISABLED<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): wlan0: AP-DISABLED<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): wlan0: Unable to setup interface.<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): wlan0: interface state DISABLED-&gt;DISABLED<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): wlan0: AP-DISABLED<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): hostapd_free_hapd_data: Interface wlan0 wasn&#039;t started<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): nl80211: deinit ifname=wlan0 disabled_11b_rates=0<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): cat: can&#039;t open &#039;/var/run/wifi-phy0.pid&#039;: No such file or directory<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): Command failed: Invalid argument<br />Sun Feb&nbsp; 5 12:08:17 2017 daemon.notice netifd: radio0 (846): Device setup failed: HOSTAPD_START_FAILED</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p355366">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						31 Mar 2017, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>The driver should fall back to accept a b client in any mode.&nbsp; </p><p>If you want to constrain the radio&#039;s operation to only the 11b mode-- not sure why you would-- but you can:<br />* set hwmode &#039;11b&#039;<br />* do <strong>not</strong> have any htmode line</p><p>Note that most b-only client devices were made before WPA existed, so they don&#039;t support it.</p>											<p class="post-edited">(Last edited by <strong>mk24</strong> on 31 Mar 2017, 17:55)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>