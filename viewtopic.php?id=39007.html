<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> tplink 1043ND V1.8 doesnt accept tpl</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p176360">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">trumee</div>
					<div class="post-datetime">
						30 Aug 2012, 09:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>My router got killed when i flashed a recent trunk image which was bogus,</p><p><a href="https://lists.openwrt.org/pipermail/openwrt-devel/2012-August/016523.html">https://lists.openwrt.org/pipermail/ope â€¦ 16523.html</a></p><p>I am trying to debrick it using serial console and have a usb-ttl cable attached to the router. Unfortunately, the router doesnt accept the &#039;tpl&#039; characters. I enable &#039;local echo on&#039; in minicom so it shows what i type. The log below shows that &#039;tpl&#039; is being sent to the router, &quot;Autobooting in 1 seconds<strong>tpl</strong>&quot;, but it doesnt stop the running serial.</p><p>Is there any i can do? </p><div class="codebox"><pre><code>U-Boot 1.1.4 (Aug  4 2010 - 20:06:51)

AP83 (ar9100) U-boot 0.0.11
DRAM:  
sri
32 MB
id read 0x100000ff
flash size 8MB, sector count = 128
Flash:  8 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
eth0 up
eth0
Autobooting in 1 secondstpl
## Booting image at bf020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...



OpenWrt kernel loader for AR7XXX/AR9XXX
Copyright (C) 2011 Gabor Juhos &lt;juhosg@openwrt.org&gt;
Looking for OpenWrt image... found at 0xbf022000
Decompressing kernel... done!
Starting kernel at 80060000...

[    0.000000] Linux version 3.3.8 (rs4@pbx) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Sat Aug 25 13:54:55 BST 2012
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019374 (MIPS 24Kc)
[    0.000000] SoC: Atheros AR9132 rev 2
[    0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:5.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00002000
[    0.000000] Movable zone start PFN for each node
[    0.000000] Early memory PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00002000
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=TL-WR1043 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] MIPS: no machine found for id &#039;TL-WR1043&#039;, supported machines:
[    0.000000] id                       name
[    0.000000] Generic                  Generic AR71XX/AR724X/AR913X based board
[    0.000000] ALFA-AP96                ALFA Network AP96
[    0.000000] ALFA-NX                  ALFA Network N2/N5
[    0.000000] ALL0258N                 Allnet ALL0258N
[    0.000000] AP113                    Atheros AP113
[    0.000000] AP121-MINI               Atheros AP121-MINI
[    0.000000] AP121                    Atheros AP121 reference board
[    0.000000] AP136                    Atheros AP136 reference board
[    0.000000] AP81                     Atheros AP81 reference board
[    0.000000] AP83                     Atheros AP83
[    0.000000] AP96                     Atheros AP96
[    0.000000] AW-NR580                 AzureWave AW-NR580
[    0.000000] DB120                    Atheros DB120 reference board
[    0.000000] DIR-615-E4               D-Link DIR-615 rev. E4
[    0.000000] DIR-600-A1               D-Link DIR-600 rev. A1
[    0.000000] DIR-615-C1               D-Link DIR-615 rev. C1
[    0.000000] DIR-825-B1               D-Link DIR-825 rev. B1
[    0.000000] EW-DORIN-ROUTER          EmbWir-Dorin-Router
[    0.000000] EW-DORIN                 EmbWir-Dorin
[    0.000000] ALL0305                  Allnet ALL0305
[    0.000000] EAP7660D                 Senao EAP7660D
[    0.000000] JA76PF2                  jjPlus JA76PF2
[    0.000000] JA76PF                   jjPlus JA76PF
[    0.000000] JWAP003                  jjPlus JWAP003
[    0.000000] HORNET-UB                ALFA NETWORKS Hornet-UB
[    0.000000] MZK-W04NU                Planex MZK-W04NU
[    0.000000] MZK-W300NH               Planex MZK-W300NH
[    0.000000] NBG460N                  Zyxel NBG460N/550N/550NH
[    0.000000] OM2P-LC                  OpenMesh OM2P LC
[    0.000000] OM2P                     OpenMesh OM2P
[    0.000000] PB42                     Atheros PB42
[    0.000000] PB44                     Atheros PB44 reference board
[    0.000000] PB92                     Atheros PB92
[    0.000000] 493G                     MikroTik RouterBOARD 493G
[    0.000000] 493                      MikroTik RouterBOARD 493/AH
[    0.000000] 450G                     MikroTik RouterBOARD 450G
[    0.000000] 450                      MikroTik RouterBOARD 450
[    0.000000] 433U                     MikroTik RouterBOARD 433UAH
[    0.000000] 433                      MikroTik RouterBOARD 433/AH
[    0.000000] 411U                     MikroTik RouterBOARD 411U
[    0.000000] 411                      MikroTik RouterBOARD 411/A/AH
[    0.000000] 751g                     MikroTik RouterBOARD 751G
[    0.000000] 751                      MikroTik RouterBOARD 751
[    0.000000] 750Gr3                   MikroTik RouterBOARD 750GL
[    0.000000] 750i                     MikroTik RouterBOARD 750
[    0.000000] RW2458N                  Redwave RW2458N
[    0.000000] TEW-632BRP               TRENDnet TEW-632BRP
[    0.000000] TEW-673GRU               TRENDnet TEW-673GRU
[    0.000000] TEW-712BR                TRENDnet TEW-712BR
[    0.000000] TL-MR11U                 TP-LINK TL-MR11U
[    0.000000] TL-MR3020                TP-LINK TL-MR3020
[    0.000000] TL-WR841N-v7             TP-LINK TL-WR841N/ND v7
[    0.000000] TL-MR3420                TP-LINK TL-MR3420
[    0.000000] TL-MR3220                TP-LINK TL-MR3220
[    0.000000] TL-WA901ND               TP-LINK TL-WA901ND
[    0.000000] TL-WA901ND-v2            TP-LINK TL-WA901ND v2
[    0.000000] TL-WDR4300               TP-LINK TL-WDR3600/4300/4310
[    0.000000] TL-WR741ND               TP-LINK TL-WR741ND
[    0.000000] TL-WR741ND-v4            TP-LINK TL-WR741ND v4
[    0.000000] TL-WR841N-v1.5           TP-LINK TL-WR841N v1
[    0.000000] TL-WR941ND               TP-LINK TL-WR941ND
[    0.000000] TL-WR1041N-v2            TP-LINK TL-WR1041N v2
[    0.000000] TL-WR1043ND              TP-LINK TL-WR1043ND
[    0.000000] TL-WR2543N               TP-LINK TL-WR2543N/ND
[    0.000000] TL-WR703N                TP-LINK TL-WR703N v1
[    0.000000] UBNT-LS-SR71             Ubiquiti LS-SR71
[    0.000000] UBNT-LSX                 Ubiquiti LSX
[    0.000000] UBNT-RSPRO               Ubiquiti RouterStation Pro
[    0.000000] UBNT-RS                  Ubiquiti RouterStation
[    0.000000] UBNT-UF                  Ubiquiti UniFi
[    0.000000] UBNT-AR                  Ubiquiti AirRouter
[    0.000000] UBNT-NM                  Ubiquiti Nanostation M
[    0.000000] UBNT-RM                  Ubiquiti Rocket M
[    0.000000] UBNT-BM                  Ubiquiti Bullet M
[    0.000000] UBNT-XM                  Ubiquiti Networks XM (rev 1.0) board
[    0.000000] WHR-HP-GN                Buffalo WHR-HP-GN
[    0.000000] WHR-G301N                Buffalo WHR-G301N
[    0.000000] WHR-HP-G300N             Buffalo WHR-HP-G300N
[    0.000000] WLAE-AG300N              Buffalo WLAE-AG300N
[    0.000000] WNDR3700                 NETGEAR WNDR3700/WNDR3800/WNDRMAC
[    0.000000] WNR2000                  NETGEAR WNR2000
[    0.000000] WP543                    Compex WP543
[    0.000000] WPE72                    Compex WPE72
[    0.000000] WRT160NL                 Linksys WRT160NL
[    0.000000] WRT400N                  Linksys WRT400N
[    0.000000] WZR-HP-G300NH            Buffalo WZR-HP-G300NH
[    0.000000] WZR-HP-G300NH2           Buffalo WZR-HP-G300NH2
[    0.000000] WZR-HP-AG300H            Buffalo WZR-HP-AG300H
[    0.000000] WZR-HP-G450H             Buffalo WZR-HP-G450H
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 29276k/32768k available (2083k kernel code, 3492k reserved, 396k data, 204k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:51
[    0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.090000] gpiochip_add: registered GPIOs 0 to 21 on device: ath79
[    0.100000] MIPS: machine is Generic AR71XX/AR724X/AR913X based board
[    0.110000] bio: create slab &lt;bio-0&gt; at 0
[    0.120000] Switching to clocksource MIPS
[    0.120000] NET: Registered protocol family 2
[    0.130000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.130000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)
[    0.140000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.140000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.150000] TCP reno registered
[    0.150000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.160000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.160000] NET: Registered protocol family 1
[    0.190000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.190000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.200000] msgmni has been set to 57
[    0.210000] io scheduler noop registered
[    0.210000] io scheduler deadline registered (default)
[    0.220000] Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
[    0.240000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
[    0.250000] console [ttyS0] enabled, bootconsole disabled
[    0.250000] console [ttyS0] enabled, bootconsole disabled
[    0.270000] TCP cubic registered
[    0.270000] NET: Registered protocol family 17
[    0.280000] 8021q: 802.1Q VLAN Support v1.8
[    0.280000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(0,0)
[    0.290000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:
[    0.300000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176372">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Slazer</div>
					<div class="post-datetime">
						30 Aug 2012, 12:12					</div>
				</div>
				<div class="post-content content">
					<p>I am not an expert but the wiki says that </p><div class="quotebox"><blockquote><p>At the moment it is NOT possible to UNBRICK the router by JTAG (no write access to flashrom) so be very carefull not to overwrite the u-boot.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176383">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">vkins</div>
					<div class="post-datetime">
						30 Aug 2012, 14:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Slazer wrote:</cite><blockquote><p>I am not an expert but the wiki says that </p><div class="quotebox"><blockquote><p>At the moment it is NOT possible to UNBRICK the router by JTAG (no write access to flashrom) so be very carefull not to overwrite the u-boot.</p></blockquote></div></blockquote></div><p>That&#039;s correct but U-Boot is obviously working on the OPs&#039; device. That notice only applies when U-Boot is broken.</p><p>@OP<br />I think I saw the same problem in some other thread. IIRC, changing a setting does the trick. Flow control or what was it?<br />Edit: Yes, it was flow control. Turn it off in PuTTy. But be careful and don&#039;t kill your device completely. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>vkins</strong> on 30 Aug 2012, 14:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176448">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">trumee</div>
					<div class="post-datetime">
						30 Aug 2012, 22:33					</div>
				</div>
				<div class="post-content content">
					<p>Thanks to _trine, PaulFertser and ben1066 on #openwrt on irc i was able to fix the problem. It turned out that the RX on the header wasnt connected to the adjoining resistor R362. I was able to check the connectivity between the two using a multimeter.</p><p>To overcome this i soldered a wire from R362 to the TX of the usb-ttl adaptor, following which &#039;tpl&#039; was accepted by the router.</p><p>solved!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p264844">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">vlad.theodor</div>
					<div class="post-datetime">
						10 Feb 2015, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>vlad.theodor wrote:</p><p>&nbsp; &nbsp; Topic moved here:<br />&nbsp; &nbsp; <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=278684">http://www.dd-wrt.com/phpBB2/viewtopic.php?t=278684</a></p><p>Search for:<br />1) &quot;wr1043nv1_tp_recovery.bin&quot; ( <a href="http://www.dd-wrt.com/phpBB2/download.php?id=31148">http://www.dd-wrt.com/phpBB2/download.php?id=31148</a> )<br />2) Tftpd32 ( <a href="http://tftpd32.jounin.net/tftpd32_download.html">http://tftpd32.jounin.net/tftpd32_download.html</a> )<br />3) Download archive from <a href="http://www.dd-wrt.com/phpBB2/download.php?id=29248">http://www.dd-wrt.com/phpBB2/download.php?id=29248</a><br />4) Use a UTP-cable (&quot;no jtag&quot;-style)<br />5) Read archive and PUT YOUR LAN CABLE IN THE LAN (yellow) PORT (NOT IN WAN)!!!<br />6) Change your computer ip in 192.168.0.66 and subnet mask in 255.255.255.0<br />7) Set Tftpd32 ready for upload<br />8) Router - power off, power on then quick pressed the 30/30/30-button till the &quot;sevice-led&quot; blinked fast</p><p>and Tftpd32 will autoupload your recovery-image then router will self-reboot like new.<br />Reset your computer IP to auto/dhcp and login in router at 192.168.1.1</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>