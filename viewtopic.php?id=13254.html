<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Samba keeps asking for a password</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p58449">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">wouzs</div>
					<div class="post-datetime">
						3 Nov 2007, 15:13					</div>
				</div>
				<div class="post-content content">
					<p>Hi there!</p><p>I&#039;m using samba to allow people on the network here to store their files on a central location. But I have some troubles running samba on OpenWRT.</p><p>I installed this package:<br /></p><div class="codebox"><pre><code>root@Router:~$ ipkg list_installed | grep samba
samba-server - 2.0.10-2 -</code></pre></div><p>And this is my smb.conf:<br /></p><div class="codebox"><pre><code>[global]
 syslog = 0
 syslog only = yes
 workgroup = MSHOME
 server string =
 security = share
 encrypt passwords = yes
 guest account = harry
 local master = yes
 name resolve order = lmhosts hosts bcast
 log file = /tmp/smb.log

[Muziek]
 path = /mnt/disc0_1/data/Muziek
 browseable = yes
 public = yes
 writeable = yes

[Video]
 path = /mnt/disc0_1/data/Video
 browseable = yes
 public = yes
 writeable = yes

[Torrent]
 path = /mnt/disc0_1/data/Torrent
 browseable = yes
 public = yes
 writeable = yes

[Troep]
 path = /mnt/disc0_1/data/Troep
 browseable = yes
 public = yes
 writeable = yes</code></pre></div><p>I&#039;m using Windows XP Professional and Ubuntu 7.10 clients. In windows there is asked for a password sometimes when i try to connect to the router, and sometimes it&#039;s not asked.</p><p>In Ubuntu I cannot list the network at all.</p><p>Does anyone know what&#039;s wrong with my smb.conf?<br />The same smb.conf was also running on Oleg&#039;s firmware without trouble.</p><p>PS: I have the same problems when I use &quot;guest account = nobody&quot;.</p>											<p class="post-edited">(Last edited by <strong>wouzs</strong> on 3 Nov 2007, 15:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58455">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wouzs</div>
					<div class="post-datetime">
						3 Nov 2007, 16:23					</div>
				</div>
				<div class="post-content content">
					<p>Already got the clue, when installing samba samba was complaining about the fact that it was impossible to resolve it&#039;s own hostname, zo I added &quot;Router&quot; to my /etc/hosts file as 127.0.0.1, not realising that dnsmasq was configured with the &quot;expand-hosts&quot; option. So every DNS lookup to Router pointed to 127.0.0.1.</p><p>The clients got a little confused. Pointed Router to 192.168.1.1 solved all the trouble.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>