<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problem with Ethernet and Wireless</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p97351">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">linyin</div>
					<div class="post-datetime">
						14 Nov 2009, 09:34					</div>
				</div>
				<div class="post-content content">
					<p>I have a small AP, Creative VF0180<br />CPU:Broadcom4712 Memory:64M Only one lan inferface<br />I can get output via TTL, but cant ping the AP. And the /etc/config/wireless is empty!!!</p><p>The kernel is 2.6:<br />root@OpenWrt:/# uname -a<br />Linux OpenWrt 2.6.25.20 #3 Mon Sep 14 09:03:26 UTC 2009 mips unknown</p><br /><p>This output is from TTL:<br />root@OpenWrt:/# ifconfig<br />br-lan&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:01:E3:0E:95:C4<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:1 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:402 (402.0 B)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:01:E3:0E:95:C4<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Interrupt:5</p><p>eth0.0&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:01:E3:0E:95:C4<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>eth0.1&nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:01:E3:0E:95:C4<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><br /><p>And the /etc/config/network:<br />root@OpenWrt:/# more /etc/config/network<br />#### VLAN configuration<br />config switch eth0<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan0&nbsp; &nbsp; &quot;1 2 3 4 5*&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option vlan1&nbsp; &nbsp; &quot;0 5&quot;</p><p>#### Loopback configuration<br />config interface loopback<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&quot;lo&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;127.0.0.1<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; 255.0.0.0</p><p>#### LAN configuration<br />config interface lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;bridge<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&quot;eth0.0&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;192.168.1.1<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; 255.255.255.0</p><p>#### WAN configuration<br />config interface&nbsp; &nbsp; &nbsp; &nbsp; wan<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&quot;eth0.1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; dhcp</p><br /><p>Under the /lib/wifi/ have a file callled hostapd.sh, but /etc/config/wireless is also empty.<br />root@OpenWrt:/# /lib/wifi/hostapd.sh</p><br /><p>dmesg information:<br />root@OpenWrt:/# dmesg<br />Linux version 2.6.25.20 (andy@stable-sandbox) (gcc version 4.1.2) #3<br />Mon Sep 14 09:03:26 UTC 2009<br />CPU revision is: 00029007 (Broadcom BCM3302)<br />ssb: Core 0 found: ChipCommon (cc 0x800, rev 0x09, vendor 0x4243)<br />ssb: Core 1 found: IEEE 802.11 (cc 0x812, rev 0x07, vendor 0x4243)<br />ssb: Core 2 found: Fast Ethernet (cc 0x806, rev 0x07, vendor 0x4243)<br />ssb: Core 3 found: USB 1.1 Device (cc 0x818, rev 0x01, vendor 0x4243)<br />ssb: Core 4 found: USB 1.1 Host (cc 0x817, rev 0x01, vendor 0x4243)<br />ssb: Core 5 found: MIPS 3302 (cc 0x816, rev 0x01, vendor 0x4243)<br />ssb: Core 6 found: MEMC SDRAM (cc 0x80F, rev 0x01, vendor 0x4243)<br />ssb: Core 7 found: PCI (cc 0x804, rev 0x0A, vendor 0x4243)<br />ssb: Initializing MIPS core...<br />ssb: set_irq: core 0x0812, irq 2 =&gt; 2<br />ssb: set_irq: core 0x0806, irq 3 =&gt; 3<br />ssb: set_irq: core 0x0817, irq 0 =&gt; 4<br />ssb: Sonics Silicon Backplane found at address 0x18000000<br />Serial init done.<br />Determined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />Entering add_active_range(0, 0, 4096) 0 entries of 256 used<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br /> Normal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;4096<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp;0:&nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;4096<br />On node 0 totalpages: 4096<br /> Normal zone: 32 pages used for memmap<br /> Normal zone: 0 pages reserved<br /> Normal zone: 4064 pages, LIFO batch:0<br /> Movable zone: 0 pages used for memmap<br />Built 1 zonelists in Zone order, mobility grouping off.&nbsp; Total pages: 4064<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2<br />init=/etc/preinit noinitrd console=ttyS0,115200<br />Primary instruction cache 8kB, VIPT, 2-way, linesize 16 bytes.<br />Primary data cache 4kB, 2-way, VIPT, no aliases, linesize 16 bytes<br />Synthesized clear page handler (26 instructions).<br />Synthesized copy page handler (46 instructions).<br />PID hash table entries: 64 (order: 6, 256 bytes)<br />console [ttyS0] enabled<br />Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Memory: 13580k/16384k available (2073k kernel code, 2804k reserved,<br />308k data, 128k init, 0k highmem)<br />Calibrating delay loop... 198.65 BogoMIPS (lpj=397312)<br />Mount-cache hash table entries: 512<br />net_namespace: 540 bytes<br />NET: Registered protocol family 16<br />Switched to high resolution mode on CPU 0<br />ssb: PCIcore in host mode found<br />Registering a PCI bus after boot<br />PCI: Fixing up bridge 0000:00:00.0<br />PCI: Setting latency timer of device 0000:00:00.0 to 64<br />PCI: Fixing up device 0000:00:00.0<br />PCI: Fixing latency timer of device 0000:00:00.0 to 168<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />TCP: Hash tables configured (established 512 bind 512)<br />TCP reno registered<br />detected lzma initramfs<br />initramfs: LZMA lc=1,lp=2,pb=2,origSize=512<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; Â© 2001-2006 Red Hat, Inc.<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver $Revision: 1.90 $ 2 ports, IRQ sharing enabled<br />serial8250: ttyS0 at MMIO 0xb8000300 (irq = 3) is a 16550A<br />serial8250: ttyS1 at MMIO 0xb8000400 (irq = 3) is a 16550A<br />serial8250.0: ttyS0 at MMIO 0xb8000300 (irq = 3) is a 16550A<br />serial8250.0: ttyS1 at MMIO 0xb8000400 (irq = 3) is a 16550A<br />b44.c:v2.0<br />eth0: Broadcom 44xx/47xx 10/100BaseT Ethernet 00:01:e3:0e:95:c4<br />flash init: 0x1c000000 0x02000000<br />Physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank<br />Physically mapped flash: Found an alias at 0x400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0xc00000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1000000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1400000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1800000 for the chip at 0x0<br />Physically mapped flash: Found an alias at 0x1c00000 for the chip at 0x0<br /> Amd/Fujitsu Extended Query Table at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />Flash device: 0x400000 at 0x1fc00000<br />bootloader size: 262144<br />Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00040000 : &quot;cfe&quot;<br />0x00040000-0x003f0000 : &quot;linux&quot;<br />0x000fd400-0x003f0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary --<br />force read-only<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=250000, len=1A0000<br />0x00250000-0x003f0000 : &quot;rootfs_data&quot;<br />0x003f0000-0x00400000 : &quot;nvram&quot;<br />TCP vegas registered<br />NET: Registered protocol family 1<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 128k freed<br />Please be patient, while OpenWrt loads ...<br />Algorithmics/MIPS FPU Emulator v1.5<br />diag: Detected &#039;Siemens SE505 V2&#039;<br />roboswitch: Probing device eth0: Invalid phy address (0)<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />b44: eth0: Link is up at 10 Mbps, half duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />b44: eth0: powering down PHY<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /jffs<br />There is already a switch registered on the device &#039;eth0&#039;<br />roboswitch: Probing device eth1: No such device<br />roboswitch: Probing device eth2: No such device<br />roboswitch: Probing device eth3: No such device<br />b44: eth0: Link is up at 10 Mbps, half duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />PPP generic driver version 2.4.2<br />br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.<br />device eth0.0 entered promiscuous mode<br />device eth0 entered promiscuous mode<br />br-lan: port 1(eth0.0) entering learning state<br />br-lan: topology change detected, propagating<br />br-lan: port 1(eth0.0) entering forwarding state<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />nf_conntrack version 0.5.0 (1024 buckets, 4096 max)<br />b44: eth0: Link is down.<br />br-lan: port 1(eth0.0) entering disabled state<br />b44: eth0: Link is up at 10 Mbps, full duplex.<br />b44: eth0: Flow control is off for TX and off for RX.<br />br-lan: port 1(eth0.0) entering learning state<br />br-lan: topology change detected, propagating<br />br-lan: port 1(eth0.0) entering forwarding state</p><p>Please help me, thx.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>