<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> FAT32 usb disk with Samba - codepage problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p151271">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">jirmed</div>
					<div class="post-datetime">
						15 Dec 2011, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>Hello experts,</p><p>I try to mount FAT32 external disk on USB formated and used on Windows 7 and then share with Samba. After some fiddeling I have succeded except for the codepage encoding. If I mount the disk without any extra parameters it is mounted as following:</p><p>/dev/sda1 on /share type vfat (rw,relatime,fmask=0022,dmask=0022,codepage=cp437,iocharset=iso8859-1,shortname=mixed,errors=remount-ro)</p><p>After sharing it with Samba all the accented characters in filenames are corrupted. The filename use Czech language so I guess that the encoding should be CP852 (ISO) or CP1250(Win) and the iocharset should be unicode (utf-8) or iso8859-2. </p><p>I have tried various combinations in parameters of mount like -o codepage=852,iocharset=utf-8 and others but the only effects that in the Putty console all the accented characters are substituted by questionmarks and on Samba (on Win 7) they are substituted be some special characters. These special characters differ wth each combination of codepage and iocharset but it never shows the correct accented characters.</p><p>Can anyone help?</p><p>Regards</p><p>Jiri</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194374">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">sarnowak</div>
					<div class="post-datetime">
						9 Mar 2013, 21:17					</div>
				</div>
				<div class="post-content content">
					<p>Hello, just in case (even though some time has passed) did you manage to resolve this issue?<br />I&#039;ve the same problem.<br />Thanks.<br />Ondrej</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194378">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sarnowak</div>
					<div class="post-datetime">
						9 Mar 2013, 21:56					</div>
				</div>
				<div class="post-content content">
					<p>It seems I was able to find correct combination.<br />This mount cmd worked for me:<br />mount -t vfat -o iocharset=utf8,codepage=852 /dev/sda1 /mnt/usb</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>