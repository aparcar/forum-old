<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Belkin F9J1108v1/F9K1115v2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p339817">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Prrr</div>
					<div class="post-datetime">
						30 Sep 2016, 19:06					</div>
				</div>
				<div class="post-content content">
					<p>I recently purchased a Belkin F9J1108 which should be a kit containing a Belkin F9K1115 (Router) and a Belkin F9J1000v1 (Power Modem).</p><p>However as it turns out the router identifies itself as a F9J1108v1 and not F9K1115 and will therefor not take the F9K1115 firmware.</p><p>Is there anyone that has a bit more information on this piece of hardware or any ideas on how to make it accept F9K1115 firmware?</p>											<p class="post-edited">(Last edited by <strong>Prrr</strong> on 6 Oct 2016, 15:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339834">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Prrr</div>
					<div class="post-datetime">
						30 Sep 2016, 21:57					</div>
				</div>
				<div class="post-content content">
					<p>After taking the cover off I can confirm it is identical to the F9K1115.</p><p>Pictures are here: imgur.com/a/V6gVA</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p340424">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Prrr</div>
					<div class="post-datetime">
						6 Oct 2016, 15:48					</div>
				</div>
				<div class="post-content content">
					<p>Would TFTP be an option?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341137">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mario666</div>
					<div class="post-datetime">
						14 Oct 2016, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>Hello. I also recently bought this model. I just have a problem with the flashing because no web ui. I tried turn it on recovery mode (i think bootloader flashing mode) and upload f9k1115 oryginal firmware but router reseting connection and nothing happend.<br />On your screen I can not find pins for serial so soldering will be next step. <br />Any advice from experienced user about flashing via serial?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341456">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mario666</div>
					<div class="post-datetime">
						18 Oct 2016, 14:08					</div>
				</div>
				<div class="post-content content">
					<p>OK. So: yesterday I dissasemble my f9j1108 and soldered cables to serial adapter.<br />Photos from my work: imgur.com/a/1Pds4<br />Soldering went better than I expected. </p><p>Generic TFTP flashing is hard to realise. We need to know the name of .bin file and what&#039;s IP bootloader is looking for.<br />I think we need something like: wiki.openwrt.org/toh/tp-link/archer-c5-c7-wdr7500#recovery_using_serial_connection with modified NAND adresses.<br />I wonder if I should flash f9k1115 oryginal FW or directly: openwrt &quot;factory&quot; image?</p><p><strong>So I want to ask for HELP with flashing especially with adresses!!!!!!!!!</strong> (if it helps i can post oryginal bootlogs)</p><p>Off Topic:<br />if someone will try dissasemble this router my advice is: start to pull up silver edge and not black sides. Black sides are covered with two screws and one in foot.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341457">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mario666</div>
					<div class="post-datetime">
						18 Oct 2016, 14:30					</div>
				</div>
				<div class="post-content content">
					<p>Ok. My bootlog with printenv on the end:</p><div class="codebox"><pre><code>U-Boot 1.1.4 (Feb 13 2014 - 19:07:07)

ap135 - Scorpion 1.0DRAM:  
sri
Scorpion 1.0
ath_ddr_initial_config(200): (32bit) ddr2 init
tap = 0x00000003
Tap (low, high) = (0x3, 0x1e)
Tap values = (0x10, 0x10, 0x10, 0x10)
128 MB
Top of RAM usable for U-Boot at: 88000000
Reserving 232k for U-Boot at: 87fc4000
Reserving 192k for malloc() at: 87f94000
Reserving 44 Bytes for Board Info at: 87f93fd4
Reserving 36 Bytes for Global Data at: 87f93fb0
Reserving 128k for boot params() at: 87f73fb0
Stack Pointer at: 87f73f98
Now running in RAM - U-Boot at: 87fc4000
Flash Manuf Id 0xef, DeviceId0 0x40, DeviceId1 0x18
flash size 16MB, sector count = 256
Flash: 16 MB
In:    serial
Out:   serial
Err:   serial
Net:   ath_gmac_enet_initialize...
athrs_sgmii_res_cal: cal value = 0x1
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
ath_gmac_enet_initialize: reset mask:c02200 
Scorpion  ----&gt; S17 PHY *
Vlan config...
s17 phy0 register value 0x00004140
TEST: FINAL REG VAL after TX Calibration - 0x86000000
TEST: FINAL XMII VAL after RX Calibration - 0x96000000
TEST: FINAL ETH_CFG VAL after RX Calibration - 0x00000001
athrs17_reg_init: complete
: cfg1 0x80000000 cfg2 0x7335
eth0: 00:03:7f:09:0b:ad
eth0 up
athrs17_reg_init_wan done
SGMII in forced mode
athr_gmac_sgmii_setup SGMII done
: cfg1 0x800c0000 cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
eth1 up
eth0, eth1
Setting 0x18116290 to 0x458a214f
Hit any key to stop autoboot:  2  0 
ath&gt; 

ath&gt; 

ath&gt; printenv

bootargs=console=ttyS0,115200 root=31:02 rootfstype=squashfs init=/sbin/init mtdparts=ath-nor0:256k(u-boot),64k(u-boot-env),14464k(rootfs),1536k(uImage),64k(ART),16320k@0x0(all)
bootcmd=bootm 0x9fe70000
bootdelay=2
baudrate=115200
ethaddr=0x00:0xaa:0xbb:0xcc:0xdd:0xee
ipaddr=192.168.2.1
serverip=192.168.2.10
dir=
lu=tftp 0x80060000 ${dir}u-boot.bin&amp;&amp;erase 0x9f000000 +$filesize&amp;&amp;cp.b $fileaddr 0x9f000000 $filesize
lf=tftp 0x80060000 ${dir}ap135-squashfs&amp;&amp;erase 0x9f050000 +0xe20000&amp;&amp;cp.b $fileaddr 0x9f050000 $filesize
lk=tftp 0x80060000 ${dir}vmlinux_11ac_offload_s17.lzma.uImage&amp;&amp;erase 0x9fe70000 +$filesize&amp;&amp;cp.b $fileaddr 0x9fe70000 $filesize
ethact=eth0
edibootver=1.00.03
stdin=serial
stdout=serial
stderr=serial

Environment size: 722/65532 bytes
ath&gt;  </code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341595">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Prrr</div>
					<div class="post-datetime">
						20 Oct 2016, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s some nice work you did there Mario.</p><p>I&#039;ve tried TFTP to no avail since my last post and pretty much gave up on this router but you&#039;ve renewed my hope.</p><p>If we could get someone with more experience to join us in our quest it would be very helpful and much appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341886">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mario666</div>
					<div class="post-datetime">
						23 Oct 2016, 16:47					</div>
				</div>
				<div class="post-content content">
					<p>Hello again.<br />As i mentioned earlier i&#039;m using serial adapter so anybodies who want flash f9j1108 must (I think so) solder cables for it.</p><p>Couple days investigation and <strong>I do it!!!!!!!!</strong><br />OK: so I used &quot;sysupgrade&quot; image from: downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/openwrt-15.05.1-ar71xx-generic-f9k1115v2-squashfs-sysupgrade.bin and not &quot;factory&quot; ( after flashing with &quot;factory&quot; image i got kernel panic: can not mount rootfs...)<br /></p><div class="codebox"><pre><code>tftp 0x80060000 sysupgrade.bin
erase 0x9f050000 +0xf3f4ce
cp.b 0x80060000 0x9f050000 0xf3f4ce
reset</code></pre></div><p>and voila....<br />GoodLuck</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342389">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Prrr</div>
					<div class="post-datetime">
						28 Oct 2016, 22:41					</div>
				</div>
				<div class="post-content content">
					<p>Unfortunately that&#039;s not an option for me right now.</p><p>Is there anyone that could look into why it would accept the F9J1108 firmware:</p><p>cache-w ww.belkin.com/support/dl/F9J1108_WW_1.00.98.bin</p><p>But not the F9K1115:</p><p>cache-w ww.belkin.com/support/dl/F9K1115_WW_2.04.11.bin</p><p>As these machines are identical.</p><p>(Remove the space after the first w)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342466">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mario666</div>
					<div class="post-datetime">
						29 Oct 2016, 21:06					</div>
				</div>
				<div class="post-content content">
					<p>Now I realised that we could try change header in firmware file. Update process must check something in bin file. In f9k1115 firmware in header is &#039;eDiMaX&#039;. But in f9j1108 firmware in header is F9J1108v1. Use some hex editor (notepad ++ eg.)<br />Be aware that a return to oryginal firmware is impossible!!<br />Belkin not share firmware with kernel (with kernel is about 15MB, without 10-12MB).</p><p>After I get managed install OpenWrt on my f9j1108 I don&#039;t know how to setup adsl connection. In most cases ( router + external modem) is used this metod:<br />- modem in bridge mode(entered vpi/vci), router wan with PPPoE. <br />But modem is unmanaged.</p><p>How to force the router to work with the modem?<br />Help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343035">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Prrr</div>
					<div class="post-datetime">
						4 Nov 2016, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>I have tried editing the bin files with a hex editor but unfortunately without any result. The firmware simply gets rejected no matter what I try.</p><p>The modem isn&#039;t built in our router but is in the power plug instead so you&#039;ll have to find a way to get that working or use an external modem. Maybe you could try plugging the modem directly into your LAN port and see if it&#039;s accessible?</p>											<p class="post-edited">(Last edited by <strong>Prrr</strong> on 4 Nov 2016, 18:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343903">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Prrr</div>
					<div class="post-datetime">
						16 Nov 2016, 19:39					</div>
				</div>
				<div class="post-content content">
					<p>Would really appreciate some help with figuring the header out.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>