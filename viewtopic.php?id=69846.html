<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Help - configuring openwrt router to serve as an internet /vpn hub</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 26 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p351937">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Frankfurter</div>
					<div class="post-datetime">
						14 Feb 2017, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;ve successfully flashed openwrt on a NEXX WT3020F router, and devices can connect to it over Wifi, ... so far so good.&nbsp; </p><p>The Nexx router sees and connects to another internet connected router, however, devices which connect to the Nexx do not receive internet access.&nbsp; Any ideas what I&#039;m doing wrong ?</p><p>The Next Steps / Goals.</p><p>1.&nbsp; I want in configure openwrt with openvpn and server as a vpn hub for multiple connected devices.&nbsp; Any advise how I can do this ?</p><p>Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351942">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						14 Feb 2017, 18:31					</div>
				</div>
				<div class="post-content content">
					<p>I recommend you to flash <a href="http://breed.hackpascal.net/breed-mt7620-reset1.bin">breed</a> as bootloader, because stock bootloader doesn&#039;t contain recovery option without soldering UART. The most simple case to perform it is to use intermediate firmware from <a href="https://forum.openwrt.org/viewtopic.php?id=68785">4pda</a>.</p><p>It is strange. Can you ping 8.8.8.8, google.com from Nexx ssh console?</p><p>Firstly configure it as client. You can do it according to my manual: <a href="https://airvpn.org/topic/20303-airvpn-configuration-on-openwrt-preventing-traffic-leakage-outside-tunnel/">https://airvpn.org/topic/20303-airvpn-c â€¦ de-tunnel/</a></p><p>Secondly configure it as server, in this case you should finely tune your routing settings and fine tuning for tun0, tun1, because in this case number of tuns is more than one. In case of two routers you should also set port forwarding on the first one.</p>											<p class="post-edited">(Last edited by <strong>ulmwind</strong> on 15 Feb 2017, 14:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351979">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Frankfurter</div>
					<div class="post-datetime">
						15 Feb 2017, 13:02					</div>
				</div>
				<div class="post-content content">
					<p>Thank you ulmwind for your advice, unfortunately I cannot ping 8.8.8.8, google.com from my console</p><p>I&#039;ve been using LuCi (GUI) to try and access my internet router, but I suspect I&#039;m setting this up incorrectly ?&nbsp; I&#039;m not really sure what I&#039;m doing, but I go into the Network Menu &gt; Wifi &gt; Scan, then select my Internet Router and join.&nbsp; I hoped that would be enough to provide internet access to my OpenWrt router, and subsequently other devices, I&#039;ve then tried to edit that connection using different modes Client / Access Point etc etc but none of the options seem to work.</p><p>Furthermore, I&#039;m wondering if I need to change any setting in the interfaces page ?</p><p>I&#039;m reluctant to flash the bootloader, unless absolutely necessary as I want to keep things as simple as possible, do you&nbsp; think this is essential at this point ?</p><p>Thank you</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351981">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						15 Feb 2017, 14:06					</div>
				</div>
				<div class="post-content content">
					<p>Connecting to your router via WiFi is the further step. Initial step is to get positive respond from ping 8.8.8.8</p><p>How have you connected Nexx to another router?</p><p>Flashing boodloader is to your disposal, but with stock bootloader you operate it as bomb-brick, you don&#039;t know, when it explodes, becoming brick (e.g. firmware update completes with error, and you can&#039;t easily recover it, debrick with stock one).</p>											<p class="post-edited">(Last edited by <strong>ulmwind</strong> on 15 Feb 2017, 14:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351986">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Frankfurter</div>
					<div class="post-datetime">
						15 Feb 2017, 15:17					</div>
				</div>
				<div class="post-content content">
					<p>I connect the Nexx to another router wirelessly using LuCi under the Network menu &gt; Wifi &gt; then scan wireless networks and join. I have also connected both routers with an Ethernet cable but that still doesn&#039;t give internet access via the Nexx.&nbsp; The only way my devices can connect to the internet is to connect directly to the Internert router by passing the Nexx altogether.</p>											<p class="post-edited">(Last edited by <strong>Frankfurter</strong> on 15 Feb 2017, 15:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p351998">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						15 Feb 2017, 17:50					</div>
				</div>
				<div class="post-content content">
					<p>You should use sta mode to perform wireless client with routing: <a href="https://wiki.openwrt.org/doc/recipes/routedclient">https://wiki.openwrt.org/doc/recipes/routedclient</a><br />Have you configured it before?</p><p>Connect LAN of your main router with WAN of Nexx, make sure, that WAN of Nexx is configured to obtain IP via DHCP.</p>											<p class="post-edited">(Last edited by <strong>ulmwind</strong> on 15 Feb 2017, 17:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352074">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Frankfurter</div>
					<div class="post-datetime">
						16 Feb 2017, 13:19					</div>
				</div>
				<div class="post-content content">
					<p>@ulmwind, thanks for the pointers, connecting the 2 routers with Ethernet the way you suggested does the trick i.e. I can access the internet when connecting devices to the Nexx Router ... Result !!</p><p>I can&#039;t however access the Nexx router (192.168.1.1) for configuration via wifi, so I guess this will only be possible via a physical connection.&nbsp; I can only connect to the internet router itself (192.168.0.1)</p><p>Next steps, I will attempt to configure the open vpn on the Nexx, so that all connected devices benefit from a vpn connection.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352092">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ulmwind</div>
					<div class="post-datetime">
						16 Feb 2017, 18:26					</div>
				</div>
				<div class="post-content content">
					<p>You have specific settings for firewall etc., because by default wireless client could connect to admin panel. Or you connected to WiFi of main router, not Nexx?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p352126">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Frankfurter</div>
					<div class="post-datetime">
						17 Feb 2017, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m definitely connecting to the Nexx but it&#039;s operating in a kind of straight thru mode as it seems to show the IP address of the main router on connected devices.&nbsp; </p><p>This seems to be the reason why I can&#039;t get into the&nbsp; admin page of the Nexx</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>