<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Graph network traffic</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Apr 2018 and 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=1686&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p8025">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">GasFed</div>
					<div class="post-datetime">
						5 Jun 2005, 23:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;ve &quot;ported&quot; the statistics graph from m0n0wall to openwrt, it only requires haserl installed (ipkg install haserl).</p><p>Here yo can see an screenshot:</p><p><span class="postimg"><img src="http://img295.echo.cx/img295/8831/stats0it.jpg" alt="http://img295.echo.cx/img295/8831/stats0it.jpg" /></span></p><p>You can download it form:</p><p><a href="http://24.232.1.91/wrt54g.stats.tar.gz">http://24.232.1.91/wrt54g.stats.tar.gz</a></p><p>Any comment or suggestion itâ€™s welcome.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8045">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">evanspa1</div>
					<div class="post-datetime">
						6 Jun 2005, 12:35					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for that, seems like a really useful function!</p><p>I&#039;ve just installed it and SVG, but unfortunately it comes up with &quot;Cannot get data about interface&quot;. It&#039;s trying to monitor vlan1.&nbsp; Any ideas?</p><p>Cheers, Paul.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p8046">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">evanspa1</div>
					<div class="post-datetime">
						6 Jun 2005, 12:53					</div>
				</div>
				<div class="post-content content">
					<p>Just got it working. You&#039;ll need to compile tr, sed and awk in busybox (I didn&#039;t have tr compiled in my experimental build).</p><p>Works a treat now - thanks!</p><br /><p>Paul.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18975">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Ghostrider</div>
					<div class="post-datetime">
						15 Jan 2006, 07:03					</div>
				</div>
				<div class="post-content content">
					<p>Looks great. I&#039;m looking for something like this. For a home network with just the router and couple clients it doesn&#039;t make sense to have another box running 24/7 just to draw the graphs when the box is perfectly capable of doing it itself.<br />The link posted is dead unfortunately - can some1 repost this package?<br />If not are there similar packages around?<br />If not I&#039;ll probably go to the trouble of porting/writing something like that myself.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p18990">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">va1210</div>
					<div class="post-datetime">
						15 Jan 2006, 12:36					</div>
				</div>
				<div class="post-content content">
					<p>Mee too. I&#039;d especially like something that embeds itself in the webif-UI, for instance in the router info-tab.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19000">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">dev</div>
					<div class="post-datetime">
						15 Jan 2006, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>download down <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <br />code:<br />Not Found<br />The requested URL /wrt54g.stats.tar.gz was not found on this server.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20345">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						7 Feb 2006, 06:55					</div>
				</div>
				<div class="post-content content">
					<p>Well, the OP seems to have disappeared.</p><p>But here&#039;s a new version.&nbsp; Through my efforts, I even found an easy way to integrate it into webif!&nbsp; Here&#039;s the IPK:</p><p><a href="http://www.arantius.com/openwrt/ipk/svggraph-webif_0.3_mipsel.ipk">http://www.arantius.com/openwrt/ipk/svg … mipsel.ipk</a></p><p>It relies on &quot;webif-patch&quot; which can be found here:</p><p><a href="http://www.hot-spot-zone.de/hsz/ipkg/">http://www.hot-spot-zone.de/hsz/ipkg/</a></p><p>I know the links in the interfaces section could really be improved, but it all appears to work for me.</p><p><a href="http://img156.imageshack.us/my.php?image=svggraph5kt.jpg"><span class="postimg"><img src="http://img156.imageshack.us/img156/3140/svggraph5kt.th.jpg" alt="http://img156.imageshack.us/img156/3140/svggraph5kt.th.jpg" /></span></a></p><p>Edit: Bumped version for reference.</p>											<p class="post-edited">(Last edited by <strong>arantius</strong> on 9 Mar 2006, 07:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20347">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						7 Feb 2006, 08:06					</div>
				</div>
				<div class="post-content content">
					<p>Duh, it hit me.&nbsp; Prettier links for interfaces (in built in subcategory bar, by overriding the function):</p><p><a href="http://www.arantius.com/openwrt/ipk/svggraph-webif_0.2_mipsel.ipk">http://www.arantius.com/openwrt/ipk/svg … mipsel.ipk</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20361">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ALuedtke</div>
					<div class="post-datetime">
						7 Feb 2006, 11:05					</div>
				</div>
				<div class="post-content content">
					<p>Hi arantius,</p><p>I&#039;m using your package. Unfortunately, all graphs don&#039;t show any lines for cpu usage, traffic etc. You can see an example <a href="http://luedtke.homepage.t-online.de/temp/nograph.JPG">here</a>.</p><br /><p>Do I need to run/start something in order to get these results?</p><p>Thanks</p><p>Andreas</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20399">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						7 Feb 2006, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>ALuedtke,<br />What browser?&nbsp; Where does its SVG support come from?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20402">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">arteqw</div>
					<div class="post-datetime">
						7 Feb 2006, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>I have installed webif 0.2-1 and have a problems. i think svggraph-webif_0.2 is not compatible with that webif version. I posted a screen : <a href="http://img251.imageshack.us/img251/8854/graph6pt.jpg">http://img251.imageshack.us/img251/8854/graph6pt.jpg</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20404">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">ALuedtke</div>
					<div class="post-datetime">
						7 Feb 2006, 21:26					</div>
				</div>
				<div class="post-content content">
					<p>I use Firefox 1.5.0.1. SVG support is internal.</p><p>Andreas</p><p>[Edit]<br />Firefox has internal SVG support, but I&#039;m using the Adobe SVG 6 plugin as recommended in the Mozilla plugin docs. Without this plugin, Firefox wants to download an SVG file...</p>											<p class="post-edited">(Last edited by <strong>ALuedtke</strong> on 7 Feb 2006, 21:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20436">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">jutski</div>
					<div class="post-datetime">
						8 Feb 2006, 04:34					</div>
				</div>
				<div class="post-content content">
					<p>Add the following line<br /></p><div class="codebox"><pre><code>.svg:image/svg+xml</code></pre></div><p>to your /etc/httpd.conf and restart httpd,<br />and Firefox won&#039;t try to download the graphs anymore.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20452">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">ALuedtke</div>
					<div class="post-datetime">
						8 Feb 2006, 14:47					</div>
				</div>
				<div class="post-content content">
					<p>jutski,</p><p>I added the line to httpd.conf and restartet httpd. Now I can use Firefox without the plugin, BUT I still see no cpu/traffic graphs!!!</p><p>arantius, what can I do? Please help.</p><p>FYI: I have a WRT54GS V4 with wr rc4</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20458">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">arteqw</div>
					<div class="post-datetime">
						8 Feb 2006, 15:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ALuedtke wrote:</cite><blockquote><p>jutski,</p><p>I added the line to httpd.conf and restartet httpd. Now I can use Firefox without the plugin, BUT I still see no cpu/traffic graphs!!!</p><p>arantius, what can I do? Please help.</p><p>FYI: I have a WRT54GS V4 with wr rc4</p></blockquote></div><p>i have this problem, too. You are not alone <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20477">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">ronny</div>
					<div class="post-datetime">
						8 Feb 2006, 21:09					</div>
				</div>
				<div class="post-content content">
					<p>I have an graph at the cpu tab, but the others dont get graphed yet...</p><p>Ronny</p><p>WRT54G 2.0 / WR RC4</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20483">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						8 Feb 2006, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>Good catch jutski, I forgot that part!&nbsp; Will need to fix the package.</p><p>For those who do not have data showing, the graph makes (more or less) ajax calls to fetch the data, to a url of this form:</p><p>http://openwrt/cgi-bin/webif/svggraph/data.php</p><p>and</p><p>http://openwrt/cgi-bin/webif/svggraph/data.php?if=lo0</p><p>Does something show up at those URLs (assuming the proper host name/IP for your set up) if you open them in your browser?</p><p>What are the contents of your /proc/stat and /proc/net/dev files?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20520">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">ALuedtke</div>
					<div class="post-datetime">
						9 Feb 2006, 10:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi arantius,</p><p>first of all I had to change data.php to data.sh! Or do I need PHP on my WRT? <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>When I enter http://openwrt/cgi-bin/webif/svggraph/data.sh I get this result:<br /></p><div class="quotebox"><blockquote><p>Thu Feb&nbsp; 9 08:40:55 CET 2006<br />cpu&nbsp; 83258520 10028 185133091 8390</p></blockquote></div><p>For http://openwrt/cgi-bin/webif/svggraph/data.sh?if=lo0 I get:<br /></p><div class="quotebox"><blockquote><p>Thu Feb&nbsp; 9 08:42:22 CET 2006</p></blockquote></div><p>For http://openwrt/cgi-bin/webif/svggraph/data.sh?if=ppp0 I get:<br /></p><div class="quotebox"><blockquote><p>Thu Feb&nbsp; 9 08:44:04 CET 2006<br />&nbsp; ppp0:&nbsp; 197794&nbsp; &nbsp; &nbsp;721&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp;195547&nbsp; &nbsp; &nbsp;747&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p></blockquote></div><p>For http://openwrt/cgi-bin/webif/svggraph/data.sh?if=ipsec0 I get:<br /></p><div class="quotebox"><blockquote><p>Thu Feb&nbsp; 9 08:47:35 CET 2006<br />ipsec0:111945665 1239763&nbsp; &nbsp; 0&nbsp; 361&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 444907534 3113685&nbsp; &nbsp;22 51168&nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; 22&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0</p></blockquote></div><p>After I collected this info for you,&nbsp; I tried it this morning again &quot;the normal way&quot; via the admin GUI. I got some data but not really what I thought. You can see the screenshot <a href="http://luedtke.homepage.t-online.de/temp/nograph2.jpg">here</a>. When I do this, a text string &quot;Collecting initial data, please wait...&quot; appears in the window for some seconds.</p><p>Do you have other ideas?</p><p>Andreas</p><p>[Edit]<br />When I select &quot;Traffic ppp0&quot; on the graphs page, I get a message &quot;cannot get data about interface&quot;</p>											<p class="post-edited">(Last edited by <strong>ALuedtke</strong> on 9 Feb 2006, 10:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20540">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						9 Feb 2006, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>I thought I posted that, yes, .php there was a typo it&#039;s really .sh !</p><p>I&#039;ll probably have to wait &#039;till tonight or this weekend for time to look at this, but I&#039;ll work on it for sure.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20628">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						11 Feb 2006, 00:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I have installed webif 0.2-1 and have a problems</p></blockquote></div><p>Oh, yes.&nbsp; 0.1 only.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20629">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">arteqw</div>
					<div class="post-datetime">
						11 Feb 2006, 00:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arantius wrote:</cite><blockquote><div class="quotebox"><blockquote><p>I have installed webif 0.2-1 and have a problems</p></blockquote></div><p>Oh, yes.&nbsp; 0.1 only.</p></blockquote></div><p>Thanks, The problem is solved. Now I see graph on CPU, but other no ;( I delete completly and install Firefox <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>PS.Sorry for English <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20642">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						11 Feb 2006, 03:34					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m pretty sure I see what the issue was.&nbsp; Give this a shot:</p><p><a href="http://www.arantius.com/openwrt/ipk/svggraph-webif_0.3_mipsel.ipk">http://www.arantius.com/openwrt/ipk/svg … mipsel.ipk</a></p><p>And thank you ALuedtke for the data that pointed out the problem! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20660">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">ALuedtke</div>
					<div class="post-datetime">
						11 Feb 2006, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi arantius,</p><p>I tried your version 0.3 and it looks phantastic now! <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool" />&nbsp; Thanks for the module!</p><p>There is only one minor thing that I encountered: my CPU load is always at 100% even when there is no traffic. Maybe you can fix this with your next version. If you need more data you should tell me asap, because I&#039;m out of the office next week.</p><p>I de-installed version 0.2 before I installed 0.3. Is that necessary?</p><p>Andreas</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20705">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">va1210</div>
					<div class="post-datetime">
						12 Feb 2006, 11:24					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m getting a message &quot;Cannot get data about interface&quot; on all graphs, any suggestions on what I might be doing wrong? Running data.sh?if=eth0 for instance gives me </p><div class="codebox"><pre><code>Sun Feb 12 11:19:16 WET 2006
  eth0:  162847     340    0    0    0     0          0         0    47344     436    0    0    0     0       0          0</code></pre></div><p>I&#039;m running White Russian RC4 on a WRT54G v2.2..</p><p>Great package btw, really looking forward to getting this to work! I&#039;ve been waiting for something like this for a really long time!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p20709">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">ALuedtke</div>
					<div class="post-datetime">
						12 Feb 2006, 12:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi va1210,</p><p>are you using version 0.3? I had similar problems with the other versions.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=1686&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>