<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Fail2ban replacement and RBL firewall sync&#039;ing - in lightweight ash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 5 Apr 2018 and 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=62084&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=62084&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p323676">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">kevindb</div>
					<div class="post-datetime">
						13 May 2016, 14:01					</div>
				</div>
				<div class="post-content content">
					<p>Excellent!&nbsp; I shall give that a try in due course....I&#039;m supposed to be on holiday for a week but somehow I think the laptop will fire up before then :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324142">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">fin</div>
					<div class="post-datetime">
						16 May 2016, 17:19					</div>
				</div>
				<div class="post-content content">
					<p>Thank you robzr for this great tool. Really simple to get set up!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324668">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">robzr</div>
					<div class="post-datetime">
						19 May 2016, 00:57					</div>
				</div>
				<div class="post-content content">
					<p>Thank you, glad to hear it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326660">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">PhusioN</div>
					<div class="post-datetime">
						1 Jun 2016, 04:11					</div>
				</div>
				<div class="post-content content">
					<p>Running r49377 and getting this error when I type the last command in setup</p><div class="codebox"><pre><code>Creating ipset sub2rbl
ipset v6.24: Cannot open session to kernel.
Creating ipset sub2rbl_swing
ipset v6.24: Cannot open session to kernel.
Retrieving RBL (https://lists.blocklist.de/lists/ssh.txt)
ipset v6.24: Cannot open session to kernel.
ipset v6.24: Error in line 1: Cannot open session to kernel.
ipset v6.24: Cannot open session to kernel.
RBL (https://lists.blocklist.de/lists/ssh.txt) added 0 entries
Creating ipset sub2rbl
ipset v6.24: Cannot open session to kernel.
Creating ipset sub2rbl_swing
ipset v6.24: Cannot open session to kernel.
Retrieving RBL (https://lists.blocklist.de/lists/strongips.txt)</code></pre></div><p>Any idea what&#039;s wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326661">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">robzr</div>
					<div class="post-datetime">
						1 Jun 2016, 04:24					</div>
				</div>
				<div class="post-content content">
					<p>Hi, did you install the ipset kernel module (package kmod-ipt-ipset)?</p><p>Rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326663">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">PhusioN</div>
					<div class="post-datetime">
						1 Jun 2016, 04:32					</div>
				</div>
				<div class="post-content content">
					<p>All installed fine<br /></p><div class="codebox"><pre><code>Package kmod-ipt-ipset (4.4.7-1) installed in root is up to date</code></pre></div><p>I noticed that I&#039;ve included some ip6 stuff in my build,&nbsp; could this be the problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326668">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">robzr</div>
					<div class="post-datetime">
						1 Jun 2016, 05:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>PhusioN wrote:</cite><blockquote><p>All installed fine<br /></p><div class="codebox"><pre><code>Package kmod-ipt-ipset (4.4.7-1) installed in root is up to date</code></pre></div><p>I noticed that I&#039;ve included some ip6 stuff in my build,&nbsp; could this be the problem?</p></blockquote></div><p>I doubt it? Did you build a custom kernel?&nbsp; What is the output of lsmod | grep ip_set</p><p>Rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326688">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">PhusioN</div>
					<div class="post-datetime">
						1 Jun 2016, 10:34					</div>
				</div>
				<div class="post-content content">
					<p>Nothing is showing up for that command</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326763">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">robzr</div>
					<div class="post-datetime">
						1 Jun 2016, 20:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>PhusioN wrote:</cite><blockquote><p>Nothing is showing up for that command</p></blockquote></div><p>Sounds like the ipset kernel modules are not loading.&nbsp; If you rebuild or are using a different kernel, you probably have to rebuild and install the ipset modules as well.&nbsp; &quot;modprobe ip_set&quot; should give you more details on what&#039;s happening.</p><p>Rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p326765">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">PhusioN</div>
					<div class="post-datetime">
						1 Jun 2016, 21:05					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for help, rebuilt build with kmod-ipt-ipset, etc all selected. Working fine now</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332222">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">lkraav</div>
					<div class="post-datetime">
						20 Jul 2016, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the work here. What would it take for sub2rbl become a package?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332330">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">robzr</div>
					<div class="post-datetime">
						21 Jul 2016, 08:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lkraav wrote:</cite><blockquote><p>Thanks for the work here. What would it take for sub2rbl become a package?</p></blockquote></div><p>Thanks.&nbsp; I&#039;m not sure, do you know if there are any good instructions on making a package?&nbsp; Since there are no binaries the install bit should be pretty simple.</p><p>Rob</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337687">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">Cye3s</div>
					<div class="post-datetime">
						9 Sep 2016, 11:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi:<br />Thanks for this usefull tool. <br />I installed it on X64 Openwrt 15.05.1, it works, but the Luci will hang up when login after 7-15 days, I have to reboot the device, the logread seem dead.<br />This happend about 3 times. Afher I disable the &#039;bearDropper&#039; service, my device uptime is now 72 days, without any hang up.<br />Do I need increase syslog ring buffer size?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343809">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">zhhhh</div>
					<div class="post-datetime">
						15 Nov 2016, 21:30					</div>
				</div>
				<div class="post-content content">
					<p>I install the bearDropper (manually) since my wget doesn&#039;t have ssl support.<br />It looks fine in the beginning. Then when the system reboot, the ssh (dropbear) doesn&#039;t work any more. The only solution is to restart dropbear (for ssh). bearDropper seems working perfectly. Any suggestion? My ssh is not port 22 according to my setup.</p><p>Here is the system log when it is rebooted:</p><p>Tue Nov 15 19:54:42 2016 authpriv.warn dropbear[1001]: Failed listening on &#039;22&#039;: Error listening: Cannot assign requested address<br />Tue Nov 15 19:54:42 2016 authpriv.info dropbear[1001]: Not backgrounding</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p358609">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">mariano.silva</div>
					<div class="post-datetime">
						19 May 2017, 05:53					</div>
				</div>
				<div class="post-content content">
					<p>Amazin packages! Thanks for creating this ... Already deployed and working fine!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364081">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">eitlane</div>
					<div class="post-datetime">
						21 Aug 2017, 15:41					</div>
				</div>
				<div class="post-content content">
					<p>Hello guys,</p><p>I am quite new to the forum as well as openwrt. I was looking for an alternative to fail2ban and I found this thread. My problem is that I replaced my dropbear with OpenSSH. Now my question is: Is bearDropper working with OpenSSH?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p370976">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">tapper</div>
					<div class="post-datetime">
						17 Jan 2018, 19:55					</div>
				</div>
				<div class="post-content content">
					<p>Hi just installed both scripts and seem to be working just fine on LEDE build 5848. Will let you no if any thing brakes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p373324">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">6thelements</div>
					<div class="post-datetime">
						6 Mar 2018, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>Thanks! Will test sub2rbl.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 3 of 3</div><nav><ul><li><a href="viewtopic.php%3Fid=62084&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=62084&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>