<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How do I update my openrb with the latest openwrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p96151">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mpc823</div>
					<div class="post-datetime">
						20 Oct 2009, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>I build the latest openwrt firmware but while booting the routerboard I become this in the console</p><p>this was the squashfs what I flashed to the routerboard</p><p>U-Boot customized version (May 23 2008 - 11:37:01)<br />(c) by denx.de, (c) by OpenRB.com (V20082104)</p><p>CPU: IBM PowerPC 405EP Rev. B at 266.666 MHz (PLB=133, OPB=66, EBC=33 MHz)<br />IIC Boot EEPROM disabled<br />PCI async ext clock used, internal PCI arbiter enabled<br />16 kB I-Cache 16 kB D-Cache<br />HW_ID: PPC405stop autoboot: 3 2 1 0<br />## Booting image at ff800000 ...<br />Image Name: Linux-2.6.30.8<br />Image Type: PowerPC Linux Kernel Image (gzip compressed)<br />Data Size: 1400206 Bytes = 1.3 MB<br />Load Address: 00400000<br />Entry Point: 004004a4<br />Verifying Checksum ... OK<br />Uncompressing Kernel Image ... OK<br />CPU clock-frequency &lt;- 0xfe501a0 (267MHz)<br />CPU timebase-frequency &lt;- 0xfe501a0 (267MHz)<br />/plb: clock-frequency &lt;- 7f280d0 (133MHz)<br />/plb/opb: clock-frequency &lt;- Open Platform (OpenRB.com)<br />I2C: ready<br />DRAM: 64 MB<br />FLASH: 8 MB<br />Net: ppc_405x_eth0<br />Hit any key to 3f94068 (67MHz)<br />/plb/ebc: clock-frequency &lt;- 1fca034 (33MHz)<br />/plb/opb/serial@ef600300: clock-frequency &lt;- a98abc (11MHz)<br />/plb/opb/serial@ef600400: clock-frequency &lt;- a98abc (11MHz)<br />Memory &lt;- &lt;0x0 0x4000000&gt; (64MB)<br />ENET0: local-mac-address &lt;- 00:50:c2:1e:af:fe<br />ENET1: local-mac-address &lt;- 00:50:c2:1e:af:fd</p><p>zImage starting: loaded at 0x00400000 (sp: 0x03f93e50)<br />Allocating 0x2e7a34 bytes for kernel ...<br />gunzipping (0x00000000 &lt;- 0x0040e000:0x006f5bf0)...done 0x2d44e0 bytes</p><p>Linux/PowerPC load: console=ttyS0,115200 root=/dev/mtdblock1 rootfstype=squashfs,jffs2 noinitrd init=/etc/preinit<br />Finalizing device tree... flat tree at 0x702300<br />Using PowerPC 40x Platform machine description<br />Linux version 2.6.30.8 (martin@Mac-Mini) (gcc version 4.2.4) #3 Tue Oct 20 14:42:40 CEST 2009<br />console [udbg0] enabled<br />setup_arch: bootmem<br />arch: exit<br />Zone PFN ranges:<br />DMA 0x00000000 -&gt; 0x00004000<br />Normal 0x00004000 -&gt; 0x00004000<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />0: 0x00000000 -&gt; 0x00004000<br />MMU: Allocated 1088 bytes of context maps for 255 contexts<br />Built 1 zonelists in Zone order, mobility grouping on. Total pages: 16256<br />Kernel command line: console=ttyS0,115200 root=/dev/mtdblock1 rootfstype=squashfs,jffs2 noinitrd init=/etc/preinit<br />NR_IRQS:512<br />UIC0 (32 IRQ sources) at DCR 0xc0<br />PID hash table entries: 256 (order: 8, 1024 bytes)<br />clocksource: timebase mult[f00010] shift[22] registered<br />Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)<br />Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Memory: 61900k/65536k available (2764k kernel code, 3568k reserved, 104k data, 74k bss, 124k init)<br />Kernel virtual memory layout:<br />* 0xffffe000..0xfffff000 : fixmap<br />* 0xfde00000..0xfe000000 : consistent mem<br />* 0xfddfe000..0xfde00000 : early ioremap<br />* 0xc5000000..0xfddfe000 : vmalloc &amp; ioremap<br />SLUB: Genslabs=11, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />Calibrating delay loop... 532.48 BogoMIPS (lpj=1064960)<br />Mount-cache hash table entries: 512<br />net_namespace: 528 bytes<br />NET: Registered protocol family 16</p><p>PCI host bridge /plb/pci@ec000000 (primary) ranges:<br />MEM 0x0000000080000000..0x000000009fffffff -&gt; 0x0000000080000000<br />IO 0x00000000e8000000..0x00000000e800ffff -&gt; 0x0000000000000000<br />4xx PCI DMA offset set to 0x00000000<br />PCI: Probing PCI hardware<br />PCI: Hiding 4xx host bridge resources 0000:00:00.0<br />pci 0000:00:03.0: PME# supported from D0 D2 D3hot<br />pci 0000:00:03.0: PME# disabled<br />pci 0000:00:03.1: PME# supported from D0 D2 D3hot<br />pci 0000:00:03.1: PME# disabled<br />bio: create slab &lt;bio-0&gt; at 0<br />SCSI subsystem initialized<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 2048 (order: 2, 16384 bytes)<br />TCP bind hash table entries: 2048 (order: 1, 8192 bytes)<br />TCP: Hash tables configured (established 2048 bind 204cool<br />TCP reno registered<br />NET: Registered protocol family 1<br />squashfs: version 4.0 (2009/01/31) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY) Â© 2001-2006 Red Hat, Inc.<br />SGI XFS with security attributes, no debug enabled<br />msgmni has been set to 121<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver, 2 ports, IRQ sharing enabled<br />serial8250.0: ttyS0 at MMIO 0xef600300 (irq = 16) is a 16550A<br />console handover: boot [udbg0] -&gt; real [ttyS0]<br />serial8250.0: ttyS1 at MMIO 0xef600400 (irq = 17) is a 16550A<br />ef600300.serial: ttyS0 at MMIO 0xef600300 (irq = 16) is a 16550A<br />ef600400.serial: ttyS1 at MMIO 0xef600400 (irq = 17) is a 16550A<br />scsi0 : pata_magicbox_cf<br />ata1: PATA max PIO4 cmd 0xc507e00e ctl 0xc508200c irq 25<br />PPC 4xx OCP EMAC driver, version 3.54<br />MAL v1 /plb/mcmal, 4 TX channels, 2 RX channels<br />eth0: EMAC-0 /plb/opb/ethernet@ef600800, MAC 00:50:c2:1e:af:fe<br />eth0: found Generic MII PHY (0x00)<br />eth1: EMAC-1 /plb/opb/ethernet@ef600900, MAC 00:50:c2:1e:af:fd<br />eth1: found Generic MII PHY (0x01)<br />ff800000.nor_flash: Found 1 x16 devices at 0x0 in 16-bit bank<br />Amd/Fujitsu Extended Query Table at 0x0040<br />ff800000.nor_flash: Swapping erase regions for broken CFI table.<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.<br />cmdlinepart partition parsing not available<br />RedBoot partition parsing not available<br />Creating 3 MTD partitions on &quot;ff800000.nor_flash&quot;:<br />0x000000000000-0x000000120000 : &quot;linux&quot;<br />0x000000120000-0x0000007c0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />split_squashfs: no squashfs found in &quot;ff800000.nor_flash&quot;<br />0x0000007c0000-0x0000007f0000 : &quot;u-boot&quot;<br />TCP westwood registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000000: 0x2eec instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000004: 0xfa2f instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000008: 0x9ff4 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000000c: 0x81e3 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000010: 0x25a5 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000014: 0x179e instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000018: 0x76fc instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000001c: 0x0ec9 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000020: 0x7ef3 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000024: 0x856d instead<br />Further such events for this erase block will not be printed<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010000: 0xbeaf instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010004: 0xa6af instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010008: 0x9883 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0001000c: 0x317c instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010010: 0x8cf3 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010014: 0xd355 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010018: 0x1bd8 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0001001c: 0x96c2 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010020: 0xc6b0 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010024: 0xda51 instead<br />Further such events for this erase block will not be printed<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020000: 0x2375 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020004: 0x51d2 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020008: 0x7963 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002000c: 0x252d instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020010: 0x3710 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020014: 0x8c2d instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020018: 0x894f instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0002001c: 0x0c04 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020020: 0xeeff instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020024: 0xec4e instead<br />Further such events for this erase block will not be printed<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030000: 0x2207 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030004: 0xb60d instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030008: 0x256c instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0003000c: 0x24e3 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030010: 0x4b4f instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030014: 0xbf3f instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030018: 0x71c2 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0003001c: 0x91ef instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030020: 0xd556 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00030024: 0x0fd7 instead<br />Further such events for this erase block will not be printed<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120000: 0x6873 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120004: 0xb601 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120008: 0x4fb0 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120010: 0x0d00 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120014: 0x0200 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120018: 0xc000 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0012001c: 0x0400 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120020: 0x801a instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120028: 0xf626 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00120030: 0xee26 instead<br />Further such events for this erase block will not be printed<br />Empty flash at 0x00120038 ends at 0x00120040<br />Old JFFS2 bitmask found at 0x00121258<br />You cannot use older JFFS2 filesystems with newer kernels<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130000: 0x80dc instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130004: 0x1adb instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130008: 0xf817 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0013000c: 0x4955 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130010: 0x26a9 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130014: 0x2db0 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130018: 0x1f22 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0013001c: 0xef09 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130020: 0x2c6c instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00130024: 0x9cb8 instead<br />Further such events for this erase block will not be printed<br />Old JFFS2 bitmask found at 0x0013e3d8</p><p>jffs2_scan_eraseblock(): End of filesystem marker found at 0x230000<br />Cowardly refusing to erase blocks on filesystem with no valid JFFS2 nodes<br />empty_blocks 71, bad_blocks 0, c-&gt;nr_blocks 106<br />VFS: Cannot open root device &quot;mtdblock1&quot; or unknown-block(31,1)<br />Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />1f00 1152 mtdblock0 driver: of-flash<br />1f01 6784 mtdblock1 driver: of-flash<br />1f02 192 mtdblock2 driver: of-flash<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(31,1)<br />Rebooting in 180 seconds..</p><p>I don&#039;t know what I have to do now I think I have to update the rootfs also ? But therefor is absolutly none describtion found for doing this. The command fis dont work.</p><p>Martin</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>