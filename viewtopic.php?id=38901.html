<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OTP for guest WLAN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p175791">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lorcap</div>
					<div class="post-datetime">
						25 Aug 2012, 17:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi everyone,</p><p>has anyone ever tried to implement a one-time password for a guest WLAN as to offer Internet connection and LAN resources to friends?&nbsp; This is different from a separated <a href="http://wiki.openwrt.org/doc/recipes/guest-wlan">guest WLAN</a> because my idea is to allow my friends to have access to my SmartTV as to share their pics.</p><p>My proposal is to have a second WLAN (guest) with an alphanumeric, random, and not-so-long password which changes every time the AP is switched on.&nbsp; From the private WLAN (protected with a strong password), I can visit a web page on the AP and tell my friend the random password to connect to the guest WLAN.&nbsp; Once my friend is connected, they have full access to my private LAN and Internet connection.</p><p>If nobody has never made an attempt, I think I can make it with your help guys, even though I don&#039;t know LUA (I&#039;m a senior programmer).&nbsp; And hopefully I will share it here and on the wiki.</p><p>Alternative solutions and suggestions are also welcomed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p176835">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">lorcap</div>
					<div class="post-datetime">
						4 Sep 2012, 11:33					</div>
				</div>
				<div class="post-content content">
					<p>After some thoughts, I&#039;m convinced the way to go consists in enabling <a href="http://en.wikipedia.org/wiki/Wi-Fi_Protected_Setup">WPS</a>.&nbsp; Even though WPS is <a href="http://www.kb.cert.org/vuls/id/723755">vulnerable</a> by brute-force attacks, the one-time-password feature I want the system to have makes the guest LAN stronger.&nbsp; If this wouldn&#039;t be enough, the WPS&#039;s PIN method can be disabled.</p><p>My next step was to replace wpad-mini with wpad+hostapd-util, as described <a href="http://wiki.openwrt.org/toh/netgear/wndr3700?s=wps#wps.button">here</a>.&nbsp; The problem is that the following command doesn&#039;t work because <em>wps_pbc</em> is unknown.<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# hostapd_cli -p /var/run/hostapd-phy0 wps_pbc</code></pre></div><p>Any idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177339">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">lorcap</div>
					<div class="post-datetime">
						7 Sep 2012, 23:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lorcap wrote:</cite><blockquote><p>The problem is that the following command doesn&#039;t work because <em>wps_pbc</em> is unknown.<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# hostapd_cli -p /var/run/hostapd-phy0 wps_pbc</code></pre></div><p>Any idea?</p></blockquote></div><p>I think I found the reason in this <a href="https://forum.openwrt.org/viewtopic.php?pid=142170#p142170">post</a>.</p><p>My <a href="http://downloads.openwrt.org/backfire/10.03.1/brcm63xx/packages/hostap-utils_0.4.7-1_brcm63xx.ipk">hostapd-utils</a> package was compiled for Backfire 10.03.1 and brcm63xx.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>