<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New Project: MikroConf Router Configuration Interface</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 10 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p105731">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">alsterg</div>
					<div class="post-datetime">
						31 Mar 2010, 21:52					</div>
				</div>
				<div class="post-content content">
					<p>This is an announcement for a new project called MikroConf.</p><p>MikroConf is a command-line administration interface, similar to those<br />found in commercial routers. It glues together various embedded Linux<br />components (busybox, etc...) under a consistent and familiar (de-facto) <br />command-line interface.</p><p>With MikroConf you can do things like:</p><p>Router&gt; en<br />Router# conf term<br />Router(config)# hostname OpenWRT<br />OpenWRT(config)# end<br />OpenWRT# write<br />OpenWRT# show run</p><p>Of course this is a very simple example. You can do much more<br />sophisticated configurations with MikroConf.</p><p>It is convenient and enjoyable to work with, even for the seasoned Linux<br />administrator due to a number of more-or-less unique to MikroConf features:</p><p>1. It supports (in a safe manner) in-line scripting in the Tcl<br />Programming Language. Regular configuration commands and Tcl commands<br />can be intertwined on the command prompt.<br />2. It supports an event-based/reactive configuration paradigm. Tcl<br />procedures can be registered to be invoked when certain events occur<br />(e.g. link up/down).<br />3. Automation of repeated tasks via parameterized macros (Tcl procs).<br />4. Command output can be captured, filtered, manipulated, emailed etc.<br />5. Usability features such as: ANSI terminal colors and highlights, full<br />screen editing of configuration, and others.</p><p>Of course, as expected by such an interface, it supports all the<br />standard command-line editing conveniences: in-help, command<br />abbreviations, command expansion, history substitutions, command-line<br />editing keys and others.</p><p>It is written in Tcl and C. It has a very clean and well-documented<br />design, which makes it particularly easy to extend with new<br />configuration modules. There is complete documentation on the framework,<br />design document, and a tutorial on how to write new modules in Tcl.<br />Users will find a Getting Started Guide and a command reference with<br />description on each supported command.</p><p>It comes with a patch that fully integrates it to OpenWRT&#039;s development<br />environment. Currently the patch is for r20079 svn revision of OpenWRT-dev sources. <br />Download with:<br />svn co -r 20079 svn://svn.openwrt.org/openwrt/trunk<br />And apply the patch that you will find in MikroConf&#039;s downloads section.<br />There are also ready-to-use VirtualBox &amp; VMWare OpenWRT images that <br />you can try it out without going through the building phase.</p><p>Current configuration capabilities, with more are coming soon:</p><p>* Basic Commands and Services<br />* Low-level System/Kernel Configuration<br />* Firmware Operations<br />* Local and Remote File System Access and Maintenance<br />* Network and Host Troubleshooting and Communication Tools<br />* VTY Configuration<br />* Syslog and Logging<br />* Network Time Protocol Client Support<br />* Interface Configuration<br />* Basic IP Configuration (dhcp, static routing, etc.)<br />* Layer 2 Network Discovery</p><p>MikroConf is actively looking for developers to join in, among other roles. <br />It will soon be possible to contribute to MikroConf as a student, in the <br />context of Google Summer of Code 2010, having Tcl/Tk as the mentoring organization.</p><p>Main Web Page: <a href="http://mikroconf.sourceforge.net">http://mikroconf.sourceforge.net</a>/<br />Screenshots: <a href="http://sourceforge.net/project/screenshots.php?group_id=297197">http://sourceforge.net/project/screensh … _id=297197</a><br />Command Reference: <a href="http://sourceforge.net/apps/mediawiki/mikroconf/index.php?title=Category:MikroConf_Module">http://sourceforge.net/apps/mediawiki/m … onf_Module</a><br />Help Wanted: <a href="http://sourceforge.net/apps/mediawiki/mikroconf/index.php?title=How_to_help">http://sourceforge.net/apps/mediawiki/m … ow_to_help</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106995">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ratbug</div>
					<div class="post-datetime">
						16 Apr 2010, 00:44					</div>
				</div>
				<div class="post-content content">
					<p>very nice project though this can be done with quagga to a certain extent</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p107027">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">alsterg</div>
					<div class="post-datetime">
						16 Apr 2010, 08:25					</div>
				</div>
				<div class="post-content content">
					<p>Unlike MikroConf, quagga is solely for routing functions. A future goal is actually to integrate on a library level with quagga, so that all guagga functionality becomes available through MikroConf interface.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116074">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						29 Aug 2010, 07:42					</div>
				</div>
				<div class="post-content content">
					<p>I am very interested in trying this software out, however I&#039;ve been pretty unsuccessful with the openwrt virtualbox image you&#039;ve provided.</p><p>It boots up fine, but when I try to enter MikroConf Shell (mcsh) it throws the error:<br /></p><div class="codebox"><pre><code>Timeout waiting: error flushing &quot;sock8&quot;: broken pipe</code></pre></div><p>system log shows<br /></p><div class="codebox"><pre><code>Aug 28 21:40:19 Router daemon.alert MikroConf: Background error: error reading &quot;sock13&quot;: interrupted system call</code></pre></div><p>I&#039;ve tried on two different computers, both running Ubuntu 10.04 (one is x86_64). I have created the serial port as host pipe, following your instructions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116278">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						1 Sep 2010, 19:57					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have it running on my Netgear WNDR3700, and I have to say... GREAT WORK! I had to modify a few Makefiles to get it to compile properly, but it was trivial (-fPIC).</p><p>I wrote a VRRP module using VRRPD, and I will post it here and to your trac later tonight when I get home. It is far from perfect, but I was hoping that you could look at it and give me input as far as improvements I could make to it.</p><p>Regards!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116828">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Treq</div>
					<div class="post-datetime">
						10 Sep 2010, 17:02					</div>
				</div>
				<div class="post-content content">
					<p>This looks really cool (to a Cisco router-guy <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; ), but I have problem trying it out..</p><p>Looks to me that there is something wrong with the VirtualBox image on the website.<br />Get the same &quot;broken pipe&quot; error that aport writes about above. Both over the serial port as well as in the virtualbox gui.<br />And I can&#039;t figure out how to compile it either. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>Treq</strong> on 10 Sep 2010, 17:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117228">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						15 Sep 2010, 19:42					</div>
				</div>
				<div class="post-content content">
					<p>Treq, </p><p>What issues do you run into when compiling?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117709">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Treq</div>
					<div class="post-datetime">
						22 Sep 2010, 22:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi aport,</p><p>The main problem is that I am not much of a programmer and I just don&#039;t know enough about compiling to get it done right..<br />I can compile OpenWRT easy enough, but when it comes to two source trees and how it all works together, I am lost..</p><p>I get as far as this:<br />1. Get openwrt trunk to the right revision number (20079).<br />2. Apply that Mikrconf patch.<br />3. Get mikroconf source downloaded.<br />4. In mikroconf directory do:<br /></p><div class="codebox"><pre><code>kkrohn@Hugin:~/openwrt/mikroconf$ make all
cd mcd &amp;&amp; make
make[1]: Entering directory `/home/kkrohn/openwrt/mikroconf/mcd&#039;
cc  -c lib.c -o lib.o
lib.c:6:17: error: tcl.h: No such file or directory
lib.c:8: error: expected ‘)’ before ‘clientData’
make[1]: *** [lib.o] Error 1
make[1]: Leaving directory `/home/kkrohn/openwrt/mikroconf/mcd&#039;
make: *** [all] Error 2</code></pre></div><p>I am not even sure what this SVN and independent build is supposed to do.<br />I mean, wouldn&#039;t it be better to either make a package or if a patch to OpenWRT is really necessary, keep the whole Mikroconf thing in that patch?<br />And not patch + separate compile?<br />.. but what do I know?&nbsp; &nbsp;<img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Think this is a BRILLIANT idea, though. <br />Getting proper CLI on at least the router-related parts of OpenWRT would be ..... amazing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117718">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						23 Sep 2010, 00:04					</div>
				</div>
				<div class="post-content content">
					<p>Hi Treq, </p><p>Tonight I can make a tarball with all the packages. You&#039;ll just extract it into openwrt/package/ then make menuconfig. Mikroconf depends on some tcl libs, and I had to modify the Makefiles to get them to compile for my ar71xx target.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118046">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Treq</div>
					<div class="post-datetime">
						28 Sep 2010, 19:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi aport,</p><p>yeah? Really?&nbsp; &nbsp; Sweet!&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Would it compile for x86 too, you think?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118051">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						28 Sep 2010, 21:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Treq wrote:</cite><blockquote><p>Hi aport,</p><p>yeah? Really?&nbsp; &nbsp; Sweet!&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Would it compile for x86 too, you think?</p></blockquote></div><p>I apologize for not holding up my end of the deal; I get really busy at work <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>I was just going to post the packages in Makefile form, not compiled... but I suppose I can.</p><p>My target is big-endian MIPS but I&#039;ll try to get some x86 packages too. I can&#039;t guarantee they&#039;ll work though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118052">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">aport</div>
					<div class="post-datetime">
						28 Sep 2010, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>Here&#039;s the first part: <a href="http://rapidshare.com/files/421989966/mikroconf-package.tar.gz">http://rapidshare.com/files/421989966/m … age.tar.gz</a></p><p>Extract that into your openwrt/package/ dir and you can select Mikroconf in make menuconfig.</p><p>The mikroconf package in there includes the source code since I was testing/modifying it and didn&#039;t want to deal with patching just yet.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>