<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Kernel panic - not syncing: No init found. Try passing init= option...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p183878">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">andypi</div>
					<div class="post-datetime">
						21 Nov 2012, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;ve just cross-compiled an image for a x86.&nbsp; I copied (dd) the image across from a livecd and then rebooted.&nbsp; It starts to bootup fine until:</p><div class="codebox"><pre><code>Kernel panic - not syncing: No init found. Try passing init= option to kernel</code></pre></div><p>Anyone know what I&#039;m doing wrong?</p><p>Cheers.</p>											<p class="post-edited">(Last edited by <strong>andypi</strong> on 21 Nov 2012, 19:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183913">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">andypi</div>
					<div class="post-datetime">
						21 Nov 2012, 20:30					</div>
				</div>
				<div class="post-content content">
					<p>Any ideas?&nbsp; I had hoped this might be a quick one <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>What&#039;s the difference between the </p><p>openwrt-x86-generic-combined-ext4.img.gz<br />openwrt-x86-generic-fs-ext4.img.gz</p><p>images that are produced?&nbsp; Maybe that has something to do with it?&nbsp; I used the combined image.</p><p>Maybe I&#039;ve missed a package I need during &quot;make menuconfig&quot;?</p><p>Cheers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183934">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						21 Nov 2012, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>You want the combined image. What command did you use to dd it over to the hard drive? Please post the exact commands you used.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183941">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">andypi</div>
					<div class="post-datetime">
						22 Nov 2012, 01:34					</div>
				</div>
				<div class="post-content content">
					<p>I used:</p><div class="codebox"><pre><code>dd if=openwrt-x86-generic-combined-ext4.img of=/dev/sda bs=1M count=100</code></pre></div><p>Thanks for your help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183951">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						22 Nov 2012, 06:01					</div>
				</div>
				<div class="post-content content">
					<p>Hmmm...what type of computer is this? What kind of hard drive? You may need a custom kernel with AHCI sata enabled in the device drivers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184008">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">andypi</div>
					<div class="post-datetime">
						22 Nov 2012, 20:32					</div>
				</div>
				<div class="post-content content">
					<p>My hardware is:</p><p>Intel pentium D processor<br />MSI P965 Neo motherboard<br />SATA II hard drive</p><p>I just went into &quot;make menuconfig&quot; to check my configuation:</p><div class="codebox"><pre><code>Kernel modules ---&gt; Filesystems
  kmod-fs-autofs4
  kmod-fs-ext4
  kmod-fs-isofs
  kmod-fs-vfat

Kernel modules ---&gt; Block devices
  kmod-ata-core
    kmod-ata-ahci
    kmod-ata-marvell-sata
    kmod-ata-nvidia-sata
    kmod-ata-pdc20xx-old
    kmod-ata-piix
    kmod-ata-sil
    kmod-ata-sil24
    kmod-ata-sis
    kmod-ata-via-sata
  kmod-ide-core
    kmod-ide-core-aec62xx
    kmod-ide-core-generic
    kmod-ide-core-generic-old
    kmod-ide-core-it821x
    kmod-ide-core-pdc202xx
  kmod-libsas
  kmod-loop
  kmod-md-mod
    kmod-md-linear
    kmod-md-multipath
    kmod-md-raid0
    kmod-md-raid1
    kmod-md-raid10
    kmod-md-raid456
  kmod-mvsas
  kmod-scsi-cdrom
  kmod-scsi-core</code></pre></div><p>After I exited, I noticed the following:</p><div class="codebox"><pre><code>andrew@andrew-VirtualBox:~/OpenWRT/trunk$ make menuconfig
tmp/.config-package.in:12561:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_deluge-ui-gtk&#039; refer to undefined symbol &#039;PACKAGE_python-gtk&#039;
tmp/.config-package.in:17015:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_peerguardian&#039; refer to undefined symbol &#039;PACKAGE_libipq&#039;
tmp/.config-package.in:30505:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_dsl-qos-queue&#039; refer to undefined symbol &#039;PACKAGE_libipq&#039;
tmp/.config-package.in:35818:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_libdaq&#039; refer to undefined symbol &#039;PACKAGE_libipq&#039;
tmp/.config-package.in:46923:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_lcd4linux-custom&#039; refer to undefined symbol &#039;PACKAGE_libdpf&#039;
tmp/.config-package.in:46958:warning: &#039;select&#039; used by config symbol &#039;PACKAGE_lcd4linux-full&#039; refer to undefined symbol &#039;PACKAGE_libdpf&#039;
Warning! Found recursive dependency: PACKAGE_lcd4linux-custom LCD4LINUX_CUSTOM_PLUGIN_mysql LCD4LINUX_CUSTOM_NEEDS_libmysqlclient PACKAGE_lcd4linux-tew673gru PACKAGE_lcd4linux-custom
Warning! Found recursive dependency: PACKAGE_strongswan-full PACKAGE_strongswan-mod-mysql PACKAGE_strongswan-full
Warning! Found recursive dependency: PACKAGE_nprobe NPROBE_MYSQL_SUPPORT PACKAGE_nprobe
#
# using defaults found in .config
#


*** End of OpenWrt configuration.
*** Execute &#039;make&#039; to build the OpenWrt or try &#039;make help&#039;.

andrew@andrew-VirtualBox:~/OpenWRT/trunk$ </code></pre></div><p>What does this mean?&nbsp; Is it a problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184012">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						22 Nov 2012, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>Ticking the corresponding kmods as &lt;*&gt; in menuconfig will not help as this just means that the package containing the kernel module files is embedded into the firmware rootfs, but since OpenWrt has no initrd facility at all it cannot preload the required modules to find the rootfs. You need to run &quot;make kernel_menuconfig&quot; and mark the appropriate controller driver as builtin so that it is actually compiled into the kernel image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189717">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">andypi</div>
					<div class="post-datetime">
						23 Jan 2013, 02:34					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m still getting a Kernel panic:</p><div class="codebox"><pre><code>EXT4-fs error (device sda2): ext4_lookup:1044: inode #2: comm swapper: deleted inode referenced: 3571
Kernel panic - not syncing: No init found. Try passing init= optin to kernel.
EXT4-fs (sda2): error count: 2
EXT4-fs (sda2): inital error at 1358899193: ext4_lookup:1044: inode 2
EXT4-fs (sda2): last error at 1358899860: ext4_lookup: 1044: inode 2</code></pre></div><p>Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189793">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">andypi</div>
					<div class="post-datetime">
						23 Jan 2013, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>Any ideas?&nbsp; All I want to do is TRY OpenWRT to see if it will fulfil my needs!&nbsp; You&#039;d think that a pre-compiled image for PC hardware would include SATA drivers etc.</p><p>Anyway, I&#039;ve compiled my own kernel with ext4/ext2 and SATA support but it still does not work.&nbsp; Is something broken or should I try including something else into my kernel?&nbsp; If so, what?&nbsp; It kind of seems like guess work to me.</p><p>Another question:&nbsp; How can I backup both the configuration for &#039;make kernel_menuconfig&#039; and &#039;make menuconfig&#039; (in case I start again from the begining)?</p><p>Cheers.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>