<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Flashing the WRT160NL with CA-42 USB Cable</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p97624">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Insecure</div>
					<div class="post-datetime">
						19 Nov 2009, 17:20					</div>
				</div>
				<div class="post-content content">
					<p>Hello i don&#039;t know if this is the right forum to ask in, but looking at the hardware hacking category <br />it feelt like it was more meant to modding the router. If i have posted my question in the wrong forum my misstake.<br />And i am sorry for making another thread regarding this router but i feelt it were needed <br />since that thread really did not cover that much how to do it with a CA-42 Cable.</p><p><strong>Well lets get on to the first question regarding the flashing. </strong><br />Today i got both my WRT160NL router and a Nokia CA-42 USB Cable. Once removing the Nokia Pop-Port but cutting it off we get 5 cables. <br />Yellow, red, blue, white and black as shown on the picture here <a href="http://img41.imageshack.us/img41/5904/ca42cables.png">http://img41.imageshack.us/img41/5904/ca42cables.png</a><br />I would really like to know which cables to use since i haven&#039;t found any consistent information during wich color does what. <br />This is the CA-42 cable i ordered <a href="http://www.mytrendyphone.se/shop/nokia-ca-42-usb-13871p.html">http://www.mytrendyphone.se/shop/nokia- … 3871p.html</a></p><p><strong>Second question is will this method work?</strong><br />i am planning to use the CA-42 cables and put them on old hdd-led power-led connectors that do fit on serial pins on the router, <br />for a better explanation have a look here <a href="http://img41.imageshack.us/img41/4817/ideaj.png">http://img41.imageshack.us/img41/4817/ideaj.png</a><br />I found this image on someones blog showing what each pin connector on the router does <br /><a href="http://nanl.de/blog/wp-content/wrt160nl.jpg">http://nanl.de/blog/wp-content/wrt160nl.jpg</a> Can anyone confirm if this information is correct? <br />if so then we just need to find out what wich cables are the correct ones from the CA-42 cable to put on those pins</p><p><strong>Third question.</strong><br />I am sorry for repeating CA-42 everytime, <br />but should i consider shortening the cable? ive heard people having issues if the cable is too long, <br />at this moment the cable is 108cm or 3.54 feet calculated with <a href="http://www.convertunits.com/from/cm/to/feet">http://www.convertunits.com/from/cm/to/feet</a></p><p><strong>Forth question.</strong><br />From what i understand does the serial connectors on the router works at 3.3V and the USB works at 5V<br />Yet again i have heard sucessfull flashing through USB, but should i be worried?</p><p><strong>And the final question</strong><br />once the cables are connected to the serial and the USB port is plugged into the computer, <br />how do i reach the router? i found this guide <a href="http://www.cdaniel.de/?p=46">http://www.cdaniel.de/?p=46</a> <br />which is saying it&#039;s done via tftp, I&#039;ve always thought the flashing were made different.<br />But to be able to access the tftp i beleive i have to be connected to the router&#039;s LAN port <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />I know it&#039;s a silly question probably obvious but i had to ask.</p><p>Sorry for my limited english, i hope that i could express myself in a clear way.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p97630">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">system___f</div>
					<div class="post-datetime">
						19 Nov 2009, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>1. It&#039;s somewhat tricky, there&#039;s no common &quot;color scheme&quot;. The most &quot;secure&quot; way to open phone side connector, see what color goes to what pin and then see <a href="http://pinouts.ru/CellularPhonesCables/nokia_dku-5_cable_pinout.shtml">http://pinouts.ru/CellularPhonesCables/ … nout.shtml</a> to find out what do what.</p><p>3. Mine works as it is, so probably cable should be cut as last resort.</p><p>4. Cable chip do all that stuff.</p><p>5. You send commands thru serial cable and transfer firmware thru lan, so yes, you need to be connected to router via ethernet too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p97635">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">staylo</div>
					<div class="post-datetime">
						19 Nov 2009, 19:36					</div>
				</div>
				<div class="post-content content">
					<p>Cables: You only need 3 connections from the CA42 to the router, GND (0V), TX and RX.</p><p>Black <em>should</em> be GND.</p><p>White and Blue were TX and RX on my cable, but this method should help you verify:</p><p>-Strip the insulation off each wire and tin the tips with solder.<br />-Identify the 3.3V supply wire with a multimeter if you can (assume black is 0V/GND to start with)<br />-Download Bray&#039;s Terminal from <a href="http://sites.google.com/site/braypp/terminal">http://sites.google.com/site/braypp/terminal</a> (handy little terminal application)<br />-Connect to the COM port associated with the CA-42 (You can find out which it is from Device Manager in windows)<br />-Click on the bottom box in Bray&#039;s terminal (the one just below the &#039;Send&#039; button). Join the two wires that you suspect to be the TX and RX and hold down a key so that it is continuously sending this character (eg &#039;aaaaaaaaaaaaaaaaaaaaaaa&#039;). If one of the wires is TX and the other RX, you should see the characters echoed in the &#039;Receive&#039; window near the top.</p><p>Method: Those connectors should work fine. The pins in the blog image are correct.</p><p>Cable length: I use a cable of 100cm length (just removed the Nokia connector at the end) without problems. Just keep it in mind if you&#039;re trying to solve problems later on.</p><p>Voltage question: The voltage is converted to 3.3V by the CA-42.</p><p>Connection question: Not a silly question. The serial interface is best used as a backup / for debugging, not as the main means of communicating with the router. I flashed my WRT160NL using the web interface (see &#039;OEM easy installation&#039; at <a href="http://wiki.openwrt.org/toh/linksys/wrt160nl">http://wiki.openwrt.org/toh/linksys/wrt160nl</a> )</p><p>To reach the shell console using the serial cable, you just run PuTTy, select &#039;Serial&#039; and connect to COMX (whatever com port number your CA-42 is) and baud rate 115200. You may have to hit Enter to bring up the Kamikaze banner.</p><p>Hope that helps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p97650">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Insecure</div>
					<div class="post-datetime">
						19 Nov 2009, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>damn, the CA42-Cable does not show up in the device manager anymore.<br />I think that some of the cables gotten accidentally togheter, I will look more into this.<br />But is it possible that the CA42 can just die of something like that?</p><p><strong>EDIT</strong><br />Tried the OEM easy installation, go to the web interface and just upload <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/openwrt-ar71xx-wrt160nl-squashfs.bin">http://downloads.openwrt.org/snapshots/ … uashfs.bin</a><br />*There&#039;s seems to not come with any web interface by default, so ill get right on compiling the trunk*</p><p>Thanks for your help guys</p><p><strong>EDIT 2</strong><br />As i heard there&#039;s a posibillity that you can overwrite Uboot while flashing making it not possible to reach the Uboot from the serial interface. So i am ordering a new CA42 cable and making sure this time that it&#039;s done with care</p>											<p class="post-edited">(Last edited by <strong>Insecure</strong> on 20 Nov 2009, 01:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p97670">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Insecure</div>
					<div class="post-datetime">
						20 Nov 2009, 12:51					</div>
				</div>
				<div class="post-content content">
					<p>I got another CA42 cable - just in case if the other one became bricked or not. The thing about this is that i can&#039;t measure any voltage on the multimeter it only gives 0 on all cables, and the CA42 cable won&#039;t appear in the device manager unless it&#039;s connected to a cellphone / a connection is made.</p><p><strong>[EDIT]</strong><br />I solved the issue with the system not picking up the cable by putting two aa batteries togheter and connecting red cable on + and black cable on - <a href="http://img684.imageshack.us/img684/8250/solutiont.jpg">http://img684.imageshack.us/img684/8250/solutiont.jpg</a><br />* Ive been told on IRC to use three aa batteries instead making it 4.5v*</p><p>Seems like white and blue are TX and RX on my cable aswell, tried what you said above by using the Terminal application.</p>											<p class="post-edited">(Last edited by <strong>Insecure</strong> on 20 Nov 2009, 15:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100035">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">aritmeester</div>
					<div class="post-datetime">
						9 Jan 2010, 00:00					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m planning to use a CA-42 cable to add serial connection to my WRT160NL. I have some questions about it.</p><div class="quotebox"><cite>staylo wrote:</cite><blockquote><p>White and Blue were TX and RX on my cable</p></blockquote></div><p>Is white TX and Blue RX? <br />Does the TX be connected to the RX or TX of the WRT160NL board?</p><div class="quotebox"><cite>Insecure wrote:</cite><blockquote><p>I solved the issue with the system not picking up the cable by putting two aa batteries togheter and connecting red cable on + and black cable on -</p></blockquote></div><p>Are the batteries also needed when connected to the WRT or is it only needed when attaching only the cable to your PC. <br />I confirmed my cable by putting one AA battery to the red/black wires and shortening blue and white. Then i got my inputs echoed in PuTTY</p><p>Last question: Is there any need to remove the serial cable from the device when using the device with no serial console access needed?</p>											<p class="post-edited">(Last edited by <strong>aritmeester</strong> on 11 Jan 2010, 10:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p100268">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">aritmeester</div>
					<div class="post-datetime">
						11 Jan 2010, 23:11					</div>
				</div>
				<div class="post-content content">
					<p>bump</p><p>Does anyone have answers to my questions?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108147">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						29 Apr 2010, 13:39					</div>
				</div>
				<div class="post-content content">
					<p>Hi aritmeester,<br />&nbsp; &nbsp;Although I am late to answer your questions, you shoudnt need any batteries but just rx tx and gnd at minimum to do the communication.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>