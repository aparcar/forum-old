<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Compiling QT based console application on openwrt Router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p139696">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">2011_openwrt</div>
					<div class="post-datetime">
						22 Jul 2011, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>I was trying to build QT based Console application for my ASUS 500gPV2 openwrt router ,with latest &quot;/backfire/10.03.1-rc5/brcm47xx/packages and firmware&quot;</p><p>Typical Hello world application was compiled and executed successfully &quot;<a href="http://manoftoday.wordpress.com/2007/10/11/writing-and-compiling-a-simple-program-for-openwrt/">http://manoftoday.wordpress.com/2007/10 â€¦ r-openwrt/</a>&quot;</p><p>Using following SDK and tool chain , build my Qt-test application.</p><p>&nbsp; &nbsp; /backfire/10.03.1-rc5/brcm47xx/OpenWrt-SDK-brcm47xx-for-Linux-i686-gcc-4.3.3+cs_uClibc-0.9.30.1<br />&nbsp; &nbsp; /backfire/10.03.1-rc5/brcm47xx/OpenWrt-Toolchain-brcm47xx-for-mipsel-gcc-4.3.3+cs_uClibc-0.9.30.1</p><p>I had installed following QT4 packages.</p><p>&nbsp; &nbsp; qt4_4.7.0-1_brcm47xx.ipk&nbsp; <br />&nbsp; &nbsp; qt4-network_4.7.0-1_brcm47xx.ipk&nbsp; <br />&nbsp; &nbsp; qt4-xml_4.7.0-1_brcm47xx.ipk&nbsp; &nbsp;</p><p>While execution of my compiled qt application binary on openwrt router, it give an error </p><p>syntax error: unexpected newline (expecting &quot;)&quot;)</p><p>Using Makefile:</p><p>include $(TOPDIR)/rules.mk<br />PKG_NAME:=qt-test<br />PKG_RELEASE:=1<br />PKG_BUILD_DIR := $(BUILD_DIR)/$(PKG_NAME)<br />include $(INCLUDE_DIR)/package.mk<br />define Package/qt-test<br />&nbsp; &nbsp; SECTION:=utils<br />&nbsp; &nbsp; CATEGORY:=Utilities<br />&nbsp; &nbsp; TITLE:=qt-test -- prints a snarky message<br />endef<br />define Build/Prepare<br />&nbsp; &nbsp; mkdir -p $(PKG_BUILD_DIR)<br />&nbsp; &nbsp; $(CP) ./src/* $(PKG_BUILD_DIR)/<br />endef<br />define Build/Compile<br />&nbsp; &nbsp; &nbsp; &nbsp;$(MAKE) -C $(PKG_BUILD_DIR) \<br />&nbsp; &nbsp; &nbsp; &nbsp;CC=&quot;$(TARGET_CROSS)gcc&quot;<br />endef<br />define Package/qt-test/install<br />&nbsp; &nbsp; $(INSTALL_DIR) $(1)/bin<br />&nbsp; &nbsp; $(INSTALL_BIN) $(PKG_BUILD_DIR)/qt-test $(1)/bin/<br />endef<br />$(eval $(call BuildPackage,qt-test)) </p><p>What configuration is required for&nbsp; Build/Configure?</p><p>What I missing ? support will be appiriciated.</p><p>Regards,<br />Prashant</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140019">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">2011_openwrt</div>
					<div class="post-datetime">
						26 Jul 2011, 18:38					</div>
				</div>
				<div class="post-content content">
					<p>Now able to configure , but during make got following error</p><p>make: mipsel-openwrt-linux-uclibc-g++: Command not found<br />make: *** [.obj/release-shared-emb-mips/qt-test.o] Error 127</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140020">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">scruffy</div>
					<div class="post-datetime">
						26 Jul 2011, 18:40					</div>
				</div>
				<div class="post-content content">
					<p>qt is written in C++. Maybe you need a C++ compiler!?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140031">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">2011_openwrt</div>
					<div class="post-datetime">
						26 Jul 2011, 19:46					</div>
				</div>
				<div class="post-content content">
					<p>Where can I get source code for qt4-examples_4.7.0-1_brcm47xx.ipk ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140036">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">scruffy</div>
					<div class="post-datetime">
						26 Jul 2011, 20:43					</div>
				</div>
				<div class="post-content content">
					<p>Follow this&nbsp; <a href="http://wiki.openwrt.org/about/toolchain">http://wiki.openwrt.org/about/toolchain</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140044">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						26 Jul 2011, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>Regarding the &quot;Command not found&quot;, just put the toolchain usr/bin into your PATH.<br />The &quot;syntax error: unexpected newline (expecting &quot;)&quot;)&quot; error usually means that the binary you try to run was not actually cross-compiled (x86 executable on mips for example).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140089">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tl71</div>
					<div class="post-datetime">
						27 Jul 2011, 16:14					</div>
				</div>
				<div class="post-content content">
					<p>Try to remove your definition of Build/Compile and use the default one ;-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>