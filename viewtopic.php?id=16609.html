<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> my 6 months experience with wrt on wp54</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 10 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p72146">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">normunds</div>
					<div class="post-datetime">
						11 Aug 2008, 21:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />After 6 months of long woking hours I&#039;d phased out wrt using as os for my wp54 for wireless cpe. It failed miserably in every rook and corner reason not known but unforunately my hardwork gone wasted. Here is my experience.<br />After installing kamikaze on 7.09 it behaved strangely and the behaviour was same mac address on all the ap u flash with wrt. The mac address is&nbsp; 00:41:44:4D:51:20 whereas wrt provided by compex version 7.07 didn&#039;t had anyproblem with it. No one came for support even compex couldn&#039;t help it.<br />This took some weeks to know.<br />After changing the version or recompiling the grep changed its behaviour. Earlier it was discounting the hash bang line and with the change of version it started counting the hash bang.<br />I searched all the net but no documents found over the difference between bash and ash.<br />After all these hardwork I found no station bridging is supported by madwifi drivers as soon as u bridge the eth and ath the result is no pings but link is there. Not all ap support address 4 we tested on few and all failed.<br />In the forum someone told me to link with ath0 as ap and ath1 as wds. I tried with mikrotik it connected but the second part of the connection .. asking for wds now this vap of wds is running with a different mac address and its different from ap vap which result in deauth by mikrotik. I tried everything but mac address goes the same.<br />this is just the tip of iceberg. I&#039;d already requested by arpnat patch in ebtables. I think everyone needs it.<br />regards<br />norms <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72148">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">edgars</div>
					<div class="post-datetime">
						11 Aug 2008, 22:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>normunds wrote:</cite><blockquote><p>Hi,<br />After all these hardwork I found no station bridging is supported by madwifi drivers as soon as u bridge the eth and ath the result is no pings but link is there. Not all ap support address 4 we tested on few and all failed.<br />In the forum someone told me to link with ath0 as ap and ath1 as wds. I tried with mikrotik it connected but the second part of the connection .. asking for wds now this vap of wds is running with a different mac address and its different from ap vap which result in deauth by mikrotik. I tried everything but mac address goes the same.<br />this is just the tip of iceberg. I&#039;d already requested by arpnat patch in ebtables. I think everyone needs it.<br />regards<br />norms <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p></blockquote></div><p>seems that you forget to set madwifi parameter wds to 1. Do it like this:</p><p>iwpriv ath0 wds 1</p><p>This should be done both on AP and STA.</p><br /><p>Edgars<br />openrb.com</p>											<p class="post-edited">(Last edited by <strong>edgars</strong> on 11 Aug 2008, 22:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72155">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">normunds</div>
					<div class="post-datetime">
						11 Aug 2008, 23:49					</div>
				</div>
				<div class="post-content content">
					<p>this is only compatible with wrt based radios like wrt ubnt wili or maybe oswave. I tried everyting. There&nbsp; must be some reason why there is arpnat patch developed. Just to do client bridging. Its been used by willibox, ubnt, dd.<br />thnx for ur response<br />regards<br />norms</p>											<p class="post-edited">(Last edited by <strong>normunds</strong> on 11 Aug 2008, 23:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72176">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">posix</div>
					<div class="post-datetime">
						12 Aug 2008, 12:07					</div>
				</div>
				<div class="post-content content">
					<p>i think this arpnat youre talking about is for ap+sta on broadcom, not wds. i tol you wds works for me between openwrt and mikrotik. set mikrotik as ap-bridge and enable wds dynamic and set bridge1. on openwrt you need two interfaces, ap and wds, wds has bssid of mikrotik, both have wds=1. works.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72188">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">normunds</div>
					<div class="post-datetime">
						12 Aug 2008, 19:10					</div>
				</div>
				<div class="post-content content">
					<p>ya u r rt its for sta mode. I tried ur way i:e ath0 as ap and ath1 as wds but it all failed as ath0 and ath1 had different mac address so when ap connected to mtik. Mtik asks for wds and that wds is having different mac address than ath1 so it gives deauth.<br />regards<br />norms</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>