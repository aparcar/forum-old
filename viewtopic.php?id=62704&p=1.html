<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT on a Sitecom WLR-6000</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Apr 2018 and 18 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=62704&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=62704&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p311226">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						13 Feb 2016, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>Hi people,</p><p>[Update]<br /><span class="bbu"><strong>I received the GPL code from Sitecom. I&#039;ve uploaded it and it can be downloaded here: </strong></span><a href="https://www.dropbox.com/s/wmbi409kdynhpjy/GPL_WLR-6000v1001.zip?dl=0">Link</a></p><p>I would like to know if it is possible to flash OpenWRT on a Sitecom WLR-6000. <br />It seems that all used hardware in this router is available in packages.</p><p>See the <strong>WikiDevi</strong>(<em><span style="color: red">not all information is correct</span></em>): <a href="https://wikidevi.com/wiki/Sitecom_WLR-6000">Link</a><br />See the <strong>OpenWRT_Wiki</strong>: <a href="https://wiki.openwrt.org/toh/sitecom/wlr-6000">Link</a></p><p><strong>Quick specs:</strong><br />CPU1: Ralink RT3883 (500 MHz)<br />FLA1: 8 MiB (Macronix <a href="http://www.macronix.com/en-us/Product/Pages/ProductDetail.aspx?PartNo=MX25L6405D">MX25L6405D</a> or <a href="http://www.macronix.com/en-us/Product/Pages/ProductDetail.aspx?PartNo=MX25L6406E">MX25L6406E</a>)<br />RAM1: 64 MiB (Nanya NT5TU32M16DG-AC)<br />WI1 chip1: Ralink RT3883<br />WI2 chip1: Ralink RT5392<br />Switch: Atheros AR8327<br />USB2.0 - 1x</p><p><strong>Similar devices:</strong><br />Engenius ESR750H<br />Senao WBR5200MGN</p><p><strong>Picture of the PCB:</strong><br /><span class="postimg"><img src="http://www.smallnetbuilder.com/images/stories/wireless/engenius_esr750h/engenius_esr750h_fcc.jpg" alt="http://www.smallnetbuilder.com/images/stories/wireless/engenius_esr750h/engenius_esr750h_fcc.jpg" /></span></p><p>So this seems to me like a great device for OpenWRT and it is really cheap. Could someone help me on my way?<br />And if you are also interested in seeing this device working with OpenWRT, please leave a reply.</p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 12 Aug 2016, 23:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p315404">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cmsigler</div>
					<div class="post-datetime">
						17 Mar 2016, 21:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>This will probably be a do-it-yourself project, but you and many others will benefit <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; (NOTE: I&#039;m not a low-level hardware hacker IRL nor do I build my own images.)</p><p><a href="https://wiki.openwrt.org/doc/devel/add.new.device">https://wiki.openwrt.org/doc/devel/add.new.device</a></p><p><a href="https://wiki.openwrt.org/doc/devel/add.new.platform">https://wiki.openwrt.org/doc/devel/add.new.platform</a></p><p>You&#039;ve already opened your device, so the next step should be easy: Figure out where to solder on a serial pad or pins and use a USB-to-TTL converter to connect to the PCB&#039;s serial port.&nbsp; Then get ckermit or another serial comm program running to that port, set the serial params (115200, 8-N-1 seems to be a vanilla setting), see here:</p><p><a href="https://wiki.openwrt.org/doc/hardware/port.serial">https://wiki.openwrt.org/doc/hardware/port.serial</a></p><p>Then you can post a bootlog so you and developers can see what&#039;s running on it, how the flash memory is organized, and a whole bunch of other stuff.</p><p>Since you&#039;ve already torn it apart, you&#039;re almost there <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; Good luck!</p><p>Clemmitt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317896">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						3 Apr 2016, 02:52					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your info. I will see what I can do <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317942">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						3 Apr 2016, 12:39					</div>
				</div>
				<div class="post-content content">
					<p>Conjecture (the image posted @ <a href="http://www.smallnetbuilder.com/images/stories/wireless/engenius_esr750h/engenius_esr750h_fcc.jpg)">http://www.smallnetbuilder.com/images/s … h_fcc.jpg)</a> -<br /></p><div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><p>You&#039;ve already opened your device ...</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317946">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						3 Apr 2016, 12:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Max Hopper wrote:</cite><blockquote><p>Conjecture (the image posted @ <a href="http://www.smallnetbuilder.com/images/stories/wireless/engenius_esr750h/engenius_esr750h_fcc.jpg)">http://www.smallnetbuilder.com/images/s … h_fcc.jpg)</a> -<br /></p><div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><p>You&#039;ve already opened your device ...</p></blockquote></div></blockquote></div><p>You are correct. I never said that the image was mine? But that is also inrelevant for the case. I could have opened the router without uploading a picture.</p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 3 Apr 2016, 12:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p317948">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						3 Apr 2016, 12:51					</div>
				</div>
				<div class="post-content content">
					<p>Correct. <strong>cmsigler</strong> <em>ass-u-me</em>d you indeed had opened the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p324853">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						19 May 2016, 23:28					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I booted the openwrt-ramips-rt3883-tew-692gr-initramfs-uImage.bin image since it got semi-identical hardware and this is the result:</p><div class="codebox"><pre><code> U-boot Ver:1.0.6.193 2011/09/22


Board: Ralink APSoC DRAM:  64 MB
spi_wait_nsec: 48 
spi device id: c2 20 17 c2 20 (2017c220)
find flash: MX25L6405D
raspi_read: from:30000 len:1000 
.raspi_read: from:30000 len:1000 
.============================================ 
ASIC 3883_MP (MAC to GigaPHY Mode)
Product Name: WLR-6000
icache: sets:512, ways:4, linesz:32 ,total:65536
dcache: sets:256, ways:4, linesz:32 ,total:32768 

Please choose the operation: 
   1: Load system code to SDRAM via TFTP. 

You choosed 1


raspi_read: from:40028 len:6 
.   
1: System Load Linux to SDRAM via TFTP. 
 Please Input new ones /or Ctrl-C to discard
        Input device IP (192.168.1.1) ==: 
        Input server IP (192.168.1.2) ==:
        Input Linux Kernel filename (ramdisk.bin) ==:

 Waitting for RX_DMA_BUSY status Start... done

 Header Payload scatter function is Disable !! 
Using Eth0 (10/100-M) device
TFTP from server 192.168.1.2; our IP address is 192.168.1.1
Filename &#039;ramdisk.bin&#039;.
Loading: Got ARP REPLY, set server/gtwy eth addr (hidden)
Got it
#
 first block received  
################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ########################################
done
Bytes transferred = 3198471 (30ce07 hex)
raspi_read: from:30000 len:10000 
.Erasing SPI Flash...
raspi_erase: offs:30000 len:10000
.
Writing to SPI Flash...
raspi_write: to:30000 len:10000 
.
done
[    0.000000] Linux version 3.18.29 (user@Development) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r49363) ) #2 Thu May 19 22:16:30 CE6
[    0.000000] SoC Type: Ralink RT3883 ver:1 eco:5
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 0001974c (MIPS 74Kc)
[    0.000000] MIPS: machine is TRENDnet TEW-692GR
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x03ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x03ffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x03ffffff]
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, PIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 59384K/65536K available (2526K kernel code, 125K rwdata, 532K rodata, 2120K init, 186K bss, 6152K reserved)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 500MHz
[    0.000000] Calibrating delay loop... 249.44 BogoMIPS (lpj=1247232)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.080000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.090000] pinctrl core: initialized pinctrl subsystem
[    0.100000] NET: Registered protocol family 16
[    0.110000] rt3883-pci 10140000.pci: mode: PCIe
[    1.710000] PCI host bridge /pci@10140000/host-bridge ranges:
[    1.720000]  MEM 0x0000000020000000..0x000000002fffffff
[    1.730000]   IO 0x0000000010160000..0x000000001016ffff
[    1.740000] rt2880_gpio 10000600.gpio: registering 24 gpios
[    1.750000] rt2880_gpio 10000600.gpio: registering 24 irq handlers
[    1.760000] rt2880_gpio 10000638.gpio: registering 16 gpios
[    1.770000] PCI host bridge to bus 0000:00
[    1.770000] pci_bus 0000:00: root bus resource [mem 0x20000000-0x2fffffff]
[    1.780000] pci_bus 0000:00: root bus resource [io  0xffffffff]
[    1.790000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    1.800000] pci 0000:00:01.0: bridge configuration invalid ([bus 00-00]), reconfiguring
[    1.810000] pci 0000:00:01.0: BAR 8: assigned [mem 0x20000000-0x200fffff]
[    1.820000] pci 0000:00:01.0: BAR 1: assigned [mem 0x20100000-0x2010ffff]
[    1.830000] pci 0000:01:00.0: BAR 0: assigned [mem 0x20000000-0x2000ffff]
[    1.840000] pci 0000:00:01.0: PCI bridge to [bus 01]
[    1.840000] pci 0000:00:01.0:   bridge window [mem 0x20000000-0x200fffff]
[    1.850000] pci 0000:00:01.0: of_irq_parse_pci() failed with rc=-22
[    1.860000] Switched to clocksource MIPS
[    1.870000] NET: Registered protocol family 2
[    1.870000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    1.890000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    1.900000] TCP: Hash tables configured (established 1024 bind 1024)
[    1.910000] TCP: reno registered
[    1.920000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    1.930000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    1.940000] NET: Registered protocol family 1
[    4.880000] rt-timer 10000100.timer: maximum frequency is 10131Hz
[    4.900000] futex hash table entries: 256 (order: -1, 3072 bytes)
[    4.920000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    4.930000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    4.960000] msgmni has been set to 115
[    4.970000] io scheduler noop registered
[    4.970000] io scheduler deadline registered (default)
[    4.990000] ralink-usb-phy usbphy: invalid resource
[    5.000000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    5.010000] console [ttyS0] disabled
[    5.020000] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 20, base_baud = 2500000) is a 16550A
[    5.030000] console [ttyS0] enabled
[    5.030000] console [ttyS0] enabled
[    5.050000] bootconsole [early0] disabled
[    5.050000] bootconsole [early0] disabled
[    5.070000] of-flash 1c000000.nor-flash: do_map_probe() failed
[    5.080000] ralink_soc_eth 10100000.ethernet: generated random MAC address 36:8e:58:e4:50:41
[    5.100000] libphy: mdio: probed
[    5.110000] switch0: Atheros AR8327 rev. 2 switch registered on mdio-bus
[    5.120000] Atheros AR8216/AR8236/AR8316: probe of mdio-bus:00 failed with error -22
[    5.140000] ralink_soc_eth 10100000.ethernet: incorrect phy-mode -22
[    5.150000] ralink_soc_eth 10100000.ethernet eth0: ralink at 0xb0100000, irq 5
[    5.160000] rt2880_wdt 10000120.watchdog: Initialized
[    5.180000] TCP: cubic registered
[    5.180000] NET: Registered protocol family 17
[    5.190000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    5.220000] 8021q: 802.1Q VLAN Support v1.8
[    5.240000] Freeing unused kernel memory: 2120K (8031e000 - 80530000)
[    5.270000] init: Console is alive
[    5.280000] init: - watchdog -
[    6.280000] init: - preinit -
[    6.410000] 8021q: adding VLAN 0 to HW filter on device eth0
[    6.440000] random: procd urandom read with 9 bits of entropy available
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
[    9.600000] procd: - early -
[    9.610000] procd: - watchdog -
[   10.140000] procd: - ubus -
[   11.160000] procd: - init -
Please press Enter to activate this console.
[   11.880000] NET: Registered protocol family 10
[   11.900000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   11.920000] Loading modules backported from Linux version v4.4-rc5-1913-gc8fdf68
[   11.940000] Backport generated by backports.git backports-20151218-0-g2f58d9d
[   11.950000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   11.970000] nf_conntrack version 0.5.0 (961 buckets, 3844 max)
[   12.020000] xt_time: kernel timezone is -0000
[   12.110000] PPP generic driver version 2.4.2
[   12.120000] NET: Registered protocol family 24
[   12.160000] PCI: Enabling device 0000:01:00.0 (0000 -&gt; 0002)
[   12.170000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5392, rev 0222 detected
[   12.190000] ieee80211 phy0: rt2800_init_eeprom: Error - Invalid RF chipset 0xffff detected
[   12.210000] ieee80211 phy0: rt2x00lib_probe_dev: Error - Failed to allocate device
[   12.230000] rt2800_wmac 10180000.wmac: failed to load eeprom property
[   12.240000] ieee80211 phy1: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;soc_wmac.eeprom&#039;.
[   12.260000] rt2800_wmac 10180000.wmac: Direct firmware load for soc_wmac.eeprom failed with error -2
[   12.280000] rt2800_wmac 10180000.wmac: Falling back to user helper
[   12.330000] firmware soc_wmac.eeprom: firmware_loading_store: map pages failed
[   12.350000] ieee80211 phy1: rt2x00lib_request_eeprom_file: Error - Failed to request EEPROM.
[   12.360000] rt2800_wmac: probe of 10180000.wmac failed with error -11
[   19.450000] 8021q: adding VLAN 0 to HW filter on device eth0
[   19.470000] device eth0.1 entered promiscuous mode
[   19.480000] device eth0 entered promiscuous mode
[   19.510000] br-lan: port 1(eth0.1) entered forwarding state
[   19.520000] br-lan: port 1(eth0.1) entered forwarding state
[   21.520000] br-lan: port 1(eth0.1) entered forwarding state</code></pre></div><p>Dmesg:</p><div class="codebox"><pre><code>root@OpenWrt:/# dmesg
[    0.000000] Linux version 3.18.29 (user@Development) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r49363) ) #2 Thu May 19 22:16:30 CE6
[    0.000000] SoC Type: Ralink RT3883 ver:1 eco:5
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 0001974c (MIPS 74Kc)
[    0.000000] MIPS: machine is TRENDnet TEW-692GR
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x03ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x03ffffff]
[    0.000000] Initmem setup node 0 [mem 0x00000000-0x03ffffff]
[    0.000000] On node 0 totalpages: 16384
[    0.000000] free_area_init_node: node 0, pgdat 803060d0, node_mem_map 81000000
[    0.000000]   Normal zone: 128 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 16384 pages, LIFO batch:3
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, PIPT, no aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 59384K/65536K available (2526K kernel code, 125K rwdata, 532K rodata, 2120K init, 186K bss, 6152K reserved)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 500MHz
[    0.060000] Calibrating delay loop... 249.44 BogoMIPS (lpj=1247232)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.080000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.090000] pinctrl core: initialized pinctrl subsystem
[    0.100000] NET: Registered protocol family 16
[    0.110000] rt2880-pinmux pinctrl: try to register 96 pins ...
[    0.110000] pinctrl core: registered pin 0 (io0) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 1 (io1) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 2 (io2) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 3 (io3) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 4 (io4) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 5 (io5) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 6 (io6) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 7 (io7) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 8 (io8) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 9 (io9) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 10 (io10) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 11 (io11) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 12 (io12) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 13 (io13) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 14 (io14) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 15 (io15) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 16 (io16) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 17 (io17) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 18 (io18) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 19 (io19) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 20 (io20) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 21 (io21) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 22 (io22) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 23 (io23) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 24 (io24) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 25 (io25) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 26 (io26) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 27 (io27) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 28 (io28) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 29 (io29) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 30 (io30) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 31 (io31) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 32 (io32) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 33 (io33) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 34 (io34) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 35 (io35) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 36 (io36) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 37 (io37) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 38 (io38) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 39 (io39) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 40 (io40) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 41 (io41) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 42 (io42) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 43 (io43) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 44 (io44) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 45 (io45) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 46 (io46) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 47 (io47) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 48 (io48) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 49 (io49) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 50 (io50) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 51 (io51) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 52 (io52) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 53 (io53) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 54 (io54) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 55 (io55) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 56 (io56) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 57 (io57) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 58 (io58) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 59 (io59) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 60 (io60) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 61 (io61) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 62 (io62) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 63 (io63) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 64 (io64) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 65 (io65) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 66 (io66) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 67 (io67) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 68 (io68) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 69 (io69) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 70 (io70) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 71 (io71) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 72 (io72) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 73 (io73) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 74 (io74) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 75 (io75) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 76 (io76) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 77 (io77) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 78 (io78) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 79 (io79) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 80 (io80) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 81 (io81) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 82 (io82) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 83 (io83) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 84 (io84) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 85 (io85) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 86 (io86) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 87 (io87) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 88 (io88) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 89 (io89) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 90 (io90) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 91 (io91) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 92 (io92) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 93 (io93) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 94 (io94) on rt2880-pinmux
[    0.110000] pinctrl core: registered pin 95 (io95) on rt2880-pinmux
[    0.110000] pinctrl core: add 4 pinmux maps
[    0.110000] rt2880-pinmux pinctrl: found group selector 1 for spi
[    0.110000] rt2880-pinmux pinctrl: found group selector 0 for i2c
[    0.110000] rt2880-pinmux pinctrl: found group selector 4 for jtag
[    0.110000] rt2880-pinmux pinctrl: found group selector 2 for uartf
[    0.110000] rt2880-pinmux pinctrl: request pin 3 (io3) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 4 (io4) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 5 (io5) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 6 (io6) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 1 (io1) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 2 (io2) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 17 (io17) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 18 (io18) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 19 (io19) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 20 (io20) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 21 (io21) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 7 (io7) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 8 (io8) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 9 (io9) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 10 (io10) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 11 (io11) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 12 (io12) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 13 (io13) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: request pin 14 (io14) for pinctrl
[    0.110000] rt2880-pinmux pinctrl: failed to lookup the sleep state
[    0.110000] rt3883-pci 10140000.pci: mode: PCIe
[    1.710000] PCI host bridge /pci@10140000/host-bridge ranges:
[    1.720000]  MEM 0x0000000020000000..0x000000002fffffff
[    1.730000]   IO 0x0000000010160000..0x000000001016ffff
[    1.740000] rt2880_gpio 10000600.gpio: registering 24 gpios
[    1.750000] rt2880_gpio 10000600.gpio: registering 24 irq handlers
[    1.760000] rt2880_gpio 10000638.gpio: registering 16 gpios
[    1.770000] PCI host bridge to bus 0000:00
[    1.770000] pci_bus 0000:00: root bus resource [mem 0x20000000-0x2fffffff]
[    1.780000] pci_bus 0000:00: root bus resource [io  0xffffffff]
[    1.790000] pci_bus 0000:00: No busn resource found for root bus, will use [bus 00-ff]
[    1.800000] pci 0000:00:01.0: [1814:0802] type 01 class 0x060400
[    1.800000] pci 0000:00:01.0: reg 0x14: [mem 0x00000000-0x0000ffff]
[    1.800000] pci 0000:00:01.0: supports D1
[    1.800000] pci 0000:00:01.0: PME# supported from D0 D1 D3hot
[    1.800000] pci 0000:00:01.0: bridge configuration invalid ([bus 00-00]), reconfiguring
[    1.810000] pci 0000:01:00.0: [1814:3091] type 00 class 0x028000
[    1.810000] pci 0000:01:00.0: reg 0x10: [mem 0x00000000-0x0000ffff]
[    1.810000] pci 0000:01:00.0: PME# supported from D0 D3hot
[    1.810000] pci_bus 0000:01: busn_res: [bus 01-ff] end is updated to 01
[    1.810000] pci_bus 0000:00: busn_res: [bus 00-ff] end is updated to 01
[    1.810000] pci 0000:00:01.0: BAR 8: assigned [mem 0x20000000-0x200fffff]
[    1.820000] pci 0000:00:01.0: BAR 1: assigned [mem 0x20100000-0x2010ffff]
[    1.830000] pci 0000:01:00.0: BAR 0: assigned [mem 0x20000000-0x2000ffff]
[    1.840000] pci 0000:00:01.0: PCI bridge to [bus 01]
[    1.840000] pci 0000:00:01.0:   bridge window [mem 0x20000000-0x200fffff]
[    1.850000] pci 0000:00:01.0: of_irq_parse_pci() failed with rc=-22
[    1.860000] Switched to clocksource MIPS
[    1.870000] NET: Registered protocol family 2
[    1.870000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    1.890000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    1.900000] TCP: Hash tables configured (established 1024 bind 1024)
[    1.910000] TCP: reno registered
[    1.920000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    1.930000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    1.940000] NET: Registered protocol family 1
[    1.950000] PCI: CLS 0 bytes, default 32
[    4.880000] rt-timer 10000100.timer: maximum frequency is 10131Hz
[    4.900000] alarmtimer alarmtimer: no of_node; not parsing pinctrl DT
[    4.900000] futex hash table entries: 256 (order: -1, 3072 bytes)
[    4.920000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    4.930000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    4.960000] msgmni has been set to 115
[    4.970000] io scheduler noop registered
[    4.970000] io scheduler deadline registered (default)
[    4.990000] ralink-usb-phy usbphy: invalid resource
[    5.000000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    5.010000] serial8250 serial8250: no of_node; not parsing pinctrl DT
[    5.010000] pinctrl core: add 1 pinmux maps
[    5.010000] rt2880-pinmux pinctrl: found group selector 3 for uartlite
[    5.010000] rt2880-pinmux pinctrl: request pin 15 (io15) for 10000c00.uartlite
[    5.010000] rt2880-pinmux pinctrl: request pin 16 (io16) for 10000c00.uartlite
[    5.010000] console [ttyS0] disabled
[    5.020000] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 20, base_baud = 2500000) is a 16550A
[    5.030000] console [ttyS0] enabled
[    5.050000] bootconsole [early0] disabled
[    5.070000] of-flash 1c000000.nor-flash: do_map_probe() failed
[    5.080000] ralink_soc_eth 10100000.ethernet: generated random MAC address 82:24:57:5a:80:1d
[    5.100000] libphy: mdio: probed
[    5.110000] switch0: Atheros AR8327 rev. 2 switch registered on mdio-bus
[    5.120000] Atheros AR8216/AR8236/AR8316: probe of mdio-bus:00 failed with error -22
[    5.140000] ralink_soc_eth 10100000.ethernet: incorrect phy-mode -22
[    5.150000] ralink_soc_eth 10100000.ethernet eth0: ralink at 0xb0100000, irq 5
[    5.160000] rt2880_wdt 10000120.watchdog: Initialized
[    5.180000] TCP: cubic registered
[    5.180000] NET: Registered protocol family 17
[    5.190000] bridge: automatic filtering via arp/ip/ip6tables has been deprecated. Update your scripts to load br_netfilter if you need this.
[    5.220000] 8021q: 802.1Q VLAN Support v1.8
[    5.240000] Freeing unused kernel memory: 2120K (8031e000 - 80530000)
[    5.270000] init: Console is alive
[    5.280000] init: - watchdog -
[    5.290000] rt2880-pinmux pinctrl: request pin 10 (io10) for pio:10
[    5.290000] rt2880-pinmux pinctrl: request pin 26 (io26) for pio:26
[    5.300000] rt2880-pinmux pinctrl: request pin 9 (io9) for pio:9
[    5.300000] rt2880-pinmux pinctrl: request pin 28 (io28) for pio:28
[    6.280000] init: - preinit -
[    6.410000] 8021q: adding VLAN 0 to HW filter on device eth0
[    6.440000] random: procd urandom read with 9 bits of entropy available
[    9.620000] procd: - early -
[    9.630000] procd: - watchdog -
[   10.180000] procd: - ubus -
[   11.200000] procd: - init -
[   11.920000] NET: Registered protocol family 10
[   11.940000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   11.960000] Loading modules backported from Linux version v4.4-rc5-1913-gc8fdf68
[   11.980000] Backport generated by backports.git backports-20151218-0-g2f58d9d
[   11.990000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   12.010000] nf_conntrack version 0.5.0 (961 buckets, 3844 max)
[   12.060000] xt_time: kernel timezone is -0000
[   12.150000] PPP generic driver version 2.4.2
[   12.170000] NET: Registered protocol family 24
[   12.210000] rt2800pci 0000:01:00.0: no of_node; not parsing pinctrl DT
[   12.210000] PCI: Enabling device 0000:01:00.0 (0000 -&gt; 0002)
[   12.220000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5392, rev 0222 detected
[   12.240000] ieee80211 phy0: rt2800_init_eeprom: Error - Invalid RF chipset 0xffff detected
[   12.260000] ieee80211 phy0: rt2x00lib_probe_dev: Error - Failed to allocate device
[   12.270000] rt2800_wmac 10180000.wmac: failed to load eeprom property
[   12.290000] ieee80211 phy1: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;soc_wmac.eeprom&#039;.
[   12.310000] rt2800_wmac 10180000.wmac: Direct firmware load for soc_wmac.eeprom failed with error -2
[   12.320000] rt2800_wmac 10180000.wmac: Falling back to user helper
[   12.380000] firmware soc_wmac.eeprom: firmware_loading_store: map pages failed
[   12.390000] ieee80211 phy1: rt2x00lib_request_eeprom_file: Error - Failed to request EEPROM.
[   12.410000] rt2800_wmac: probe of 10180000.wmac failed with error -11
[   19.500000] 8021q: adding VLAN 0 to HW filter on device eth0
[   19.540000] device eth0.1 entered promiscuous mode
[   19.550000] device eth0 entered promiscuous mode
[   19.610000] br-lan: port 1(eth0.1) entered forwarding state
[   19.620000] br-lan: port 1(eth0.1) entered forwarding state
[   21.620000] br-lan: port 1(eth0.1) entered forwarding state
[   74.620000] random: nonblocking pool is initialized</code></pre></div><p>The Bootloader: <br /></p><div class="codebox"><pre><code>4: System Enter Boot Command Line Interface.

U-Boot 1.1.3 (Sep 22 2011 - 14:21:09)
Unknown command &#039;echo&#039; - try &#039;help&#039;
Unknown command &#039;echo&#039; - try &#039;help&#039;
RT3883 # print
bootcmd=tftp
bootdelay=5
baudrate=57600
ethaddr=&quot;[hidden]&quot;
sn=122348463
hw_ver=1.1.0
hw_id=02020041
pro_id=000
country=000
domain=1
wanaddr=[hidden]
wlanaddr=[hidden]
iNICaddr=[hidden]
fwaddr=[hidden]
eth_en=0
snextra=00000000000000000000
preboot=echo;echo
ramargs=setenv bootargs root=/dev/ram rw
addip=setenv bootargs $(bootargs) ip=$(ipaddr):$(serverip):$(gatewayip):$(netmask):$(hostname):$(netdev):off
addmisc=setenv bootargs $(bootargs) console=ttyS0,$(baudrate) ethaddr=$(ethaddr) panic=1
flash_self=run ramargs addip addmisc;bootm $(kernel_addr) $(ramdisk_addr)
kernel_addr=BFC40000
u-boot=u-boot.bin
load=tftp 8A100000 $(u-boot)
u_b=protect off 1:0-1;era 1:0-1;cp.b 8A100000 BC400000 $(filesize)
loadfs=tftp 8A100000 root.cramfs
u_fs=era bc540000 bc83ffff;cp.b 8A100000 BC540000 $(filesize)
test_tftp=tftp 8A100000 root.cramfs;run test_tftp
ethact=Eth0 (10/100-M)
op_mode=0
uboot_ver=1.0.6.193
filesize=30ce07
fileaddr=80800000
ipaddr=192.168.1.1
serverip=192.168.1.2
autostart=no
bootfile=WLR6000.bin
stdin=serial
stdout=serial
stderr=serial

Environment size: 1107/4092 bytes</code></pre></div><p><strong>This all seems promising.</strong></p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 12 Aug 2016, 12:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325838">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						25 May 2016, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>Another update:</p><p>I changed the op_mode to 1 and now this is the serial output:</p><div class="codebox"><pre><code>3: System Boot system code via Flash.                                           
raspi_read: from:50000 len:40                                                   
.raspi_read: from:50040 len:148674                                              
.....................                                                           
LINUX started...                                                                
                                                                                
 THIS IS ASIC                                                                   
init started: BusyBox v1.7.5 (2012-05-22 20:00:54 CST)                          
starting pid 200, tty &#039;/dev/console&#039;: &#039;/sbin/config_init&#039;                       
Config Init version: 3.1.0.2 date: 2012/05/22                                   
starting pid 252, tty &#039;/dev/ttyS1&#039;: &#039;/sbin/config_term&#039;                         
************************************************************************        
*                                 WLR-6000                             *        
************************************************************************        
                                                                                
KernelApp/Ramdisk Ver:3.1.0.2                    Date:2012/05/22                
Application Ver:3.1.0.2          Date:2012/05/22                                
                                                                                
Mount tmpfs size 6074368B                                                       
password: cat: can&#039;t open &#039;/apps/lib/modules/2.6.21/modulesApp.dep&#039;: No such fiy
ln: /sbin/./apps_init: File exists                                              
ln: /sbin/./opmode.sh: File exists                                              
createShareMem keyid 7001 shmId 0                                               
CTRL_INTERFACE:[/var/sysconfd_if]  CTRL_INTERFACE_IF:[if0]                      
                                                                                
System Monitoring                                                               
*********************************************************************           
Initializing system environment                                                 
Setting up /tmp directory ...                                                   
Setting up loopback device ...                                                  
***************************************************                             
System is in    AP Router Mode [0]                                              
***************************************************                             
SEM_GETID got id -1                                                             
Mac: 0, rtcTime:1293840001                                                      
Starting system logging daemon ...OK                                            
Setting up Ethernet devices ...                                                 
OK                                                                              
Configuring Bridge device ...          OK                                       
Setting the host&amp;domain name ...Finished.                                       
Configuring net ...          OK                                                 
Configuring LAN device ...          OK                                          
getRegularDomain,1                                                              
Configuring RT28XX device ...Wlan is in AP Mode                                 
Using fixWDSLowTP function.                                                     
getRegularDomain,1                                                              
Create iNic configuration file OK.                                              
Wan Manager...                                                                  
Configuring WAN device[WAN0] ...                                                
Obtaining IP address from DHCP ...                                              
No PHY Link                                                                     
Starting DNS Proxy ...            FAILED                                        
Stopping DHCP server ...            fwmCheck[71]                                
Starting FW manager ...           fwmUpdate[188], sending signal USR1 to pid(0) 
OK                                                                              
Starting ntpclient ...                                                          
Setup tc for QoS ... QoS Disable                                                
Disabled                                                                        
Configuring network routing and filtering ...                                   
Init mini iptable rule...OK                                                     
Starting DDNS  ...  Disabled                                                    
Set Static Routing ...            Starting UPNPD  ...  Disabled.                
Starting HTTPD server ...           OK                                          
Staring ALG...           Disabled                                               
Starting LLTD ...           OK                                                  
Starting SC utmproxy ...                                                        
Starting hotplug2 ... OK                                                        
[KCODES]---&gt; you are in server mode(Samba) now                                  
[KCODES]---&gt; mount point:[(null)]                                               
Initialization has completed                                                    
*We used 5.350000 seconds to initialize all modules*                            
pSEM_GETID got id 65538                                                         
[RMGMT DBG] RMGMT_VERSION: 3.1.2                                                
Reload WAN: eth2.2 ...                                                          
Close WAN: eth2.2 ...                                                           
*** PROCESS MANAGER Starts ***                                                  
Processmanager update modules                                                   
Configuring WAN device[WAN0] ...                                                
Obtaining IP address from DHCP ...                                              
No PHY Link                                                                     
Phy(eth2.2) link disconnected ...Wait for link recover                          
Processmanager update modules                                                   
                                                                                
!!! wrong password !!!                                                          
password:                                                                       
!!! wrong password !!!                                                          
password:                                                                       
!!! wrong password !!!                                                          
password:                                                                       
!!! wrong password !!!                                                          
password:                                                                       
sh: /sbin/manufac_test: not found                                               
password:                                                                       
sh: /sbin/cli: not found       </code></pre></div><p>Unfortunately I tried several passwords like &quot;pe&quot; &quot;admin&quot; &quot;senao_kcodes&quot; but neither of them seem to show any console I get the /sbin/xxx not found errors. So this seem to be the right passwords but something is just not right with the factory firmware. Or simply locked down.</p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 26 May 2016, 00:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325860">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						26 May 2016, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>Another update:</p><p><span class="bbu"><strong>I received the GPL code from Sitecom. I&#039;ve uploaded it and it can be downloaded here: </strong></span><a href="https://www.dropbox.com/s/wmbi409kdynhpjy/GPL_WLR-6000v1001.zip?dl=0">Link</a></p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 26 May 2016, 01:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p325861">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						26 May 2016, 00:44					</div>
				</div>
				<div class="post-content content">
					<p>Another update:</p><p>The available commands in u-boot</p><div class="codebox"><pre><code>                                        
RT3883 # help                                                                   
?       - alias for &#039;help&#039;                                                      
bootm   - boot application image from memory                                    
cp      - memory copy                                                           
erase   - erase SPI FLASH memory                                                
go      - start application at address &#039;addr&#039;                                   
help    - print online help                                                     
loadb   - load binary file over serial line (kermit mode)                       
md      - memory display                                                        
mdio   - Ralink PHY register R/W command !!                                     
mm      - memory modify (auto-incrementing)                                     
mw      - memory write (fill)                                                   
nm      - memory modify (constant address)                                      
printenv- print environment variables                                           
reset   - Perform RESET of the CPU                                              
rf      - read/write rf register                                                
saveenv - save environment variables to persistent storage                      
setenv  - set environment variables                                             
spicmd  - read/write data from/to eeprom or vtss                                
tftpboot- boot image via network using TFTP protocol                            
version - print monitor version</code></pre></div><p>And this seems to be the flash layout: </p><div class="codebox"><pre><code>static struct mtd_partition_t physmap_partitions_t[] = {
        {
                name:           &quot;Bootloader&quot;, 
                size:           0x30000,
                offset:         0,
        },{
                name:           &quot;Config &quot;,
                size:           0x10000,
                offset:         0x30000,
        }, {
                name:           &quot;Factory&quot;,
                size:           0x8000,
                offset:         0x40000,
        }, {
                name:           &quot;iNIC_rf&quot;,
                size:           0x8000,
                offset:         0x48000,
        }, {
                name:           &quot;Kernel&quot;,      /* mtdblock4 : kernel(no-router) + web-backup + DNS(fake) + DHCPD */
                size:           0x713000,      /* 0x100000 */
                offset:         0x50000,
        }, {
                name:           &quot;app&quot;,         /* mtdblock5 : kernel + APP */
                size:           0x6FA000,
                offset:         0x150000,
        }, {
                name:            &quot;manufacture&quot;,      /* kernel(0X140000) + APP(0x560000) */
                size:            0x7D000,       
                offset:            0x763000,
        }, {
                name:            &quot;backup&quot;,     
                size:            0x10000,       /* 64 KB */
                offset:            0x7E0000,
        }, {
                name:           &quot;storage&quot;,  
                size:           0x10000,       
                offset:         0x7F0000,
        }</code></pre></div>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 12 Aug 2016, 12:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p332463">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						22 Jul 2016, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>I have a TP-Link WDR4300 with OpenWRT. This is my production router. For a new setup I want to experiment and in the crate with hardware I found the Sitecom WLR-6000. So I am interested in getting OpenWRT on this router...</p><div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>I received the GPL code from Sitecom.</p></blockquote></div><p>In my box there was a cd-rom which has a directory with the source.</p><p>In your photo J12 has a header. I presume you soldered it? Is ths 3,3 V and is the layout btoom to top: Vcc, GND and then RX en TX or visa versa?</p><p>Not completely clear is the experiment with the openwrt-ramips-rt3883-tew-692gr-initramfs-uImage.bin. If I understand correctly you uploaded this via TFTP (serial) to RAM and then started it? If this works have you flashed this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333080">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						1 Aug 2016, 17:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cmsigler wrote:</cite><blockquote><p>Figure out where to solder on a serial pad or pins and use a USB-to-TTL converter to connect to the PCB&#039;s serial port.&nbsp; Then get ckermit or another serial comm program running to that port, set the serial params (115200, 8-N-1 seems to be a vanilla setting)</p></blockquote></div><p>In the above photo this was already done (bottom right near the capcitator). It is labeled J12 and pin 1 has a small white triangle. Pin 1 is Vref, pin 2 is GND, pin 3 is TXD and pin 4 is RXD. The serial parameters are 57600,8,N,1.</p><p>Press immediately a U-boot option when text appears. The interval seems to be one second, so be quick <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. I&#039;ve identified the following options:</p><ol class="decimal"><li><p>Load system code to SDRAM via TFTP</p></li><li><p>System Load Linux Kernel then write to Flash via TFTP</p></li><li><p>System Boot system code via Flash</p></li><li><p>System Enter Boot Command Line Interface</p></li><li><p><em>same as 1 with default choices, starts immediately</em></p></li><li><p>- <em>(starts 3)</em></p></li><li><p>System Load Boot Loader then write to Flash via Serial</p></li><li><p>System Load UBoot to SDRAM via TFTP</p></li><li><p>System Load Boot Loader then write to Flash via TFTP</p></li></ol><p><a href="http://www.hetlab.tk/downloads/openwrt/bootlog_sitecom_wlr6000_2.txt">Here</a> the complete output from start to one of the above choices.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333081">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						1 Aug 2016, 17:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>Unfortunately I tried several passwords like &quot;pe&quot; &quot;admin&quot; &quot;senao_kcodes&quot; but neither of them seem to show any console I get the /sbin/xxx not found errors. So this seem to be the right passwords but something is just not right with the factory firmware. Or simply locked down.</p></blockquote></div><p>Nope. On the bottom of the router is a sticker with default, random WPA2 passwords for 2,4 and 5 GHz. There is also a password for admin and that is on mine the same as the 2,4 GHz one. Will try your op_mode experiment...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333099">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						1 Aug 2016, 23:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>Unfortunately I tried several passwords like &quot;pe&quot; &quot;admin&quot; &quot;senao_kcodes&quot; but neither of them seem to show any console I get the /sbin/xxx not found errors. So this seem to be the right passwords but something is just not right with the factory firmware. Or simply locked down.</p></blockquote></div><p>I don&#039;t have the password prompt but I noticed:</p><div class="codebox"><pre><code>KernelApp/Ramdisk Ver:2.0.1.16                   Date:2011/12/12
console&gt; Application Ver:2.0.1.16                Date:2011/12/12

cmd [mkdir -p /dev/shm/tmp]
cmd [chmod 1777 /dev/shm/tmp/]
...</code></pre></div><p>The text after console&gt; is the config_init output. With a Ctrl-C at the end I get the console&gt; prompt again and after searching the web I <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=760677#760677">found</a> two possible passwords <strong>lin17</strong> and <strong>sn2450</strong>. The latter worked and I&#039;ve now a root-prompt through the serial console.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333174">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						3 Aug 2016, 13:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><div class="codebox"><pre><code>KernelApp/Ramdisk Ver:2.0.1.16                   Date:2011/12/12
console&gt; Application Ver:2.0.1.16                Date:2011/12/12</code></pre></div></blockquote></div><p>The upgrade to the newest version (3.1.0.2) was broken. I asked Sitecom for a download and they repaired the portal so now I have:</p><div class="codebox"><pre><code>KernelApp/Ramdisk Ver:3.1.0.2      Date:2012/05/22
Application Ver:3.1.0.2            Date:2012/05/22</code></pre></div><p>The <em>console&gt;</em> prompt is now a <em>password:</em> prompt and that is changed from <strong>sn2450</strong> to <strong>lin17</strong>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333175">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						3 Aug 2016, 13:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>And this seems to be the flash layout: </p><div class="codebox"><pre><code>...
                name:           &quot;app&quot;,         /* mtdblock5 : kernel + APP */
                size:           0x6FA000,
                offset:         0x150000,
,,,</code></pre></div></blockquote></div><p>This can&#039;t be right. The offset plus size gives 0x84A000 and that is outside the 8 MiB of the flash. The correct size is:</p><div class="codebox"><pre><code># cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00030000 00001000 &quot;Bootloader&quot;
mtd1: 00010000 00001000 &quot;Config &quot;
mtd2: 00008000 00001000 &quot;Factory&quot;
mtd3: 00008000 00001000 &quot;iNIC_rf&quot;
mtd4: 00713000 00001000 &quot;Kernel&quot;
mtd5: 005ca000 00001000 &quot;app&quot;
mtd6: 0007d000 00001000 &quot;manufacture&quot;
mtd7: 00010000 00001000 &quot;backup&quot;
mtd8: 00010000 00001000 &quot;storage&quot;</code></pre></div><p>So my guess is that md4 and md5 overlap. The sum of all sizes minus mtd5 is 0x800000 and that is 8 MiB. So the kernel is present from 0x050000 to 0x199000 (1.316 KiB) and from that point we have a 5.808 KiB squashfs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333934">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						10 Aug 2016, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I&#039;m glad to see that you are also interested in the WLR-6000 <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.<em> I was on holiday so that&#039;s the reason of my late reply.</em></p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>In your photo J12 has a header. I presume you soldered it? Is ths 3,3 V and is the layout btoom to top: Vcc, GND and then RX en TX or visa versa?</p></blockquote></div><p>It is not my own picture. I took it from the WIKI page. But no I did not solder anything permanent yet. I removed the existing solder so I could use &quot;<a href="https://blog.adafruit.com/wp-content/uploads/2012/05/PogoPins.jpg">PogoPins</a>&#039; to make a temporally connection. And I saw you figured the pinout scheme out yourself <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>This can&#039;t be right. The offset plus size gives 0x84A000 and that is outside the 8 MiB of the flash.</p></blockquote></div><p>The flash layout is directly copied from the GPL Archive Sitecom provided. I could be mistaken but isn&#039;t there 16MiB of flash on this router?</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>Not completely clear is the experiment with the openwrt-ramips-rt3883-tew-692gr-initramfs-uImage.bin. If I understand correctly you uploaded this via TFTP (serial) to RAM and then started it? If this works have you flashed this?</p></blockquote></div><p>I compiled a RAM image of the rt3883(<a href="https://wiki.openwrt.org/toh/hwdata/trendnet/trendnet_tew-692gr_10r">Trendnet TEW-692GR</a>) from source and started it with console option &quot;1: Load system code to SDRAM via TFTP.&quot; so the flash was unaffected during this process. The reason I chose this platform is because of its hardware similarities with the WLR6000. So I had a starting point to work with.</p><p>I did not tried to flash this since the flash chip and other hardware is not properly addressed yet so this would make my router useless. <br />Another thing: I took a quick browse on your website and noticed that you did a try on the initramfs aswel? But you had problems getting the file uploaded? please make sure that you&#039;re uploading the correct file. From what I can see is that you are uploading the &quot;squashfs&quot; file instead of the &quot;initramfs&quot; file.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>The upgrade to the newest version (3.1.0.2) was broken. I asked Sitecom for a download and they repaired the portal so now I have:</p></blockquote></div><p>Great, we now have thesame version. But yeah I noticed that as well. They gave me a link to some random file sharing page with the firmware file. I saved it locally for future references.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>The console&gt; prompt is now a password: prompt and that is changed from sn2450 to lin17.</p></blockquote></div><p>Mhh... so you are able to login to the console and browse the filesystem?</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p><a href="http://www.hetlab.tk/downloads/openwrt/bootlog_sitecom_wlr6000_2.txt">Here</a> the complete output from start to one of the above choices.</p></blockquote></div><p><em>Ps. I noticed the words &quot;KEUZE&quot; in your complete bootlog. Is it correct to assume that you&#039;re dutch? (Which is also my nationality <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> )</em></p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 10 Aug 2016, 17:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333936">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						10 Aug 2016, 18:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>I was on holiday so that&#039;s the reason of my late reply.</p></blockquote></div><p>No problem. Hope it was a nice break <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. I was trying to repeat your experiments and got almost as far and discovered a phew new things. Good to finally have your answers.</p><div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>But no I did not solder anything permanent yet. I removed the existing solder</p></blockquote></div><p>I removed the solder by hand drilling with a 0,8 mm drill. And then soldered a header. I didn&#039;t mind that it is permanent <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. If I can get the router to work: great. If not I will probably learn a lot. Already have...</p><div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>The flash layout is directly copied from the GPL Archive Sitecom provided. I could be mistaken but isn&#039;t there 16MiB of flash on this router?</p></blockquote></div><p>Hmm, mine is 8 MiB. I have the impression that the quality of the source archive is a mess. I&#039;ve created a <a href="http://www.hetlab.tk/openwrt/sitecom-wlr-6000-flash-layout">layout</a> for the one I have (version 3.1.0.2 of the firmware). Sorry for the Dutch, but probably Google translate will help.</p><div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>I compiled a RAM image of the rt3883(<a href="https://wiki.openwrt.org/toh/hwdata/trendnet/trendnet_tew-692gr_10r">Trendnet TEW-692GR</a>) from source and started it with console option &quot;1: Load system code to SDRAM via TFTP.&quot; so the flash was unaffected during this process. The reason I chose this platform is because of its hardware similarities with the WLR6000. So I had a starting point to work with.</p></blockquote></div><p>And that is the point wher I&#039;m stuck. I figured it out that I needed to compile a initramfs. I choosed the same platform you mentioned, but I don&#039;t get the filename. Instead:</p><div class="codebox"><pre><code>hvdkamer@openwrt:~/openwrt$ ls -l bin/ramips/
total 24644
-rw-r--r--  1 hvdkamer hvdkamer     506 aug  6 00:10 md5sums
-rw-r--r--  1 hvdkamer hvdkamer 1835008 aug  6 00:10 openwrt-ramips-rt3883-root.squashfs
-rw-r--r--  1 hvdkamer hvdkamer 2953674 aug  6 00:10 openwrt-ramips-rt3883-uImage-initramfs.bin
-rw-r--r--  1 hvdkamer hvdkamer 1274244 aug  6 00:10 openwrt-ramips-rt3883-uImage.bin
-rwxr-xr-x  1 hvdkamer hvdkamer 5611580 aug  6 00:10 openwrt-ramips-rt3883-vmlinux-initramfs.bin
-rwxr-xr-x  1 hvdkamer hvdkamer 5616644 aug  6 00:10 openwrt-ramips-rt3883-vmlinux-initramfs.elf
-rwxr-xr-x  1 hvdkamer hvdkamer 3953532 aug  6 00:10 openwrt-ramips-rt3883-vmlinux.bin
-rwxr-xr-x  1 hvdkamer hvdkamer 3958596 aug  6 00:10 openwrt-ramips-rt3883-vmlinux.elf
drwxr-xr-x 10 hvdkamer hvdkamer    4096 aug  6 00:10 packages
-rw-r--r--  1 hvdkamer hvdkamer     871 aug  6 00:10 sha256sums</code></pre></div><p>When I load openwrt-ramips-rt3883-uImage-initramfs.bin via TFTP to RAM the kernels starts, but reboots endlessly after four lines of output. I don&#039;t have the capture, but it looks like:</p><div class="codebox"><pre><code>[    0.000000] Linux version &lt;build information&gt;
[    0.000000] SoC Type: Ralink RT3883 ver:1 eco:5
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 0001974c (MIPS 74Kc)</code></pre></div><p>I&#039;ve also tried openwrt-15.05.1-ramips-rt3883-uImage.bin uboot.img and openwrt-15.05.1-ramips-rt3883-tew-692gr-squashfs-factory.bin from the OpenWRT download site. The first does the same as what I&#039;ve compiled, the second boots the kernel but then says it need an initramfs. That clue prompted me to compile one myself because I couldn&#039;t find the one you mentioned.</p><p>What did you do to get the explicit filename and not the generic one. I probably do something wrong, but the Wiki is very confusing. Do you still have the one you compiled. Can I try it?</p><div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>Mhh... so you are able to login to the console and browse the filesystem?</p></blockquote></div><p>Correct. That is one of the things I discovered. You get a root prompt, but the available commands are very limited. One of my next ideas was to compile missing packages and use the USB -- yes, a flashdrive can be mounted -- to get them temporarily. A bit like the initramfs...</p><p>I&#039;ve the impression that this router could be upgraded to OpenWRT. I have some information about the dlf format os if successful other users don&#039;t have to solder a header but can flash through the normal Sitecom firmware. We are not there yet, but together we can probably get closer to that goal.</p>											<p class="post-edited">(Last edited by <strong>hvdkamer</strong> on 10 Aug 2016, 18:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p333939">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						10 Aug 2016, 18:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>No problem. Hope it was a nice break <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. I was trying to repeat your experiments and got almost as far and discovered a phew new things. Good to finally have your answers.</p></blockquote></div><p>Yeah it was, Thanks <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>I removed the solder by hand drilling with a 0,8 mm drill. And then soldered a header. I didn&#039;t mind that it is permanent <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. If I can get the router to work: great. If not I will probably learn a lot. Already have...</p></blockquote></div><p>Mmh. interesting way of de-soldering things <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>Hmm, mine is 8 MiB. I have the impression that the quality of the source archive is a mess. I&#039;ve created a <a href="http://www.hetlab.tk/openwrt/sitecom-wlr-6000-flash-layout">layout</a> for the one I have (version 3.1.0.2 of the firmware).</p></blockquote></div><p>I have not checked the flash chip myself and copied the information from the WIKI. But I will check the chip on my board to verify that.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>Sorry for the Dutch, but probably Google translate will help.</p></blockquote></div><p>You probably missed:<br /></p><div class="quotebox"><cite>timeless wrote:</cite><blockquote><p>Ps. I noticed the words &quot;KEUZE&quot; in your complete bootlog. Is it correct to assume that you&#039;re dutch? (Which is also my nationality <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> )</p></blockquote></div><p>So dutch is not a problem for me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>And that is the point wher I&#039;m stuck. I figured it out that I needed to compile a initramfs. I choosed the same platform you mentioned, but I don&#039;t get the filename. Instead:</p><div class="codebox"><pre><code>hvdkamer@openwrt:~/openwrt$ ls -l bin/ramips/
total 24644
-rw-r--r--  1 hvdkamer hvdkamer     506 aug  6 00:10 md5sums
-rw-r--r--  1 hvdkamer hvdkamer 1835008 aug  6 00:10 openwrt-ramips-rt3883-root.squashfs
-rw-r--r--  1 hvdkamer hvdkamer 2953674 aug  6 00:10 openwrt-ramips-rt3883-uImage-initramfs.bin
-rw-r--r--  1 hvdkamer hvdkamer 1274244 aug  6 00:10 openwrt-ramips-rt3883-uImage.bin
-rwxr-xr-x  1 hvdkamer hvdkamer 5611580 aug  6 00:10 openwrt-ramips-rt3883-vmlinux-initramfs.bin
-rwxr-xr-x  1 hvdkamer hvdkamer 5616644 aug  6 00:10 openwrt-ramips-rt3883-vmlinux-initramfs.elf
-rwxr-xr-x  1 hvdkamer hvdkamer 3953532 aug  6 00:10 openwrt-ramips-rt3883-vmlinux.bin
-rwxr-xr-x  1 hvdkamer hvdkamer 3958596 aug  6 00:10 openwrt-ramips-rt3883-vmlinux.elf
drwxr-xr-x 10 hvdkamer hvdkamer    4096 aug  6 00:10 packages
-rw-r--r--  1 hvdkamer hvdkamer     871 aug  6 00:10 sha256sums</code></pre></div><p>When I load openwrt-ramips-rt3883-uImage-initramfs.bin via TFTP to RAM the kernels starts, but reboots endlessly after four lines of output. I don&#039;t have the capture, but it looks like:</p><div class="codebox"><pre><code>[    0.000000] Linux version &lt;build information&gt;
[    0.000000] SoC Type: Ralink RT3883 ver:1 eco:5
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 0001974c (MIPS 74Kc)</code></pre></div><p>I&#039;ve also tried openwrt-15.05.1-ramips-rt3883-uImage.bin uboot.img and openwrt-15.05.1-ramips-rt3883-tew-692gr-squashfs-factory.bin from the OpenWRT download site. The first does the same as what I&#039;ve compiled, the second boots the kernel but then says it need an initramfs. That clue prompted me to compile one myself because I couldn&#039;t find the one you mentioned.</p><p>What did you do to get the explicit filename and not the generic one. I probably do something wrong, but the Wiki is very confusing. Do you still have the one you compiled. Can I try it?</p></blockquote></div><p>Yeah you&#039;re correct, there is something wrong with the TEW-692gr profile. The correct files are only generated when using the <a href="https://git.openwrt.org/?p=15.05/openwrt.git;a=summary">15.05</a> source. I noticed this as well but ignored this for now. Mostly because the TEW-692GR is not the goal platform here. please repeat your steps on a 15.05 checkout and I&#039;m sure you will get the same results I had.</p><p>I&#039;ll have a look to see if I have the files. I cleaned up some space and accidentally removed some of my compiled stuff last time <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>I&#039;ve the impression that this router could be upgraded to OpenWRT</p></blockquote></div><p>Yeah correct. also since most of the hardware is already supported. We only have to connect the dots.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>I have some information about the dlf format os if successful other users don&#039;t have to solder a header but can flash through the normal Sitecom firmware. We are not there yet, but together we can probably get closer to that goal.</p></blockquote></div><p>Yeah this is also a more user friendly way.</p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 10 Aug 2016, 18:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334040">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						11 Aug 2016, 12:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>Mmh. interesting way of de-soldering things <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p></blockquote></div><p><a href="http://www.robotroom.com/Desoldering-Holes-1.html">Found</a> it on the internet and it is very easy without risk of over heating...</p><div class="quotebox"><cite>timeless wrote:</cite><blockquote><p>Ps. I noticed the words &quot;KEUZE&quot; in your complete bootlog. Is it correct to assume that you&#039;re dutch? (Which is also my nationality <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /> )</p></blockquote></div><p>That was added will I was still busy creating my response <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><div class="quotebox"><cite>timeless wrote:</cite><blockquote><p>Yeah you&#039;re correct, there is something wrong with the TEW-692gr profile. The correct files are only generated when using the <a href="https://git.openwrt.org/?p=15.05/openwrt.git;a=summary">15.05</a> source. I noticed this as well but ignored this for now. Mostly because the TEW-692GR is not the goal platform here. please repeat your steps on a 15.05 checkout and I&#039;m sure you will get the same results I had.</p></blockquote></div><p>I used trunk. Tonight I will try to do a build with 15.05. The only partial success I had was with the TEW-692GR uImage. Probably because there is a <a href="https://developer.ridgerun.com/wiki/index.php/Common_Problems_-_Linux_kernel_doesnt_boot#Mismatch_between_u-boot_machine_ID_and_Linux_machine_ID">check</a> for the machine ID. At least that is my hypothesis for the moment.</p><p>A working OpenWRT with initramfs even if it is the wrong profile is almost certain more useful then the root access in the original Sitecom firmware. So my list for the coming days:</p><ol class="decimal"><li><p>Compile the 15.05 TEW-692GR profile and see if it boots</p></li><li><p>If success: Test if the main components -- network, switch, wireless, usb -- works</p></li><li><p>If success: Check which patch has broken the TEW-692GR profile in 15.05.1 and later</p></li><li><p>If fail: compile kernel with CONFIG_DEBUG_LL to see if the machine ID is the problem</p></li></ol><div class="quotebox"><cite>timeless wrote:</cite><blockquote><p>I&#039;ll have a look to see if I have the files. I cleaned up some space and accidentally removed some of my compiled stuff last time <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />.</p></blockquote></div><p>If the above succeeds then it is not a problem. I got exited when I saw you had a non destructive working environment. At least until the next reboot. One of the options to get a permanent OpenWRT firmware is through this route. Not the most easy one, but at least a proof of concept.</p><p>Hope you can find your working image. Then&nbsp; you can check which hardware works and which don&#039;t. And please confirm/disprove the flash size. Did you already make a <a href="http://www.hetlab.tk/openwrt/sitecom-wlr-6000-2">back-up</a> (for others: in Dutch) of the mtd partitions?</p><p>Another question. Should we start a wiki page. We have a lot of information and a good chance of success. At least more then a lot of other routers in the TOH.</p>											<p class="post-edited">(Last edited by <strong>hvdkamer</strong> on 11 Aug 2016, 12:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334042">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						11 Aug 2016, 12:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p><a href="http://www.robotroom.com/Desoldering-Holes-1.html">Found</a> it on the internet and it is very easy without risk of over heating...</p></blockquote></div><p>Ah seems like a legit method indeed.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>I used trunk. Tonight I will try to do a build with 15.05. The only partial success I had was with the TEW-692GR uImage. Probably because there is a <a href="https://developer.ridgerun.com/wiki/index.php/Common_Problems_-_Linux_kernel_doesnt_boot#Mismatch_between_u-boot_machine_ID_and_Linux_machine_ID">check</a> for the machine ID. At least that is my hypothesis for the moment.</p></blockquote></div><p>I guess the uImage you&#039;re uploading only contains the kernel and therefor will not boot any further. And with the current trunk there is no file generated specific for this hardware. but just a generic image.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><ol class="decimal"><li><p>Compile the 15.05 TEW-692GR profile and see if it boots</p></li><li><p>If success: Test if the main components -- network, switch, wireless, usb -- works</p></li><li><p>If success: Check which patch has broken the TEW-692GR profile in 15.05.1 and later</p></li><li><p>If fail: compile kernel with CONFIG_DEBUG_LL to see if the machine ID is the problem</p></li></ol></blockquote></div><p>1. Does work<br />2. Network, switch, wireless does not work. Have not yet tested USB.<br />WIFI:<br /></p><div class="codebox"><pre><code>[   12.210000] rt2800pci 0000:01:00.0: no of_node; not parsing pinctrl DT
[   12.210000] PCI: Enabling device 0000:01:00.0 (0000 -&gt; 0002)
[   12.220000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5392, rev 0222 detected
[   12.240000] ieee80211 phy0: rt2800_init_eeprom: Error - Invalid RF chipset 0xffff detected
[   12.260000] ieee80211 phy0: rt2x00lib_probe_dev: Error - Failed to allocate device
[   12.270000] rt2800_wmac 10180000.wmac: failed to load eeprom property
[   12.290000] ieee80211 phy1: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;soc_wmac.eeprom&#039;.
[   12.310000] rt2800_wmac 10180000.wmac: Direct firmware load for soc_wmac.eeprom failed with error -2
[   12.320000] rt2800_wmac 10180000.wmac: Falling back to user helper
[   12.380000] firmware soc_wmac.eeprom: firmware_loading_store: map pages failed
[   12.390000] ieee80211 phy1: rt2x00lib_request_eeprom_file: Error - Failed to request EEPROM.
[   12.410000] rt2800_wmac: probe of 10180000.wmac failed with error -11</code></pre></div><p>SWITCH:<br /></p><div class="codebox"><pre><code>[    5.070000] of-flash 1c000000.nor-flash: do_map_probe() failed
[    5.080000] ralink_soc_eth 10100000.ethernet: generated random MAC address 36:8e:58:e4:50:41
[    5.100000] libphy: mdio: probed
[    5.110000] switch0: Atheros AR8327 rev. 2 switch registered on mdio-bus
[    5.120000] Atheros AR8216/AR8236/AR8316: probe of mdio-bus:00 failed with error -22
[    5.140000] ralink_soc_eth 10100000.ethernet: incorrect phy-mode -22
[    5.150000] ralink_soc_eth 10100000.ethernet eth0: ralink at 0xb0100000, irq 5</code></pre></div><p>For more check the &quot;dmesg&quot; output of post <a href="https://forum.openwrt.org/viewtopic.php?pid=324853#p324853">#8</a>.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>If the above succeeds then it is not a problem. I got exited when I saw you had a non destructive working environment. At least until the next reboot. One of the options to get a permanent OpenWRT firmware is through this route. Not the most easy one, but at least a proof of concept.</p><p>Hope you can find your working image. Then&nbsp; you can check which hardware works and which don&#039;t. And please confirm/disprove the flash size. </p><p>Another question. Should we start a wiki page. We have a lot of information and a good chance of success. At least more then a lot of other routers in the TOH.</p></blockquote></div><p>I&#039;m currently working on some domotics systems. Which will limit my time here. But I will help the best I can. After today&#039;s work I&#039;ll check if I can find the initramfs file. And if not maybe compile one for you, to check if you get the same results as I had?</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>Did you already make a <a href="http://www.hetlab.tk/openwrt/sitecom-wlr-6000-2">back-up</a> (for others: in Dutch) of the mtd partitions?</p></blockquote></div><p>I did not make a backup yet. That&#039;s also the reason why I used a RAM image so my flash stayed unharmed <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 11 Aug 2016, 12:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334047">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						11 Aug 2016, 12:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>I guess the uImage you&#039;re uploading only contains the kernel and therefor will not boot any further. And with the current trunk there is no file generated specific for this hardware. but just a generic image.</p></blockquote></div><p>I did three experiments:</p><ol class="decimal"><li><p>openwrt-15.05.1-ramips-rt3883-uImage.bin</p></li><li><p>openwrt-15.05.1-ramips-rt3883-tew-692gr-squashfs-factory.bin</p></li><li><p>openwrt-ramips-rt3883-uImage-initramfs.bin</p></li></ol><p>I do a binwalk on all images to see what they contain. The first has the name suggests only the kernel. That one <a href="http://www.hetlab.tk/downloads/openwrt/bootlog_sitecom_wlr6000_5.txt">gives</a> a endless reboot with only four messages from the kernel.</p><p>The second one contains a kernel and squasfs root filesystem for flashing. This kernel <a href="http://www.hetlab.tk/downloads/openwrt/bootlog_sitecom_wlr6000_6.txt">starts fully</a>, but can&#039;t find a initramfs to boot from.</p><p>Those two let to the experiment of compilng the TEW-692GR profile from trunk. That didn&#039;t give the correct filename but a binwalk shows a kernel and initramfs. I don&#039;t have the log, but it is similar as the first experiment: endless reboot with four kernel lines per boot.</p><p>Thanks to your reply it seems now that building the TEW-692GR profile is broken. But that one has something which is needed for booting on the SItecom WLR-6000 <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>2. Network, switch, wireless does not work. Have not yet tested USB.</p></blockquote></div><p>Ok. The last would be handy for importing/exporting stuff from a running initramfs.</p><div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>I&#039;m currently working on some domotics systems. Which will limit my time here. But I will help the best I can. After today&#039;s work I&#039;ll check if I can find the initramfs file. And if not maybe compile one for you, to check if you get the same results as I had?</p></blockquote></div><p>Finding it could be useful. But I also want to compile my own for two reasons. One to confirm your experiment and two because then I have a system to build variations of the firmware. So no need for you to compile a new one.</p><p>I&#039;ll do the work for now. No problem. I&#039;ll probably use it for another episode of my Het Lab articles in a Dutch computermagazine. Your replies with clarification already helped a lot. Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334070">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						11 Aug 2016, 16:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Timeless wrote:</cite><blockquote><p>I have not checked the flash chip myself and copied the information from the WIKI. But I will check the chip on my board to verify that.</p></blockquote></div><p>In <a href="http://www.hetlab.tk/downloads/openwrt/bootlog_sitecom_wlr6000_1.txt">my bootlog</a> it says:</p><div class="codebox"><pre><code>Board: Ralink APSoC DRAM:  64 MB
spi_wait_nsec: 48
spi device id: c2 20 17 c2 20 (2017c220)
find flash: MX25L6405D</code></pre></div><p>Acoording to the <a href="http://www.macronix.com/en-us/Product/Pages/ProductDetail.aspx?PartNo=MX25L6405D">manufacturer</a> this is a 64 Mbit chip, so 8 MiB.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334082">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">hvdkamer</div>
					<div class="post-datetime">
						11 Aug 2016, 18:39					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>Another question. Should we start a wiki page. We have a lot of information and a good chance of success. At least more then a lot of other routers in the TOH.</p></blockquote></div><p>I&#039;ve <a href="https://wiki.openwrt.org/toh/sitecom/wlr-6000">created a page</a> about this router. Hope this attracts other interested persons to this topic.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p334178">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">Timeless</div>
					<div class="post-datetime">
						12 Aug 2016, 11:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>In <a href="http://www.hetlab.tk/downloads/openwrt/bootlog_sitecom_wlr6000_1.txt">my bootlog</a> it says:</p><div class="codebox"><pre><code>Board: Ralink APSoC DRAM:  64 MB
spi_wait_nsec: 48
spi device id: c2 20 17 c2 20 (2017c220)
find flash: MX25L6405D</code></pre></div><p>Acoording to the <a href="http://www.macronix.com/en-us/Product/Pages/ProductDetail.aspx?PartNo=MX25L6405D">manufacturer</a> this is a 64 Mbit chip, so 8 MiB.</p></blockquote></div><p>You are indeed correct. This is also in my bootlog. So I do not need to check that on the PCB anymore. I think it is more or less confirmed now.</p><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><div class="quotebox"><cite>hvdkamer wrote:</cite><blockquote><p>Another question. Should we start a wiki page. We have a lot of information and a good chance of success. At least more then a lot of other routers in the TOH.</p></blockquote></div><p>I&#039;ve <a href="https://wiki.openwrt.org/toh/sitecom/wlr-6000">created a page</a> about this router. Hope this attracts other interested persons to this topic.</p></blockquote></div><p>Yes I noticed, great work.</p><div class="quotebox"><blockquote><p>If remembered correctly this brakes a &#039;warranty seal&#039; sticker</p></blockquote></div><p>There was no seal on my WLR-6000.</p><p>I also spoke to mkresin. He helped me with the <a href="https://wiki.openwrt.org/toh/arcadyan/vgv7519">Astoria networks VGV7519</a> before. and he followed this topic as well. He send me the altered TEW-692GR profile file (.dts) with initial <a href="http://www.zlgmcu.com/mxic/pdf/NOR_Flash_c/MX25L6406E_DS_EN.pdf">Macronix&nbsp; 25L6406E</a> support, Have to check if it also works for the MX25L6405D. I asked him if I may post it here as well. And he told me that he will reply on this topic later.</p><p><em>Ps. I also noticed your backdoor warning in the original Sitecom firmware. This can be very serious <img src="https://forum.openwrt.org/img/smilies/yikes.png" width="15" height="15" alt="yikes" />. but seems only possible from LAN (Management WAN disabled) and if the WiFi password is not changed. But still Sitecom does not patch it while there is a 10year warranty.</em></p>											<p class="post-edited">(Last edited by <strong>Timeless</strong> on 12 Aug 2016, 11:59)</p>
									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 26 to 25 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=62704&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=62704&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>