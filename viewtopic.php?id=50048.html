<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WR703N, USB extroot does not work</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p230073">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						13 Apr 2014, 14:45					</div>
				</div>
				<div class="post-content content">
					<p>I made it working in old version of Barrier Breaker (r39....) by following the instruction, given <a href="http://wiki.openwrt.org/doc/howto/extroot#openwrt.barrier.breaker.trunk">here</a>.<br />Today I&#039;ve upgraded my router to r40477 and could not setup extroot anymore.<br />What&#039;s wrong?</p><p>I noticed one things: mount command with only device name as arguments returns error &quot;cannot find /etc/fstab&quot;. Why is it looking for /etc/fstab instead of /etc/config/fstab?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230311">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						15 Apr 2014, 18:17					</div>
				</div>
				<div class="post-content content">
					<p>/etc/fstab is linked to /tmp/fstab, but /tmp/fstab does not exist<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ls /etc/fstab -l
lrwxrwxrwx    1 root     root            10 Apr 14 07:34 /etc/fstab -&gt; /tmp/fstab
root@OpenWrt:~# ls /tmp/fstab -l
ls: /tmp/fstab: No such file or directory</code></pre></div><p>Why does it not exist? Who should create it?</p><p>Could it be a reson why I&#039;m not able to mount /dev/sda (usb) on /overlay?</p>											<p class="post-edited">(Last edited by <strong>mazilla</strong> on 15 Apr 2014, 18:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230313">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						15 Apr 2014, 18:21					</div>
				</div>
				<div class="post-content content">
					<p>Do you have /etc/.extroot-uuid?</p><p>If yes, does it state the same UUID as the device you are trying to mount as extroot?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230316">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						15 Apr 2014, 18:44					</div>
				</div>
				<div class="post-content content">
					<p>No, I don&#039;t have /etc/.extroot-uuid.</p><div class="codebox"><pre><code>root@OpenWrt:/etc#  ls -a
.                     firewall.user         mtab                  rc.common
..                    fstab                 openwrt_release       rc.d
TZ                    group                 openwrt_version       rc.local
banner                hosts                 opkg.conf             resolv.conf
config                hotplug-preinit.json  passwd                services
crontabs              hotplug.d             passwd-               shadow
diag.sh               hotplug.json          ppp                   shadow-
dnsmasq.conf          init.d                preinit               shells
dropbear              inittab               profile               sysctl.conf
e2fsck.conf           modules-boot.d        protocols             sysupgrade.conf
ethers                modules.d             rc.button             uci-defaults</code></pre></div>											<p class="post-edited">(Last edited by <strong>mazilla</strong> on 15 Apr 2014, 18:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230330">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						15 Apr 2014, 20:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mazilla wrote:</cite><blockquote><p>/etc/fstab is linked to /tmp/fstab, but /tmp/fstab does not exist</p></blockquote></div><p>Same here on r40004 on DIR-505, but my extroot is working...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230345">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						15 Apr 2014, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>so, gentlemen, any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230348">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						15 Apr 2014, 21:14					</div>
				</div>
				<div class="post-content content">
					<p>Had the same problem here right now after updating to r40502.</p><p>Solution that worked for me: On your extroot USB drive (not in your router&#039;s /etc/ !), search for /etc/.extroot-uuid and delete it. Reboot, done.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230351">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						15 Apr 2014, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>I temporary mounted my usb drive to /mnt/usb. There is no .extroot-uuid in /mnt/usb/etc/&nbsp; &nbsp;<img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br /></p><div class="codebox"><pre><code>root@OpenWrt:~# ls /mnt/usb/etc -a
.               config          e2fsck.conf     hotplug.d       modules-boot.d  passwd          shadow          uci-defaults
..              dropbear        ethers          init.d          modules.d       passwd-         shadow-</code></pre></div><p><strong>tmo26</strong>, are you using pivot overlay or pivot root?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230358">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						15 Apr 2014, 22:31					</div>
				</div>
				<div class="post-content content">
					<p>I use pivot overlay.</p><p>How does your /etc/config/fstab look?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230362">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						15 Apr 2014, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>Exactly as it is exemplified in extroot openwrt wiki.<br />My fstab config:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# cat /etc/config/fstab
config &#039;global&#039;
        option  anon_swap       &#039;0&#039;
        option  anon_mount      &#039;0&#039;
        option  auto_swap       &#039;1&#039;
        option  auto_mount      &#039;1&#039;
        option  delay_root      &#039;5&#039;
        option  check_fs        &#039;0&#039;

config &#039;mount&#039;
        option  target  /overlay
        option  device  /dev/sda
        option  fstype  ext4
        option  options rw,sync
        option  enabled 1
        option  enabled_fsck    0</code></pre></div><br /><p>to avoid possible questions&nbsp; - /dev/sda has no partition table. It is whole ext4.</p>											<p class="post-edited">(Last edited by <strong>mazilla</strong> on 15 Apr 2014, 22:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230371">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						16 Apr 2014, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>One last thing comes to my mind:</p><p>Increase </p><div class="codebox"><pre><code>option  delay_root  &#039;5&#039;</code></pre></div><p> to 10 (or higher)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230409">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						16 Apr 2014, 10:57					</div>
				</div>
				<div class="post-content content">
					<p>It does not help:(</p><div class="codebox"><pre><code>root@OpenWrt:~# cat /etc/config/fstab
config &#039;global&#039;
        option  anon_swap       &#039;0&#039;
        option  anon_mount      &#039;0&#039;
        option  auto_swap       &#039;1&#039;
        option  auto_mount      &#039;1&#039;
        option  delay_root      &#039;15&#039;
        option  check_fs        &#039;0&#039;

config &#039;mount&#039;
        option  target  /overlay
        option  device  /dev/sda
        option  fstype  ext4
        option  options rw,sync
        option  enabled 1
        option  enabled_fsck    0

root@OpenWrt:~# df
Filesystem           1K-blocks      Used Available Use% Mounted on
rootfs                    1024       876       148  86% /
/dev/root                 2048      2048         0 100% /rom
tmpfs                    14448        52     14396   0% /tmp
/dev/mtdblock3            1024       876       148  86% /overlay
overlayfs:/overlay        1024       876       148  86% /
tmpfs                      512         0       512   0% /dev</code></pre></div>											<p class="post-edited">(Last edited by <strong>mazilla</strong> on 16 Apr 2014, 15:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230412">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						16 Apr 2014, 11:10					</div>
				</div>
				<div class="post-content content">
					<p>Some more desperate tips:<br />- try adding &#039; around the arguments, e.g. &#039;/overlay&#039; instead of /overlay<br />- try mounting by UUID or by label instead of device<br />- check for presence of .extroot-uuid (yes, again! Yes, on both the router&#039;s /etc and the USB drives /etc)</p><p>Questions:<br />- The USB drive, is it a freshly formatted one or is there some old content left over on it from previous extroot?<br />- Any useful information in dmesg / logread?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230438">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						16 Apr 2014, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>- adding &#039; around arguments didn&#039;t help<br />- mounting by UUID didn&#039;t help<br />- no .extroot-uuid files in both /etc dirictories</p><p>Answers:<br />- yes, it was formatted by <strong>mkfs.ext4 /dev/sda</strong> before copying all /overlay to usb by <strong>tar -C /overlay -cvf - . | tar -C /mnt/sda -xf -</strong><br />- I cant find any useful information there (Im inexperienced in linux), may be you can:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# dmesg
[    0.000000] Linux version 3.10.36 (openwrt@gb-14) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40504) ) #1 Mon Apr 14 07:44:16 UTC 2014
[    0.000000] MyLoader: sysp=388dd517, boardp=04505212, parts=7709ac36
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019374 (MIPS 24Kc)
[    0.000000] SoC: Atheros AR9330 rev 1
[    0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 8032ab60, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8192 pages, LIFO batch:0
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=TL-WR703N console=ttyATH0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 28652k/32768k available (2335k kernel code, 4116k reserved, 613k data, 248k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:51
[    0.080000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.100000] MIPS: machine is TP-LINK TL-WR703N v1
[    0.350000] bio: create slab &lt;bio-0&gt; at 0
[    0.360000] Switching to clocksource MIPS
[    0.360000] NET: Registered protocol family 2
[    0.370000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.370000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.370000] TCP: Hash tables configured (established 512 bind 512)
[    0.380000] TCP: reno registered
[    0.380000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.390000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.400000] NET: Registered protocol family 1
[    0.400000] PCI: CLS 0 bytes, default 32
[    0.420000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.420000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.430000] msgmni has been set to 55
[    0.440000] io scheduler noop registered
[    0.440000] io scheduler deadline registered (default)
[    0.450000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.460000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART
[    0.460000] console [ttyATH0] enabled, bootconsole disabled
[    0.480000] ath79-spi ath79-spi: master is unqueued, this is deprecated
[    0.480000] m25p80 spi0.0: found en25q32b, expected m25p80
[    0.490000] m25p80 spi0.0: en25q32b (4096 Kbytes)
[    0.490000] 5 tp-link partitions found on MTD device spi0.0
[    0.500000] Creating 5 MTD partitions on &quot;spi0.0&quot;:
[    0.500000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.510000] 0x000000020000-0x0000001277b4 : &quot;kernel&quot;
[    0.510000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.530000] 0x0000001277b4-0x0000003f0000 : &quot;rootfs&quot;
[    0.530000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.550000] mtd: device 2 (rootfs) set to be root filesystem
[    0.550000] 1 squashfs-split partitions found on MTD device rootfs
[    0.560000] 0x0000002f0000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.560000] 0x0000003f0000-0x000000400000 : &quot;art&quot;
[    0.570000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;
[    0.590000] libphy: ag71xx_mdio: probed
[    1.140000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]
[    1.150000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII
[    1.160000] TCP: cubic registered
[    1.160000] NET: Registered protocol family 17
[    1.160000] Bridge firewalling registered
[    1.170000] 8021q: 802.1Q VLAN Support v1.8
[    1.180000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    1.190000] Freeing unused kernel memory: 248K (80342000 - 80380000)
[    4.600000] usbcore: registered new interface driver usbfs
[    4.610000] usbcore: registered new interface driver hub
[    4.610000] usbcore: registered new device driver usb
[    4.620000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    4.630000] ehci-platform: EHCI generic platform driver
[    4.640000] ehci-platform ehci-platform: EHCI Host Controller
[    4.640000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[    4.650000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000
[    4.680000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[    4.680000] hub 1-0:1.0: USB hub found
[    4.680000] hub 1-0:1.0: 1 port detected
[    4.690000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    5.010000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[    5.160000] hub 1-1:1.0: USB hub found
[    5.160000] hub 1-1:1.0: 4 ports detected
[    5.440000] usb 1-1.1: new full-speed USB device number 3 using ehci-platform
[    5.670000] usb 1-1.3: new high-speed USB device number 4 using ehci-platform
[    6.920000] jffs2: notice: (333) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 12 of xref (0 dead, 0 orphan) found.
[    7.630000] SCSI subsystem initialized
[    7.650000] usb-storage 1-1.3:1.0: USB Mass Storage device detected
[    7.650000] scsi0 : usb-storage 1-1.3:1.0
[    7.660000] usbcore: registered new interface driver usb-storage
[    8.660000] scsi 0:0:0:0: Direct-Access     2048MB   flash drive      1.0  PQ: 0 ANSI: 2
[    8.670000] sd 0:0:0:0: [sda] 3948544 512-byte logical blocks: (2.02 GB/1.88 GiB)
[    8.680000] sd 0:0:0:0: [sda] Write Protect is off
[    8.680000] sd 0:0:0:0: [sda] Mode Sense: 00 00 00 00
[    8.680000] sd 0:0:0:0: [sda] Asking for cache data failed
[    8.690000] sd 0:0:0:0: [sda] Assuming drive cache: write through
[    8.700000] sd 0:0:0:0: [sda] Asking for cache data failed
[    8.700000] sd 0:0:0:0: [sda] Assuming drive cache: write through
[    8.840000]  sda: unknown partition table
[    8.850000] sd 0:0:0:0: [sda] Asking for cache data failed
[    8.850000] sd 0:0:0:0: [sda] Assuming drive cache: write through
[    8.860000] sd 0:0:0:0: [sda] Attached SCSI removable disk
[    9.570000] NET: Registered protocol family 10
[    9.590000] nf_conntrack version 0.5.0 (451 buckets, 1804 max)
[    9.600000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[    9.630000] Loading modules backported from Linux version master-2014-03-31-1-0-g5c109d2
[    9.640000] Backport generated by backports.git backports-20140221-0-g8e94650
[    9.650000] ip_tables: (C) 2000-2006 Netfilter Core Team
[    9.710000] xt_time: kernel timezone is -0000
[    9.740000] cfg80211: Calling CRDA to update world regulatory domain
[    9.740000] cfg80211: World regulatory domain updated:
[    9.750000] cfg80211:  DFS Master region: unset
[    9.750000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[    9.760000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[    9.770000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[    9.780000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[    9.780000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[    9.790000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[    9.800000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[    9.890000] PPP generic driver version 2.4.2
[    9.890000] NET: Registered protocol family 24
[    9.960000] ath: EEPROM regdomain: 0x0
[    9.960000] ath: EEPROM indicates default country code should be used
[    9.960000] ath: doing EEPROM country-&gt;regdmn map search
[    9.960000] ath: country maps to regdmn code: 0x3a
[    9.960000] ath: Country alpha2 being used: US
[    9.960000] ath: Regpair used: 0x3a
[    9.970000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[    9.990000] cfg80211: Calling CRDA for country: US
[   10.000000] cfg80211: Regulatory domain changed to country: US
[   10.000000] cfg80211:  DFS Master region: FCC
[   10.000000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   10.010000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
[   10.020000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 1700 mBm), (N/A)
[   10.030000] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz), (N/A, 2300 mBm), (0 s)
[   10.040000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
[   10.050000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)
[   10.050000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2
[   18.470000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
[   18.470000] device eth0 entered promiscuous mode
[   18.490000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready
[   19.600000] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
[   21.910000] wlan0: authenticate with 10:bf:48:3d:d0:a1
[   21.920000] wlan0: send auth to 10:bf:48:3d:d0:a1 (try 1/3)
[   21.930000] wlan0: authenticated
[   21.940000] wlan0: associate with 10:bf:48:3d:d0:a1 (try 1/3)
[   21.940000] wlan0: RX AssocResp from 10:bf:48:3d:d0:a1 (capab=0xc11 status=0 aid=1)
[   21.950000] wlan0: associated
[   21.950000] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:~# logread
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.000000] Movable zone start for each node
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.000000] Early memory node ranges
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.000000] On node 0 totalpages: 8192
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.000000] free_area_init_node: node 0, pgdat 8032ab60, node_mem_map 81000000
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.000000]   Normal zone: 64 pages used for memmap
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.000000]   Normal zone: 0 pages reserved
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.000000]   Normal zone: 8192 pages, LIFO batch:0
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.000000] pcpu-alloc: [0] 0
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.000000] Kernel command line:  board=TL-WR703N console=ttyATH0,115200 rootfstype=squashfs,jffs2 noinitrd
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] Writing ErrCtl register=00000000
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] Readback ErrCtl register=00000000
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] Memory: 28652k/32768k available (2335k kernel code, 4116k reserved, 613k data, 248k init, 0k highmem)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.000000] NR_IRQS:51
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.080000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.080000] pid_max: default: 32768 minimum: 301
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.080000] Mount-cache hash table entries: 512
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.090000] NET: Registered protocol family 16
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.100000] MIPS: machine is TP-LINK TL-WR703N v1
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.350000] bio: create slab &lt;bio-0&gt; at 0
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.360000] Switching to clocksource MIPS
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.360000] NET: Registered protocol family 2
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.370000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.370000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.370000] TCP: Hash tables configured (established 512 bind 512)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.380000] TCP: reno registered
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.380000] UDP hash table entries: 256 (order: 0, 4096 bytes)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.390000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.400000] NET: Registered protocol family 1
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    0.400000] PCI: CLS 0 bytes, default 32
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.420000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.420000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.430000] msgmni has been set to 55
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.440000] io scheduler noop registered
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.440000] io scheduler deadline registered (default)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.450000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.460000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.460000] console [ttyATH0] enabled, bootconsole disabled
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.480000] ath79-spi ath79-spi: master is unqueued, this is deprecated
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.480000] m25p80 spi0.0: found en25q32b, expected m25p80
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.490000] m25p80 spi0.0: en25q32b (4096 Kbytes)
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.490000] 5 tp-link partitions found on MTD device spi0.0
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.500000] Creating 5 MTD partitions on &quot;spi0.0&quot;:
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.500000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.510000] 0x000000020000-0x0000001277b4 : &quot;kernel&quot;
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.510000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.530000] 0x0000001277b4-0x0000003f0000 : &quot;rootfs&quot;
Wed Apr 16 14:27:57 2014 kern.warn kernel: [    0.530000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.550000] mtd: device 2 (rootfs) set to be root filesystem
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.550000] 1 squashfs-split partitions found on MTD device rootfs
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.560000] 0x0000002f0000-0x0000003f0000 : &quot;rootfs_data&quot;
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.560000] 0x0000003f0000-0x000000400000 : &quot;art&quot;
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    0.570000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;
Wed Apr 16 14:27:57 2014 kern.info kernel: [    0.590000] libphy: ag71xx_mdio: probed
Wed Apr 16 14:27:57 2014 kern.info kernel: [    1.140000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]
Wed Apr 16 14:27:57 2014 kern.info kernel: [    1.150000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII
Wed Apr 16 14:27:57 2014 kern.info kernel: [    1.160000] TCP: cubic registered
Wed Apr 16 14:27:57 2014 kern.info kernel: [    1.160000] NET: Registered protocol family 17
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    1.160000] Bridge firewalling registered
Wed Apr 16 14:27:57 2014 kern.info kernel: [    1.170000] 8021q: 802.1Q VLAN Support v1.8
Wed Apr 16 14:27:57 2014 kern.info kernel: [    1.180000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Wed Apr 16 14:27:57 2014 kern.info kernel: [    1.190000] Freeing unused kernel memory: 248K (80342000 - 80380000)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.600000] usbcore: registered new interface driver usbfs
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.610000] usbcore: registered new interface driver hub
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.610000] usbcore: registered new device driver usb
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.620000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.630000] ehci-platform: EHCI generic platform driver
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.640000] ehci-platform ehci-platform: EHCI Host Controller
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.640000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.650000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.680000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.680000] hub 1-0:1.0: USB hub found
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.680000] hub 1-0:1.0: 1 port detected
Wed Apr 16 14:27:57 2014 kern.info kernel: [    4.690000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
Wed Apr 16 14:27:57 2014 kern.info kernel: [    5.010000] usb 1-1: new high-speed USB device number 2 using ehci-platform
Wed Apr 16 14:27:57 2014 kern.info kernel: [    5.160000] hub 1-1:1.0: USB hub found
Wed Apr 16 14:27:57 2014 kern.info kernel: [    5.160000] hub 1-1:1.0: 4 ports detected
Wed Apr 16 14:27:57 2014 kern.info kernel: [    5.440000] usb 1-1.1: new full-speed USB device number 3 using ehci-platform
Wed Apr 16 14:27:57 2014 kern.info kernel: [    5.670000] usb 1-1.3: new high-speed USB device number 4 using ehci-platform
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    6.920000] jffs2: notice: (333) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 12 of xref (0 dead, 0 orphan) found.
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    7.630000] SCSI subsystem initialized
Wed Apr 16 14:27:57 2014 kern.info kernel: [    7.650000] usb-storage 1-1.3:1.0: USB Mass Storage device detected
Wed Apr 16 14:27:57 2014 kern.info kernel: [    7.650000] scsi0 : usb-storage 1-1.3:1.0
Wed Apr 16 14:27:57 2014 kern.info kernel: [    7.660000] usbcore: registered new interface driver usb-storage
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    8.660000] scsi 0:0:0:0: Direct-Access     2048MB   flash drive      1.0  PQ: 0 ANSI: 2
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    8.670000] sd 0:0:0:0: [sda] 3948544 512-byte logical blocks: (2.02 GB/1.88 GiB)
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    8.680000] sd 0:0:0:0: [sda] Write Protect is off
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    8.680000] sd 0:0:0:0: [sda] Mode Sense: 00 00 00 00
Wed Apr 16 14:27:57 2014 kern.err kernel: [    8.680000] sd 0:0:0:0: [sda] Asking for cache data failed
Wed Apr 16 14:27:57 2014 kern.err kernel: [    8.690000] sd 0:0:0:0: [sda] Assuming drive cache: write through
Wed Apr 16 14:27:57 2014 kern.err kernel: [    8.700000] sd 0:0:0:0: [sda] Asking for cache data failed
Wed Apr 16 14:27:57 2014 kern.err kernel: [    8.700000] sd 0:0:0:0: [sda] Assuming drive cache: write through
Wed Apr 16 14:27:57 2014 kern.info kernel: [    8.840000]  sda: unknown partition table
Wed Apr 16 14:27:57 2014 kern.err kernel: [    8.850000] sd 0:0:0:0: [sda] Asking for cache data failed
Wed Apr 16 14:27:57 2014 kern.err kernel: [    8.850000] sd 0:0:0:0: [sda] Assuming drive cache: write through
Wed Apr 16 14:27:57 2014 kern.notice kernel: [    8.860000] sd 0:0:0:0: [sda] Attached SCSI removable disk
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.570000] NET: Registered protocol family 10
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.590000] nf_conntrack version 0.5.0 (451 buckets, 1804 max)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.600000] ip6_tables: (C) 2000-2006 Netfilter Core Team
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.630000] Loading modules backported from Linux version master-2014-03-31-1-0-g5c109d2
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.640000] Backport generated by backports.git backports-20140221-0-g8e94650
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.650000] ip_tables: (C) 2000-2006 Netfilter Core Team
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.710000] xt_time: kernel timezone is -0000
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.740000] cfg80211: Calling CRDA to update world regulatory domain
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.740000] cfg80211: World regulatory domain updated:
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.750000] cfg80211:  DFS Master region: unset
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.750000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.760000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.770000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.780000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.780000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.790000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.800000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.890000] PPP generic driver version 2.4.2
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.890000] NET: Registered protocol family 24
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    9.960000] ath: EEPROM regdomain: 0x0
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    9.960000] ath: EEPROM indicates default country code should be used
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    9.960000] ath: doing EEPROM country-&gt;regdmn map search
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    9.960000] ath: country maps to regdmn code: 0x3a
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    9.960000] ath: Country alpha2 being used: US
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    9.960000] ath: Regpair used: 0x3a
Wed Apr 16 14:27:57 2014 kern.debug kernel: [    9.970000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
Wed Apr 16 14:27:57 2014 kern.info kernel: [    9.990000] cfg80211: Calling CRDA for country: US
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.000000] cfg80211: Regulatory domain changed to country: US
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.000000] cfg80211:  DFS Master region: FCC
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.000000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.010000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.020000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 1700 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.030000] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz), (N/A, 2300 mBm), (0 s)
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.040000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.050000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4000 mBm), (N/A)
Wed Apr 16 14:27:57 2014 kern.info kernel: [   10.050000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2
Wed Apr 16 14:27:57 2014 user.emerg syslog: Error: Failed to connect to ubus
Wed Apr 16 14:28:01 2014 authpriv.info dropbear[812]: Not backgrounding
Wed Apr 16 14:28:02 2014 user.emerg syslog: - init complete -
Wed Apr 16 14:28:03 2014 kern.info kernel: [   18.470000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
Wed Apr 16 14:28:03 2014 kern.info kernel: [   18.470000] device eth0 entered promiscuous mode
Wed Apr 16 14:28:03 2014 daemon.notice netifd: Interface &#039;lan&#039; is enabled
Wed Apr 16 14:28:03 2014 daemon.notice netifd: Interface &#039;loopback&#039; is enabled
Wed Apr 16 14:28:03 2014 kern.info kernel: [   18.490000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready
Wed Apr 16 14:28:03 2014 daemon.notice netifd: Network device &#039;lo&#039; link is up
Wed Apr 16 14:28:03 2014 daemon.notice netifd: Interface &#039;loopback&#039; has link connectivity
Wed Apr 16 14:28:03 2014 daemon.notice netifd: Interface &#039;loopback&#039; is setting up now
Wed Apr 16 14:28:03 2014 daemon.notice netifd: Interface &#039;loopback&#039; is now up
Wed Apr 16 14:28:04 2014 kern.info kernel: [   19.600000] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
Wed Apr 16 14:28:05 2014 daemon.info dnsmasq[991]: started, version 2.66 cachesize 150
Wed Apr 16 14:28:05 2014 daemon.info dnsmasq[991]: compile time options: IPv6 GNU-getopt no-DBus no-i18n no-IDN DHCP no-DHCPv6 no-Lua TFTP no-conntrack no-ipset no-auth
Wed Apr 16 14:28:05 2014 daemon.info dnsmasq[991]: using local addresses only for domain lan
Wed Apr 16 14:28:05 2014 daemon.warn dnsmasq[991]: no servers found in /tmp/resolv.conf.auto, will retry
Wed Apr 16 14:28:05 2014 daemon.info dnsmasq[991]: read /etc/hosts - 1 addresses
Wed Apr 16 14:28:05 2014 daemon.notice netifd: Interface &#039;wlan&#039; is enabled
Wed Apr 16 14:28:06 2014 kern.info kernel: [   21.910000] wlan0: authenticate with 10:bf:48:3d:d0:a1
Wed Apr 16 14:28:06 2014 kern.info kernel: [   21.920000] wlan0: send auth to 10:bf:48:3d:d0:a1 (try 1/3)
Wed Apr 16 14:28:06 2014 kern.info kernel: [   21.930000] wlan0: authenticated
Wed Apr 16 14:28:06 2014 kern.info kernel: [   21.940000] wlan0: associate with 10:bf:48:3d:d0:a1 (try 1/3)
Wed Apr 16 14:28:06 2014 kern.info kernel: [   21.940000] wlan0: RX AssocResp from 10:bf:48:3d:d0:a1 (capab=0xc11 status=0 aid=1)
Wed Apr 16 14:28:06 2014 kern.info kernel: [   21.950000] wlan0: associated
Wed Apr 16 14:28:06 2014 kern.info kernel: [   21.950000] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready
Wed Apr 16 14:28:06 2014 daemon.notice netifd: Network device &#039;wlan0&#039; link is up
Wed Apr 16 14:28:06 2014 daemon.notice netifd: Interface &#039;wlan&#039; has link connectivity
Wed Apr 16 14:28:06 2014 daemon.notice netifd: Interface &#039;wlan&#039; is setting up now
Wed Apr 16 14:28:06 2014 daemon.notice netifd: wlan (1012): udhcpc (v1.19.4) started
Wed Apr 16 14:28:06 2014 daemon.notice netifd: wlan (1012): Sending discover...
Wed Apr 16 14:28:09 2014 daemon.notice netifd: wlan (1012): Sending discover...
Wed Apr 16 14:28:09 2014 daemon.notice netifd: wlan (1012): Sending select for 192.168.0.127...
Wed Apr 16 14:28:09 2014 daemon.notice netifd: wlan (1012): Lease of 192.168.0.127 obtained, lease time 86400
Wed Apr 16 14:28:10 2014 daemon.notice netifd: Interface &#039;wlan&#039; is now up
Wed Apr 16 14:28:14 2014 daemon.info dnsmasq[991]: reading /tmp/resolv.conf.auto
Wed Apr 16 14:28:14 2014 daemon.info dnsmasq[991]: using nameserver 192.168.0.1#53
Wed Apr 16 14:28:14 2014 daemon.info dnsmasq[991]: using local addresses only for domain lan
Wed Apr 16 15:04:16 2014 authpriv.info dropbear[1061]: Child connection from 192.168.0.102:49991
Wed Apr 16 15:04:27 2014 authpriv.notice dropbear[1061]: Password auth succeeded for &#039;root&#039; from 192.168.0.102:49991</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230440">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Saurus</div>
					<div class="post-datetime">
						16 Apr 2014, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>Is it possible to attach to the serial console and log the boot messages from there?<br />I discovered that my current problem with pivot overlay is only flagged on the console, not in the syslog. For some reason the error message regarding the missing dynamic link library libblkid-tiny.so is only shown on console: <a href="https://forum.openwrt.org/viewtopic.php?id=50082">pivot overlay not working on Barrier Braker trunk</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230445">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						16 Apr 2014, 20:09					</div>
				</div>
				<div class="post-content content">
					<p><strong>Saurus</strong>, yes, I found exactly what you found in your case:<br /></p><div class="codebox"><pre><code>/tmp/overlay/sbin/block: can&#039;t load library &#039;libblkid-tiny.so&#039;
switching to jffs2</code></pre></div><br /><div class="codebox"><pre><code>U-Boot 1.1.4 (Sep 25 2012 - 09:04:47)

AP121 (ar9330) U-boot

DRAM:  32 MB
led turning on for 1s...
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...

[    0.000000] Linux version 3.10.36 (openwrt@gb-14) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40504) ) #1 Mon Apr 14 07:44:16 UTC 2014
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019374 (MIPS 24Kc)
[    0.000000] SoC: Atheros AR9330 rev 1
[    0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:25.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=TL-WR703N console=ttyATH0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 28652k/32768k available (2335k kernel code, 4116k reserved, 613k data, 248k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:51
[    0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.100000] MIPS: machine is TP-LINK TL-WR703N v1
[    0.350000] bio: create slab &lt;bio-0&gt; at 0
[    0.360000] Switching to clocksource MIPS
[    0.360000] NET: Registered protocol family 2
[    0.370000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.370000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.370000] TCP: Hash tables configured (established 512 bind 512)
[    0.380000] TCP: reno registered
[    0.380000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.390000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.400000] NET: Registered protocol family 1
[    0.420000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.420000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.430000] msgmni has been set to 55
[    0.440000] io scheduler noop registered
[    0.440000] io scheduler deadline registered (default)
[    0.450000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.460000] ar933x-uart: ttyATH0 at MMIO 0x18020000 (irq = 11) is a AR933X UART
[    0.460000] console [ttyATH0] enabled, bootconsole disabled
[    0.460000] console [ttyATH0] enabled, bootconsole disabled
[    0.480000] ath79-spi ath79-spi: master is unqueued, this is deprecated
[    0.480000] m25p80 spi0.0: found en25q32b, expected m25p80
[    0.490000] m25p80 spi0.0: en25q32b (4096 Kbytes)
[    0.490000] 5 tp-link partitions found on MTD device spi0.0
[    0.500000] Creating 5 MTD partitions on &quot;spi0.0&quot;:
[    0.500000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.510000] 0x000000020000-0x0000001277b4 : &quot;kernel&quot;
[    0.510000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.530000] 0x0000001277b4-0x0000003f0000 : &quot;rootfs&quot;
[    0.530000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.550000] mtd: device 2 (rootfs) set to be root filesystem
[    0.550000] 1 squashfs-split partitions found on MTD device rootfs
[    0.560000] 0x0000002f0000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.560000] 0x0000003f0000-0x000000400000 : &quot;art&quot;
[    0.570000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;
[    0.590000] libphy: ag71xx_mdio: probed
[    1.140000] ag71xx ag71xx.0: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]
[    1.150000] eth0: Atheros AG71xx at 0xb9000000, irq 4, mode:MII
[    1.160000] TCP: cubic registered
[    1.160000] NET: Registered protocol family 17
[    1.160000] Bridge firewalling registered
[    1.170000] 8021q: 802.1Q VLAN Support v1.8
[    1.180000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    1.190000] Freeing unused kernel memory: 248K (80342000 - 80380000)
procd: Console is alive
procd: - watchdog -
procd: - preinit -
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
[    4.690000] usbcore: registered new interface driver usbfs
[    4.700000] usbcore: registered new interface driver hub
[    4.700000] usbcore: registered new device driver usb
[    4.710000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[    4.720000] ehci-platform: EHCI generic platform driver
[    4.720000] ehci-platform ehci-platform: EHCI Host Controller
[    4.730000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[    4.740000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000
[    4.760000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[    4.760000] hub 1-0:1.0: USB hub found
[    4.760000] hub 1-0:1.0: 1 port detected
[    4.770000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
[    5.090000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[    5.240000] hub 1-1:1.0: USB hub found
[    5.240000] hub 1-1:1.0: 4 ports detected
[    5.520000] usb 1-1.1: new full-speed USB device number 3 using ehci-platform
[    5.750000] usb 1-1.3: new high-speed USB device number 4 using ehci-platform
jffs2 is ready
[    7.110000] jffs2: notice: (333) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (1 unchecked, 0 orphan) and 23 of xref (0 dead, 11 orphan) found.
[    7.820000] SCSI subsystem initialized
[    7.840000] usb-storage 1-1.3:1.0: USB Mass Storage device detected
[    7.840000] scsi0 : usb-storage 1-1.3:1.0
[    7.850000] usbcore: registered new interface driver usb-storage
kmod: ran 12 iterations
/tmp/overlay/sbin/block: can&#039;t load library &#039;libblkid-tiny.so&#039;
switching to jffs2
procd: - early -
procd: - watchdog -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[    8.850000] scsi 0:0:0:0: Direct-Access     2048MB   flash drive      1.0  PQ: 0 ANSI: 2
[    8.860000] sd 0:0:0:0: [sda] 3948544 512-byte logical blocks: (2.02 GB/1.88 GiB)
[    8.860000] sd 0:0:0:0: [sda] Write Protect is off
[    8.890000] sd 0:0:0:0: [sda] Asking for cache data failed
[    8.890000] sd 0:0:0:0: [sda] Assuming drive cache: write through
[    8.930000] sd 0:0:0:0: [sda] Asking for cache data failed
[    8.930000] sd 0:0:0:0: [sda] Assuming drive cache: write through
[    9.070000]  sda: unknown partition table
[    9.090000] sd 0:0:0:0: [sda] Asking for cache data failed
[    9.090000] sd 0:0:0:0: [sda] Assuming drive cache: write through
[    9.100000] sd 0:0:0:0: [sda] Attached SCSI removable disk
[    9.750000] NET: Registered protocol family 10
[    9.770000] nf_conntrack version 0.5.0 (451 buckets, 1804 max)
[    9.790000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[    9.820000] Loading modules backported from Linux version master-2014-03-31-1-0-g5c109d2
[    9.830000] Backport generated by backports.git backports-20140221-0-g8e94650
[    9.840000] ip_tables: (C) 2000-2006 Netfilter Core Team
[    9.900000] xt_time: kernel timezone is -0000
[    9.930000] cfg80211: Calling CRDA to update world regulatory domain
[    9.930000] cfg80211: World regulatory domain updated:
[    9.940000] cfg80211:  DFS Master region: unset
[    9.940000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[    9.950000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[    9.960000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[    9.970000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[    9.970000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[    9.980000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[    9.990000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   10.060000] PPP generic driver version 2.4.2
[   10.060000] NET: Registered protocol family 24
[   10.170000] cfg80211: Calling CRDA for country: US
[   10.180000] cfg80211: Regulatory domain changed to country: US
[   10.180000] cfg80211:  DFS Master region: FCC
[   10.180000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_ga
[   10.190000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 3000
[   10.200000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 1700
[   10.210000] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz), (N/A, 2300
[   10.220000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 3000
[   10.230000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 4
[   10.230000] ieee80211 phy0: Atheros AR9330 Rev:1 mem=0xb8100000, irq=2
procd: - init complete -
[   18.580000] IPv6: ADDRCONF(NETDEV_UP): eth0: link is not ready
[   18.580000] device eth0 entered promiscuous mode
[   18.590000] IPv6: ADDRCONF(NETDEV_UP): br-lan: link is not ready
[   19.670000] IPv6: ADDRCONF(NETDEV_UP): wlan0: link is not ready
[   22.020000] wlan0: authenticate with 10:bf:48:3d:d0:a1
[   22.030000] wlan0: send auth to 10:bf:48:3d:d0:a1 (try 1/3)
[   22.040000] wlan0: authenticated
[   22.050000] wlan0: associate with 10:bf:48:3d:d0:a1 (try 1/3)
[   22.050000] wlan0: RX AssocResp from 10:bf:48:3d:d0:a1 (capab=0xc11 status=0
[   22.060000] wlan0: associated
[   22.060000] IPv6: ADDRCONF(NETDEV_CHANGE): wlan0: link becomes ready</code></pre></div><br /><br /><p>I also noticed that there are some errors during packages installation:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# opkg install kmod-fs-ext4
Installing kmod-fs-ext4 (3.10.36-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-fs-ext4_3.10.36-1_ar71xx.ipk.
Installing kmod-lib-crc16 (3.10.36-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-lib-crc16_3.10.36-1_ar71xx.ipk.
Installing kmod-crypto-hash (3.10.36-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-crypto-hash_3.10.36-1_ar71xx.ipk.
Configuring kmod-crypto-hash.
Configuring kmod-lib-crc16.
Configuring kmod-fs-ext4.
kmod: failed to insert /lib/modules/3.10.36/ext4.ko</code></pre></div><div class="codebox"><pre><code>root@OpenWrt:~# opkg install kmod-usb-storage
Installing kmod-usb-storage (3.10.36-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-usb-storage_3.10.36-1_ar71xx.ipk.
Installing kmod-scsi-core (3.10.36-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/kmod-scsi-core_3.10.36-1_ar71xx.ipk.
Configuring kmod-scsi-core.
kmod: failed to insert /lib/modules/3.10.36/sd_mod.ko
Configuring kmod-usb-storage.</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230447">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						16 Apr 2014, 20:35					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>[    9.070000]  sda: unknown partition table</code></pre></div><p>-&gt; give your USB drive a proper partition table (even with only 1 partition) and while formatting it with mkfs.ext4 give it also a check for bad blocks (-&gt; needs package badblocks).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230454">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						16 Apr 2014, 21:11					</div>
				</div>
				<div class="post-content content">
					<p><strong>tmo26</strong>, I successfully mounted /dev/sda on /mnt/usb manually, so it looks like there are no problem with absence of partition table.<br />But I tried your advice anyway. Nothing changed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230456">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						16 Apr 2014, 21:19					</div>
				</div>
				<div class="post-content content">
					<p>Hmpf... either your problem is a really seriously big one... or a really tiny simple one. I don&#039;t know which...<br />You&#039;ve tried everything I would do. For me it&#039;s working, for you it&#039;s not.<br />May someone with deeper knowledge of extroot jump in, please. Jow perhaps?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230461">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						16 Apr 2014, 21:37					</div>
				</div>
				<div class="post-content content">
					<p>You possibly did not read <strong>Saurus</strong>&#039;s <a href="https://forum.openwrt.org/viewtopic.php?id=50082">post</a>. He found that library &#039;libblkid-tiny.so&#039; cannot be loaded.<br />He went to failsafe mode and issued &quot;export LD_LIBRARY_PATH=/tmp/overlay/lib&quot;. Then mounted root by &quot;mount_root&quot;. Extroot started working in pivote overlay mode! I&#039;ve got the same results.</p><p>So, now the question is why libblkid-tiny.so&#039; cannot be loaded?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230558">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						17 Apr 2014, 21:28					</div>
				</div>
				<div class="post-content content">
					<p>Probably will be fixed in <a href="https://dev.openwrt.org/changeset/40526">r40526</a>.<br />Wait for build...</p>											<p class="post-edited">(Last edited by <strong>mazilla</strong> on 17 Apr 2014, 21:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230565">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Saurus</div>
					<div class="post-datetime">
						17 Apr 2014, 22:28					</div>
				</div>
				<div class="post-content content">
					<p>Excellent <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230643">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">mazilla</div>
					<div class="post-datetime">
						18 Apr 2014, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s working!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230644">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">ras0ir</div>
					<div class="post-datetime">
						18 Apr 2014, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s fixed in r40526</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>