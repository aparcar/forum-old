<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Just bought a wrt54GL with OpenWRT - Can&#039;t reset it</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p162283">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">YassT</div>
					<div class="post-datetime">
						27 Mar 2012, 21:27					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I came here seeking for help because i&#039;m facing a situation.</p><p>I just bought a wrt54gl linksys router from some guy on ebay, and it appears that it has openwrt on it. When I link it to my computer, it gives me an adress with DHCP but I can&#039;t access the Web UI. The guy gave me the root password, so I can successfully ssh into it, and i saw it is running White Russian 0.9 version. If I try to browse to <a href="http://192.168.10.1">http://192.168.10.1</a> (which is the router adress) I can see openWrt logo for a second, and then it redirects me to &quot;<a href="http://192.168.10.1/cgi-bin/webif.sh">http://192.168.10.1/cgi-bin/webif.sh</a>&quot; which gives me a 404 error. The Web UI never asked me for authentication. I suppose the guy must have put some scripts in it.</p><p>I just want to reset it to default settings, or flash it back to the factory firmware. So I browsed OpenWrt wiki, documentation and some blogs, and here is what I can tell :<br />- It seems the guy disabled the failsage mode (is that possible ?) When I tried to failsafe boot it, it looks successful (power and DMZ led blinking) but I can&#039;t telnet or acess adress 192.168.10.1 or 192.168.1.1 (I of course tried manual IP on my computer for the both networks).<br />- I tried to contact the router with tftp, but I believe it is disabled to. When I try &quot;tftp 192.168.10.1&quot; in my command prompt I just end up with a &quot;tftp&gt;&quot; prompt and commands don&#039;t seem to work when I enter them.</p><p>I&#039;m desperate, and can&#039;t think of any other solution. Could you please provide some help to reset this router, of flash it with linksys firmware. As I said, I have the root password and can successfully ssh into it. I can provide you with the results of any commands you can tell me to try.</p><p>Thank you in advance. <br />Regards</p>											<p class="post-edited">(Last edited by <strong>YassT</strong> on 27 Mar 2012, 21:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164171">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bishopolis</div>
					<div class="post-datetime">
						11 Apr 2012, 16:51					</div>
				</div>
				<div class="post-content content">
					<p>YassT,</p><p>You can reflash this router easily using the mtd command and the right TRX file.&nbsp; Consider maybe this one for a wrt54GL:<br /><a href="http://downloads.openwrt.org/whiterussian/0.9/default/openwrt-brcm-2.4-squashfs.trx">http://downloads.openwrt.org/whiterussi â€¦ uashfs.trx</a></p><p>According to this page (<a href="http://wiki.openwrt.org/doc/techref/mtd">http://wiki.openwrt.org/doc/techref/mtd</a>) you can run mtd to drop the new firmware into place.&nbsp; First you&#039;ll want to scp it up, though:</p><p>1. ssh in, use df to check for space<br />2. wget the TRX URL<br />3. scp the TRX file to 192.168.10.1:/tmp or so<br />4. (ssh back in and) look in the router&#039;s /tmp for the filename.trx<br />5. do a&nbsp; mtd -r write /tmp/filename.trx linux&nbsp; &nbsp; using the name of the file you uploaded<br />6. wait for the reboot<br />7. rejoice, post update to the forum</p><p>I do this frequently, and it&#039;s never killed a unit.&nbsp; My command line history is littered with statements like:<br />&nbsp; scp newbuild.trx root@10.1.1.1:/tmp/openwrt.trx<br />&nbsp; ssh root@10.1.1.1 &quot;mtd -e linux -r write /tmp/openwrt.trx linux&quot;</p><p>Having said that, though, I don&#039;t know how safe it is -- that&#039;s my disclaimer.&nbsp; So don&#039;t do it if you aren&#039;t exactly sure of what you&#039;re doing.</p>											<p class="post-edited">(Last edited by <strong>bishopolis</strong> on 11 Apr 2012, 16:54)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>