<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> new release of package kmod-mmc-over-gpio</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p83813">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pisorce</div>
					<div class="post-datetime">
						13 Mar 2009, 19:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />The last release of package kmod-mmc-over-gpio depends on package kmod-spi-gpio-old. Why two releases ?<br />When I install the last package kmod-mmc-over-gpio and after setting /etc/config/mmc_over_gpio with good values for GPIO PIN (I have one WRT54GL v1.1 hacked with <br />MMC/SD Card Proto from MikroElectronika), I need to reboot my router. </p><p>Then after reboot I have always the following message :</p><p>gpio-mmc: Failed to request mmc_spi module<br />mmc_spi spi32766.0: ASSUMING 3.2-3.4 V slot power<br />mmc_spi spi32766.0: SD/MMC host mmc0, no DMA, no WP, no poweroff<br />gpio-mmc: MMC-Card &quot;default&quot; attached to GPIO pins di=2, do=4, clk=3, cs=7<br />mmc_spi spi32766.0: can&#039;t change chip-select polarity</p><p>And no device is created on /dev. Even I unplug SD Card, after reboot, I have the same message.<br />here is the follwing lsmod listing :<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Not tainted<br />gpiommc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4192&nbsp; 2 <br />spi_gpio_old&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3072&nbsp; 1 gpiommc<br />spi_gpio&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3520&nbsp; 0 <br />spi_bitbang&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3328&nbsp; 2 spi_gpio_old,spi_gpio<br />mmc_spi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7616&nbsp; 0 <br />mmc_block&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7024&nbsp; 0 <br />mmc_core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;36128&nbsp; 2 mmc_spi,mmc_block<br />nf_nat_tftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 416&nbsp; 0 <br />nf_conntrack_tftp&nbsp; &nbsp; &nbsp; &nbsp;2416&nbsp; 1 nf_nat_tftp<br />nf_nat_irc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;896&nbsp; 0 <br />nf_conntrack_irc&nbsp; &nbsp; &nbsp; &nbsp; 2784&nbsp; 1 nf_nat_irc<br />nf_nat_ftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1440&nbsp; 0 <br />nf_conntrack_ftp&nbsp; &nbsp; &nbsp; &nbsp; 5088&nbsp; 1 nf_nat_ftp<br />ipt_MASQUERADE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1120&nbsp; 2 <br />iptable_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2896&nbsp; 1 <br />nf_nat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12192&nbsp; 5 nf_nat_tftp,nf_nat_irc,nf_nat_ftp,ipt_MASQUERADE,iptable_nat<br />xt_state&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;832&nbsp; 6 <br />nf_conntrack_ipv4&nbsp; &nbsp; &nbsp; &nbsp;8128&nbsp; 9 iptable_nat,nf_nat<br />nf_defrag_ipv4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;640&nbsp; 1 nf_conntrack_ipv4<br />nf_conntrack&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;43280&nbsp; 11 nf_nat_tftp,nf_conntrack_tftp,nf_nat_irc,nf_conntrack_irc,nf_nat_ftp,nf_conntrack_ftp,ipt_MASQUERADE,iptable_nat,nf_nat,xt_state,nf_conntrack_ipv4<br />ipt_REJECT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1952&nbsp; 2 <br />xt_TCPMSS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2080&nbsp; 2 <br />ipt_LOG&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4928&nbsp; 0 <br />xt_multiport&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1888&nbsp; 0 <br />xt_mac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;544&nbsp; 0 <br />xt_limit&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1120&nbsp; 1 <br />iptable_mangle&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1120&nbsp; 0 <br />iptable_filter&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;928&nbsp; 1 <br />ip_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;8240&nbsp; 3 iptable_nat,iptable_mangle,iptable_filter<br />xt_tcpudp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1920&nbsp; 4 <br />x_tables&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9328&nbsp; 11 ipt_MASQUERADE,iptable_nat,xt_state,ipt_REJECT,xt_TCPMSS,ipt_LOG,xt_multiport,xt_mac,xt_limit,ip_tables,xt_tcpudp<br />vfat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8928&nbsp; 0 <br />fat&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 44176&nbsp; 1 vfat<br />ext3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 101008&nbsp; 0 <br />jbd&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 46624&nbsp; 1 ext3<br />ext2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;46224&nbsp; 0 <br />b43legacy&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;105952&nbsp; 0 <br />b43&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;127488&nbsp; 0 <br />nls_base&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4480&nbsp; 2 vfat,fat<br />mac80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 201904&nbsp; 2 b43legacy,b43<br />cfg80211&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;56256&nbsp; 3 b43legacy,b43,mac80211<br />crc7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;704&nbsp; 1 mmc_spi<br />crc_itu_t&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 960&nbsp; 1 mmc_spi<br />arc4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;800&nbsp; 2 <br />aes_generic&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 28496&nbsp; 0 <br />deflate&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1504&nbsp; 0 <br />hmac&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2720&nbsp; 0 <br />ecb&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1376&nbsp; 2 <br />cbc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2144&nbsp; 0 <br />crypto_hash&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2624&nbsp; 1 hmac<br />cryptomgr&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 71056&nbsp; 0 <br />crypto_blkcipher&nbsp; &nbsp; &nbsp; &nbsp; 7696&nbsp; 3 ecb,cbc,cryptomgr<br />aead&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3776&nbsp; 1 cryptomgr<br />crypto_algapi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;9600&nbsp; 9 arc4,aes_generic,deflate,hmac,ecb,cbc,cryptomgr,crypto_blkcipher,aead<br />switch_robo&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4192&nbsp; 0 <br />switch_core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5184&nbsp; 1 switch_robo<br />diag&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7632&nbsp; 0 </p><p>---------------------<br />I can see that module mmc-spi isn&#039;t used by any module. Is it normal at this point ?</p><p>Can you help me please ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83855">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pisorce</div>
					<div class="post-datetime">
						14 Mar 2009, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I am using the last release of kamikaze and kernel 2.6. I needed to compile all the trunk.<br />I am installing all my packages modules in a particular order.<br />1) kmod-crc7, kmod-crc-itu-t<br />2) kmod-mmc<br />3) kmod-spi-bitbang<br />4) kmod-spi-gpio-old<br />5) kmod-mmc-over-gpio</p><p>Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Not tainted<br />gpiommc&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4192&nbsp; 2<br />spi_gpio_old&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3072&nbsp; 1 gpiommc<br />spidev&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4816&nbsp; 0<br />spi_bitbang&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3328&nbsp; 1 spi_gpio_old<br />mmc_spi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7616&nbsp; 0<br />mmc_block&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 7024&nbsp; 0<br />mmc_core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;36128&nbsp; 2 mmc_spi,mmc_bloc</p><p>Then You have to configure /etc/config/mmc_over_gpio file like that :</p><p>config &#039;mmc_over_gpio&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;default&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;enabled&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;DI_pin&#039; &#039;4&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;DO_pin&#039; &#039;2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;CLK_pin&#039; &#039;3&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;CS_pin&#039; &#039;7&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;mode&#039; &#039;3&#039;</p><p>Warning : value for DI and DO depend on release of router. I have one WRT54GL v1.1 and also I have an inversion between pin 2 and 4.<br />You can set mode to 0. It&#039;s the SPI mode. It depends on release of Card Reader and SD Card (SD, MMC, low capacity storage and high capacity).</p><p>And just link for starting loading module at boot system :<br /># ln -s /etc/init.d/mmc_over_gpio /etc/rc.d/S90mmc_over_gpio</p><p>And reboot your system.</p><p>You can see that pins GPIO for di is 4 and for do is 2. It&#039;s not a mistake, just one inversion inside my SD Card Reader (MMC/SD ProtoCard).</p><p>Here is the following message at the end of boot system.</p><p>gpio-mmc: Failed to request mmc_spi module.<br />mmc_spi spi32766.0: ASSUMING 3.2-3.4 V slot power<br />mmc_spi spi32766.0: SD/MMC host mmc0, no DMA, no WP, no poweroff<br />gpio-mmc: MMC-Card &quot;default&quot; attached to GPIO pins di=4, do=2, clk=3, cs=7<br />mmc_spi spi32766.0: can&#039;t change chip-select polarity<br />mmc0: host does not support reading read-only switch. assuming write-enable.<br />mmc0: new SD card on SPI<br />mmcblk0: mmc0:0000 SD02G 1.83 GiB<br />mmcblk0: p1 p2 &lt; p5 p6 &gt;</p><p>I can&#039;t mount the partitions yet.<br />But I think that I am not fare from success.</p><p>Phil</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83858">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kastrolis</div>
					<div class="post-datetime">
						14 Mar 2009, 13:58					</div>
				</div>
				<div class="post-content content">
					<p>I wish you good luck!<br />I am trying to do the same with 16MB sd, started yesterday.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84057">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Jakabin</div>
					<div class="post-datetime">
						17 Mar 2009, 17:25					</div>
				</div>
				<div class="post-content content">
					<p>It worked partially here. I&#039;m using trunk r14911 and WRT54GL 1.1.<br />After /etc/init.d/mmc_over_gpio start<br />/mnt/mmcblk0p1 was mounted automaticly.</p><p>root@OpenWrt:~# mount<br />...<br />configfs on /config type configfs (rw)<br />/dev/mmcblk0p1 on /mnt/mmcblk0p1 type ext2 (rw,errors=continue)</p><p>But when I run after umount it:<br />e2fsck -p /dev/mmcblk0p1</p><p>CPU goes near 100% usage.<br />echo &quot;0x9c&quot; &gt; /proc/diag/gpiomask<br />didn&#039;t work.</p><p>Using a SD/MMC card in kernel 2.4 was so easy. Too bad that for the kernel 2.6 things got complicated and no docs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84105">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">kastrolis</div>
					<div class="post-datetime">
						18 Mar 2009, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>I changed card to 64MB MMC Mobile.<br />now it works on various kamikaze versions.<br />imho problem might be in spi driver or spi mode possibility in specific card.</p><p>in 8.09 2.6.25-17 I can get /dev/mmcblk0p1 in 3 steps:<br />vi /etc/init.d/mmc_over_gpio and change DI value from 5 to2<br />echo 0x9c &gt; /proc/diag/gpiomask<br />/etc/init.d/mmc_over_gpio start</p><p>problems:<br />I can format and mount only ext3, ext2 dont work.<br />impossible to use card and wireless simultaneously - wireless driver takes control over GPIOs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84293">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Jakabin</div>
					<div class="post-datetime">
						21 Mar 2009, 04:43					</div>
				</div>
				<div class="post-content content">
					<p>No SD card on kernel 2.6 (broadcom?)<br />Bugged port forward on 2.4 (<a href="https://dev.openwrt.org/ticket/2558">https://dev.openwrt.org/ticket/2558</a>)</p><p>Houston we have a problem.</p>											<p class="post-edited">(Last edited by <strong>Jakabin</strong> on 21 Mar 2009, 14:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p84601">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Jakabin</div>
					<div class="post-datetime">
						26 Mar 2009, 01:54					</div>
				</div>
				<div class="post-content content">
					<p>Tested with:<br />KAMIKAZE trunk(r15041)<br />root@OpenWrt:~# uname -r<br />2.6.28.9</p><p>and still same problem</p><p>root@OpenWrt:~# e2fsck -p /dev/mmcblk0p1<br />/dev/mmcblk0p1 was not cleanly unmounted, check forced.</p><p>in another ssh session:<br />root@OpenWrt:~# top<br />Mem: 12992K used, 716K free, 0K shrd, 4708K buff, 1656K cached<br />CPU:&nbsp; &nbsp;0% usr&nbsp; 97% sys&nbsp; &nbsp;0% nice&nbsp; &nbsp;0% idle&nbsp; &nbsp;0% io&nbsp; &nbsp;0% irq&nbsp; &nbsp;2% softirq<br />Load average: 3.03 2.07 0.95<br />&nbsp; PID&nbsp; PPID USER&nbsp; &nbsp; &nbsp;STAT&nbsp; &nbsp;VSZ %MEM %CPU COMMAND<br /> 1011&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;SW&lt;&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;0%&nbsp; 97% [spi-gpio.0]<br /> 1016&nbsp; &nbsp; &nbsp;2 root&nbsp; &nbsp; &nbsp;RW&lt;&nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp;0%&nbsp; &nbsp;1% [mmcqd]<br />...</p><p>at least this this time package kmod-mmc-over-gpio_2.6.28.9-brcm47xx-1_mipsel.ipk was create.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86551">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jdobry</div>
					<div class="post-datetime">
						24 Apr 2009, 19:54					</div>
				</div>
				<div class="post-content content">
					<p>I was try it on SVN snapshot r15361<br />Situation still without change it is not work.</p><p>SD card is detected including partition, but is not possible to use it</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86553">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						24 Apr 2009, 20:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jdobry wrote:</cite><blockquote><p>I was try it on SVN snapshot r15361<br />Situation still without change it is not work.</p><p>SD card is detected including partition, but is not possible to use it</p></blockquote></div><p>LOL. I&#039;m not surprised at all. On IRC, IIRC someone said that the author of the mmc-over-gpio driver isn&#039;t interesting in bug fixing anymore...</p><p>Good luck or buy a router with USB...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86596">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jdobry</div>
					<div class="post-datetime">
						24 Apr 2009, 23:56					</div>
				</div>
				<div class="post-content content">
					<p>I have some news!</p><p>Good new: it works!! (on my hw Buffalo WHR-G54S)</p><p>Bad news:<br />- you must make own compilation. One of problems is conflict on signal from button. You must disable kmod-diag module<br />- e2fsprog not works on this platform. I don&#039;t know why, but you can try it on file (dd if=/dev/zero of=/tmp/test bs=1M count=1 &amp;&amp; mkfs.ext3 /tmp/test) &lt;- this test newer end, it looks like bug<br />- current driver SW is slow, realy slow around 100KB/s or less, usualy 50KB/s</p><p>PS: I have another HW with USB (asus WL-500gx)</p>											<p class="post-edited">(Last edited by <strong>jdobry</strong> on 25 Apr 2009, 00:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86599">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">wieszti</div>
					<div class="post-datetime">
						25 Apr 2009, 00:34					</div>
				</div>
				<div class="post-content content">
					<p>I also confirm, in Buffalo whr-g54s work with 8GB SDHC <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>But if wirless is enable, then isn&#039;t work <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /><br />I try disable kmod-diag, but it posible disable gpio in b43 driver? <a href="http://bcm-specs.sipsolutions.net/GPIO">http://bcm-specs.sipsolutions.net/GPIO</a></p>											<p class="post-edited">(Last edited by <strong>wieszti</strong> on 25 Apr 2009, 00:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86600">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">jdobry</div>
					<div class="post-datetime">
						25 Apr 2009, 00:41					</div>
				</div>
				<div class="post-content content">
					<p>i have b43 enabled and its works.<br />What you thing about slow speed? I was try to use reiserfs and mount take something over 20 minutes (512MB SD)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86601">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">wieszti</div>
					<div class="post-datetime">
						25 Apr 2009, 01:04					</div>
				</div>
				<div class="post-content content">
					<p>I think the best will be ext2 (simple filesystem, without jurnalig etc. = fast filesystem) and mount with noatime option, this also smallest wear sdcard</p><p>&nbsp; &nbsp; <br />Which gpio pins you use to sd-mod?</p>											<p class="post-edited">(Last edited by <strong>wieszti</strong> on 25 Apr 2009, 02:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p86610">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">jdobry</div>
					<div class="post-datetime">
						25 Apr 2009, 12:35					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wieszti wrote:</cite><blockquote><p>Which gpio pins you use to sd-mod?</p></blockquote></div><div class="codebox"><pre><code>option &#039;DI_pin&#039; &#039;6&#039;
option &#039;DO_pin&#039; &#039;5&#039;
option &#039;CLK_pin&#039; &#039;3&#039;
option &#039;CS_pin&#039; &#039;1&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87064">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">kd8ikt</div>
					<div class="post-datetime">
						1 May 2009, 09:33					</div>
				</div>
				<div class="post-content content">
					<p>so if i wanna make an image should i get rid of kmod-diag? or is it b43&#039;s fault?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87071">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						1 May 2009, 13:50					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d guess it&#039;s more b43s fault.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88555">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">wieszti</div>
					<div class="post-datetime">
						24 May 2009, 00:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jdobry wrote:</cite><blockquote><div class="quotebox"><cite>wieszti wrote:</cite><blockquote><p>Which gpio pins you use to sd-mod?</p></blockquote></div><div class="codebox"><pre><code>option &#039;DI_pin&#039; &#039;6&#039;
option &#039;DO_pin&#039; &#039;5&#039;
option &#039;CLK_pin&#039; &#039;3&#039;
option &#039;CS_pin&#039; &#039;1&#039;</code></pre></div></blockquote></div><p>I have the same GPIO pins, but not work for me with wireless <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> <a href="https://dev.openwrt.org/ticket/5153">https://dev.openwrt.org/ticket/5153</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p91210">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">bud</div>
					<div class="post-datetime">
						11 Jul 2009, 14:17					</div>
				</div>
				<div class="post-content content">
					<p>discussion continues at<br /><a href="http://forum.openwrt.org/viewtopic.php?pid=91200">http://forum.openwrt.org/viewtopic.php?pid=91200</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>