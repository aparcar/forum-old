<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New Broadcom BCM63xx codebase with GPL&#039;d Ethernet and USB support</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 8 Feb 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 17 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=15.html">15</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=16.html">16</a></li><li class="pagination-current"><span>17</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=18.html">18</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=19.html">19</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p88403">
				<div class="post-metadata">
					<div class="post-num">Post #401</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						21 May 2009, 20:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><div class="quotebox"><cite>Isaac702 wrote:</cite><blockquote><div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><p>@Isaac702</p><p>you must patch file:</p><p> root/trunk/target/linux/brcm63xx/files/arch/mips/bcm63xx/boards/board_bcm963xx.c</p><p>with apropiate values of your board at this points:</p></blockquote></div><p>I had done this already however just in case I check it again. The boardid is V2110 and the cpu is a 6348.<br />When I try to update it returns the error &quot;The firmware update is failed. The selected file contains an illegal image.&quot;<br />I have checked other firmwares and cannot see any other firmware with the variables in the positions I stated above. The exception to this is the RTA1025 which is the board the BT Voyager 2110 is based upon.<br />I will retract the statement saying the problem is with the firmware version as there is a version 1 device supported by OpenWRT.</p><p>Editied: To remove quoted code.</p></blockquote></div><p>can you post &quot;dmesg&quot; command result, from original firmware?</p></blockquote></div><p>Here is a copy of the output for the &quot;dmesg&quot; command. <a href="http://pastebin.com/f1787aec">http://pastebin.com/f1787aec</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88404">
				<div class="post-metadata">
					<div class="post-num">Post #402</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						21 May 2009, 20:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Isaac702 wrote:</cite><blockquote><p>Here is a copy of the output for the &quot;dmesg&quot; command. <a href="http://pastebin.com/f1787aec">http://pastebin.com/f1787aec</a></p></blockquote></div><p>I try to find inside your dmesg, name of your board, i can&#039;t.<br />Do you have a serial port in your router?<br />If yes, try to connect at 115200 bps, 8 bits, no parity and capture cfe (broadcom bootloader) boot messages to see name of your board.</p><p>thnx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88408">
				<div class="post-metadata">
					<div class="post-num">Post #403</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						21 May 2009, 21:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>t3l3m4k0 wrote:</cite><blockquote><div class="quotebox"><cite>Isaac702 wrote:</cite><blockquote><p>Here is a copy of the output for the &quot;dmesg&quot; command. <a href="http://pastebin.com/f1787aec">http://pastebin.com/f1787aec</a></p></blockquote></div><p>I try to find inside your dmesg, name of your board, i can&#039;t.<br />Do you have a serial port in your router?<br />If yes, try to connect at 115200 bps, 8 bits, no parity and capture cfe (broadcom bootloader) boot messages to see name of your board.</p><p>thnx</p></blockquote></div><p>I presumed that the name of the board was V2110 due to it being listed in the official firmware for the device and in the output of cpuinfo. (<a href="http://pastebin.com/f61041c0d">http://pastebin.com/f61041c0d</a>).<br />There appears to be a four pin connector on the board however I have no experience in this area and do not know if it is a serial port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88448">
				<div class="post-metadata">
					<div class="post-num">Post #404</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						22 May 2009, 15:22					</div>
				</div>
				<div class="post-content content">
					<p>Here is a image of the board. <a href="http://img207.imageshack.us/img207/4452/dscn5211x.jpg">http://img207.imageshack.us/img207/4452/dscn5211x.jpg</a><br />I&#039;m not sure if this would be much help in identifying the port.<br />I am right in assuming the 4 pin connect in the left center of the image is a serial port. Behind that connector there is the code &quot;J303&quot;.</p><p>If it is then I can try to get the necessary equipment to access the console.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88452">
				<div class="post-metadata">
					<div class="post-num">Post #405</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						22 May 2009, 17:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Isaac702 wrote:</cite><blockquote><p>Here is a image of the board. <a href="http://img207.imageshack.us/img207/4452/dscn5211x.jpg">http://img207.imageshack.us/img207/4452/dscn5211x.jpg</a><br />I&#039;m not sure if this would be much help in identifying the port.<br />I am right in assuming the 4 pin connect in the left center of the image is a serial port. Behind that connector there is the code &quot;J303&quot;.</p><p>If it is then I can try to get the necessary equipment to access the console.</p></blockquote></div><p>I think yes, J303 is serial console with 3&#039;3v level outputs, you must identify TX,RX, and GND pins. Also you must use a TTL to RS232 conversor. (3&#039;3 -&gt; +/-12V). As you can see there is unpopulated capacitors C306-C307-C308, not indispensable.</p><p>I see also connectors:<br />J201 -&gt; JTAG with unpopulated components RP201 (i think 10 ohms)<br />and<br />J301 -&gt; USB Host?<br />J304 -&gt; USB Slave? with unpopulated capacitors and resistors below.</p><p>luck</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 22 May 2009, 17:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88478">
				<div class="post-metadata">
					<div class="post-num">Post #406</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						23 May 2009, 03:34					</div>
				</div>
				<div class="post-content content">
					<p>Ok I managed to find a old phone data cable which worked well. I don&#039;t have the necessary components to connect it properly however holding the cables in place allowed me to get the output from cfe. Here is a full copy of the boot log from the serial console : <a href="http://pastebin.com/m5002cf7c">http://pastebin.com/m5002cf7c</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88515">
				<div class="post-metadata">
					<div class="post-num">Post #407</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						23 May 2009, 14:48					</div>
				</div>
				<div class="post-content content">
					<p>Ok I have tried to update the firmware through the web interface while monitoring the serial console.<br />It accepts the firmware however then fails with the following error. &quot; ***** Not allowed to downgrade to 2.10 or earlier version ******&quot;</p><p>Here is the full output for the update process: <a href="http://pastebin.com/f5acc9227">http://pastebin.com/f5acc9227</a></p><p>From the information presented I would guess this is referring to the FlashLayoutVer which it claims in OpenWRT is 0.<br />I&#039;m not sure if it is a coincidence or not however the variable at 192 bytes in the latest BT Voyager 2110 and Dynalink RTA1025W firmwares is a 5. This is the same as the &quot;curFlashLayoutVer&quot;.</p><p>BT doesn&#039;t provide an archive of older firmwares however I have tracked this variable back through the Dynalink firmware just in case it is the variable concerned.<br />2.21&nbsp; &nbsp;= 3<br />3.28q = 4<br />3.29a = 5<br />3.29u = 5<br />3.30j&nbsp; = 5<br />3.63u = 5</p><p>Looking at this I would guess that the router believes it is downgrading due to the variable being bellow 3 and thus bellow the variable set on the 2.10 firmware. (As I cannot find the 2.10 firmware this is an assumption.)</p><p>How would I go about setting byte 192 to 5 to see if &quot;FlashLayoutVer&quot; will change when the installer validates the firmware?</p><p>Edit: Correct error in 2.21 firmware version.</p>											<p class="post-edited">(Last edited by <strong>Isaac702</strong> on 23 May 2009, 14:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88529">
				<div class="post-metadata">
					<div class="post-num">Post #408</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						23 May 2009, 17:39					</div>
				</div>
				<div class="post-content content">
					<p>@Isaac702,</p><p>nice to see that serial port runs fine.</p><p>from boot from serial console your board name is V2110</p><p>i see also your CFE has a serial board&nbsp; number included.</p><p>i don&#039;t know any about versions 3, 4, 5, .... but you can try. Also from serial console you can try to stop boot process, type help i see a list of availables commands, try with &quot;flashimage&quot; command, if it exists, try to flash with your specific-boardname-cfe-squashfs.bin firmware</p><p>luck</p><br /><p>edit:</p><p>you can insert tags modifiying ../trunk/tools/firmware-utils/src/imagetag.c</p>											<p class="post-edited">(Last edited by <strong>t3l3m4k0</strong> on 23 May 2009, 17:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88533">
				<div class="post-metadata">
					<div class="post-num">Post #409</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						23 May 2009, 18:45					</div>
				</div>
				<div class="post-content content">
					<p>Well I can confirm that if you change the variable at 192 bytes to 5 the firmware is accepted. However after it was installed it did not pass the image integrity check. Here is a copy of the output : <a href="http://pastebin.com/f1e099c39">http://pastebin.com/f1e099c39</a></p><p>I&#039;m not sure if this is a problem with the way I compiled it or if it was the modification.</p><p>Good thing I made that serial cable.</p><p>Edit: Actually I didnt need the serial cable. The CFE web interface is a nice touch. Im back up and running on a slightly older version of BT&#039;s firmware. (3.62. They never released a update to 3.63).</p><p>Edit 2: Also ye the CFE does have the&nbsp; flashimage command. I will try that when I get a chance.</p>											<p class="post-edited">(Last edited by <strong>Isaac702</strong> on 23 May 2009, 20:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88559">
				<div class="post-metadata">
					<div class="post-num">Post #410</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						24 May 2009, 01:47					</div>
				</div>
				<div class="post-content content">
					<p>Ok I just did a full recompile using the latest svn.</p><p>The flash is still failing an image integrity check. Here is the log : <a href="http://pastebin.com/f3a9f38f0">http://pastebin.com/f3a9f38f0</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88560">
				<div class="post-metadata">
					<div class="post-num">Post #411</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						24 May 2009, 01:53					</div>
				</div>
				<div class="post-content content">
					<p>i think you have a CRC problem,<br /></p><div class="codebox"><pre><code>Check run time iamge integrity in the flash......[0x08166FAD] != [0x00000000] Image Corrupted !!</code></pre></div><p>how did you put the byte 192 to 5?, imagetag.c made some CRC on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88563">
				<div class="post-metadata">
					<div class="post-num">Post #412</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						24 May 2009, 02:30					</div>
				</div>
				<div class="post-content content">
					<p>Well with this latest attempt I didn&#039;t set that byte to 5. Instead I just compiled normally and used the flashimage method you suggested.</p><p>Here is a diff file containing the changes I made to imagetag.c : <a href="http://pastebin.com/f1aa762ea">http://pastebin.com/f1aa762ea</a></p><p>I have a guess. There is another CRC32 check (at least it looks like one) in the standard firmware for these boards. It is at bytes 196-199 as I said in my original post. It would make sense that this is the CRC32 check as CFE claims it is &quot;[0x00000000]&quot; regardless what I try. Unlike adding 5 to the imagetag I have no idea how I would go about adding this CRC32 to the bytes it is expected in. It also doesn&#039;t help that I don&#039;t know what this CRC32 is of.</p><p>Edit: Well I guess I could always compile a image without the CRC32 check and then recompile a second image with the CRC32 check it gives me when the check fails. That second image should in theory be accepted by the router and run the firmware. Although it doesn&#039;t really help in solving the situation permanently</p><p>Edit 2: Ok I have confirmed that the variable between 196 and 199 bytes is the value it is looking for when it does the image integrity check. If someone could help figure out what this CRC32 check is actually of it would help.</p><p>Edit 3: Ok the value it is looking for is the same as the image crc between 216 and 219 bytes. I had a look at the original firmware and this is not the case for it. If it works im not sure if that matters however it would be worth looking into why the origonal firmware image has a different variable in this position.</p>											<p class="post-edited">(Last edited by <strong>Isaac702</strong> on 24 May 2009, 16:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88590">
				<div class="post-metadata">
					<div class="post-num">Post #413</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						24 May 2009, 16:28					</div>
				</div>
				<div class="post-content content">
					<p>Ok after I set the variable at that position to the required variable it accepted the firmware and was running quite happily.<br />Then I decided to reboot and now the image integrity check has failed. It obviously doesn&#039;t like the prospect of a read/write file system.</p><p>Edit: CFE is being extremely overzealous with its image integrity check. Regardless what I do the image checksum keeps changing after it is installed. I presume this problem has been experienced on other boards. Is there a solution for it or is it just this board being difficult?</p><p>Edit 2: I am going to try recompile with with jffs2 disabled to see if a pure squashfs solution would work. Of course this is not brilliant from a usability point of view.</p><p>Edit 3: Ok even when I disabled jffs2 in make menuconfig it still was compiled and used when I installed it. Same effect CFE rejects the flash image.</p><p>Edit 4: Here is the output from the serial port as OpenWRT boots up. : <a href="http://pastebin.com/f8ba5728">http://pastebin.com/f8ba5728</a></p><p>Edit 5:The Broadcom 4318 wireless card appears to be having some trouble initializing. I am getting the following error.<br /></p><div class="codebox"><pre><code>firmware: requesting b43/ucode5.fw                                                                                                                                                                             
firmware: requesting b43/pcm5.fw                                                                                                                                                                               
firmware: requesting b43/b0g0initvals5.fw                                                                                                                                                                      
firmware: requesting b43/b0g0bsinitvals5.fw                                                                                                                                                                    
b43-phy0: Loading firmware version 478.104 (2008-07-01 00:50:23)                                                                                                                                               
ifconfig: SIOCSIFFLAGS: Cannot assign requested address</code></pre></div><p>This occurs with both the standard and experimental firmwares.</p>											<p class="post-edited">(Last edited by <strong>Isaac702</strong> on 24 May 2009, 19:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88686">
				<div class="post-metadata">
					<div class="post-num">Post #414</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						25 May 2009, 20:14					</div>
				</div>
				<div class="post-content content">
					<p>Ok am I correct in assuming that the following error is the reason why the CRC of the firmware is being corrupted after the first restart.<br />&quot;# 0x00010100-0x000f0000 : &quot;kernel&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /># mtd: partition &quot;kernel&quot; doesn&#039;t start on an erase block boundary -- force read-only&quot;</p><p>From the information I have seen elsewhere about this error it is responsible for misaligning the image and so invalidating the CRC. I however have not found a way to fix it. Is there anyone that can help with this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88687">
				<div class="post-metadata">
					<div class="post-num">Post #415</div>
					<div class="post-author">t3l3m4k0</div>
					<div class="post-datetime">
						25 May 2009, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>You are so near to do it ...<br />Sorry, i can`t help you more. It&#039;s beyon my knowledge.<br />Maybe cshore, expert about packing firmwares to adapt to CFE, can help you.<br />He has done a greath job.</p><br /><p>luck</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88805">
				<div class="post-metadata">
					<div class="post-num">Post #416</div>
					<div class="post-author">cshore</div>
					<div class="post-datetime">
						27 May 2009, 03:03					</div>
				</div>
				<div class="post-content content">
					<p>Marc &amp; Florian:&nbsp; I don&#039;t have your email addresses available as the main system which has them is currently hosed.&nbsp; It froze in middle of a RAID reconstruction (probably due to overheating), which apparently started during a backup.&nbsp; So I&#039;ve lost at lesat a few days work, and am currently on my test system for working on the GW6x00 boards.&nbsp; Obviously I&#039;m going to be trying to riscesitate the system as my first priority, but I&#039;m out of commission for a least a day, possibly three (and hopefully not more). Waah!</p><p>I am able to check my email messages, however.</p><p>Isaac702: I just noticed your messages.&nbsp; I&#039;ll look through them once I&#039;m operational again and might be able to help (I&#039;ve been working on imagetag stuff)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88816">
				<div class="post-metadata">
					<div class="post-num">Post #417</div>
					<div class="post-author">marca56</div>
					<div class="post-datetime">
						27 May 2009, 06:47					</div>
				</div>
				<div class="post-content content">
					<p>Got your message, Dan <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>marc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88836">
				<div class="post-metadata">
					<div class="post-num">Post #418</div>
					<div class="post-author">Isaac702</div>
					<div class="post-datetime">
						27 May 2009, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>Unfortunately I had some bad luck with one of the flashes. So at the moment the unit is bricked.<br />I should be able to fix it with a JTAG cable however unlike with the serial cable I don&#039;t have the necessary parts to put one together.</p><p>I also don&#039;t have the time to do so at the moment. I will probably give this another try in about 2 weeks.&nbsp; Any help would still be appreciated however.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88939">
				<div class="post-metadata">
					<div class="post-num">Post #419</div>
					<div class="post-author">Watha</div>
					<div class="post-datetime">
						29 May 2009, 10:17					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>My work is using a TP-Link TD-8840 ADSL modem, which is based on the BCM6338 v1.0 board. The firmware it comes inserts iptables rules that can only be gotten rid of manually, so we&#039;d like to put OpenWRT on it. The boss has approved buying a second one and sending it to an OpenWRT developer - who should I contact to organise this?<br /></p><div class="codebox"><pre><code># cat /proc/cpuinfo
system type             : 96338L-2M-8M
cpu model               : BCM6338 V1.0</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89113">
				<div class="post-metadata">
					<div class="post-num">Post #420</div>
					<div class="post-author">ftp21</div>
					<div class="post-datetime">
						2 Jun 2009, 13:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Isaac702 wrote:</cite><blockquote><p>Ok am I correct in assuming that the following error is the reason why the CRC of the firmware is being corrupted after the first restart.<br />&quot;# 0x00010100-0x000f0000 : &quot;kernel&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /># mtd: partition &quot;kernel&quot; doesn&#039;t start on an erase block boundary -- force read-only&quot;</p><p>From the information I have seen elsewhere about this error it is responsible for misaligning the image and so invalidating the CRC. I however have not found a way to fix it. Is there anyone that can help with this?</p></blockquote></div><p>Hello guys i would port Openwrt to a new Board (A modem of Fastweb Italian ISP).<br />Openwrt boot and recognize the board and lot of hardware (wifi,usb ecc..) but at the first reboot the CRC is corrupted.<br />In the bootlog i&#039;ve the same error of Isaac702.<br />There is any news?</p><p>@Isaac702 if your board is bricked contact me to test any firmware in my board , if you want <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Bye ftp21</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89193">
				<div class="post-metadata">
					<div class="post-num">Post #421</div>
					<div class="post-author">ftp21</div>
					<div class="post-datetime">
						3 Jun 2009, 12:47					</div>
				</div>
				<div class="post-content content">
					<p>There is any method to stop boot after mount the mtd to check the memory?</p><p>Because i think the mtd is ok but is disaligned and the mount is corrupted</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89330">
				<div class="post-metadata">
					<div class="post-num">Post #422</div>
					<div class="post-author">cshore</div>
					<div class="post-datetime">
						5 Jun 2009, 00:08					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m working on the imagetag right now;&nbsp; you may want to wait until it&#039;s in trunk (web flashing from stock firmware is what I&#039;m working on; it only works for a limited set of boards at the moment)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89333">
				<div class="post-metadata">
					<div class="post-num">Post #423</div>
					<div class="post-author">misteroX</div>
					<div class="post-datetime">
						5 Jun 2009, 01:15					</div>
				</div>
				<div class="post-content content">
					<p>Hi&nbsp; all,<br />my router is DG834GT:</p><p>I&#039;ve succeded to install the openwrt firmware from the web interface of the original firmware and then from luci.</p><p>These are the steps that I have followed for the dg834gt: </p><p>From sources of original firmware Netgear I created a new script that uses the tool makeimage issued by the Netgear</p><div class="codebox"><pre><code>#!/bin/sh

if [ &quot;$1&quot; = &quot;&quot; ] || [ &quot;$2&quot; = &quot;&quot; ] || [ &quot;$3&quot; = &quot;&quot; ]; then
        echo &quot;Usage:&quot; $0 &quot;orignal_image openwrt-96348GW-10-squashfs-cfe.bin new_image&quot;
        exit
fi

echo
echo &quot;Original Image:&quot; $1
echo &quot;bcm963xx_fs_kernel:&quot; $2
echo &quot;New Image:&quot; $3
echo
echo &quot;Press &#039;y&#039; to continue&quot;

read yn

if [ &quot;$yn&quot; = &quot;y&quot; ]; then
        tools/makeImage $3 $1 $2
        echo $3 &quot;Created!&quot;
else
        echo &quot;EXIT!&quot;
fi


######################

#### Result mkimage.sh</code></pre></div><p>I have sent openwrt_dg834gt_rev_163326.img file through the web interface of the router dg834gt without using the serial console (CFE).</p> <br /><br /><p>ssh console :<br /></p><div class="codebox"><pre><code>BusyBox v1.13.4 (2009-06-04 21:33:17 CEST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r16326) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------</code></pre></div><p>Other test:<br />I have sent the firmware openwrt-96348gw-10-squashfs-cfe.bin through the Web Interface (LUCI) and router up and runnig without error.</p><br /><p>Thanks all developers.<br />MisteroX</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89340">
				<div class="post-metadata">
					<div class="post-num">Post #424</div>
					<div class="post-author">cshore</div>
					<div class="post-datetime">
						5 Jun 2009, 02:37					</div>
				</div>
				<div class="post-content content">
					<p>HI all,</p><p>I&#039;d like everyone to tell my their router and the version of the broadcom source code (it appears on the serial console when booting, and is present in the source code) their router uses.&nbsp; Also if you have source code for your router, please let me know where I can download it.&nbsp; Here&#039;s why:</p><p>I am working on the imagetag and from what I have been able to determine there are five different flash formats:</p><p>cfe:will flash as long as the header CRC is correct<br />cfe-new: as cfe except for some newer boards if the formerly reserved space is used, but isn&#039;t correct the CRC it is now used for, you can&#039;t flash from CFE<br />original: at least from 3.02 to 3.08 of the broadcom code, needs header CRC and whole image CRC<br />new: 3.08 to at least 3.12 of the broadcom code, needs header CRC, whole image CRC, kernel CRC, and rootfs CRC<br />alicegate: modified version of version 3.06 of the broadcom code; instead of whole image CRC uses kernel CRC</p><p>I am doing up a README for router-&gt;broadcom version because the new imagetag will generate images for each format, and it would be helpful to users to know which applies to their router.&nbsp; (The reference board is insufficient because some board designs are used for routers with two different versions of the imagetag).</p><p>Please email to crazycshore@gmail.com</p>											<p class="post-edited">(Last edited by <strong>cshore</strong> on 5 Jun 2009, 02:38)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p89358">
				<div class="post-metadata">
					<div class="post-num">Post #425</div>
					<div class="post-author">vrai</div>
					<div class="post-datetime">
						5 Jun 2009, 10:44					</div>
				</div>
				<div class="post-content content">
					<p>i mod a bcm6348 modem wag54gs&#039;s memory to 32m that has 16m originally.<br />i flash it to openwrt, it works, but memory is recognized as 16m.<br />there&#039;s no nvram to set or i don&#039;t know, how can it use whole 32m ram?</p><p>do i need a new cfe? how can i find it?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 17 of 30</div><nav><ul><li><a href="viewtopic.php%3Fid=17370&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=15.html">15</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=16.html">16</a></li><li class="pagination-current"><span>17</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=18.html">18</a></li><li><a href="viewtopic.php%3Fid=17370&amp;p=19.html">19</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=17370&amp;p=30.html">30</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>