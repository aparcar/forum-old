<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wr741nd lan led</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p110212">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						30 May 2010, 17:44					</div>
				</div>
				<div class="post-content content">
					<p>hi </p><p>I have installed standard image from backfire 10.03 on wr741nd and have noticed that there is no LAN LED activity while transfering data. </p><p>Did not find any information about this, so does someone know if this is normal behavior or is there a trick to fix this ?</p><p>thx<br />tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p110437">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						2 Jun 2010, 20:14					</div>
				</div>
				<div class="post-content content">
					<p>bump...</p><p>is there anyone with working led (blinking) for wan and lan activity ?</p><p>tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111742">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						22 Jun 2010, 17:29					</div>
				</div>
				<div class="post-content content">
					<p>bump..</p><p>wow just a so easy question<br />yes or no<br />is it so much effort ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111771">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">0x00</div>
					<div class="post-datetime">
						23 Jun 2010, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>I also have a standard 10.03 image on my WR741ND, and LEDs are not blinking. In the LuCI interface, there are some LED configuration options though. I tried to change some settings, but couldn&#039;t get them to blink.</p><p>Have you tried the latest trunk? I&#039;m waiting for my serial cable before flashing.</p><p>Report, if you manage to get them to blink.</p>											<p class="post-edited">(Last edited by <strong>0x00</strong> on 23 Jun 2010, 04:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111775">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						23 Jun 2010, 07:57					</div>
				</div>
				<div class="post-content content">
					<p>@0x00<br />thx for your info<br />i have already tried latest trunk with the same result<br />cu<br />tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111778">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">0x00</div>
					<div class="post-datetime">
						23 Jun 2010, 08:44					</div>
				</div>
				<div class="post-content content">
					<p>LuCI added these lines to /etc/config/system:</p><div class="quotebox"><blockquote><p>config &#039;led&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;LED WLAN&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;sysfs&#039; &#039;ath9k-phy0::radio&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;trigger&#039; &#039;phy0radio&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;default&#039; &#039;1&#039;</p><p>config &#039;led&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;LED TX&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;sysfs&#039; &#039;ath9k-phy0::tx&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;trigger&#039; &#039;phy0tx&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;default&#039; &#039;1&#039;</p></blockquote></div><p>LuCI has the following option:<br />&quot;Default state, ticked = on&quot;, which adds &quot;option &#039;default&#039; &#039;1&#039;&quot; to the etc/config/system. It&#039;s just the opposite, since default 1 turns it off.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111782">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						23 Jun 2010, 12:41					</div>
				</div>
				<div class="post-content content">
					<p>i have abused now the QSS LED with</p><p>config &#039;led&#039;<br />&nbsp; &nbsp; option &#039;name&#039; &#039;LED TX RX&#039;<br />&nbsp; &nbsp; option &#039;default&#039; &#039;1&#039;<br />&nbsp; &nbsp; option &#039;sysfs&#039; &#039;tl-wr741nd:green:qss&#039;<br />&nbsp; &nbsp; option &#039;trigger&#039; &#039;netdev&#039;<br />&nbsp; &nbsp; option &#039;dev&#039; &#039;br-lan&#039;<br />&nbsp; &nbsp; option &#039;mode&#039; &#039;link tx rx&#039;</p><p>which indicate the transfer of data.</p><p>Still have no clue how getting LAN and WAN LED to work.</p><p>tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111786">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">0x00</div>
					<div class="post-datetime">
						23 Jun 2010, 13:31					</div>
				</div>
				<div class="post-content content">
					<p>According to <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd">http://wiki.openwrt.org/toh/tp-link/tl-wr741nd</a> and <a href="http://wiki.openwrt.org/toh/tp-link/tl-wr941nd">http://wiki.openwrt.org/toh/tp-link/tl-wr941nd</a> both WR741ND and WR941ND v4 use the same Atheros AR7240@400MHz CPU. Both have 4MB flash and 32MB RAM.</p><p>Wireless chips are Atheros AR9285 (WR741ND) vs Atheros AR9103 (WR941ND) though. But anyway, they are using the same ath9k kernel mod.</p><p>If LEDs work normally on WR941ND, maybe you could copy 941&#039;s config settings to 741. Or even change the 741&#039;s LED source files from trunk to settings for 941, if the previous step doesn&#039;t resolve the problem. Or you could flash your 741 with 941 v4 FW - if you have serial access to recover.</p><p>Currently I&#039;m in a hurry doing other projects, so I&#039;m giving you only some hints you might find useful.</p><p>Edit: take a look at <a href="https://dev.openwrt.org/browser/trunk/target/linux/ar71xx/base-files/etc/uci-defaults/tl-wr1043nd">https://dev.openwrt.org/browser/trunk/t … l-wr1043nd</a> and <a href="https://dev.openwrt.org/browser/trunk/target/linux/ar71xx/base-files/etc/uci-defaults/rb750">https://dev.openwrt.org/browser/trunk/t … ults/rb750</a> . I don&#039;t know in which source file the values for &quot;sysfs&quot; are tied to HW ports. Use &quot;uci show&quot; and get&amp;set&amp;commit to change the /etc/config files.</p>											<p class="post-edited">(Last edited by <strong>0x00</strong> on 23 Jun 2010, 13:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111800">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						23 Jun 2010, 18:01					</div>
				</div>
				<div class="post-content content">
					<p>@0x00<br />thx for your hints.<br />i think the problem is that the leds are not exposed to the sysfs. (maybe a driver problem)<br />so far i could only find leds for sys, qss and wireless but no ports for lan and wan.<br />anyway using the qss led for indicating data transfer works for me.</p><p>thx<br />tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111806">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">0x00</div>
					<div class="post-datetime">
						23 Jun 2010, 19:24					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m glad I could help. Otherwise the file containing LED definitions is <a href="https://dev.openwrt.org/browser/trunk/target/linux/ar71xx/files/arch/mips/ar71xx/mach-tl-wr741nd.c">https://dev.openwrt.org/browser/trunk/t … -wr741nd.c</a></p><p>You can do a search like this, to find the relevant source files: <a href="http://www.google.com/#num=50&amp;hl=en&amp;q=site%3Adev.openwrt.org+wr741nd%3Agreen">http://www.google.com/#num=50&amp;hl=en … nd%3Agreen</a></p><p>Can you do a &quot;uci show system&quot; and post your settings? I&#039;ll try to find the LED settings from TP-LINK&#039;s sources.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111845">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						24 Jun 2010, 09:27					</div>
				</div>
				<div class="post-content content">
					<p>hi 0x00,</p><p>here is the listing of the exposed leds:</p><p>root@OpenWrt:/sys/class/leds# ls<br />ath9k-phy0::assoc&nbsp; &nbsp; &nbsp; &nbsp; ath9k-phy0::rx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tl-wr741nd:green:qss<br />ath9k-phy0::radio&nbsp; &nbsp; &nbsp; &nbsp; ath9k-phy0::tx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tl-wr741nd:green:system</p><br /><p>and the output of the system config file:</p><p>root@OpenWrt:/etc/config# cat system</p><p>config &#039;system&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;hostname&#039; &#039;OpenWrt&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;timezone&#039; &#039;UTC&#039;</p><p>config &#039;rdate&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;server&#039; &#039;ptbtime1.ptb.de&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;server&#039; &#039;ac-ntp1.net.cmu.edu&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;server&#039; &#039;ntp.xs4all.nl&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;server&#039; &#039;ptbtime2.ptb.de&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;server&#039; &#039;cudns.cit.cornell.edu&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; list &#039;server&#039; &#039;ptbtime3.ptb.de&#039;</p><p>config &#039;led&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;LED LAN WAN&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;sysfs&#039; &#039;tl-wr741nd:green:qss&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;default&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;trigger&#039; &#039;netdev&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;dev&#039; &#039;eth1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;mode&#039; &#039;tx rx&#039;</p><p>config &#039;led&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;sysfs&#039; &#039;tl-wr741nd:green:system&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;trigger&#039; &#039;none&#039;</p><p>cu<br />tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112648">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">grrider477</div>
					<div class="post-datetime">
						7 Jul 2010, 14:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>supertom64 wrote:</cite><blockquote><p>hi </p><p>I have installed standard image from backfire 10.03 on wr741nd and have noticed that there is no LAN LED activity while transfering data. </p><p>Did not find any information about this, so does someone know if this is normal behavior or is there a trick to fix this ?</p><p>thx<br />tom</p></blockquote></div><p>Have to say, you seem to have hit the correct note</p><p><a href="http://www.smokeco.com/help-quitting-smoking-and-why-you-shuld-quit-smoking.html">e cigarettes video</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>