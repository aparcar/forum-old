<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> help about complie with  -lftdi  using LibFTDI  ftdi.h</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p173457">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">kwongwo</div>
					<div class="post-datetime">
						27 Jul 2012, 18:58					</div>
				</div>
				<div class="post-content content">
					<p>Dear all,<br />&nbsp; &nbsp; &nbsp;i try to compile a OpenWRT program to control the FT232RL&#039;s GPIO by using the LibFTDI.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;helloworld src is from libFTDI Sample.<br />Process: </p><p>1.it works by using cc compiler :<br /></p><div class="codebox"><pre><code> [root@PC-LINUX src]$ make
cc  -c helloworld.c
cc  helloworld.o -lpthread -lftdi   -o helloworld
[root@PC-LINUX src]$ ./helloworld 
unable to open ftdi device: -3 (device not found)</code></pre></div><p>2. But Fail by Cross complie by:<br /></p><div class="codebox"><pre><code>[root@PC-LINUX trunk]# make package/helloworld/compile V=99

......

helloworld.c:1: note: someone does not honour COPTS correctly, passed 0 times
helloworld.c:9:18: error: ftdi.h: No such file or directory
helloworld.c: In function &#039;main&#039;:
helloworld.c:16: error: storage size of &#039;ftdic&#039; isn&#039;t known
helloworld.c:20: error: &#039;EXIT_FAILURE&#039; undeclared (first use in this function)
helloworld.c:20: error: (Each undeclared identifier is reported only once
helloworld.c:20: error: for each function it appears in.)
helloworld.c:30: error: &#039;TYPE_R&#039; undeclared (first use in this function)
helloworld.c:45: error: &#039;EXIT_SUCCESS&#039; undeclared (first use in this function)
--------------------</code></pre></div><p>Makefile<br /></p><div class="codebox"><pre><code># Build the helloworld executable when the user executes make
## Linking stage
helloworld: helloworld.o
    $(CC) $(LDFLAGS) helloworld.o -lpthread -lftdi   -o helloworld
# Compiling stage
helloworld.o: helloworld.c
        $(CC) $(CFLAGS) -c helloworld.c

# Remove object and executable files when the user executes make clean
clean:
            rm *.o helloworld</code></pre></div><p>could you please advice ,thanks for your kind help.</p><p>aico</p>											<p class="post-edited">(Last edited by <strong>kwongwo</strong> on 27 Jul 2012, 19:00)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>