<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> P-2812HNU-FX: getting OpenWrt installed</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Jun 2015 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 22 of 23</div><nav><ul><li><a href="viewtopic.php%3Fid=53511&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=21.html">21</a></li><li class="pagination-current"><span>22</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=23.html">23</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p347852">
				<div class="post-metadata">
					<div class="post-num">Post #526</div>
					<div class="post-author">wvdakker</div>
					<div class="post-datetime">
						28 Dec 2016, 01:07					</div>
				</div>
				<div class="post-content content">
					<p>DGDodo,</p><p>I have some further information.</p><p>It looks like the VDSL config is the problem.<br />If I change</p><div class="codebox"><pre><code>config vdsl &#039;dsl&#039;
    option annex &#039;a&#039;
    option firmware &#039;/lib/firmware/vdsl.bin&#039;
    option tone &#039;av&#039;
    option xfer_mode &#039;ptm&#039;</code></pre></div><p>into<br /></p><div class="codebox"><pre><code>config vdsl &#039;dsl&#039;
    option annex &#039;a&#039;
    option firmware &#039;/lib/firmware/vdsl.bin&#039;
    option tone &#039;av&#039;
    option xfer_mode &#039;atm&#039;</code></pre></div><p>I cannot reboot from the command line anymore after the second time. Only by power down/up.<br />This happens in BB and CC.<br />After changing &#039;atm&#039; back to &#039;ptm&#039; it works normal. </p><p>DD (r48507) is doing ok. No problems with rebooting from CLI.</p>											<p class="post-edited">(Last edited by <strong>wvdakker</strong> on 3 Jan 2017, 23:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348756">
				<div class="post-metadata">
					<div class="post-num">Post #527</div>
					<div class="post-author">zeekoe</div>
					<div class="post-datetime">
						8 Jan 2017, 15:49					</div>
				</div>
				<div class="post-content content">
					<p>DGDodo,</p><p>Thanks very much for your answer. After several hours of debugging I decided to post my experiences for reference to others, but now I see it wasn&#039;t very clear that I sort-of figured out a working config. I edited the post to make it more clear.<br />I do like it all to work together in one LAN, but keep my hands off my router for the next few weeks - to see if it works stable and well in this configuration. Afterwards, I&#039;ll try your configs.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349319">
				<div class="post-metadata">
					<div class="post-num">Post #528</div>
					<div class="post-author">ase</div>
					<div class="post-datetime">
						15 Jan 2017, 11:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>wvdakker wrote:</cite><blockquote><p>I have installed CC 15.5.01 on my 2812 F1 router.<br />After installing I cannot reboot from the CLI. I have to turn the<br />router off and on with the power switch.</p><p>The serial interface gives after the [reboot] command:</p><div class="codebox"><pre><code>ROM VER: 1.0.5
CFG 06
NAND
NAND Read OK

U-Boot SPL 2013.10-openwrt5 (Nov 18 2014 - 19:54:01)
SPL: initializing NAND flash
SPL: checking U-Boot image
SPL: loading U-Boot to RAM
SPL: decompressing U-Boot with LZO
SPL: cannot start U-Boot</code></pre></div><p>I could softboot when I had installed BB.</p><p>Any ideas?</p></blockquote></div><p>Some time ago I traced this bug to an uninitialized variable in bootloader code.<br />I&#039;ve fixed the code and made a new version:</p><p><a href="http://ase.pp.fi/openwrt/openwrt-lantiq-p2812hnufx_nandtpl-u-boot-lzo-overrun-fixed.img">http://ase.pp.fi/openwrt/openwrt-lantiq … -fixed.img</a></p><p>This is for the F1 version only, and obviously you replace the bootloader with your own risk.</p><p>Hope this helps!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359449">
				<div class="post-metadata">
					<div class="post-num">Post #529</div>
					<div class="post-author">revivo73</div>
					<div class="post-datetime">
						30 May 2017, 22:54					</div>
				</div>
				<div class="post-content content">
					<p>Hello<br />After having some freezes on my P-2812HNUL*-F1 and because of some privacy concerns about the TCP port 50805 being reserved for TR069 connections I decided to install Openwrt but I got stuck at the factory U-Boot step</p><p>1- I made the cable by soldering the pins of USB-to-RS232 dongle (brand name: FTDI, Vendor ID: 0403, Product ID: 6001) (2nd RX, 3rd TX, 5th pin: GND) I plugged the dongle to my WinXP laptop and installed its drivers. Dongle appeared as COM10 in device manager. </p><p>2- I installed both Termite and Putty to use as terminal. I first opened Termite , it automatically detected the dongle as connected on COM10</p><p>3- I short circuited the R17 bridge by a screwdriver and powered up the router waited for a second or two and released the screwdriver.</p><p>4- Termite stopped running and closed itself.</p><p>5- I tried the same with Putty, selecting Serial as connection. Putty went on running but crambled characters came up. Here&#039;s one sample screenshot: i . hizliresim. com / Ja5jDj.png <br />Those crambled characters come up whether I short or not. On my previous try those crambled chars covered the whole screen.</p><p>In 2012 I tried to resque my bricked Zyxel 661HW-61 using the same USB2Serial dongle (which Terminal I used I can&#039;t remember now) and I had got a similar result and I could not resque it, that&#039;s when I bought this one, P-2812HNUL-F1. </p><p>How can I install Openwrt on this modem? Thank you.</p><p>* (L is documented by ZyXEL as: L Models users need a splitter to use the FXO port so I guess it&#039;s not something to alter the installation process)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359481">
				<div class="post-metadata">
					<div class="post-num">Post #530</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						31 May 2017, 09:42					</div>
				</div>
				<div class="post-content content">
					<p>While I don&#039;t know for sure what kind of an interface chip the P-2812HNUL-F1 has, I somehow doubt that it does not have an RS-232 receiver chip. Instead, the UART pins are wired more or less directly to the UART interface of the onboard microcontroller. This is at least the case for my P-2812HNU-F1.</p><p>I think you should start by using a voltage multimeter connected to the TX and GND pins and power up the router. It will send out data through the serial interface when it boots up, and hence you can determine the maximum output voltage. If the voltage really goes all the way to +-12V, then using an RS-232 dongle is safe. But if the maximum measured voltage is around 5V, then you&#039;re better off using a USB-to-TTL dongle instead.</p><p>The garbled characters syndrome usually indicates that the serial line settings (baud rate, parity, stop bit etc) might be off. I have a P-2812HNU-F1, and at least for it, the correct settings are:<br /> - Baud rate 115200<br /> - Data bits: 8<br /> - Parity: N<br /> - Stop bits: 1</p><p>Since I use BusPirate to interface with my router&#039;s serial line, I also need to set the Receive polarity to Idle 0 and Output type to Normal (3.3V high, GND low). These settings only apply to BusPirate, though. They might not apply to your dongle.</p><p>Start your experiments by trying to capture the regular bootlog of your router (i.e. by not shorting the R17 resistor) Once you can see the full bootlog, restart the router and ensure that you can interrupt the Z-Boot sequence during the appropriate window. You should see a timer running from 3 secs to 0 where you can interrupt it. This happens before Zyxel&#039;s own kernel starts booting.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359489">
				<div class="post-metadata">
					<div class="post-num">Post #531</div>
					<div class="post-author">revivo73</div>
					<div class="post-datetime">
						31 May 2017, 13:40					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for the reply it&#039;s helpful. </p><p>Now I tried with all those settings on Putty and let it start without shorting and results&#039;s the same. I ve noticed&nbsp; 2 things though:</p><p>1- TX and GND pins on the router measured about 5V <br />2- TX and GND pins on the RS-232 outlet (connected to the Laptop via USB) measured 12V but I had to connect voltagemeter&#039;s red end to the GND not to the TX, and the black end to the TX, that is the pins on the RS-232 seems to be reverse. The same FTDI RS-232 dongle works perfectly on my Powercom Uninterrupted Power Supply&#039;s RS-232 output, so I don&#039;t think it&#039;s defect. Still I guess I have to buy a USB-to-TTL dongle, though I don&#039;t know exactly what kind of a device it is.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359544">
				<div class="post-metadata">
					<div class="post-num">Post #532</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						1 Jun 2017, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>The serial port on the router is <em>not</em> rs232. Rs232 is indeed 12V, while the TTL on the SoC is 3.3V. So you&#039;ll need an rs232 to TTL or an USB to TTL device, and hope that you didn&#039;t fry your router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359546">
				<div class="post-metadata">
					<div class="post-num">Post #533</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						1 Jun 2017, 12:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>revivo73 wrote:</cite><blockquote><p>1- TX and GND pins on the router measured about 5V</p></blockquote></div><p>Alright, so it is probably using the 5V TTL levels. See <a href="https://learn.sparkfun.com/tutorials/logic-levels/ttl-logic-levels">https://learn.sparkfun.com/tutorials/lo … gic-levels</a></p><p>What you need, then is one of these: <a href="http://www.ftdichip.com/Products/Cables/USBTTLSerial.htm">http://www.ftdichip.com/Products/Cables … Serial.htm</a></p><p>Since the pins are measuring at about 5V, I think the TTL-232RG-VSW3V3-WE will be enough for you. And before you ask, the 3.3V cables are intended for CMOS circuits. See <a href="https://learn.sparkfun.com/tutorials/logic-levels/33-v-cmos-logic-levels">https://learn.sparkfun.com/tutorials/lo … gic-levels</a>. A CMOS-compatible cable can interface with a device that uses 5V voltages, but the reverse (A 5V cable) cannot always interface a device that expects CMOS voltage levels. Buying the 3.3V cable gives you more bang for the buck.</p><p>However, if you intend to do more hardware hacking, I heartily recommend the BusPirate v3 prototype board (<a href="http://dangerousprototypes.com/docs/Bus_Pirate">http://dangerousprototypes.com/docs/Bus_Pirate</a>). This board do a lot more than just interface with UART. It is an extremely useful device in my opinion. I own one myself, and used it to flash my P-2812HNU-F1. Remember to get both the board and a suitable probe kit to go with it, otherwise you can&#039;t connect BusPirate to the router&#039;s pins! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><cite>revivo73 wrote:</cite><blockquote><p>2- TX and GND pins on the RS-232 outlet (connected to the Laptop via USB) measured 12V but I had to connect voltagemeter&#039;s red end to the GND not to the TX, and the black end to the TX, that is the pins on the RS-232 seems to be reverse.</p></blockquote></div><p>They are not &quot;reversed&quot;. The RS-232 standard defines voltages from positive 15V to negative 15V while your voltmeter probably just measures voltages from 0V upwards. Hence you need to &#039;reverse&#039; the connectors to see the real voltage value. See <a href="https://en.wikipedia.org/wiki/RS-232#Voltage_levels">https://en.wikipedia.org/wiki/RS-232#Voltage_levels</a> for more details.</p><p>Also, if you want to learn more about TTL and CMOS, check out Wikipedia: <a href="https://en.wikipedia.org/wiki/Transistor%E2%80%93transistor_logic">https://en.wikipedia.org/wiki/Transisto … stor_logic</a> and <a href="https://en.wikipedia.org/wiki/CMOS">https://en.wikipedia.org/wiki/CMOS</a></p>											<p class="post-edited">(Last edited by <strong>Antek</strong> on 1 Jun 2017, 12:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p359629">
				<div class="post-metadata">
					<div class="post-num">Post #534</div>
					<div class="post-author">revivo73</div>
					<div class="post-datetime">
						2 Jun 2017, 20:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><p>The serial port on the router is <em>not</em> rs232. Rs232 is indeed 12V, while the TTL on the SoC is 3.3V. So you&#039;ll need an rs232 to TTL or an USB to TTL device, and hope that you didn&#039;t fry your router.</p></blockquote></div><p>No, the router&#039;s fine. Afterwards I connected it to the Internet just to check it works then it worked. </p><div class="quotebox"><cite>Antek wrote:</cite><blockquote><div class="quotebox"><cite>revivo73 wrote:</cite><blockquote><p>1- TX and GND pins on the router measured about 5V</p></blockquote></div><p>Alright, so it is probably using the 5V TTL levels. See #<br />What you need, then is one of these: #</p><p>Since the pins are measuring at about 5V, I think the TTL-232RG-VSW3V3-WE will be enough for you. And before you ask, the 3.3V cables are intended for CMOS circuits. See #. A CMOS-compatible cable can interface with a device that uses 5V voltages, but the reverse (A 5V cable) cannot always interface a device that expects CMOS voltage levels. Buying the 3.3V cable gives you more bang for the buck.</p><p>However, if you intend to do more hardware hacking, I heartily recommend the BusPirate v3 prototype board (<a href="http://#">#</a>). This board do a lot more than just interface with UART. It is an extremely useful device in my opinion. I own one myself, and used it to flash my P-2812HNU-F1. Remember to get both the board and a suitable probe kit to go with it, otherwise you can&#039;t connect BusPirate to the router&#039;s pins! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><cite>revivo73 wrote:</cite><blockquote><p>2- TX and GND pins on the RS-232 outlet (connected to the Laptop via USB) measured 12V but I had to connect voltagemeter&#039;s red end to the GND not to the TX, and the black end to the TX, that is the pins on the RS-232 seems to be reverse.</p></blockquote></div><p>They are not &quot;reversed&quot;. The RS-232 standard defines voltages from positive 15V to negative 15V while your voltmeter probably just measures voltages from 0V upwards. Hence you need to &#039;reverse&#039; the connectors to see the real voltage value. See <a href="http://#">#</a> for more details.</p><p>Also, if you want to learn more about TTL and CMOS, check out Wikipedia: <a href="http://#">#</a> and <a href="http://#">#</a></p></blockquote></div><p>I think I &#039;ll have to buy a coverter cable like the USBTTLSerial cable of FTDI. I really never knew that such category of cables existed.&nbsp; They have put that tiny circuit inside the USB end, that&#039;s really suprising. I&#039;d better search fot it locally as I will have a chance to try it before I buy it; I &#039;ll go to the store with my laptop and the router. </p><p>The prototype board looks fine but it &#039;s way beyond me : )&nbsp; Thank you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361498">
				<div class="post-metadata">
					<div class="post-num">Post #535</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						4 Jul 2017, 12:47					</div>
				</div>
				<div class="post-content content">
					<p>Anyone got Wi-Fi on the F3 to work on Chaos Calmer? Perhaps because this file was built for Designated Driver and I need to get new calibration data for CC by doing cross-compilation.</p><div class="codebox"><pre><code>[   10.504000] rt2800pci 0000:02:00.0: failed to load eeprom property
[   10.508000] ieee80211 phy0: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;RT3092.eeprom&#039;.
[   10.520000] rt2800pci 0000:02:00.0: Direct firmware load for RT3092.eeprom failed with error -2
[   10.528000] rt2800pci 0000:02:00.0: Falling back to user helper
[   10.564000] firmware RT3092.eeprom: firmware_loading_store: map pages failed
[   10.568000] ieee80211 phy0: rt2x00lib_request_eeprom_file: Error - Failed to request EEPROM.
[   10.580000] rt2800pci: probe of 0000:02:00.0 failed with error -11
    OpenWrt Chaos Calmer 15.05.1 / LuCI 15.05-149-g0d8bbd2 Release (git-15.363.78009-956be55)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361502">
				<div class="post-metadata">
					<div class="post-num">Post #536</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						4 Jul 2017, 13:56					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>[   10.508000] ieee80211 phy0: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;RT3092.eeprom&#039;.
[   10.520000] rt2800pci 0000:02:00.0: Direct firmware load for RT3092.eeprom failed with error -2</code></pre></div><p>The EEPROM calibration data cannot be loaded.</p><p>As stated in <a href="https://wiki.openwrt.org/toh/zyxel/p2812hnu-fx#calibration_data">https://wiki.openwrt.org/toh/zyxel/p281 … ation_data</a> you need to put the calibration data file to /lib/firmware/ folder.</p><p>Check the Wiki-page I linked. At the beginning of the page, you&#039;ll find a link to a GitHub repo by ScApi that contains pre-built images for both F1 and F3 variants. In the F3 variant&#039;s folder, you&#039;ll find the correct EEPROM file. Copy this file to /lib/firmware/ and reboot your router.</p><p>As far as I know, this file isn&#039;t available anywhere else and it cannot be built from sources. I do not know where ScApi got the original file from, or what it actually contains. But for my P-2812HNU-F1, putting the corresponding file to /lib/firmware/ made WiFi work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361543">
				<div class="post-metadata">
					<div class="post-num">Post #537</div>
					<div class="post-author">courfazor</div>
					<div class="post-datetime">
						5 Jul 2017, 12:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Antek wrote:</cite><blockquote><p>The EEPROM calibration data cannot be loaded.</p><p>As stated in <a href="https://wiki.openwrt.org/toh/zyxel/p2812hnu-fx#calibration_data">https://wiki.openwrt.org/toh/zyxel/p281 … ation_data</a> you need to put the calibration data file to /lib/firmware/ folder.</p><p>Check the Wiki-page I linked. At the beginning of the page, you&#039;ll find a link to a GitHub repo by ScApi that contains pre-built images for both F1 and F3 variants. In the F3 variant&#039;s folder, you&#039;ll find the correct EEPROM file. Copy this file to /lib/firmware/ and reboot your router.</p><p>As far as I know, this file isn&#039;t available anywhere else and it cannot be built from sources. I do not know where ScApi got the original file from, or what it actually contains. But for my P-2812HNU-F1, putting the corresponding file to /lib/firmware/ made WiFi work.</p></blockquote></div><p>Thanks. I must&#039;ve done a mistake and put it into /lib/ somewhere instead of /lib/firmware/ as it is now working perfectly. <span style="color: red">The only thing I don&#039;t like now is that the MAC seems to be randomly generated (or taken from u-boot like @Scapi build?) and the macaddr override in the wifi-iface section does not work unless I run one single ap with the driver. But that&#039;s no big deal, I just want to use the same MAC as written on the sticker under the router (it shows up as Ralink instead of ZyXEL)</span></p><p>Actually I was looking at the OEM bootlog (how it generated 7 MACs for wi-fi ifaces at boot) and the OpenWRT bootlog and realized if I specified the same for more than one iface and/or did not specify it then it would create a conflict, I simply set up the logical next one(s) as how the OEM would generate them and the override works. My bad again.</p>											<p class="post-edited">(Last edited by <strong>courfazor</strong> on 5 Jul 2017, 12:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361554">
				<div class="post-metadata">
					<div class="post-num">Post #538</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						5 Jul 2017, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>I recall that at least on the P2812HNU-F1, there&#039;s a configuration section somewhere in the flash memory which the bootloader can access. It contains the first and last MAC address, and this range is used to generate MAC addresses for the interfaces dynamically. I stored the details that my router originally had into a &quot;ZHAL configuration file&quot;, but so far I haven&#039;t actually applied these MAC addresses elsewhere except enforced the WAN interface&#039;s MAC address since it is facing towards the ISP.</p><p>As far as I know, OpenWRT doesn&#039;t use or read these details automatically, but you can enforce the MAC addresses in the /etc/config/network and /etc/config/wireless configuration files manually. That&#039;s what I did, too.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363972">
				<div class="post-metadata">
					<div class="post-num">Post #539</div>
					<div class="post-author">ZyXEL P-2812HNU-F3 Owner</div>
					<div class="post-datetime">
						19 Aug 2017, 20:15					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m an absolute blank when it comes to any of this but I wanted to use my old router as a wireless adapter for my desktop computer. </p><p>I&#039;ve been trying out stuff like the zyxel firmware driivers and the/chaos_calmer/15.05/lantiq/xrx200/openwrt-15.05-lantiq-xrx200-P2812HNUF3-squashfs-sysupgrade.tar file. They all get declined by the router.</p><p>It apparantly has firmware version V3.11(BLN. 17) so I&#039;m at a loss here. Anything you guys want me to try on this thing let me know. I&#039;d need detailed instrucions for dummies type stuff though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363976">
				<div class="post-metadata">
					<div class="post-num">Post #540</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						19 Aug 2017, 22:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ZyXEL P-2812HNU-F3 Owner wrote:</cite><blockquote><p>I&#039;m an absolute blank when it comes to any of this but I wanted to use my old router as a wireless adapter for my desktop computer.</p><p>I&#039;ve been trying out stuff like the zyxel firmware driivers and the/chaos_calmer/15.05/lantiq/xrx200/openwrt-15.05-lantiq-xrx200-P2812HNUF3-squashfs-sysupgrade.tar file. They all get declined by the router.</p><p>It apparantly has firmware version V3.11(BLN. 17) so I&#039;m at a loss here. Anything you guys want me to try on this thing let me know. I&#039;d need detailed instrucions for dummies type stuff though.</p></blockquote></div><p>I&#039;m not sure I understand you. You want to disassemble the entire router, and re-purpose the raw hardware to act like some sort of a USB-connected wireless adapter card?</p><p>That sounds... insanely bloody f*cking difficult, to put it mildly. I believe you&#039;ll save yourself a lot of time and frustration by simply purchasing a dedicated wireless adapter from a computer store.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363982">
				<div class="post-metadata">
					<div class="post-num">Post #541</div>
					<div class="post-author">ZyXEL P-2812HNU-F3 Owner</div>
					<div class="post-datetime">
						20 Aug 2017, 00:52					</div>
				</div>
				<div class="post-content content">
					<p>Seems I might not have been quite clear. I want to plug a regular ethernet cable into my router from my desktop so I get access to the wi-fi from a completely diffrent router that I don&#039;t have physical access to.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364022">
				<div class="post-metadata">
					<div class="post-num">Post #542</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						20 Aug 2017, 15:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ZyXEL P-2812HNU-F3 Owner wrote:</cite><blockquote><p>Seems I might not have been quite clear. I want to plug a regular ethernet cable into my router from my desktop so I get access to the wi-fi from a completely diffrent router that I don&#039;t have physical access to.</p></blockquote></div><p>Ok, so there was a misunderstanding <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>The instructions on how to flash P-2812HNU-F3 can be found from the device-specific page: <a href="https://wiki.openwrt.org/toh/zyxel/p2812hnu-f3">https://wiki.openwrt.org/toh/zyxel/p2812hnu-f3</a>.</p><p>You&#039;ll need to have a TTL cable (USB-to-TTL cable from FTDI will do fine, just make sure the voltage is 3.3V), and you&#039;ll need to know your way around the hardware in order to short the correct pin so the router will start in the UART mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364293">
				<div class="post-metadata">
					<div class="post-num">Post #543</div>
					<div class="post-author">DGDodo</div>
					<div class="post-datetime">
						25 Aug 2017, 01:29					</div>
				</div>
				<div class="post-content content">
					<p><strong>ZyXEL P-2812HNU-F3 Owner</strong>,</p><p>You mean: program the F1 (or F3) device, so it acts like a repeater.<br />Yes this is possible by changing network configuration.<br />With <a href="http://dgcomsys.noip.me/phpbb/viewtopic.php?f=19&amp;t=49">my F1</a> there are even 4 wlan channels, which can be programmed as you wish i.e. 1wlan=WAN , all ethports (5) and 3wlan works as LAN.<br />Anything is possible ...<br />Although a USB device as&nbsp; wrote, are easier &amp; cheaper, bought <a href="http://dgcomsys.noip.me/phpbb/viewtopic.php?f=4&amp;t=22#p115">mine </a>under $2/piece.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365025">
				<div class="post-metadata">
					<div class="post-num">Post #544</div>
					<div class="post-author">reynard80</div>
					<div class="post-datetime">
						6 Sep 2017, 12:57					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve been trying to install OpenWRT to my P-2812. However, when uploading the boot image in ASCII (in CFG 02), nothing happens afterwards. When I try adding a 1ms character delay, the upload takes hours. </p><p>It hasn&#039;t actually finished, I&#039;m posting this to verify that it&#039;s normal that it&#039;s taking this long? I don&#039;t want to have to wait for almost a day, just to find out that again nothing happens after the upload.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365027">
				<div class="post-metadata">
					<div class="post-num">Post #545</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						6 Sep 2017, 13:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>reynard80 wrote:</cite><blockquote><p>it&#039;s normal that it&#039;s taking this long?</p></blockquote></div><p>No. </p><p>Some people can upload the bootloader normally, without delays. I couldn&#039;t, and had to add a delay on line endings.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365028">
				<div class="post-metadata">
					<div class="post-num">Post #546</div>
					<div class="post-author">reynard80</div>
					<div class="post-datetime">
						6 Sep 2017, 13:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><div class="quotebox"><cite>reynard80 wrote:</cite><blockquote><p>it&#039;s normal that it&#039;s taking this long?</p></blockquote></div><p>No. </p><p>Some people can upload the bootloader normally, without delays. I couldn&#039;t, and had to add a delay on line endings.</p></blockquote></div><p>I see, delay on line endings did work for me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365058">
				<div class="post-metadata">
					<div class="post-num">Post #547</div>
					<div class="post-author">reynard80</div>
					<div class="post-datetime">
						7 Sep 2017, 13:43					</div>
				</div>
				<div class="post-content content">
					<p>Is anybody running the LEDE version of OpenWRT on their 2812 and using VDSL? I can&#039;t get it to work. Also, the DSL section of LuCI is empty; &#039;DSL This section contains no values yet&#039;, although I have configured these settings in the <em>network</em> file</p><p>I&#039;m actually looking for the best version to run the modem/router stable with both DSL and Wifi. What build would that be? </p><p>(I&#039;m in the Netherlands, on the Telfort provider, as more people are, I suspect <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />)</p>											<p class="post-edited">(Last edited by <strong>reynard80</strong> on 7 Sep 2017, 13:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365074">
				<div class="post-metadata">
					<div class="post-num">Post #548</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						7 Sep 2017, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m using &quot;LEDE Reboot 17.01.2 r3435-65eec8bd5f / LuCI lede-17.01 branch (git-17.152.82987-7f6fc16)&quot; on a P2812HNU-F1 here. Built it myself from the sources.</p><p>Everything works quite well, except that sometimes the Wi-Fi mysteriously stops working and I need to power cycle the router in order to get it back online. Try as I might, I haven&#039;t managed to pinpoint why exactly the wireless network stops working. Connecting to the router through Ethernet cable allows me to review the kernel and system logs, but there&#039;s nothing there.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365102">
				<div class="post-metadata">
					<div class="post-num">Post #549</div>
					<div class="post-author">reynard80</div>
					<div class="post-datetime">
						8 Sep 2017, 15:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Antek wrote:</cite><blockquote><p>I&#039;m using &quot;LEDE Reboot 17.01.2 r3435-65eec8bd5f / LuCI lede-17.01 branch (git-17.152.82987-7f6fc16)&quot; on a P2812HNU-F1 here. Built it myself from the sources.</p><p>Everything works quite well, except that sometimes the Wi-Fi mysteriously stops working and I need to power cycle the router in order to get it back online. Try as I might, I haven&#039;t managed to pinpoint why exactly the wireless network stops working. Connecting to the router through Ethernet cable allows me to review the kernel and system logs, but there&#039;s nothing there.</p></blockquote></div><p>And what does your <em>network</em> file look like? And are you getting DSL settings in the LuCI interface?</p><p>WIth my LEDE install, it&#039;s loading the rt2860.bin firmware. That should be rt30262 I think, at least that&#039;s the chip in my F1. Maybe that&#039;s the problem in your setup?</p>											<p class="post-edited">(Last edited by <strong>reynard80</strong> on 8 Sep 2017, 15:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365115">
				<div class="post-metadata">
					<div class="post-num">Post #550</div>
					<div class="post-author">Antek</div>
					<div class="post-datetime">
						8 Sep 2017, 19:10					</div>
				</div>
				<div class="post-content content">
					<p>Here&#039;s a copy of my network config file:<br /></p><div class="codebox"><pre><code>config interface &#039;loopback&#039;
        option ifname &#039;lo&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;127.0.0.1&#039;
        option netmask &#039;255.0.0.0&#039;

config globals &#039;globals&#039;

config dsl &#039;dsl&#039;
        option xfer_mode &#039;ptm&#039;
        option tone &#039;av&#039;
        option line_mode &#039;vdsl&#039;
        option annex &#039;a&#039;
        option firmware &#039;/lib/firmware/lantiq-vrx200-a.bin&#039;

config interface &#039;wan&#039;
        option ifname &#039;ptm0&#039;
        option proto &#039;dhcp&#039;
        option delegate &#039;0&#039;
        option ipv6 &#039;0&#039;

config device &#039;wan_dev&#039;
        option name &#039;ptm0&#039;
        option macaddr &#039;YY:YY:YY:YY:YY&#039;

config interface &#039;lan&#039;
        option proto &#039;static&#039;
        option ipaddr &#039;192.168.10.1&#039;
        option netmask &#039;255.255.255.0&#039;
        option ipv6 &#039;0&#039;
        option delegate &#039;0&#039;
        option type &#039;bridge&#039;
        option ifname &#039;eth0.1&#039;
        option stp &#039;1&#039;

config device &#039;lan_dev&#039;
        option name &#039;eth0.1&#039;
        option macaddr &#039;XX:XX:XX:XX:XX&#039;

config switch
        option name &#039;switch0&#039;
        option reset &#039;1&#039;
        option enable_vlan &#039;1&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;1&#039;
        option ports &#039;0 1 2 4 6t&#039;

config switch_vlan
        option device &#039;switch0&#039;
        option vlan &#039;2&#039;
        option ports &#039;5 6t&#039;</code></pre></div><p>With this config, the DSL section in my &quot;Network&quot; -&gt; &quot;Interfaces&quot; is filled, and shows the same data.</p><p>My wireless system is loading the &#039;rt2860.bin&#039; firmware file as well, and is using the &#039;RT3062.eeprom&#039; file for calibration data:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# dmesg | grep ieee80211
[   16.600770] ieee80211 phy0: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;RT3062.eeprom&#039;.
[   16.627412] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 3572, rev 0223 detected
[   16.633802] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 0008 detected
[   16.641357] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   32.341965] ieee80211 phy0: rt2x00lib_request_firmware: Info - Loading firmware file &#039;rt2860.bin&#039;
[   32.721637] ieee80211 phy0: rt2x00lib_request_firmware: Info - Firmware detected - version: 0.40</code></pre></div><p>There&#039;s also a &#039;rt3290.bin&#039; file in my /lib/firmware folder, but I&#039;m not sure how I can configure the rt28xx module to use this firmware file instead.</p><p>On the other hand, I&#039;m not even sure if I should do that. The wireless outages are extremely random. I&#039;d need to pop open the case in order to verify the exact wireless chip that I have. And then I&#039;d need to find the firmware file itself, but I have no idea where to even start looking. I tried unpacking Zyxel&#039;s own firmware archive, but they&#039;re using some special type of compression in the SquashFS partition, so my tools refused to unpack it.</p><p>Come to think of it, I have a USB dongle attached to my desktop computer, and Windows 10 was loading incorrect drivers for this device for quite a while. I replaced the drivers only yesterday. The wireless outages might be caused by a malfunctioning client as well. I&#039;ll need to wait and see if the outages continue.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 22 of 23</div><nav><ul><li><a href="viewtopic.php%3Fid=53511&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=20.html">20</a></li><li><a href="viewtopic.php%3Fid=53511&amp;p=21.html">21</a></li><li class="pagination-current"><span>22</span></li><li><a href="viewtopic.php%3Fid=53511&amp;p=23.html">23</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>