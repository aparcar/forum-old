<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Optimized and feature rich trunk build for select routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 20 Aug 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 132 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=130.html">130</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=131.html">131</a></li><li class="pagination-current"><span>132</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=133.html">133</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=134.html">134</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p311797">
				<div class="post-metadata">
					<div class="post-num">Post #3276</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						17 Feb 2016, 10:31					</div>
				</div>
				<div class="post-content content">
					<p>@lukano</p><p>Read up on extroot.</p><p>@MidGe</p><p>You say you have a real problem, but what are the symptoms? How did you troubleshoot? Is DNS not working? What does your log say? I wouldn&#039;t be so quick to jump to conclusions about dnscrypt when it&#039;s working well for so many others using the same build.</p><p><a href="https://wiki.openwrt.org/doc/uci/dhcp">https://wiki.openwrt.org/doc/uci/dhcp</a></p><p>Start reading, that page tells you everything about how to configure DNS. 127.0.0.1#5300 is dnscrypt, you may change it to any DNS server you like.</p><p>@carpenoctem</p><p>Most likely due to a kernel module, which needs to be installed from the same build as you are running. I build most modules but you need to download them manually, look at the packages directory for your build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311805">
				<div class="post-metadata">
					<div class="post-num">Post #3277</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						17 Feb 2016, 11:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi! I&#039;m running r48717 on Archer C7V2, and I have a crashing dropbear problem. Here&#039;s what I found in dmesg: <br />Wed Feb 17 12:18:04 2016 authpriv.info dropbear[18086]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:18:12 2016 authpriv.info dropbear[18305]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:18:56 2016 authpriv.info dropbear[19181]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:19:01 2016 authpriv.info dropbear[19184]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:19:06 2016 authpriv.info dropbear[19271]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:19:11 2016 authpriv.info dropbear[19272]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:19:16 2016 authpriv.info dropbear[19363]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:19:21 2016 authpriv.info dropbear[19364]: Early exit: Bad buf_getptr<br />Wed Feb 17 12:19:21 2016 daemon.info procd: Instance dropbear::instance1 s in a crash loop 6 crashes, 0 seconds since last crash<br />Could you please help me with that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311818">
				<div class="post-metadata">
					<div class="post-num">Post #3278</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						17 Feb 2016, 13:05					</div>
				</div>
				<div class="post-content content">
					<p>Is that on a clean flash? Sounds like the host key hasn&#039;t been generated yet. Look at /etc/dropbear.</p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 17 Feb 2016, 13:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311828">
				<div class="post-metadata">
					<div class="post-num">Post #3279</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						17 Feb 2016, 16:20					</div>
				</div>
				<div class="post-content content">
					<p>Is there a way to generate it via web ui? I can put a command to startup script and reboot, for example. I kept my config when flashing, and expected some weird stuff to happen, but everything works just fine - so I wanted to save it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311833">
				<div class="post-metadata">
					<div class="post-num">Post #3280</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						17 Feb 2016, 17:00					</div>
				</div>
				<div class="post-content content">
					<p>It looks like I have some keys there. ls /etc/dropbear : </p><p>Wed Feb 17 17:56:17 2016 user.notice : authorized_keys<br />Wed Feb 17 17:56:17 2016 user.notice : dropbear_dss_host_key<br />Wed Feb 17 17:56:17 2016 user.notice : dropbear_ecdsa_host_key<br />Wed Feb 17 17:56:17 2016 user.notice : dropbear_rsa_host_key</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311838">
				<div class="post-metadata">
					<div class="post-num">Post #3281</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						17 Feb 2016, 17:25					</div>
				</div>
				<div class="post-content content">
					<p>Use -l so I can see the size.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311842">
				<div class="post-metadata">
					<div class="post-num">Post #3282</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						17 Feb 2016, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>Sorry. And sorry for the formatting - I don&#039;t have a better idea how to run something instead of putting into startup and rebooting.</p><p>Wed Feb 17 18:49:08 2016 user.notice : -rw-------&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;381 Feb 17 12:51 authorized_keys<br />Wed Feb 17 18:49:08 2016 user.notice : -rw-------&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;458 Mar 30&nbsp; 2015 dropbear_dss_host_key<br />Wed Feb 17 18:49:08 2016 user.notice : -rw-r--r--&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 Feb 12 22:55 dropbear_ecdsa_host_key<br />Wed Feb 17 18:49:08 2016 user.notice : -rw-------&nbsp; &nbsp; 1 root&nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;805 Mar 30&nbsp; 2015 dropbear_rsa_host_key</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311844">
				<div class="post-metadata">
					<div class="post-num">Post #3283</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						17 Feb 2016, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>And there&#039;s your problem, the ecdsa host key file exists but has size 0. Either remove it or generate a proper key.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311879">
				<div class="post-metadata">
					<div class="post-num">Post #3284</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						17 Feb 2016, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>Great, thanks for help! To whom it may concern - I put &quot;rm -f /etc/dropbear/dropbear_ecdsa_host_key&quot; to startup and rebooted.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311899">
				<div class="post-metadata">
					<div class="post-num">Post #3285</div>
					<div class="post-author">lukano</div>
					<div class="post-datetime">
						17 Feb 2016, 23:20					</div>
				</div>
				<div class="post-content content">
					<p>9teen, as opposed to putting commands in your startup and rebooting, use something like putty (or ssh from a command line in osx or linux or what-have-you) to your router&#039;s address.&nbsp; Username is &#039;root&#039; and password is your webadmin gui password.</p><p>You can then run the commands from the command line interface / shell, and save yourself having to reboot, not to mention the risk of forgetting to take something out of your startup that can muck things up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311943">
				<div class="post-metadata">
					<div class="post-num">Post #3286</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						18 Feb 2016, 08:20					</div>
				</div>
				<div class="post-content content">
					<p>He did that because there was no way to ssh in <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311977">
				<div class="post-metadata">
					<div class="post-num">Post #3287</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						18 Feb 2016, 15:09					</div>
				</div>
				<div class="post-content content">
					<p>One more question - I can&#039;t install package kmod-nf-nathelper-extra (for gre pass-through), it fails with segmentation fault on configure. I used openwrt trunk repo for packages - it seems to me that kernel version is equal on both of releases (4.1.16-1), so I didn&#039;t expect that. What could be the problem? <br />The second question - I don&#039;t want to ask you to include that package in all builds, so I&#039;d like to build my fw by myself. Do you have a github repo? I would like to fork it and push my changes, to be able to stay close to the upstream source.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311978">
				<div class="post-metadata">
					<div class="post-num">Post #3288</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						18 Feb 2016, 15:20					</div>
				</div>
				<div class="post-content content">
					<p>Only install kernel modules from the same build. Sorry, no github repo as of yet. I&#039;ll build that module for the next build though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311979">
				<div class="post-metadata">
					<div class="post-num">Post #3289</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						18 Feb 2016, 15:27					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s really nice, thanks! Still, I hope you&#039;ll find some time to push your code to github - I would be pleased to star that repo <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Openwrt has a github mirror <a href="https://github.com/openwrt/openwrt">https://github.com/openwrt/openwrt</a> - so you can fork it to start.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311982">
				<div class="post-metadata">
					<div class="post-num">Post #3290</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						18 Feb 2016, 15:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>And there&#039;s your problem, the ecdsa host key file exists but has size 0. Either remove it or generate a proper key.</p></blockquote></div><p>My two cents to the discussion:<br />@arokh, <br />is the ecdsa key verification routine ok?<br />This line looks suspicious to me in <a href="http://luci.subsignal.org/~trondah/diff/r48132/openwrt.diff">http://luci.subsignal.org/~trondah/diff … enwrt.diff</a><br /></p><div class="codebox"><pre><code>@@ -108,7 +108,7 @@ keygen()
...
-    [ -s /etc/dropbear/dropbear_rsa_host_key ] || keygen
+    [ -s /etc/dropbear/dropbear_rsa_host_key -o -s /etc/dropbear/dropbear_rsa_host_key ] || keygen</code></pre></div><p>Should the second one be ..._ecdsa_host_key instead of _rsa_ ?<br />Currently there are two identical checks for _rsa_ key file length...</p><p>I think that this may lead into a failing &quot;check for key exists and file length is longer than 0&quot; and does not trigger the keygen like it should.&nbsp; (inside the &quot;keygen&quot; the second check seems ok, but the initial check to trigger the keygen function fails.)</p><p>I guess the 9teen90nine has brought his config (including the rsa key) from a different build and the _ecdsa_ key is not used there.<br />A failing check for empty _ecdsa_ key here leads into the lockup, as the expected keygen never starts.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 18 Feb 2016, 15:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311987">
				<div class="post-metadata">
					<div class="post-num">Post #3291</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						18 Feb 2016, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>Looks like my diffs haven&#039;t been put in the correct dir, fixed that. Here&#039;s how it looks in r48717:</p><div class="codebox"><pre><code>--- a/package/network/services/dropbear/files/dropbear.init
+++ b/package/network/services/dropbear/files/dropbear.init
@@ -85,7 +85,7 @@ dropbear_instance()

 keygen()
 {
-       for keytype in rsa; do
+       for keytype in rsa ecdsa; do
                # check for keys
                key=dropbear/dropbear_${keytype}_host_key
                [ -f /tmp/$key -o -s /etc/$key ] || {
@@ -108,7 +108,7 @@ keygen()

 start_service()
 {
-       [ -s /etc/dropbear/dropbear_rsa_host_key ] || keygen
+       [ -s /etc/dropbear/dropbear_rsa_host_key -o -s /etc/dropbear/dropbear_ecdsa_host_key ] || keygen

        . /lib/functions.sh
        . /lib/functions/network.sh</code></pre></div><p>This should work, and it does for me. There has been a few reports about broken ssh though (I think only for the wrt1200 which is odd), so I guess there could be some condition where it&#039;s not being generated properly. If he upgraded from a build that didn&#039;t have ecdsa, it should have been generated when the initscript checks for a larger than 0 file.</p><p>Thanks for the input.</p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 18 Feb 2016, 16:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311993">
				<div class="post-metadata">
					<div class="post-num">Post #3292</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						18 Feb 2016, 17:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>Looks like my diffs haven&#039;t been put in the correct dir, fixed that. Here&#039;s how it looks in r48717:<br /></p><div class="codebox"><pre><code>+       [ -s /etc/dropbear/dropbear_rsa_host_key -o -s /etc/dropbear/dropbear_ecdsa_host_key ] || keygen</code></pre></div><p>This should work, and it does for me.</p></blockquote></div><p>Looking even more closer to the code, I think that the second problem is &quot;-o&quot; instead of &quot;-a&quot;. -o leads into it being enough that the rsa key has &gt;0 length, thus &quot;-a&quot; is needed to ensure that both keys have &gt;0 lengths. (My guess is that dropbear prefers ecdsa key (?) and finding a file tries to use it and fails.)</p><p>Looking back into history, it used to be &quot;-a&quot; when there still were dss keys, until <a href="https://dev.openwrt.org/changeset/46815/">https://dev.openwrt.org/changeset/46815/</a></p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 18 Feb 2016, 17:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311995">
				<div class="post-metadata">
					<div class="post-num">Post #3293</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						18 Feb 2016, 17:02					</div>
				</div>
				<div class="post-content content">
					<p>My config is from 15.05 stable clean installation. Then I have upgraded to trunk (it looks to me that the trunk builds are stuck since the one I used is still latest available and its timestamp is 8-feb-2016). I could not get 5Ghz wifi working on trunk as the ath10k driver kept crashing. I wanted to give this build a try and I got working wifi out of the box, and it works much better than on 15.05 stable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p311999">
				<div class="post-metadata">
					<div class="post-num">Post #3294</div>
					<div class="post-author">carpenoctem</div>
					<div class="post-datetime">
						18 Feb 2016, 17:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>arokh wrote:</cite><blockquote><p>@carpenoctem</p><p>Most likely due to a kernel module, which needs to be installed from the same build as you are running. I build most modules but you need to download them manually, look at the packages directory for your build.</p></blockquote></div><p>Thanks for the reply Arokh.</p><p>When I try to download the package, this is the message I get:</p><div class="codebox"><pre><code>root@FRODO ~# opkg install http://luci.subsignal.org/~trondah/wndr3x00_800mhz/r48479/packages/kernel/kmod-ipt-geoip_4.1.15%2b2.10-1_ar71xx.ipk
Downloading http://luci.subsignal.org/~trondah/wndr3x00_800mhz/r48479/packages/kernel/kmod-ipt-geoip_4.1.15%2b2.10-1_ar71xx.ipk.
Installing kmod-ipt-geoip (4.1.16+2.10-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/packages/kernel/kmod-ipt-geoip_4.1.16+2.10-1_ar71xx.ipk.
Multiple packages (kmod-ipt-core and kmod-ipt-core) providing same name marked HOLD or PREFER. Using latest.
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-ipt-geoip:
 *      kernel (= 4.1.16-1-b7e8bc5d3fd4ea7d6943eeb98973740b) *
 * opkg_install_cmd: Cannot install package kmod-ipt-geoip.</code></pre></div><p>Bear in mind this is my first time delving this deep into the build&#039;s core, but I&#039;m really invested in adding GeoLocation to my router. Any pointers you could give me or resources where I can learn how to do this, will be much appreciated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312000">
				<div class="post-metadata">
					<div class="post-num">Post #3295</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						18 Feb 2016, 17:51					</div>
				</div>
				<div class="post-content content">
					<p>It looks like you&#039;re trying to install a package from another build. What build are you running now? You can find it on status page.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312001">
				<div class="post-metadata">
					<div class="post-num">Post #3296</div>
					<div class="post-author">carpenoctem</div>
					<div class="post-datetime">
						18 Feb 2016, 17:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>9teen90nine wrote:</cite><blockquote><p>It looks like you&#039;re trying to install a package from another build. What build are you running now? You can find it on status page.</p></blockquote></div><p>I&#039;m running OpenWrt Designated Driver r48479&nbsp; and I&#039;m trying to install the iptables-mod-geoip. Any help you can provide so I can learn how to do it is appreciated.</p><p>PS: Something tells me that I might be better off building my own image with this modules included. Arokh, correct me if I&#039;m wrong, and if that&#039;s the case, I can use your build and add to it with your permission, right?</p>											<p class="post-edited">(Last edited by <strong>carpenoctem</strong> on 18 Feb 2016, 18:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312096">
				<div class="post-metadata">
					<div class="post-num">Post #3297</div>
					<div class="post-author">pankiewiczpower</div>
					<div class="post-datetime">
						19 Feb 2016, 05:50					</div>
				</div>
				<div class="post-content content">
					<p>Will this firmware allow me to restrict bandwidth on WIFI users from within the GUI?&nbsp; I have zero experience with WRT, I haven&#039;t even installed it on my WRT1900ACS as I am still uncertain if it will give me the control I need WITHOUT a command prompt</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312098">
				<div class="post-metadata">
					<div class="post-num">Post #3298</div>
					<div class="post-author">JW0914</div>
					<div class="post-datetime">
						19 Feb 2016, 05:54					</div>
				</div>
				<div class="post-content content">
					<p>You should be able to do so via qos, however I&#039;ve only been using sqm for a few days and am not sure how to configure it for this specifically.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312103">
				<div class="post-metadata">
					<div class="post-num">Post #3299</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						19 Feb 2016, 08:43					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman</p><p>Yes, you are right. Going over the logic again -a makes a lot more sense <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Thanks for pointing this out!</p><p>@carpenoctem</p><p>I could install on my router:</p><div class="codebox"><pre><code>root@OpenWrt tmp# opkg install kmod-ipt-geoip_4.4.1\+2.10-1_mpc85xx.ipk
Installing kmod-ipt-geoip (4.4.1+2.10-1) to root...
Multiple packages (kmod-ipt-core and kmod-ipt-core) providing same name marked HOLD or PREFER. Using latest.
Configuring kmod-ipt-geoip.</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p312115">
				<div class="post-metadata">
					<div class="post-num">Post #3300</div>
					<div class="post-author">9teen90nine</div>
					<div class="post-datetime">
						19 Feb 2016, 11:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>carpenoctem wrote:</cite><blockquote><div class="quotebox"><cite>9teen90nine wrote:</cite><blockquote><p>It looks like you&#039;re trying to install a package from another build. What build are you running now? You can find it on status page.</p></blockquote></div><p>I&#039;m running OpenWrt Designated Driver r48479&nbsp; and I&#039;m trying to install the iptables-mod-geoip. Any help you can provide so I can learn how to do it is appreciated.</p><p>PS: Something tells me that I might be better off building my own image with this modules included. Arokh, correct me if I&#039;m wrong, and if that&#039;s the case, I can use your build and add to it with your permission, right?</p></blockquote></div><p>You have multiple packages installed:<br />&nbsp; --&nbsp; Multiple packages (kmod-ipt-core and kmod-ipt-core) providing same name marked HOLD or PREFER. Using latest.<br />That&#039;s because you have openwrt trunk package sources in opkg config:<br />&nbsp; --&nbsp; Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/packages/kernel/kmod-ipt-geoip_4.1.16+2.10-1_ar71xx.ipk.">http://downloads.openwrt.org/snapshots/ … r71xx.ipk.</a><br />It looks like opkg found more recent version there. I don&#039;t really know is it safe to remove kmod-ipt-core package, but you should remove and reinstall it from arokh&#039;s repo and install geoip package.</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 3301 to 3300 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 132 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=130.html">130</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=131.html">131</a></li><li class="pagination-current"><span>132</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=133.html">133</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=134.html">134</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>