<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> when i call mydomain.dyndns.org, i hit the openwrt router web GUI.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p52545">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">starock</div>
					<div class="post-datetime">
						19 Jul 2007, 17:34					</div>
				</div>
				<div class="post-content content">
					<p>I all!<br />First i aplologize for my very bad english :-\ ,i&#039;m a little froggy...<br />But after days in unsuccessful researches about my problem, i have to ask Professionnals :-D<br />Well, i have a linksys asdl2mue modem connected to a wrt54gl (openwrt powered ;-) ) and i succribed to dyndns services. I configured openwrt, and it seem to redirect well BUT when i call mydomain.dyndns.org in a browser, i get the login window of openwrt.<br />So i run an nmap command from my station to my public IP and it give my that!<br />&quot;confidential blabla&quot;<br />Not shown: 1693 closed ports<br />PORT&nbsp; &nbsp; &nbsp;STATE SERVICE<br />22/tcp&nbsp; &nbsp;open&nbsp; ssh<br />53/tcp&nbsp; &nbsp;open&nbsp; domain<br />80/tcp&nbsp; &nbsp;open&nbsp; http<br />5000/tcp open&nbsp; UPnP</p><p>What a surprise!<br />I decided to go to the X-wrt web gui in &quot;Status&quot;&gt;&gt;&quot;Netstat&quot; and it shows me that:</p><p>Router Listening Ports</p><p>Active Internet connections (only servers)<br />Proto Recv-Q Send-Q Local Address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Foreign Address&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;State<br />tcp&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0 0.0.0.0:5000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0:*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LISTEN&nbsp; &nbsp; &nbsp; <br />tcp&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0 0.0.0.0:80&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0:*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LISTEN&nbsp; &nbsp; &nbsp; <br />tcp&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0 0.0.0.0:53&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0:*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LISTEN&nbsp; &nbsp; &nbsp; <br />tcp&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; 0 0.0.0.0:22&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0.0.0.0:*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LISTEN&nbsp; &nbsp;</p><p>Well the router is listening on http(80), ssh(22), upnp(5000) and domain port(53)!!!<br />It seems that dyndns redirect to my private address not to my public address.</p><p>Is there anyone who can help me?</p><p>For now i disabled dyndns but i need it! :-(</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52548">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">chadin</div>
					<div class="post-datetime">
						19 Jul 2007, 19:36					</div>
				</div>
				<div class="post-content content">
					<p>Hi friend. I was reading your message and your problem<br />is my solution. Im trying to access my router outside from my<br />lan, but i just cant. I forwarded the port 22 and i got ssh access<br />otherwise the web access doesnt work. Can you help <br />me on how to do that? I already forwarded the ports<br />80 22 on the modem to the router. <br />Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52552">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">starock</div>
					<div class="post-datetime">
						19 Jul 2007, 20:19					</div>
				</div>
				<div class="post-content content">
					<p>Wel it&#039;s weird :-D , the problem is that i just configure the router and there it is. Ask me for specific settings and i shall give mines.<br />But i can&#039;t explain how i succeded...<br />I&#039;m looking for explanations about vlans, i suppose it&#039;s part of my problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52553">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">noelbou</div>
					<div class="post-datetime">
						19 Jul 2007, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>To allow access to your openWRT system from the &quot;outside&quot; you have<br />to add an accept entry to your firewall ...</p><p>Add: Accept<br />Add Proto : TCP<br />Add Dest Port 80</p><p>But it is obviously a very bad idea to leave your system HTTP interface open on the internet ... <br />even if it is password protected. Much better is to use SSH / port 22 with a RSA key <br />(<a href="http://wiki.openwrt.org/DropbearPublicKeyAuthenticationHowto?highlight=%28HowTo%29">http://wiki.openwrt.org/DropbearPublicK … 28HowTo%29</a>)<br />and open the HTTP interface only when needed by doing this:</p><p>Add this line to the file /etc/config/firewall</p><p>accept:proto=tcp dport=80</p><p>and restart the firewall</p><p>/etc/init.d/S35firewall restart</p><p>and closing it after (remove the added line and run firewall restart again)</p><p>Here is a script to make it easier:</p><p>+----------------------+<br />#!/bin/sh</p><p>open(){<br />echo &#039;accept:proto=tcp dport=80&#039; &gt;&gt; /etc/config/firewall<br />/etc/init.d/S35firewall<br />}</p><p>close(){<br />cat /etc/config/firewall | grep -v &quot;dport=80&quot; &gt; /etc/config/firewall.tmp<br />rm /etc/config/firewall<br />mv /etc/config/firewall.tmp /etc/config/firewall<br />/etc/init.d/S35firewall<br />}</p><p>case &quot;$1&quot; in<br />&nbsp; open)<br />&nbsp; &nbsp; &nbsp; &nbsp; open<br />&nbsp; &nbsp; &nbsp; &nbsp; ;;<br />&nbsp; close)<br />&nbsp; &nbsp; &nbsp; &nbsp; close<br />&nbsp; &nbsp; &nbsp; &nbsp; ;;<br />&nbsp; *)<br />&nbsp; &nbsp; &nbsp; &nbsp; echo $&quot;Usage: $0 {open|close}&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; exit 1<br />esac</p><p>exit $?<br />+---------------------------+<br />Name it /bin/&lt;something&gt;.sh <br />chmod +x &lt;something&gt;.sh&nbsp; </p><p>and use it with open or close as argument.<br />Ex: /bin/webface.sh open<br />/bin/webface.sh close</p><p>So chadin, check Network / Firewall and make sure port 80 is not listed&nbsp; ..<br />If so delete the entry ... </p><p>It could also have been &quot;hard coded&quot; in the /etc/firewall.user file </p><p>Hope this helps ...</p><p>BTW Je parle Français, alors n&#039;hesitez pas ;-)</p><p>Noel <br />Montreal</p>											<p class="post-edited">(Last edited by <strong>noelbou</strong> on 19 Jul 2007, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52556">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">chadin</div>
					<div class="post-datetime">
						19 Jul 2007, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>noelbou thanks for atention. Look i already tried to do this.<br />but no using /etc/config/firewall I changed the rules in /etc/firewall.user<br />in the forward wan option. My friend have total acess to SSH but doesnt<br />to the webif. I triend the configuration you told me... but continued <br />in the same way. You know how to configure DDNS?? I already have<br />a ddns server here my page is <a href="http://timetek.dipmap.com">http://timetek.dipmap.com</a>. How can I<br />configure this page to redirect to my linksys like our friend did??<br />Any ideia?? <br />Thanksssssss</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52558">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">chadin</div>
					<div class="post-datetime">
						19 Jul 2007, 21:30					</div>
				</div>
				<div class="post-content content">
					<p>Look noelbu I do have a D-link adsl modem. And from it goes a cable to my router WRT54GL in the wan port. I have the ddns server that works like the program no-ip save the ip in my url. When I do try to acess <a href="http://timeteck.dipmap.com">http://timeteck.dipmap.com</a> via ssh it works. But when&nbsp; type it in the brower I cant acess the webif, and I allready tried all that modifications that I told you.</p>											<p class="post-edited">(Last edited by <strong>chadin</strong> on 19 Jul 2007, 21:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52559">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">starock</div>
					<div class="post-datetime">
						19 Jul 2007, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>Well some news from myself.<br />i was stonished by the result of nmap so i runned other tests in order to verify the efficiency of wrt&#039;s firewall.<br />I found this online util ( <a href="https://www.grc.com/x/ne.dll?bh0bkyd2">https://www.grc.com/x/ne.dll?bh0bkyd2</a> ) and the result is... THERE&#039;S NO HOLE AT ALL!!!<br />I suppose that nmap do noy go outside of my network so it find the open port on local area, it explains the fact that when i call mydomain.dyndns.org my browser displays the wrt54g&#039;s web gui.<br />Next Move: ask a friend to hit mydomain.dyndns.org from outside of my local network but i&#039;m quite sure about the result...<br />There will have nothing...<br />Sorry guys, but i can&#039;t help you about accessing wrt54g from the outside. But i think it&#039;s dangerous, i agree noelbou. Use SSH!<br />You can run graphics apps with -X option if i remember well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52584">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Grimson</div>
					<div class="post-datetime">
						20 Jul 2007, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>See number 3: <a href="http://forum.openwrt.org/viewtopic.php?id=3474">http://forum.openwrt.org/viewtopic.php?id=3474</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>