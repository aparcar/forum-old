<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> getting openssh-sftp server to work; how-to</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p10168">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						30 Jul 2005, 15:03					</div>
				</div>
				<div class="post-content content">
					<p>Modify the S50sshd script (./package/openssh/files/S50sshd) that ends up in /etc/init.d/ such that the names of the keys are: <br />ssh_host_rsa_key&nbsp; &nbsp; &nbsp;and&nbsp; &nbsp; &nbsp; &nbsp;ssh_host_dsa_key. <br />The original script swaps the position of host and rsa/dsa in the name.</p><p>In /etc/ssh/sshd_config (rename the link and copy it to a writable sshd_config) uncomment the option UsePrivilegeSeparation and set it to no.<br />After that no need to install dropbear as ssh and sftp both are taken care of by sshd. This sshd_config shows up in many places in the package source files. As Linux&amp;C&amp;CVS newbie not certain where to change this so have done it in the working wrt54g. Also rather leave committing changes to the experts. </p><p>Noticed something peculiar. Just in menuconfig under Openssh selecting the servers and not the clients produces code that makes my WRT54G v2 unstable; Every few seconds the unit resets. Selecting bot clients and servers under Openssh gives working code.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>