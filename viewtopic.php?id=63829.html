<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for TP-Link TL-WR810N?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 25 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p317578">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">TOMillr</div>
					<div class="post-datetime">
						31 Mar 2016, 18:29					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m currently looking for a small travel router with a build-in power supply. The TP-Link TL-WR810N would be a nice device:</p><p><a href="http://www.tp-link.com/en/products/details/cat-9_TL-WR810N.html">http://www.tp-link.com/en/products/deta … R810N.html</a></p><p>Any chance of getting OpenWrt to run on this device? It basically looks like a &quot;WR710 + mimo support&quot; to me...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318015">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">TOMillr</div>
					<div class="post-datetime">
						3 Apr 2016, 20:17					</div>
				</div>
				<div class="post-content content">
					<p>Looks like the specs for this device are as follows:</p><p>CPU: 560 MHz Qualcomm Atheros QCA9531-BL3A<br />RAM: 64 MB Zentel A3R12E40CBF-8E<br />Flash: 8 MB</p>											<p class="post-edited">(Last edited by <strong>TOMillr</strong> on 3 Apr 2016, 20:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318031">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						3 Apr 2016, 21:43					</div>
				</div>
				<div class="post-content content">
					<p>Look here:<br /><a href="https://wiki.openwrt.org/toh/views/toh_extended_all?dataflt">https://wiki.openwrt.org/toh/views/toh_ … ll?dataflt</a>[Device+Type*~]=travel</p><p>Do you mean battery as opposed to power supply?&nbsp; I found the ones which plug in the wall to be very restrictive, but to each his own.&nbsp; I think a usb cable into a battery or PC is generally more accessible.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318093">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">TOMillr</div>
					<div class="post-datetime">
						4 Apr 2016, 12:53					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, my description of a &quot;small travel router&quot; might have been somewhat misleading.</p><p>I&#039;m&nbsp; looking for a small router I can just plug right into a wall socket. That&#039;s why I was looking into the TP-Link WR710 and 810. </p><p>Since the 710 is already supported and uses similar hardware as the TP-Link WR841NDv9, I was hoping that there is an OpenWRT build for the 810 as well.</p><p><a href="https://fccid.io/pdf.php?id=2892948">https://fccid.io/pdf.php?id=2892948</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318158">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Borromini</div>
					<div class="post-datetime">
						4 Apr 2016, 21:53					</div>
				</div>
				<div class="post-content content">
					<p>The question is: how similar? If it&#039;s just a few bits they flipped in the header, support can be added quite easily.</p><p>I e.g. added support for the TL-WR841N v11 into OpenWrt based on people reporting it was almost identical to the v10 revision except for the flash chip. But you need people to test (and willing to potentially hose their installation <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> ).</p><p>Edit: it&#039;s 2 LAN ports etc. so it will involve more configuration than just what I did for the 841N v10 -&gt; v11.</p>											<p class="post-edited">(Last edited by <strong>Borromini</strong> on 5 Apr 2016, 00:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318168">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">xiberger</div>
					<div class="post-datetime">
						4 Apr 2016, 23:28					</div>
				</div>
				<div class="post-content content">
					<p>I own this device, took it apart over the last few days and documented my findings on the <a href="https://wiki.openwrt.org/toh/tp-link/tl-wr810n">wiki page</a>. If that&#039;s enough for some experienced developer to come up with an image, I could test if it works.</p><p>Otherwise I&#039;d try to add support on my own, but I have some questions first:<br /></p><ul><li><p>My current idea is to take a look at what was needed <a href="https://git.openwrt.org/?p=openwrt.git;a=commit;h=2815d617526779f59e01c87d59378eaf0eccc040">to support</a> the TL-WR841ND v9/v10/v11 (because that&#039;s the most similar supported device I could find) and at the TL-WR710N and come up with a new platform based on these findings. Does this sound like a promising approach?<br /></p></li><li><p>Where should the changes be based on? On git.openwrt.org/openwrt.git or on git.openwrt.org/15.05/openwrt.git? The use of git by the OpenWrt project seems to be... rather unorthodox. Or is SVN still to tool to use? (All the commits in git still show a git-svn-id.)<br /></p></li><li><p>Is it possible to boot a kernel from RAM without flashing on AR93xx/QCA953x based devices? All the instructions I can find tell to flash an image first (tftpboot, erase, cp, boot). If I try to boot the kernel I dumped out of the flash chip directly from RAM, it fails:</p></li></ul><div class="codebox"><pre><code>&gt; tftp 0x80060000 kernel.bin
...
&gt; bootm 0x80060000
## Booting image at 80060000 ...
   Uncompressing Kernel Image ... ERROR: LzmaDecode.c, 543

Decoding error = 1
LZMA ERROR 1 - must RESET board to recover</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318170">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Borromini</div>
					<div class="post-datetime">
						4 Apr 2016, 23:48					</div>
				</div>
				<div class="post-content content">
					<p>I think that is a sound approach (but I am no embedded developer, so...). Changes should be based on trunk either way, you can also send a patch for 15.05 upstream but trunk is what you need to aim for. Only after that&#039;s been accepted it makes sense to also send one in for the stable branch.</p><p>Git is recommended (also use git send-email to send your patches to the mailing list).</p><p>The wiki has <a href="https://wiki.openwrt.org/doc/howto/generic.flashing#install_a_ramdisk-image_into_main_memory">instructions</a> on how to boot a ramdisk image. should work on ar71xx as well it seems. However the instructions talk about the WNDR3700 so I don&#039;t know how to proceed further.</p><p>When googling I see some links pointing to an image like this though, to boot from RAM:</p><p><a href="https://downloads.openwrt.org/chaos_calmer/15.05.1/ar71xx/generic/openwrt-15.05.1-ar71xx-generic-uImage-lzma.bin">https://downloads.openwrt.org/chaos_cal … e-lzma.bin</a></p><p>Maybe that helps?</p>											<p class="post-edited">(Last edited by <strong>Borromini</strong> on 4 Apr 2016, 23:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318184">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						5 Apr 2016, 01:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>TOMillr wrote:</cite><blockquote><p>CPU: 560 MHz Qualcomm Atheros QCA9531-BL3A</p></blockquote></div><p>Search for devices with the same SoC:</p><div class="codebox"><pre><code>https://wiki.openwrt.org/toh/views/toh_dev_platforms?dataflt[Platform*~]=9531</code></pre></div><p>-&gt; WPJ531 listed as supported by 15.05</p><p>Wouldn&#039;t that be a good starting point?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p318756">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">xiberger</div>
					<div class="post-datetime">
						8 Apr 2016, 19:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tmo26 wrote:</cite><blockquote><p>-&gt; WPJ531 listed as supported by 15.05</p><p>Wouldn&#039;t that be a good starting point?</p></blockquote></div><p>Thanks, looking at the WPJ531 was of great help.</p><p>The changes I made can be found <a href="https://github.com/JenSte/openwrt/commit/12d51fe71b6c44d4404124dc437f47f1a61942c3">here</a>. Wifi and USB work, and I think I&#039;ve figured out all the GPIOs that are used on this board. What&#039;s not yet working are the wired ethernet ports, the interfaces show up with the correct MAC addresses, I get &quot;ethX: link up/down&quot; messages when I plug in/unplug the ethernet cable, but no traffic goes through. I suspect the values for ath79_eth[01]_data.phy_mask in tl_wr810n_setup() are wrong, does anyone know how to figure out the correct values?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322513">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">leocratus</div>
					<div class="post-datetime">
						4 May 2016, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,<br />i spotted that dd trunk for wr810n is ready.<br />During my search i have noticed that there are two revisions of hardware for this device: v1.1 and v2.<br />Can anyone tell me what are the differences between those two?<br />Thank you in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322534">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">xiberger</div>
					<div class="post-datetime">
						4 May 2016, 17:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>leocratus wrote:</cite><blockquote><p>i spotted that dd trunk for wr810n is ready.</p></blockquote></div><p>Yes, the patch got merged a few days ago. I just added the links to the firmware images to the techdata page, and it seems that this broke the autogenerated table on the device page (duplicate/wrong rows). Does anyone here know how this &quot;magic&quot; wiki stuff works, and how to fix that?</p><div class="quotebox"><cite>leocratus wrote:</cite><blockquote><p>During my search i have noticed that there are two revisions of hardware for this device: v1.1 and v2.</p></blockquote></div><p>Is v2 already available to buy? All I could find is that it&#039;s mentioned on the manufacturer support page, but they haven&#039;t posted their source code and firmware images yet as they did for v1.1.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322535">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">leocratus</div>
					<div class="post-datetime">
						4 May 2016, 18:13					</div>
				</div>
				<div class="post-content content">
					<p>Well i called their support (Poland).<br />They were no 100% sure they are delivering only v1.1 to EU stores. They also could say nothing about hardware config.<br />So i called some retailers to get any information about availability.<br />And here is the trick: they sad that many people are asking about revision number and they have both of them with random shipping - and that actually killed me.</p><p>Two questions:</p><p>So u said this is &quot;not working&quot; trash? (<a href="https://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr810n-squashfs-factory.bin">https://downloads.openwrt.org/snapshots … actory.bin</a>) - look at the time and date please (04-May-2016 06:37)</p><p>Can u tell me or find out what kind of hardware in v2 is?</p><p>Best regards</p>											<p class="post-edited">(Last edited by <strong>leocratus</strong> on 4 May 2016, 18:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322656">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">xiberger</div>
					<div class="post-datetime">
						5 May 2016, 17:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>leocratus wrote:</cite><blockquote><p>So u said this is &quot;not working&quot; trash? (<a href="https://downloads.openwrt.org/snapshots/trunk/ar71xx/generic/openwrt-ar71xx-generic-tl-wr810n-squashfs-factory.bin">https://downloads.openwrt.org/snapshots … actory.bin</a>) - look at the time and date please (04-May-2016 06:37)</p></blockquote></div><p>The image is working just fine on 1.1 hardware.</p><div class="quotebox"><cite>leocratus wrote:</cite><blockquote><p>Can u tell me or find out what kind of hardware in v2 is?</p></blockquote></div><p>Someone would have to get his hands onto one of the v2 devices and take it apart to say for sure what&#039;s inside.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328563">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">TOMillr</div>
					<div class="post-datetime">
						15 Jun 2016, 14:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xiberger wrote:</cite><blockquote><p>What&#039;s not yet working are the wired ethernet ports, the interfaces show up with the correct MAC addresses, I get &quot;ethX: link up/down&quot; messages when I plug in/unplug the ethernet cable, but no traffic goes through.</p></blockquote></div><p>Is this still a problem? I was looking to turn a WR810 into a small wifi bridge, so I&#039;d need the ethernet port to work.</p><div class="quotebox"><cite>xiberger wrote:</cite><blockquote><p>The image is working just fine on 1.1 hardware.</p></blockquote></div><p>How about OpenVPN? Does this work with the device as well?</p>											<p class="post-edited">(Last edited by <strong>TOMillr</strong> on 15 Jun 2016, 14:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p328618">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">xiberger</div>
					<div class="post-datetime">
						15 Jun 2016, 19:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>TOMillr wrote:</cite><blockquote><div class="quotebox"><cite>xiberger wrote:</cite><blockquote><p>What&#039;s not yet working are the wired ethernet ports, the interfaces show up with the correct MAC addresses, I get &quot;ethX: link up/down&quot; messages when I plug in/unplug the ethernet cable, but no traffic goes through.</p></blockquote></div><p>Is this still a problem? I was looking to turn a WR810 into a small wifi bridge, so I&#039;d need the ethernet port to work.</p></blockquote></div><p>That&#039;s solved, ethernet is working fine.<br /></p><div class="quotebox"><cite>TOMillr wrote:</cite><blockquote><div class="quotebox"><cite>xiberger wrote:</cite><blockquote><p>The image is working just fine on 1.1 hardware.</p></blockquote></div><p>How about OpenVPN? Does this work with the device as well?</p></blockquote></div><p>Haven&#039;t tried OpenVPN, but I don&#039;t see a reason why it shouldn&#039;t work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335724">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">anarchy99</div>
					<div class="post-datetime">
						23 Aug 2016, 22:05					</div>
				</div>
				<div class="post-content content">
					<p>hi</p><p>patch contain TL_WR810N_WMAC_CALDATA_OFFSET&nbsp; &nbsp; 0x1000</p><p>someone can clarify, this offset in flash or something else?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p350270">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">didme</div>
					<div class="post-datetime">
						26 Jan 2017, 10:48					</div>
				</div>
				<div class="post-content content">
					<p>can openwrt make this tp810 3g/4g router? device has usb, is it posibble?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360180">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">TOMillr</div>
					<div class="post-datetime">
						11 Jun 2017, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>Anyone tried to run this device as an OpenVPN-enabled ethernet bridge yet? Is there a compatible OpenWRT build for the device I can just download and flash?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360181">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						11 Jun 2017, 22:43					</div>
				</div>
				<div class="post-content content">
					<p>Trunk images are available: <a href="https://wiki.openwrt.org/toh/views/toh_fwdownload?dataflt%5BModel*%7E%5D=810n">https://wiki.openwrt.org/toh/views/toh_ … 7E%5D=810n</a></p><p>Alternatively LEDE: <a href="https://lede-project.org/toh/views/toh_fwdownload?dataflt%5BModel*%7E%5D=810n">https://lede-project.org/toh/views/toh_ … 7E%5D=810n</a></p>											<p class="post-edited">(Last edited by <strong>tmo26</strong> on 11 Jun 2017, 22:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p360264">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">nd</div>
					<div class="post-datetime">
						13 Jun 2017, 03:39					</div>
				</div>
				<div class="post-content content">
					<p>I have my hands on a v2 which unfortunately isn&#039;t taking any of the images I&#039;ve tried (OpenWRT, LEDE, DD-WRT).</p><p>Let me know if there is any way I can help someone in creating an image with a modified header which the stock web firmware upgrade process will take.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p362493">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">mostyk</div>
					<div class="post-datetime">
						23 Jul 2017, 15:47					</div>
				</div>
				<div class="post-content content">
					<p>hi all,<br />is there a solution for the v2 ?<br />thanks !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p369577">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">funkyberlin</div>
					<div class="post-datetime">
						14 Dec 2017, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>I added the solution from openwrt-fork lede. I cloned the actual master and added the diffs from (I am not allowed to post a link ;(&nbsp; So try google with &quot;ar71xx: add support for TP-Link TL-WR810N v2 lede pepe git&quot; and look for the comment from <br />robimarko of 14.November and follow the git-link)</p><p>except of </p><div class="codebox"><pre><code>target/linux/ar71xx/config-4.9</code></pre></div><p>There are not many changes. After that i compiled the stuff and it works out of the box. (I own V2 EU)</p>											<p class="post-edited">(Last edited by <strong>funkyberlin</strong> on 14 Dec 2017, 11:50)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>