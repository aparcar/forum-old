<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to build a custom image for wndr4300 linux box</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p232827">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gary.collins</div>
					<div class="post-datetime">
						8 May 2014, 21:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m&nbsp; looking for some guidance to create an OS image for a wndr4300 to act like a normal linux box without all the router<br />stuff.&nbsp; Be able to make changes to files in root image without being lost after a reboot. Be able to install packages as needed.<br />Installation of the OS onto a USB disk&nbsp; and boot from it.. </p><p>Is above possible?&nbsp; The project I&#039;m working on needs the system specs of the device to work as a standalone device connected to the network.&nbsp; Is their any MIPS dev kits like the raspberrypi that fits the same specs as the WNDR4300?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232829">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">kem</div>
					<div class="post-datetime">
						8 May 2014, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>The build system is a little more complicated, but I would take a look at the Yocto project. I&#039;m not sure if the wndr4300 will boot from a USB stick without some tweaking to its bootloader though.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232830">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						8 May 2014, 21:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>gary.collins wrote:</cite><blockquote><p>Hi, I&#039;m&nbsp; looking for some guidance to create an OS image for a wndr4300 to act like a normal linux box without all the router stuff.</p></blockquote></div><p>Take a trunk image, disable firewall and dnsmasq and you&#039;re there. Or if you really prefer to build an own image (and save the space), I&#039;d recommend the <a href="http://wiki.openwrt.org/doc/howto/obtain.firmware.generate">Image Generator</a> with the packages removed. There is a <a href="https://forum.openwrt.org/viewtopic.php?id=50318">pretty recent thread in here</a> that has some advice on how to build bare-bone images.</p><div class="quotebox"><blockquote><p>Be able to make changes to files in root image without being lost after a reboot.</p></blockquote></div><p>That is a given. With SquashFS carrying most of the files, of course you can&#039;t directly edit the files, but the overlay carries your changes through reboots.</p><div class="quotebox"><blockquote><p>Be able to install packages as needed.</p></blockquote></div><p>That&#039;s coming <a href="http://wiki.openwrt.org/doc/techref/opkg">out of the box</a>.</p><div class="quotebox"><blockquote><p>Installation of the OS onto a USB disk&nbsp; and boot from it..</p></blockquote></div><p>I don&#039;t know about actually booting from USB, but it&#039;s pretty easy to <a href="http://wiki.openwrt.org/doc/howto/extroot">boot the system from flash and pivot the USB disk into the system</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234890">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">gary.collins</div>
					<div class="post-datetime">
						28 May 2014, 19:02					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your replies.. Does anyone have a good .config to use for WNDR4300 ?&nbsp; Their does not seem to be one in the tree.&nbsp; Any ideas?&nbsp; I see AdamK post allot of great images.. I recently grabbed one of his images. It worked great.. Took his latest.&nbsp; Yet, I&#039;m stuck without NFS access to mount external nfs drives. I pulled the latest barrier baker. It does not build.. Older revisions did build but would not install in device from some weird reason. bad crc data or such</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234893">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						28 May 2014, 19:30					</div>
				</div>
				<div class="post-content content">
					<p>The WNDR4300 does have 128 MiB flash, that is <em>plenty</em>, there is certainly no immediate need to build a custom image. I would suggest starting out from a current pre-built trunk image and configuring it via the command line.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p234901">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">gary.collins</div>
					<div class="post-datetime">
						28 May 2014, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>I tried looking for a latest trunk. Nothing available for WNDR4300..&nbsp; only WNDR3700 &amp; WNDR3700v2 .. Do you have a pointer to a set of bits I can use which ha NFS working and supports WNDR4300?&nbsp; I&#039;m new to OPENWRT.. Yet, I&#039;ve been hacking ARM systems for years.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>