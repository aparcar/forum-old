<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Belkin F5D7230-4 V1000, Siemens SE505 v1, Askey RT210W, RT220W broken</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p66856">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						14 Apr 2008, 17:42					</div>
				</div>
				<div class="post-content content">
					<p>I would like to report that support for these BCM4710 based devices is broken as of kamikaze past trunk 6563.&nbsp; You may find more about these devices <a href="http://forum.openwrt.org/viewtopic.php?pid=55794">here</a>.</p><p>latest kamikaze snapshot such as 10834 does boot, but there is no reply from the eth0.&nbsp; eth1 (wan port) does get an IP from a dhcp server but the port does not respond on pings or telnet. arping though works for eth1, not for eth0.&nbsp; There is an <a href="https://dev.openwrt.org/ticket/1212">open ticket</a> for the eth1 bug.</p><p>toshiba wrc-1000 a similar BCM4710 based device boots and eth0 works fine with performance issues though reported on <a href="https://dev.openwrt.org/ticket/3310">this ticket</a>.</p><p>here is the output of lspci,</p><p>siemens SE505 v1, trunk 6563<br /></p><div class="quotebox"><blockquote><p>00:00.0 RAM memory: Broadcom Corporation Unknown device 0803<br />00:01.0 Ethernet controller: Broadcom Corporation BCM47xx Sentry5 iLine32 HomePNA 2.0<br />00:02.0 Ethernet controller: Broadcom Corporation Sentry5 Ethernet Controller<br />00:03.0 Modem: Broadcom Corporation BCM47xx V.92 56k modem<br />00:04.0 USB Controller: Broadcom Corporation Sentry5 USB Controller<br />00:05.0 MIPS: Broadcom Corporation Sentry5 PCI Bridge<br />00:06.0 MIPS: Broadcom Corporation Sentry5 MIPS32 CPU<br />00:07.0 FLASH memory: Broadcom Corporation Sentry5 External Interface Core<br />00:08.0 Ethernet controller: Broadcom Corporation Sentry5 Ethernet Controller<br />01:00.0 Host bridge: Broadcom Corporation BCM4710 Sentry5 PCI to SB Bridge (rev 01)</p></blockquote></div><p>toshiba wrc-1000, trunk 6563<br /></p><div class="quotebox"><blockquote><p>00:00.0 RAM memory: Broadcom Corporation Unknown device 0803<br />00:01.0 Ethernet controller: Broadcom Corporation BCM47xx Sentry5 iLine32 HomePNA 2.0<br />00:02.0 Ethernet controller: Broadcom Corporation Sentry5 Ethernet Controller<br />00:03.0 Modem: Broadcom Corporation BCM47xx V.92 56k modem<br />00:04.0 USB Controller: Broadcom Corporation Sentry5 USB Controller<br />00:05.0 MIPS: Broadcom Corporation Sentry5 PCI Bridge<br />00:06.0 MIPS: Broadcom Corporation Sentry5 MIPS32 CPU<br />00:07.0 FLASH memory: Broadcom Corporation Sentry5 External Interface Core<br />00:08.0 Ethernet controller: Broadcom Corporation Sentry5 Ethernet Controller<br />01:00.0 Host bridge: Broadcom Corporation BCM4710 Sentry5 PCI to SB Bridge</p></blockquote></div><p>toshiba wrc-1000, trunk 10801<br /></p><div class="quotebox"><blockquote><p>00:00.0 Host bridge: Broadcom Corporation BCM4710 Sentry5 PCI to SB Bridge</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p67056">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mamut-tme</div>
					<div class="post-datetime">
						17 Apr 2008, 22:14					</div>
				</div>
				<div class="post-content content">
					<p>se505 v2 not working too. older releases working poor (propably the performance issue on eth0) and wifi is not detected. On newer releases no connection over ssh.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72286">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						14 Aug 2008, 13:20					</div>
				</div>
				<div class="post-content content">
					<p>I am trying for some time now to find a fix for these devices. These devices used to work fine on previous trunks and at some point they stopped booting. this thread can serve as a reference for anyone that may care to sort this out. here are some relative tickets:</p><p><a href="https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/3310">https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/3310</a><br /><a href="https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/3141">https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/3141</a><br /><a href="https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/1710">https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/1710</a><br /><a href="https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/1502">https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/1502</a><br /><a href="https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/1212">https://dev.openwrt.org/cgi-bin/trac.fcgi/ticket/1212</a></p><p><a href="https://dev.openwrt.org/cgi-bin/trac.fcgi/changeset/5192/trunk">https://dev.openwrt.org/cgi-bin/trac.fc â€¦ 5192/trunk</a></p><p><a href="http://wiki.opennet-initiative.de/index.php/Siemens_SE505">here</a> is a pointer about the SE505v1</p>											<p class="post-edited">(Last edited by <strong>acoul</strong> on 14 Aug 2008, 19:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72631">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						25 Aug 2008, 14:07					</div>
				</div>
				<div class="post-content content">
					<p>a toshiba wrc-1000 does not boot anymore on trunk past 11200. it looks kernel 2.6.25 move is responsible for this. I&#039;ve made a fresh snapshot based on kamikaze 6563 with latest toolchain and packages based on kernel 2.6.19.7.&nbsp; you can get it <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/ozowrt/2.6.19.7/3.4.6/">here</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p74539">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						11 Oct 2008, 10:17					</div>
				</div>
				<div class="post-content content">
					<p>since I have couple of those broadcom routers working on some production links over at <a href="http://en.wikipedia.org/wiki/Athens_Wireless_Metropolitan_Network">awmn</a>, that no longer boot with latest kamikaze, I started to maintain a kamikaze svn 6553 based branch on linux-2.6.19.7 kernel and with latest patches on toolchain &amp; packages.&nbsp; It is not perfect but does the job it is supposed to do.&nbsp; You can get it <a href="http://wifi.ozo.com/airo/openwrt/firmware/kamikaze/2.6/rt220/">here</a> along with some extra packages <a href="http://wifi.ozo.com/airo/openwrt/packages/ozonet-rt220/">here</a>.</p><p>please note that I do not use broadcom wifi cards as they have no open source support and their radio quality is very poor. the above branch offers good support for atheros 802.11a/b/g cards and the older prism2/2.5 wifi cards through hostap driver.&nbsp; if you are looking for wifi broadcom support this branch is not for you.</p>											<p class="post-edited">(Last edited by <strong>acoul</strong> on 11 Oct 2008, 10:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75249">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">advance38</div>
					<div class="post-datetime">
						23 Oct 2008, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve got a router Belkin F5D7230-4 v1000. As you said, it&#039;s able to boot with OpenWRT until r11000(possibly until r11180 or similar), but not from r11200 to the current r13036. With these new versions my router does not boot getting the lamps WLAN and &#039;connected&#039; blinking. As it does not come up, I cannot do anything for the router. Neither ssh nor webif.</p><p>So I&#039;ve tested with your firmware with both 20081011 and 20081016, but nothing works. Maybe I first have to stick to r11000 and work around for a solution. Can you post your patches you used for your own firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75257">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">advance38</div>
					<div class="post-datetime">
						23 Oct 2008, 19:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>advance38 wrote:</cite><blockquote><p>I&#039;ve got a router Belkin F5D7230-4 v1000. As you said, it&#039;s able to boot with OpenWRT until r11000(possibly until r11180 or similar), but not from r11200 to the current r13036. With these new versions my router does not boot getting the lamps WLAN and &#039;connected&#039; blinking. As it does not come up, I cannot do anything for the router. Neither ssh nor webif.</p><p>So I&#039;ve tested with your firmware with both 20081011 and 20081016, but nothing works. Maybe I first have to stick to r11000 and work around for a solution. Can you post your patches you used for your own firmware?</p></blockquote></div><p>More exactly, it works until r11183, while it doesn&#039;t from r11184. It means, it does not boot immediately when OpenWRT started using kernel 2.6.23.17. Until kernel 2.6.23.16 it works really well except for its WiFi interface.</p>											<p class="post-edited">(Last edited by <strong>advance38</strong> on 23 Oct 2008, 19:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p75296">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						24 Oct 2008, 09:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>advance38 wrote:</cite><blockquote><p>So I&#039;ve tested with your firmware with both 20081011 and 20081016, but nothing works. Maybe I first have to stick to r11000 and work around for a solution. Can you post your patches you used for your own firmware?</p></blockquote></div><p>did you get a ping out of it after flashing this firmware? keep in mind that this is a trimmed down wifi specific version with no webif and other eye candy tools. also in the r11000 firmware series there are some cpu cache issues that cause major performance hits for these devices.&nbsp; you can check this by issuing a ping with large packet size like this:<br /></p><div class="codebox"><pre><code>ping -s 65507 192.168.1.1</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p90803">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						3 Jul 2009, 13:03					</div>
				</div>
				<div class="post-content content">
					<p>after been stack on 2.6.19.7 kernel for some time due to stability and performance reasons, I was able to successfully boot a 2.6.30.1 kernel today that performs well, at least on lan connectivity as I haven&#039;t tested wifi yet. BTW, I only use atheros wifi cards as broadcom is still missing the train on the wifi open source arena.</p><p>you just need <a href="https://dev.openwrt.org/attachment/ticket/4293/920-cache-wround.patch">this</a> patch that will soon hopefully go in the trunk. credits for this patch go to b.sander<br /></p><div class="codebox"><pre><code>Linux version 2.6.30.1 (alex@motard) (gcc version 4.3.3 (GCC) ) #1 Fri Jul 3 12:48:05 EEST 2009
CPU revision is: 00024000 (Broadcom BCM4710)
ssb: Core 0 found: SDRAM (cc 0x803, rev 0x00, vendor 0x4243)
ssb: Core 1 found: ILine 20 (cc 0x801, rev 0x00, vendor 0x4243)
ssb: Core 2 found: Fast Ethernet (cc 0x806, rev 0x00, vendor 0x4243)
ssb: Core 3 found: V90 (cc 0x807, rev 0x00, vendor 0x4243)
ssb: Core 4 found: USB 1.1 Hostdev (cc 0x808, rev 0x00, vendor 0x4243)
ssb: Core 5 found: PCI (cc 0x804, rev 0x00, vendor 0x4243)
ssb: Core 6 found: MIPS (cc 0x805, rev 0x00, vendor 0x4243)
ssb: Core 7 found: EXTIF (cc 0x811, rev 0x00, vendor 0x4243)
ssb: Core 8 found: Fast Ethernet (cc 0x806, rev 0x00, vendor 0x4243)
ssb: Initializing MIPS core...
ssb: core 0x0803, irq : 2(S)  3  4  5  6  D  I*
ssb: core 0x0801, irq : 2(S)  3  4  5* 6  D  I 
ssb: core 0x0806, irq : 2(S)  3  4* 5  6  D  I 
ssb: core 0x0807, irq : 2(S)  3  4  5  6  D* I 
ssb: core 0x0808, irq : 2(S)  3* 4  5  6  D  I 
ssb: core 0x0804, irq : 2(S)  3  4  5  6* D  I 
ssb: core 0x0805, irq : 2(S)  3  4  5  6  D  I*
ssb: core 0x0811, irq : 2(S)  3  4  5  6  D* I 
ssb: core 0x0806, irq : 2(S)  3  4  5  6  D* I 
ssb: set_irq: core 0x0806, irq 4 =&gt; 4
ssb: set_irq: core 0x0801, irq 5 =&gt; 2
ssb: set_irq: core 0x0806, irq 7 =&gt; 5
ssb: after irq reconfiguration
ssb: core 0x0803, irq : 2(S)  3  4  5  6  D  I*
ssb: core 0x0801, irq : 2(S)* 3  4  5  6  D  I 
ssb: core 0x0806, irq : 2(S)  3  4* 5  6  D  I 
ssb: core 0x0807, irq : 2(S)  3  4  5  6  D* I 
ssb: core 0x0808, irq : 2(S)  3* 4  5  6  D  I 
ssb: core 0x0804, irq : 2(S)  3  4  5  6* D  I 
ssb: core 0x0805, irq : 2(S)  3  4  5  6  D  I*
ssb: core 0x0811, irq : 2(S)  3  4  5  6  D* I 
ssb: core 0x0806, irq : 2(S)  3  4  5* 6  D  I 
ssb: Sonics Silicon Backplane found at address 0x18000000
Serial init done.
Determined physical RAM map:
 memory: 01000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00001000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00001000
On node 0 totalpages: 4096
free_area_init_node: node 0, pgdat 80295180, node_mem_map 802d7000
  Normal zone: 32 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 4064 pages, LIFO batch:0
Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
Enabling BCM4710A0 cache workarounds.
Primary instruction cache 8kB, VIPT, 2-way, linesize 16 bytes.
Primary data cache 4kB, 2-way, VIPT, no aliases, linesize 16 bytes
NR_IRQS:128
PID hash table entries: 64 (order: 6, 256 bytes)
Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
Memory: 13332k/16384k available (2255k kernel code, 3052k reserved, 391k data, 132k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 82.68 BogoMIPS (lpj=165376)
Mount-cache hash table entries: 512
net_namespace: 528 bytes
NET: Registered protocol family 16
bio: create slab &lt;bio-0&gt; at 0
Switched to NOHz mode on CPU #0
ssb: PCIcore in host mode found
PCI: Fixing up bridge 0000:00:00.0
PCI: Setting latency timer of device 0000:00:00.0 to 64
PCI: Fixing up device 0000:00:00.0
PCI: Fixing latency timer of device 0000:00:00.0 to 168
pci 0000:00:00.0: reg 10 32bit mmio: [0x000000-0x001fff]
pci 0000:00:00.0: reg 14 32bit mmio: [0x000000-0x7ffffff]
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 512 (order: 0, 4096 bytes)
TCP bind hash table entries: 512 (order: -1, 2048 bytes)
TCP: Hash tables configured (established 512 bind 512)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
msgmni has been set to 26
alg: No test for lzma (lzma-generic)
alg: No test for stdrng (krng)
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 2 ports, IRQ sharing enabled
b44.c:v2.0
eth0: Broadcom 44xx/47xx 10/100BaseT Ethernet 00:01:e3:04:58:a0
eth1: Broadcom 44xx/47xx 10/100BaseT Ethernet 00:01:e3:04:58:a1
flash init: 0x1fc00000 0x00400000
Physically mapped flash: Found 1 x16 devices at 0x0 in 16-bit bank
 Amd/Fujitsu Extended Query Table at 0x0040
number of CFI chips: 1
cfi_cmdset_0002: Disabling erase-suspend-program due to code brokenness.
Flash device: 0x400000 at 0x1fc00000
bootloader size: 262144
Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:
0x000000000000-0x000000040000 : &quot;cfe&quot;
0x000000040000-0x0000003f0000 : &quot;linux&quot;
0x000000120000-0x0000003f0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
split_squashfs: no squashfs found in &quot;Physically mapped flash&quot;
0x0000003f0000-0x000000400000 : &quot;nvram&quot;
BCM47xx Watchdog Timer enabled (30 seconds, nowayout)
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (jffs2 filesystem) readonly on device 31:2.
Freeing unused kernel memory: 132k freed
Please be patient, while OpenWrt loads ...
b44: eth0: powering down PHY
device eth0 entered promiscuous mode
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
b44: eth1: Link is up at 100 Mbps, full duplex.
b44: eth1: Flow control is off for TX and off for RX.
br-lan: port 1(eth0) entering forwarding state

Connected to 192.168.3.37.
Escape character is &#039;^]&#039;.
 === IMPORTANT ============================
  Use &#039;passwd&#039; to set your login password
  this will disable telnet and enable SSH
 ------------------------------------------


BusyBox v1.13.4 (2009-07-01 18:20:38 EEST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r16658) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/#</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p91150">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						10 Jul 2009, 10:08					</div>
				</div>
				<div class="post-content content">
					<p>unfortunately both 2.6.28.10 &amp; 2.6.30.1 kernels on latest trunk they have stability issues on these devices.&nbsp; looks something like a memory leak that drives the router after a 36 hours of operation to only respond to pings. hopefully the 2.6.31 kernel series may have some fixes for this issue.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>