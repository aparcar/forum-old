<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> transmission always say port 51413 is closed</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p358073">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mking007cn</div>
					<div class="post-datetime">
						9 May 2017, 05:29					</div>
				</div>
				<div class="post-content content">
					<p>hello<br /> i install transmission in my openwrt route and listening port 51413, i have opened the port 51413 on the route, i test this port via ismyportopen.com and it say the port is open. but transmission always say port is closed. i have try&nbsp; transmission in my computer, and the port can be opened without any problem via upnp. Pls. tell me what&#039;s wrong with my config, thank you</p><p>here is my config</p><p> root@OpenWrt:~# cat /etc/config/transmission <br />config transmission<br />&nbsp; &nbsp; option enabled 1<br />&nbsp; &nbsp; option config_dir &#039;/mnt/sda2/transmission/config&#039;<br />&nbsp; &nbsp; #option user &#039;nobody&#039;<br />&nbsp; &nbsp; option alt_speed_down 50<br />&nbsp; &nbsp; option alt_speed_enabled false<br />&nbsp; &nbsp; option alt_speed_time_begin&nbsp; 540<br />&nbsp; &nbsp; option alt_speed_time_day 127<br />&nbsp; &nbsp; option alt_speed_time_enabled false<br />&nbsp; &nbsp; option alt_speed_time_end 1020<br />&nbsp; &nbsp; option alt_speed_up 50<br />&nbsp; &nbsp; option bind_address_ipv4 &#039;0.0.0.0&#039;<br />&nbsp; &nbsp; option bind_address_ipv6 &#039;::&#039;<br />&nbsp; &nbsp; option blocklist_enabled false<br />&nbsp; &nbsp; option blocklist_url &#039;&#039;<br />&nbsp; &nbsp; option cache_size_mb 2<br />&nbsp; &nbsp; option dht_enabled true<br />&nbsp; &nbsp; option download_dir &#039;/mnt/sda2/transmission/done&#039;<br />&nbsp; &nbsp; option download_queue_enabled true<br />&nbsp; &nbsp; option download_queue_size 4<br />&nbsp; &nbsp; option encryption 1<br />&nbsp; &nbsp; option idle_seeding_limit 30<br />&nbsp; &nbsp; option idle_seeding_limit_enabled false<br />&nbsp; &nbsp; option incomplete_dir &#039;/mnt/sda2/transmission/incomplete&#039;<br />&nbsp; &nbsp; option incomplete_dir_enabled false<br />&nbsp; &nbsp; option lazy_bitfield_enabled true<br />&nbsp; &nbsp; option lpd_enabled false<br />&nbsp; &nbsp; option message_level 1<br />&nbsp; &nbsp; option peer_congestion_algorithm &#039;&#039;<br />&nbsp; &nbsp; option peer_limit_global 240<br />&nbsp; &nbsp; option peer_limit_per_torrent 60<br />&nbsp; &nbsp; option peer_port 51413<br />&nbsp; &nbsp; option peer_port_random_high 65535<br />&nbsp; &nbsp; option peer_port_random_low 49152<br />&nbsp; &nbsp; option peer_port_random_on_start false<br />&nbsp; &nbsp; option peer_socket_tos &#039;default&#039;<br />&nbsp; &nbsp; option pex_enabled true<br />&nbsp; &nbsp; option port_forwarding_enabled true<br />&nbsp; &nbsp; option preallocation 1<br />&nbsp; &nbsp; option prefetch_enabled true<br />&nbsp; &nbsp; option queue_stalled_enabled true<br />&nbsp; &nbsp; option queue_stalled_minutes 30<br />&nbsp; &nbsp; option ratio_limit 2.0000<br />&nbsp; &nbsp; option ratio_limit_enabled false<br />&nbsp; &nbsp; option rename_partial_files true<br />&nbsp; &nbsp; option rpc_authentication_required false<br />&nbsp; &nbsp; option rpc_bind_address &#039;0.0.0.0&#039;<br />&nbsp; &nbsp; option rpc_enabled true<br />&nbsp; &nbsp; option rpc_password &#039;&#039;<br />&nbsp; &nbsp; option rpc_port 9091<br />&nbsp; &nbsp; option rpc_url &#039;/transmission/&#039;<br />&nbsp; &nbsp; option rpc_username &#039;&#039;<br />&nbsp; &nbsp; option rpc_whitelist &#039;127.0.0.1,192.168.*.*&#039;<br />&nbsp; &nbsp; option rpc_whitelist_enabled true<br />&nbsp; &nbsp; option scrape_paused_torrents_enabled true<br />&nbsp; &nbsp; option script_torrent_done_enabled false<br />&nbsp; &nbsp; option script_torrent_done_filename &#039;&#039;<br />&nbsp; &nbsp; option seed_queue_enabled false<br />&nbsp; &nbsp; option seed_queue_size 10<br />&nbsp; &nbsp; option speed_limit_down 1024<br />&nbsp; &nbsp; option speed_limit_down_enabled true<br />&nbsp; &nbsp; option speed_limit_up 64<br />&nbsp; &nbsp; option speed_limit_up_enabled true<br />&nbsp; &nbsp; option start_added_torrents true<br />&nbsp; &nbsp; option trash_original_torrent_files false<br />&nbsp; &nbsp; option umask 18<br />&nbsp; &nbsp; option upload_slots_per_torrent 14<br />&nbsp; &nbsp; option utp_enabled true<br />&nbsp; &nbsp; option scrape_paused_torrents true<br />&nbsp; &nbsp; option watch_dir_enabled false<br />&nbsp; &nbsp; option watch_dir &#039;&#039;<br />root@OpenWrt:~# cat /etc/config/firewall </p><p>config defaults<br />&nbsp; &nbsp; option syn_flood &#039;1&#039;<br />&nbsp; &nbsp; option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option forward &#039;REJECT&#039;<br />&nbsp; &nbsp; option drop_invalid &#039;1&#039;</p><p>config zone<br />&nbsp; &nbsp; option name &#039;lan&#039;<br />&nbsp; &nbsp; option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option forward &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option network &#039;lan&#039;</p><p>config zone<br />&nbsp; &nbsp; option name &#039;wan&#039;<br />&nbsp; &nbsp; option input &#039;REJECT&#039;<br />&nbsp; &nbsp; option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option forward &#039;REJECT&#039;<br />&nbsp; &nbsp; option masq &#039;1&#039;<br />&nbsp; &nbsp; option mtu_fix &#039;1&#039;<br />&nbsp; &nbsp; option network &#039;wan wan6 vpn&#039;</p><p>config forwarding<br />&nbsp; &nbsp; option src &#039;lan&#039;<br />&nbsp; &nbsp; option dest &#039;wan&#039;</p><p>config rule<br />&nbsp; &nbsp; option name &#039;Allow-DHCP-Renew&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option proto &#039;udp&#039;<br />&nbsp; &nbsp; option dest_port &#039;68&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option family &#039;ipv4&#039;</p><p>config rule<br />&nbsp; &nbsp; option name &#039;Allow-Ping&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option proto &#039;icmp&#039;<br />&nbsp; &nbsp; option icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp; option family &#039;ipv4&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config rule<br />&nbsp; &nbsp; option name &#039;Allow-IGMP&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option proto &#039;igmp&#039;<br />&nbsp; &nbsp; option family &#039;ipv4&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config rule<br />&nbsp; &nbsp; option name &#039;Allow-DHCPv6&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option proto &#039;udp&#039;<br />&nbsp; &nbsp; option src_ip &#039;fe80::/10&#039;<br />&nbsp; &nbsp; option src_port &#039;547&#039;<br />&nbsp; &nbsp; option dest_ip &#039;fe80::/10&#039;<br />&nbsp; &nbsp; option dest_port &#039;546&#039;<br />&nbsp; &nbsp; option family &#039;ipv6&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config rule<br />&nbsp; &nbsp; option name &#039;Allow-MLD&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option proto &#039;icmp&#039;<br />&nbsp; &nbsp; option src_ip &#039;fe80::/10&#039;<br />&nbsp; &nbsp; list icmp_type &#039;130/0&#039;<br />&nbsp; &nbsp; list icmp_type &#039;131/0&#039;<br />&nbsp; &nbsp; list icmp_type &#039;132/0&#039;<br />&nbsp; &nbsp; list icmp_type &#039;143/0&#039;<br />&nbsp; &nbsp; option family &#039;ipv6&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config rule<br />&nbsp; &nbsp; option name &#039;Allow-ICMPv6-Input&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option proto &#039;icmp&#039;<br />&nbsp; &nbsp; list icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp; list icmp_type &#039;echo-reply&#039;<br />&nbsp; &nbsp; list icmp_type &#039;destination-unreachable&#039;<br />&nbsp; &nbsp; list icmp_type &#039;packet-too-big&#039;<br />&nbsp; &nbsp; list icmp_type &#039;time-exceeded&#039;<br />&nbsp; &nbsp; list icmp_type &#039;bad-header&#039;<br />&nbsp; &nbsp; list icmp_type &#039;unknown-header-type&#039;<br />&nbsp; &nbsp; list icmp_type &#039;router-solicitation&#039;<br />&nbsp; &nbsp; list icmp_type &#039;neighbour-solicitation&#039;<br />&nbsp; &nbsp; list icmp_type &#039;router-advertisement&#039;<br />&nbsp; &nbsp; list icmp_type &#039;neighbour-advertisement&#039;<br />&nbsp; &nbsp; option limit &#039;1000/sec&#039;<br />&nbsp; &nbsp; option family &#039;ipv6&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config rule<br />&nbsp; &nbsp; option name &#039;Allow-ICMPv6-Forward&#039;<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest &#039;*&#039;<br />&nbsp; &nbsp; option proto &#039;icmp&#039;<br />&nbsp; &nbsp; list icmp_type &#039;echo-request&#039;<br />&nbsp; &nbsp; list icmp_type &#039;echo-reply&#039;<br />&nbsp; &nbsp; list icmp_type &#039;destination-unreachable&#039;<br />&nbsp; &nbsp; list icmp_type &#039;packet-too-big&#039;<br />&nbsp; &nbsp; list icmp_type &#039;time-exceeded&#039;<br />&nbsp; &nbsp; list icmp_type &#039;bad-header&#039;<br />&nbsp; &nbsp; list icmp_type &#039;unknown-header-type&#039;<br />&nbsp; &nbsp; option limit &#039;1000/sec&#039;<br />&nbsp; &nbsp; option family &#039;ipv6&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config include<br />&nbsp; &nbsp; option path &#039;/etc/firewall.user&#039;</p><p>config rule<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest &#039;lan&#039;<br />&nbsp; &nbsp; option proto &#039;esp&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config rule<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest &#039;lan&#039;<br />&nbsp; &nbsp; option dest_port &#039;500&#039;<br />&nbsp; &nbsp; option proto &#039;udp&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;</p><p>config include &#039;miniupnpd&#039;<br />&nbsp; &nbsp; option type &#039;script&#039;<br />&nbsp; &nbsp; option path &#039;/usr/share/miniupnpd/firewall.include&#039;<br />&nbsp; &nbsp; option family &#039;any&#039;<br />&nbsp; &nbsp; option reload &#039;1&#039;</p><p>config rule<br />&nbsp; &nbsp; option src &#039;wan&#039;<br />&nbsp; &nbsp; option dest_port &#039;51413&#039;<br />&nbsp; &nbsp; option target &#039;ACCEPT&#039;<br />&nbsp; &nbsp; option proto &#039;tcp udp&#039;<br />&nbsp; &nbsp; option name &#039;transmission-wan&#039;</p>											<p class="post-edited">(Last edited by <strong>mking007cn</strong> on 9 May 2017, 07:45)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>