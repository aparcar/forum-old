<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Problems with NFS (nfs-kernel-server)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p105373">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">CrazyChris</div>
					<div class="post-datetime">
						27 Mar 2010, 16:00					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>it seems that nfs (nfs-kernel-server) doesn&#039;t work. I use the backfire beta (build 16.03.2010) Here ist my system.log:</p><div class="codebox"><pre><code>Jan  1 01:00:17 router user.warn kernel: lockd: Unknown symbol xdr_init_encode
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_put_task
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_put_mount
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol nlmclnt_proc
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol __ipv6_addr_type
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_proc_register
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_shutdown_client
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_inline_decode
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_pton
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_ntop
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_encode_opaque
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_run_task
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_print_iostats
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_get_mount
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_encode_pages
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_setbufsize
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol qword_add
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xprt_load_transport
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_clone_client
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_peeraddr2str
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_lookup_cred
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol qword_get
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_lookup_machine_cred
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_init_decode
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_register_pipefs
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_max_payload
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_proc_unregister
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_lookup
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_create
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_call_sync
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol cache_check
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_delay
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_killall_tasks
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_reserve_space
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_restart_call
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_inline_pages
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol put_rpccred
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_unregister_pipefs
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_pipe_upcall
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol nlmclnt_init
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol nlmclnt_done
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpcauth_create
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_init_encode
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol nlmsvc_unlock_all_by_ip
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_close_xprt
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol xdr_decode_string_inplace
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol auth_domain_find
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_recv
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol nlmsvc_unlock_all_by_sb
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol lockd_down
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol lockd_up
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_reserve
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_max_payload
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_exit_thread
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol rpc_pton
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol xdr_encode_opaque
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_proc_register
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol cache_purge
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol nfsd_debug
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_create_xprt
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_xprt_put
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol qword_add
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol cache_unregister
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_set_num_threads
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_process</code></pre></div><p>Even when i start the initscript manually:</p><div class="codebox"><pre><code>root@router:~# /etc/init.d/nfsd start
mount: mounting nfsd on /proc/fs/nfsd failed: No such device
sysctl: error: &#039;fs.nfs.nlm_tcpport&#039; is an unknown key
sysctl: error: &#039;fs.nfs.nlm_udpport&#039; is an unknown key
exportfs: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;*:/mnt&quot;.
  Assuming default behaviour (&#039;no_subtree_check&#039;).
  NOTE: this default has changed since nfs-utils version 1.0.x

exportfs: can&#039;t open /var/lib/nfs/xtab for reading
root@router:~#</code></pre></div><p>The installed packages</p><div class="codebox"><pre><code>root@router:~# opkg list-installed |grep nfs
kmod-fs-nfs - 2.6.32.9-1
kmod-fs-nfs-common - 2.6.32.9-1
kmod-fs-nfsd - 2.6.32.9-1
nfs-kernel-server - 1.1.6-1</code></pre></div><p>Any ideas? I dont know what package is missing and the wiki isn&#039;t a help. Use nfs the first time in openwrt. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> </p><p>thx <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105485">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">CrazyChris</div>
					<div class="post-datetime">
						29 Mar 2010, 11:29					</div>
				</div>
				<div class="post-content content">
					<p>nobody? <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108393">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ccbcfan</div>
					<div class="post-datetime">
						2 May 2010, 19:06					</div>
				</div>
				<div class="post-content content">
					<p>I have this problem too .</p><div class="codebox"><pre><code>root@Openwrt:~# /etc/init.d/nfsd start
mount: mounting nfsd on /proc/fs/nfsd failed: No such device
sysctl: error: &#039;fs.nfs.nlm_tcpport&#039; is an unknown key
sysctl: error: &#039;fs.nfs.nlm_udpport&#039; is an unknown key
exportfs: No host name given with /mnt/sda1 (rw,sync), suggest *(rw,sync) to avoid warning
exportfs: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;*:/mnt/sda1&quot;.
  Assuming default behaviour (&#039;no_subtree_check&#039;).
  NOTE: this default has changed since nfs-utils version 1.0.x</code></pre></div>											<p class="post-edited">(Last edited by <strong>ccbcfan</strong> on 2 May 2010, 19:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108423">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mohnkhan</div>
					<div class="post-datetime">
						3 May 2010, 07:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi<br />Normally to what symbols missing means is that, that part was not compiled into the kernel,&nbsp; Some options were set which did not compile that feature into the kernel.<br />possibly you will have to recompile the kernel. I havent tried this particular feature in Openwrt to investigate yet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p108526">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ccbcfan</div>
					<div class="post-datetime">
						4 May 2010, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>I am used the BCM96538 Kamikaze (r19957) with build.</p><br /><p>vi /etc/init.d/nfsd<br /></p><div class="codebox"><pre><code>#!/bin/sh /etc/rc.common
# Copyright (C) 2006 OpenWrt.org

START=60
STOP=60

NFS_D=/var/lib/nfs
LOCK_D=/var/lib/nfs/sm

start() {
    grep -q /proc/fs/nfsd /proc/mounts || \
        mount -t nfsd nfsd /proc/fs/nfsd
    mkdir -p $NFS_D
    mkdir -p $LOCK_D
    touch $NFS_D/rmtab

        sysctl -w fs.nfs.nlm_tcpport=32777 fs.nfs.nlm_udpport=32777 &gt; /dev/null
    /usr/sbin/rpc.statd -p 32778 -o 32779
    /usr/sbin/exportfs -r
    /usr/sbin/rpc.nfsd
    /usr/sbin/rpc.mountd -p 32780
}

stop() {
    killall rpc.mountd 2&gt; /dev/null
    rpc.nfsd 0 2&gt; /dev/null
    /usr/sbin/exportfs -au
    killall rpc.statd 2&gt; /dev/null
    grep -q /proc/fs/nfsd /proc/mounts &amp;&amp; \
        umount /proc/fs/nfsd
}

reload() {
    /usr/sbin/exportfs -r
}</code></pre></div><p>vi /etc/exports<br /></p><div class="codebox"><pre><code>/mnt/sda1    192.168.3.0/24(rw,root_squash,sync)</code></pre></div><div class="codebox"><pre><code>root@Openwrt:/# /etc/init.d/nfsd start  
mount: mounting nfsd on /proc/fs/nfsd failed: No such device
sysctl: error: &#039;fs.nfs.nlm_tcpport&#039; is an unknown key
sysctl: error: &#039;fs.nfs.nlm_udpport&#039; is an unknown key
exportfs: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;192.168.3.0/24:/mnt/sda1&quot;.
  Assuming default behaviour (&#039;no_subtree_check&#039;).
  NOTE: this default has changed since nfs-utils version 1.0.x</code></pre></div><div class="codebox"><pre><code>root@Openwrt:/# exportfs -v
/mnt/sda1       192.168.3.0/24(rw,wdelay,root_squash,no_subtree_check)

root@Openwrt:/# exportfs -va
exportfs: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;192.168.3.0/24:/mnt/sda1&quot;.
  Assuming default behaviour (&#039;no_subtree_check&#039;).
  NOTE: this default has changed since nfs-utils version 1.0.x

exporting 192.168.3.0/24:/mnt/sda1</code></pre></div><div class="codebox"><pre><code>root@Openwrt:/# mount -t nfs 192.168.3.1:/mnt/sda1 /test
mount: 192.168.3.1:/mnt/sda1 failed, reason given by server: Permission denied
root@Openwrt:/#</code></pre></div><p>this is my syslog:</p><div class="codebox"><pre><code>May  4 23:25:36 Openwrt daemon.err mountd[5069]: Caught signal 15, un-registering and exiting.
May  4 23:25:36 Openwrt daemon.err nfsd[5156]: nfssvc: Function not implemented
May  4 23:25:36 Openwrt daemon.err rpc.statd[5064]: Caught signal 15, un-registering and exiting.
May  4 23:25:37 Openwrt daemon.notice rpc.statd[5169]: Version 1.1.6 Starting
May  4 23:25:37 Openwrt daemon.notice sm-notify[5170]: Already notifying clients; Exiting!
May  4 23:25:37 Openwrt daemon.notice rpc.statd[5169]: statd running as root. chown /var/lib/nfs/sm to choose different user
May  4 23:25:37 Openwrt daemon.warn exportfs[5171]: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;127.0.0.1:/mnt/sda1&quot;.   Assuming default behaviour (&#039;no_subtree_check&#039;).   NOTE: this default has changed since nfs-utils version 1.0
May  4 23:25:37 Openwrt daemon.err nfsd[5172]: nfssvc: Function not implemented
May  4 23:29:35 Openwrt daemon.err mountd[5174]: Caught signal 15, un-registering and exiting.
May  4 23:29:35 Openwrt daemon.err nfsd[5188]: nfssvc: Function not implemented
May  4 23:29:35 Openwrt daemon.err rpc.statd[5169]: Caught signal 15, un-registering and exiting.
May  4 23:55:45 Openwrt daemon.notice rpc.statd[5350]: Version 1.1.6 Starting
May  4 23:55:45 Openwrt daemon.notice sm-notify[5351]: Already notifying clients; Exiting!
May  4 23:55:45 Openwrt daemon.notice rpc.statd[5350]: statd running as root. chown /var/lib/nfs/sm to choose different user
May  4 23:55:45 Openwrt daemon.warn exportfs[5352]: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;192.168.3.0/24:/mnt/sda1&quot;.   Assuming default behaviour (&#039;no_subtree_check&#039;).   NOTE: this default has changed since nfs-utils versio
May  4 23:55:45 Openwrt daemon.err nfsd[5353]: nfssvc: Function not implemented
May  5 00:08:21 Openwrt daemon.warn exportfs[5378]: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;192.168.3.0/24:/mnt/sda1&quot;.   Assuming default behaviour (&#039;no_subtree_check&#039;).   NOTE: this default has changed since nfs-utils versio
May  5 00:09:32 Openwrt daemon.notice mountd[5355]: authenticated mount request from 192.168.3.1:892 for /mnt/sda1 (/mnt/sda1)
May  5 00:09:32 Openwrt daemon.warn mountd[5355]: getfh failed: Function not implemented</code></pre></div><div class="codebox"><pre><code>3803 nobody     852 S    /usr/sbin/portmap 
5350 root       880 S    /usr/sbin/rpc.statd -p 32778 -o 32779 
5355 root      1164 S    /usr/sbin/rpc.mountd -p 32780 
5358 root      1308 R    ps</code></pre></div><p>The NFS is not work.&nbsp; have to recompile the kernel??&nbsp; &nbsp;OR how to do ??</p>											<p class="post-edited">(Last edited by <strong>ccbcfan</strong> on 4 May 2010, 19:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p110224">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rymn</div>
					<div class="post-datetime">
						30 May 2010, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>I have the same problem with nfsd - any help?</p><br /><p> /etc/init.d/nfsd start<br />mount: mounting nfsd on /proc/fs/nfsd failed: No such device<br />sysctl: error: &#039;fs.nfs.nlm_tcpport&#039; is an unknown key<br />sysctl: error: &#039;fs.nfs.nlm_udpport&#039; is an unknown key<br />exportfs: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;*:/home&quot;.<br />&nbsp; Assuming default behaviour (&#039;no_subtree_check&#039;).<br />&nbsp; NOTE: this default has changed since nfs-utils version 1.0.x</p><br /><br /><p>logread after mount: mount -t nfs -o ro 192.168.1.1:/home/ /mnt/</p><br /><p>May 30 17:57:55 daemon.notice mountd[1292]: authenticated mount request from 192.168.1.1:1015 for /home (/home)<br />May 30 17:57:55 daemon.warn mountd[1292]: getfh failed: Function not implemented</p><br /><p>the nfs modules can not be loaded</p><br /><p>insmod: can&#039;t insert &#039;nfs&#039;: unknown symbol in module, or unknown parameter<br />insmod: can&#039;t insert &#039;nfsd&#039;: unknown symbol in module, or unknown parameter</p>											<p class="post-edited">(Last edited by <strong>rymn</strong> on 30 May 2010, 19:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p110263">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">vargalex</div>
					<div class="post-datetime">
						31 May 2010, 14:23					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>Compile your own firmware image with nfs-kernel-server package. Than is all OK.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p110972">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						11 Jun 2010, 00:14					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m using 10.03 &#039;Backfire&#039; stable with WR1043ND and everything works just fine:</p><p><a href="http://wiki.openwrt.org/doc/recipes/nfs">http://wiki.openwrt.org/doc/recipes/nfs</a></p><p>Performance =&gt; For me, nfs does not perform quite as good as samba! I&#039;m not sure this is a CPU-&quot;Power&quot; issue. Since I do not reach 100% Load and the throughput is still low, i think it to be an IRQ issue. To loosen this bottleneck, we need jumbo frame support. This seems to be a driver issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p200747">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">standin-000</div>
					<div class="post-datetime">
						5 May 2013, 06:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>CrazyChris wrote:</cite><blockquote><p>Hi,</p><p>it seems that nfs (nfs-kernel-server) doesn&#039;t work. I use the backfire beta (build 16.03.2010) Here ist my system.log:</p><div class="codebox"><pre><code>Jan  1 01:00:17 router user.warn kernel: lockd: Unknown symbol xdr_init_encode
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_put_task
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_put_mount
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol nlmclnt_proc
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol __ipv6_addr_type
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_proc_register
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_shutdown_client
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_inline_decode
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_pton
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_ntop
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_encode_opaque
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_run_task
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_print_iostats
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_get_mount
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_encode_pages
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_setbufsize
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol qword_add
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xprt_load_transport
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_clone_client
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_peeraddr2str
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_lookup_cred
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol qword_get
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_lookup_machine_cred
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_init_decode
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_register_pipefs
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_max_payload
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_proc_unregister
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_lookup
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_create
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_call_sync
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol cache_check
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_delay
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_killall_tasks
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_reserve_space
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpc_restart_call
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_inline_pages
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol put_rpccred
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_unregister_pipefs
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol sunrpc_cache_pipe_upcall
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol nlmclnt_init
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol nlmclnt_done
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol rpcauth_create
Jan  1 01:00:18 router user.warn kernel: nfs: Unknown symbol xdr_init_encode
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol nlmsvc_unlock_all_by_ip
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_close_xprt
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol xdr_decode_string_inplace
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol auth_domain_find
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_recv
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol nlmsvc_unlock_all_by_sb
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol lockd_down
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol lockd_up
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_reserve
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_max_payload
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_exit_thread
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol rpc_pton
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol xdr_encode_opaque
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_proc_register
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol cache_purge
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol nfsd_debug
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_create_xprt
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_xprt_put
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol qword_add
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol cache_unregister
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_set_num_threads
Jan  1 01:00:19 router user.warn kernel: nfsd: Unknown symbol svc_process</code></pre></div><p>Even when i start the initscript manually:</p><div class="codebox"><pre><code>root@router:~# /etc/init.d/nfsd start
mount: mounting nfsd on /proc/fs/nfsd failed: No such device
sysctl: error: &#039;fs.nfs.nlm_tcpport&#039; is an unknown key
sysctl: error: &#039;fs.nfs.nlm_udpport&#039; is an unknown key
exportfs: /etc/exports [1]: Neither &#039;subtree_check&#039; or &#039;no_subtree_check&#039; specified for export &quot;*:/mnt&quot;.
  Assuming default behaviour (&#039;no_subtree_check&#039;).
  NOTE: this default has changed since nfs-utils version 1.0.x

exportfs: can&#039;t open /var/lib/nfs/xtab for reading
root@router:~#</code></pre></div><p>The installed packages</p><div class="codebox"><pre><code>root@router:~# opkg list-installed |grep nfs
kmod-fs-nfs - 2.6.32.9-1
kmod-fs-nfs-common - 2.6.32.9-1
kmod-fs-nfsd - 2.6.32.9-1
nfs-kernel-server - 1.1.6-1</code></pre></div><p>Any ideas? I dont know what package is missing and the wiki isn&#039;t a help. Use nfs the first time in openwrt. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> </p><p>thx <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>you need insmod exportfs.ko,sunrpc.ko,lockd.ko,nfs.ko,nfsd.ko first.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>