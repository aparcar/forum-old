<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Samba on windows 7</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p143451">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Thongil</div>
					<div class="post-datetime">
						12 Sep 2011, 22:15					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I&#039;m trying to use Samba on my router for use a Hdd connected to the usb port, but I can&#039;t. I have correctly mounted the partition, I have install samba and I have configure it following the samba tutorial, but I can&#039;t connect using with windows 7,&nbsp; using ubuntu sometimes i can (with no rw permissions), pressing ctrl L and entering router&#039;s ip. Here are my config files:<br />&nbsp; &nbsp; &nbsp; &nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; netbios name = |NAME|<br />&nbsp; &nbsp; &nbsp; &nbsp; workgroup = |WORKGROUP|<br />&nbsp; &nbsp; &nbsp; &nbsp; server string = |DESCRIPTION|<br />&nbsp; &nbsp; &nbsp; &nbsp; syslog = 10<br />&nbsp; &nbsp; &nbsp; &nbsp; encrypt passwords = true<br />&nbsp; &nbsp; &nbsp; &nbsp; passdb backend = smbpasswd<br />&nbsp; &nbsp; &nbsp; &nbsp; obey pam restrictions = yes<br />&nbsp; &nbsp; &nbsp; &nbsp; socket options = TCP_NODELAY<br />&nbsp; &nbsp; &nbsp; &nbsp; unix charset = ISO-8859-1<br />&nbsp; &nbsp; &nbsp; &nbsp; local master = yes<br />&nbsp; &nbsp; &nbsp; &nbsp; preferred master = yes<br />&nbsp; &nbsp; &nbsp; &nbsp; os level = 20<br />&nbsp; &nbsp; &nbsp; &nbsp; security = share<br />&nbsp; &nbsp; &nbsp; &nbsp; null passwords = yes<br />&nbsp; &nbsp; &nbsp; &nbsp; guest account = nobody<br />&nbsp; &nbsp; &nbsp; &nbsp; invalid users = root<br />&nbsp; &nbsp; &nbsp; &nbsp; smb passwd file = /etc/samba/smbpasswd</p><br /><br /><p>config &#039;samba&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;openwrt&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;workgroup&#039; &#039;WORKGROUP&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;description&#039; &#039;openwrt&#039;</p><p>config &#039;sambashare&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;name&#039; &#039;Router&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;path&#039; &#039;/mnt&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;read_only&#039; &#039;no&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;guest_ok&#039; &#039;yes&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;create_mask&#039; &#039;0777&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;dir_mask&#039; &#039;0777&#039;</p><br /><p>Any idea? I need windows 7 access.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143481">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Zullwick</div>
					<div class="post-datetime">
						13 Sep 2011, 08:21					</div>
				</div>
				<div class="post-content content">
					<p>Check the drive permissions with the &quot;ls -l [mount point]&quot;.</p><p>I had a similar problem. Could read the drive in Linux mint, couldn&#039;t write to it though. Windows would ask for a password.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p143513">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Thongil</div>
					<div class="post-datetime">
						13 Sep 2011, 13:21					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d change permissions to 777 and now i can write, but there is still having two issues, I can&#039;t see the router in the network, but i can access it, manually browsing it, (//192.168.1.1),&nbsp; and second, I always receive a message &quot;there isn&#039;t enough space&quot; but obviously I have free space.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144938">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">acid17</div>
					<div class="post-datetime">
						2 Oct 2011, 05:25					</div>
				</div>
				<div class="post-content content">
					<p>dont mount directly on /mnt create another folder inside the /mnt like this<br />option &#039;path&#039; &#039;/mnt/drive&#039;</p><p>your hdd should be mount inside the drive folder.&nbsp; but not directly on the mnt folder gets?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144959">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Thongil</div>
					<div class="post-datetime">
						2 Oct 2011, 15:08					</div>
				</div>
				<div class="post-content content">
					<p>I tried mounting with that option and still don&#039;t shows the router over the net</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>