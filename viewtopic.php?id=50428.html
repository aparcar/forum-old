<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Can I get a wireless display to set up the SSID/key? TL-WR703N</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p232105">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						2 May 2014, 19:15					</div>
				</div>
				<div class="post-content content">
					<p>Is there a package which would allow me to connect a cell phone or some other readily available display to a TL-WR703N in order to quickly set up it&#039;s SSID/key?</p><p>At the moment, other than logging into the cli or gui, there is no other way of using this device to set it&#039;s wireless nic up... that I know of at least.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232116">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						2 May 2014, 20:00					</div>
				</div>
				<div class="post-content content">
					<p>do you have LUCI ?</p><br /><p>regards<br />3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232117">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						2 May 2014, 20:01					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t have space for a GUI, it&#039;s CLI only.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232118">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">definesinsanity</div>
					<div class="post-datetime">
						2 May 2014, 20:02					</div>
				</div>
				<div class="post-content content">
					<p>Question is extremely unclear.<br />Are you just trying to figure out a way to configure the router from a cell phone? Does your cellphone not have a web browser with which you can access LuCI? Does your cell phone not have a terminal emulator through which you can log into the cli?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232120">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						2 May 2014, 20:05					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, you&#039;re right, not enough info.</p><p>Ok, the build is very minimal. Doesn&#039;t have GUI, only CLI. The device will boot up using DHCP so it will not have a default IP and the user will not be technical enough to get &#039;into&#039; the device to do anything.</p><p>Basically, I am trying to find a way of booting openwrt using wireless but it won&#039;t have a gui. Since wireless needs an SSD and key, I am trying to find a way of achieving a full wireless DHCP boot of the device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232122">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						2 May 2014, 20:10					</div>
				</div>
				<div class="post-content content">
					<p>fiddle something with netcat as webserver , but needs full netcat version with &quot;-l&quot; or busybox extra build.</p><p>I&#039;d remember some hacking that lots of years ago.</p><p>A decent solution would be uhttpd/haserl &amp; js if you have the space to spare.</p><p>Some light WebIfs had been made with this.</p><p>regards<br />3zl</p><p>(sickbay &amp; bored)</p>											<p class="post-edited">(Last edited by <strong>3zl</strong> on 2 May 2014, 20:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232123">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">definesinsanity</div>
					<div class="post-datetime">
						2 May 2014, 20:11					</div>
				</div>
				<div class="post-content content">
					<p>That creates more questions than the ones it clarifies.</p><p>What are you trying to *actually do* with the device?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232124">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						2 May 2014, 20:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>definesinsanity wrote:</cite><blockquote><p>That creates more questions than the ones it clarifies.</p><p>What are you trying to *actually do* with the device?</p></blockquote></div><p>-Boot it as a DHCP client using wireless. </p><p>-Problem being there is no gui, no display, no default IP. </p><p>-Wondering if there is any package add on that would allow some type of temporary display.</p><p>It&#039;s not so much what I&#039;m trying to do but simply the above challenge. How could booting up into DHCP wireless be accomplished without gui or default IP.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232125">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						2 May 2014, 20:17					</div>
				</div>
				<div class="post-content content">
					<p>Or, here&#039;s another questions. What would the most BASIC of all gui package I could install which would allow me to look at the router to see what IP the device got, so I can connect to it and set it&#039;s SSD and key?</p><p>I would not want all kinds of settings to show up, only a screen to set the SSD and key.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232126">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">definesinsanity</div>
					<div class="post-datetime">
						2 May 2014, 20:21					</div>
				</div>
				<div class="post-content content">
					<p>So... you are asking if there is a package you could install that would allow you to connect to a wireless device that doesn&#039;t have an IP address, in order to configure an IP address?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232128">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						2 May 2014, 20:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>projects wrote:</cite><blockquote><p>Or, here&#039;s another questions. What would the most BASIC of all gui package I could install which would allow me to look at the router to see what IP the device got, so I can connect to it and set it&#039;s SSD and key?</p><p>I would not want all kinds of settings to show up, only a screen to set the SSD and key.</p></blockquote></div><br /><br /><p>What about creating an alias with static IP on the dhcp-interface ?</p><p>(you would miss some fun with uhttpd/haserl/js though )</p><p>netcat idea at <a href="http://stackoverflow.com/questions/16640054/minimal-web-server-using-netcat">http://stackoverflow.com/questions/1664 â€¦ ing-netcat</a></p><p>regards<br />3zl</p><p>(sickbay &amp; bored)</p>											<p class="post-edited">(Last edited by <strong>3zl</strong> on 2 May 2014, 20:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232134">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						2 May 2014, 21:47					</div>
				</div>
				<div class="post-content content">
					<p>What I was wondering was if there might be a package which would give very rudimentary gui access to the device. If all I had to do was to look on the router to see what IP it was being offered, then maybe log into it using that IP, to then enter the SSID and KEY, that would work fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232139">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">3zl</div>
					<div class="post-datetime">
						2 May 2014, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>&quot;What about creating an alias with static IP on the dhcp-interface ?&quot;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; whats wrong with that ?</p><br /><p>regards<br />3zl</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232140">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						2 May 2014, 22:49					</div>
				</div>
				<div class="post-content content">
					<p>Not sure I&#039;m following. The device would boot up getting an IP from an external dhcp service. I would not know from location to location what the SSID or key was on that wireless network.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232145">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">ron</div>
					<div class="post-datetime">
						2 May 2014, 23:00					</div>
				</div>
				<div class="post-content content">
					<p>dear projects,</p><p>what you are trying to do is to fit minimal gui on minimal 4MB flash router. Is it possible? Yes. I have done it. Is it possible with LUCI? I would think so. I have never used LUCI on Openwrt, since I like doing most of the stuff using CLI. And since I am a programmer, its pretty easy for me to write custom stuff. That is why I like Openwrt so much, its like I am programming in Linux, which it is. </p><p>Any how, I have previously used DDWRT. it use to fit along with all its GUI on 4MB flash routers, so that is why I think Openwrt with LUCI would also fit on 4MB router.&nbsp; However, if you are trying to do some customisation of your own, then you need to be able to do some programming. The minimal configuration that I have used is mini_httpd with haserl. Haserl can do most of the basic stuff, but you gotta know ash in order to write cgi scripts in haserl. </p><p>Although I have not personally used uhttpd, but I think you could possibly use that along with lua scripting. However I am not sure how the lua is interfaced with uhttpd. Is it more like traditional CGI, or is it more like custom interface, that you will need to figure out. If its not some standard CGI like interface, then you will have to learn it. LUCI does it, so there should be good examples on how its done. If uhttpd supports CGI scripts, then you can also combine uhttpd with haserl. So uhttpd could be your second option.</p><p>Both of these option would require less than 100KB space and I know 4MB routers have more than this with standard openwrt firmware installed.</p><p>By the way, I am not clear what you are exactly trying to do. Even if you do not need gui, the above combo can be used to POST data using a browser or your own program which can do HTTP post. You can possibly use netcat and do your own custom tcp or udp packet to do what ever you are trying to do. It might help if you show us your /etc/config/network file.</p><p>BTW, I am guessing that you are trying to make 703 router use wireless wan? The user with cell phone would connect to the 703 using wifi, and then instruct the 703 to connect to yet another wifi in order to get net connection. And hence the ssid/key comes into play. Is that what it is?</p><p>And exactly how much writeable space is left on your device?</p>											<p class="post-edited">(Last edited by <strong>ron</strong> on 2 May 2014, 23:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232146">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						2 May 2014, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>OpenWrt on the TL-WR703N cannot provide a gui: this router has no graphic card, so you can&#039;t get anything &quot;graphic&quot;.</p><p>The best you can get is a web-based user interface, but this supposes that your cell phone is connected to the same wireless network as your router in the first place...</p><p>So, basically:<br /></p><ol class="decimal"><li><p>the TL-WR703N when in &quot;firstboot&quot; state provides a wireless AP with a distinctive SSID (some name with a unique suffix is better if you may have several routers in this state at the same time, suggested is a MAC address-based suffix)</p></li><li><p>the cell phone user disconnects itself from the local wireless AP and associates itself with the TL-WR703N AP</p></li><li><p>the router is running a DHCP server and assigns a dynamic address to the newly connected cell phone</p></li><li><p>the router provides a simple web server and presents an HTML page containing a form to fill in</p></li><li><p>the cell phone user fetches this page from the router static IP address using a web browser</p></li><li><p>the user enters the local Wireless SSID, encryption method and pass phrase and submit back the form to the router</p></li><li><p>the router needs to get the form fields in a program from the web server (this can be in a Bash script using the server CGI (Common Gateway Interface) mechanism), for example</p></li><li><p>the program on the router switches to client mode on the given wireless network, using the user-provided information: it will receive a dynamically-assigned IP address from the local wireless network AP</p></li><li><p>the cell phone user associates itself back to the local wireless network: both devices are now on the same wireless network</p></li><li><p>if the user wants to talk to the TL-WR703N router, its dynamically-assigned IP address would need to be found by looking into the local wireless network AP assigned DHCP leases</p></li></ol><p>Thus, to answer your question, you will need&nbsp; a minimal web server at least: this can be netcat or its minimal version integrated into the busybox single executable, or a separate LIGHT server, such as uhttpd or again the httpd server available into busybox to keep it very small. Please, don&#039;t even THINK about using Apache for this purpose <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Then you can just have a simple Bash script (using the busybox built-in bash, of course) to serve the single HTML page/form using the server&#039;s CGI mechanism. Again, don&#039;t even THINK about using PHP/Perl/Ruby/Javascript here <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>As you can see, there is not a single option here. The main point is to remember that you run on a CPU/memory-constrained embedded device, and that the common desktop/server solutions do not apply directly, you will need to carefully weight each piece of software that you put on the device and try to squeeze the maximum out of it!</p>											<p class="post-edited">(Last edited by <strong>Squonk</strong> on 2 May 2014, 23:09)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232154">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 May 2014, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>Ron, the 703 will not be used as a router. No router/firewall (openwrt) or any related stuff including luci are installed on the 703. I need only a minimal Linux client so stripped everything out in my build. </p><p>I only need it to pick up it&#039;s dhcp address from either a wired or wireless router on the network. <br />That said, I realize that it needs to have a very rudimentary httpd server installed if I am going to have a browser gui to set the ssid/key. That is what I am asking about. If there is such a package which would allow me to do just that, nothing else, no need for anything else in the gui.</p><p>In terms of space, with everything removed, I&#039;m at 1.4MB of space left.</p><p>Oh, and yes, I would look at the local router dhcp leases to find out what the 703&#039;s IP was. Then the idea is to connect to the 703 using a browser but the only items I&#039;d like to see would be being able to enter the ssid and key.</p>											<p class="post-edited">(Last edited by <strong>projects</strong> on 3 May 2014, 00:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232155">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 May 2014, 00:47					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the replies guys, much appreciated.</p><p>Squonk, it doesn&#039;t have to be a cell phone, I just used that as an example. There are so many cool interfaces out there sometimes when there is a community hacking away at various devices. Thought I&#039;d ask because who knows, maybe someone came up with something.</p><p>I know it doesn&#039;t have a video card. I hope my reply to Ron better explains <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232163">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">ron</div>
					<div class="post-datetime">
						3 May 2014, 01:22					</div>
				</div>
				<div class="post-content content">
					<p>ok. 1.4MB&nbsp; is a lot of space to do what you want to do. 703n has only single RJ45 connection. So assuming you connect via wire, then the only way for any one to connect to it would be the wifi. And the only way you can ever connect to wifi to begin with is if you already have a predefined SSID The default Openwrt will do all this for you. Now if you simply want to change the SSID, but dont want LUCI, you can use the httpd server with haserl. Write a simple CGI script, which can take input from user and set the required UCI configuration. However, users seldom change SSIDs, perhaps just once.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232165">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 May 2014, 01:28					</div>
				</div>
				<div class="post-content content">
					<p>Right, the user would know the SSID but they would need to enter in the key as well. </p><p>On the cable side, it&#039;s been pretty easy. I just set it up as a client and it picks up it&#039;s IP, dns, etc and it&#039;s ready to go. </p><p>On the wireless side, I don&#039;t desperately need it or anything but figured I&#039;d ask in case there was some relatively easy way to get that working as dhcp client too. Only because it would be nice to have both a wired and wireless option since it&#039;s got it built in.</p><p>Too bad an unauthenticated wireless device that has limited connectivity could not send it&#039;s IP to an email address <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. That would be kinda cool for a headless device.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232185">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						3 May 2014, 10:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>projects wrote:</cite><blockquote><p>Too bad an unauthenticated wireless device that has limited connectivity could not send it&#039;s IP to an email address <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />. That would be kinda cool for a headless device.</p></blockquote></div><p>Please read my previous post carefully: the problem here is that while your wireless device is unauthenticated, it doesn&#039;t have an IP address, thus it cannot connect to the network, nor send an email <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>It has nothing to do with the fact of being headless, running OpenWrt or having only 1.4MB of Flash memory. It is the way a WiFi wireless network is supposed to work in infrastructure mode.</p><p>The TL-WR703N needs first to provide its own wireless network and deliver IP addresses using DHCP (i.e. act as a wireless AP), then the user can connect to it to provide the connection information required for the TL-WR703N to connect to the desired final wireless network (SSID, authentication method and passphrase). The TL-WR703N can then stop being an AP and authenticate itself as a wireless client to the final wireless network, getting an IP address in the way, and then only can it send an email to you.</p>											<p class="post-edited">(Last edited by <strong>Squonk</strong> on 3 May 2014, 10:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232239">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						3 May 2014, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>Got it. Information overload as I&#039;ve asked so many other questions at the same time.</p><p>Thanks very much, that&#039;s a good idea and sounds like the only option unless I have a very basic GUI built or something along those lines.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232240">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						3 May 2014, 23:26					</div>
				</div>
				<div class="post-content content">
					<p>What you need is something like this:<br /><a href="http://processors.wiki.ti.com/index.php/CC3000_Smart_Config">http://processors.wiki.ti.com/index.php â€¦ art_Config</a></p><p>Unfortunately, it only exists on TI&#039;s CC3000 module and the technology used is not really explained in details <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233074">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">projects</div>
					<div class="post-datetime">
						12 May 2014, 05:13					</div>
				</div>
				<div class="post-content content">
					<p>Thanks very much for the help. Looks like I&#039;m going cable <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>