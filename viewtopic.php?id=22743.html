<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Reverse Engineering for dummies with an adm5120</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p98148">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">foobear</div>
					<div class="post-datetime">
						2 Dec 2009, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>Hallo to everyone (more technically oriented)<br />I have to change the firmware of an ipcam. (an Wl-5460 cam, but with lots of identical &quot;sisters&quot; from various manufacturers.)<br />The firmwareupdate from an manufacturer should countain the kernel and the needed serverapplication in an compressed ramdisk!?</p><p>So I removed the first bytes of the firmware-file until the &quot;file&quot; command realized it as an gzip archieve.<br />(this happened after 32 bytes.)<br />So i found out that I had to do something like:<br />&nbsp; dd if=manufacturer-update of=foo.gz bs=1 skip=32</p><p>Then I got a compressed file containing a &quot;vmlinux.bin&quot; file.<br />someone told me that this file can be mounted as a usual filesystem,<br />but i cant figure out wchich filesystem i have to use. i tried scramfs squashfs and so on.</p><p>I dont want to keep this try-an-error like my first approuch witch the removing of the firt bytes.<br />1) Is there an nice method/command to find out more about the content of such an binary or its headers?</p><p>The hardware is an adm5120. I made a wigglercable and patched openwince jtagtools for ejtag. after this I was able to read from the flash.<br />The boot-address starts with 0x1FC0 0000. From there I have 4MB till to 0x2000 0000. what matches the size of the onboard flash.<br />but i can also detect and read the adress 0x3FC0 0000 und higher???<br />And on some pages they say that the entrypoint for the kernel should be around 0x8000 0000.<br />But this is physically not possible. Does the MMU mirror the Addresses to different sections?</p><p>2) How can I find out more about the flash/memory partitioning of an given system?</p><p>(yes, i obtained and read the adm refferences. but they left me clueless.)<br />I searched a lot in the internet in the last weeks. But all the information about my hardware seems to be removed years ago (eg.: <a href="http://wiki.kuban.tv">http://wiki.kuban.tv</a>).<br />And I dont want to copy the great investigations others did. I want to be able to discover such infomations like pinouts or memory-partitioning on my own.<br />In other words: I need help to help my self.</p><p>3) btw, when I read the first 32kB after flash Address 0x1FC0 0000 is this the complete bootloader?<br />I want to have it in case the cam gets bricked while playing around.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>