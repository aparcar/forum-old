<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wl-500g Premium:SMA external antenna not working!(..internal works ok)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p57248">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						9 Oct 2007, 10:01					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />&nbsp; &nbsp;I have new ASUS wl-500gp and successfuly installed openwrt, but I can&#039;t get external original asus antenna working:<br /> I tried with WhiteRussian 0.9, Kamikaze 7.07, 7.09. Original mini-pci chipset(<strong>Broadcom</strong>), 2.4 kernel. <br /> I changed wl0_antdiv variable in NVRAM as said in documantation, but when I set external R-SMA antenna ON and Internal OFF, there is no difference in signal strength if I attach external antenna or remove it.</p><p>Any ideas? Do you experiance such problems?<br />Should I return router to warranty service?</p><p>edited: also I get very low signals of strong networks, when doing &quot;iwlist scan&quot;, also removing original asus antenna doesn&#039;t change signal level shown with &quot;iwlist scan&quot;.</p><p>Thanks in advice for suggestions!<br />Sorry for my imperfect english <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 4 Nov 2007, 14:12)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57252">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						9 Oct 2007, 12:35					</div>
				</div>
				<div class="post-content content">
					<p>No, wait. Do you have signal? can you connect to the router via wlan?</p><p>If you are near the router signal strength is good even without antenna. Actually the pigtail (cable from mini-pci wireless card inside the router to ext antenna connector, a reverse SMA) acts already as antenna.If your wireless client is near the router, you can leave the antenna (i do within 5 meters).</p><p>The difference with ext antenna is: as long as you move far from the router signal strength is falling much slower as without ext antenna. If you need signal on a wider range, buy a better antenna (for the wireless client a/o router). A 5dB antenna should be enough in a building within 15 meters</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57254">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						9 Oct 2007, 13:56					</div>
				</div>
				<div class="post-content content">
					<p>I want to use external antenna, I have reverse-SMA to N-type adapter, RG213 cable, and self-made bi-quad ANT.</p><p> I tryed with original asus antenna(simple dipole), but I noticed that external antenna is not working - when I set wl0_antdiv to use external antenna, signal strength is low, no matters if I connect or disconnect ext antenna.</p><p>Hope you understood, my english is not good <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Regards,<br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 9 Oct 2007, 13:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57258">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						9 Oct 2007, 14:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>saugumas wrote:</cite><blockquote><p>but I noticed that external antenna is not working</p></blockquote></div><p>What do you mean? Do you get connected or not?<br />Signal strength will be nearly the same with or without ext antenna at close distance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57322">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						10 Oct 2007, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>I connected external antenna on 15meter cable, tried omni-directional dipole and directional quad antennas, and saw no networks.<br />With notebook mini-pci card and Linksys WEP54g Access Point(in client mode) I see 2-3 networks.</p><p> On wl-500gP I tried all wl0_antdiv combinations throught command line, also I tried select Left/Right on X-WRT web control interface, but &quot;iwlist eth2 scan&quot; says that there isn&#039;t any networks with external antenna.<br /> But when I place wl-500gP near open window &quot;iwlist eth2 scan&quot; command shows networks(with external antenna disconnected).</p><p> Unhappily original asus firmware doesn&#039;t have wireless scan function.</p><br /><p>Any ideas why this happen?</p><br /><p>Regards,<br />Kestas</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57327">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						10 Oct 2007, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>No, it&#039;s your external antenna then. 15m cable! Supposed, you didn&#039;t build it yourself, i can guess the electrical specifications don&#039;t fit the ones of the wl500gp wireless card.<br />Radio waves are generated through current peaks. It can be your antenna needs more current than the wifi card can deliver.<br />I never dealt with such problems, so i can&#039;t be of much help...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57364">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						11 Oct 2007, 18:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>No, it&#039;s your external antenna then. 15m cable! Supposed, you didn&#039;t build it yourself, i can guess the electrical specifications don&#039;t fit the ones of the wl500gp wireless card.<br />Radio waves are generated through current peaks. It can be your antenna needs more current than the wifi card can deliver.<br />I never dealt with such problems, so i can&#039;t be of much help...</p></blockquote></div><p>you did&#039;n understand me.<br />sorry, I made a mistake, cable is 10meters long. I made it myself, I have some background in RF engineering. I used good quality S400 cable (RG213 equivalent) it has 2.2dB siganl drop @ 2.45Ghz @ 10 meters length.<br /> Linksys WEP54G access point is working OK on my CABLE. But I need USB and OPEN-WRT capabilities so I bought ASUS WL-500gP and now experiencing problem with external antenna selection as I wrote before,</p><p> maybe it&#039;s kernel or firmware bug?</p><br /><br /><p>Regards,<br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 16 Oct 2007, 11:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57419">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">zsjoska</div>
					<div class="post-datetime">
						13 Oct 2007, 02:07					</div>
				</div>
				<div class="post-content content">
					<p>Have you tried the wireless signal strength before upgrading to OpenWrt?<br />... I just read this article: <a href="http://www.xbitlabs.com/articles/other/display/asus-wl500g-premium_3.html">http://www.xbitlabs.com/articles/other/ … ium_3.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57575">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						16 Oct 2007, 12:05					</div>
				</div>
				<div class="post-content content">
					<p>thanks, zsjoska!<br /> My previous expiremets shows that defect described in <a href="http://www.xbitlabs.com/articles/other/display/asus-wl500g-premium_3.html">http://www.xbitlabs.com/articles/other/ … ium_3.html</a> is&nbsp; quite possible. I don&#039;t have my router now, but soon I will, and I am going to check for this problem.</p><br /><p>Edited: I checked - external antenna is connected to &quot;MAIN&quot; slot on mini-pci. The problem should be something else.</p><p>Regards,<br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 17 Oct 2007, 09:39)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57750">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						19 Oct 2007, 10:04					</div>
				</div>
				<div class="post-content content">
					<p>WL-500g(p) Users, can you confirm that external antenna is working with OpenWRT?</p><br /><br /><p>Regards,<br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 19 Oct 2007, 10:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57751">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						19 Oct 2007, 10:07					</div>
				</div>
				<div class="post-content content">
					<p>For me no defect as described in the article, stock ext antenna ok (wl500gp)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57946">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">el-x</div>
					<div class="post-datetime">
						23 Oct 2007, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>Did you try to change the antenna using the &quot;wl txant&quot; and &quot;wl antdiv&quot; command directly (e.g. using ssh) ?<br />I just experienced some problems like yours when trying to set an antenna using the X-WRT GUI. It seems it sets the wl0_txdiv and wl0_antdiv variables correctly, but the change is not visible in terms of signal strenght (I use a WRT54GL and disconnected one Antenna for testing, the other port was connected to an directional antenna).<br />When I applied the &quot;wl txant&quot; command, the difference in signal strength was huge between both ports.</p><p>/edit<br />I just read the postings again. Isn&#039;t the right variable to set the transmit antenna called &quot;wl0_txant&quot; ? &quot;wl0_antdiv&quot; is IMHO just to set the antenna when receiving.</p><br /><p>cu</p><p>el-X</p>											<p class="post-edited">(Last edited by <strong>el-x</strong> on 23 Oct 2007, 20:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58046">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">zimm0who0net</div>
					<div class="post-datetime">
						25 Oct 2007, 19:05					</div>
				</div>
				<div class="post-content content">
					<p>I believe I&#039;m having the same problem.&nbsp; I get exactly the same power readings (low) from across my house when I have the external antenna plugged in and when I totally disconnect it.&nbsp; There appear to be settings &#039;txant&#039; and &#039;rxant&#039; available via wlc, but I&#039;m not sure exactly what to set these to.&nbsp; I&#039;ve tried 0 and 1, but those don&#039;t seem to make a difference.</p><p>I should mention that I&#039;m running 7.09 2.4 kernel...</p>											<p class="post-edited">(Last edited by <strong>zimm0who0net</strong> on 25 Oct 2007, 19:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58456">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						3 Nov 2007, 16:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>zimm0who0net wrote:</cite><blockquote><p>I believe I&#039;m having the same problem.&nbsp; I get exactly the same power readings (low) from across my house when I have the external antenna plugged in and when I totally disconnect it.&nbsp; There appear to be settings &#039;txant&#039; and &#039;rxant&#039; available via wlc, but I&#039;m not sure exactly what to set these to.&nbsp; I&#039;ve tried 0 and 1, but those don&#039;t seem to make a difference.</p><p>I should mention that I&#039;m running 7.09 2.4 kernel...</p></blockquote></div><p>Maybe ASUS or Broadcom has changed hardware spec.. it is unlikely but possible.<br />I tried with X-WRT(WhiteRussian 0.9) and Kamikaze 7.09.<br /> I tried to scan for a networks with &quot;iwlist scan&quot; command with external antenna connected, but it results in &quot;No scan results&quot;. Another access point Linksys WAP54g(with original firmware) is working well and see other wireless networks with same external antenna.</p><p> <strong>Situation is</strong>: I can&#039;t see existing wireless networks with wl-500gp in sta or ap mode on external dirctional antenna, changing wl0_antdiv nvram variable didn&#039;t help.<br /> Can more wl-500g(p) users confirm such problem?</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 4 Nov 2007, 14:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58481">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						4 Nov 2007, 14:06					</div>
				</div>
				<div class="post-content content">
					<p>Another very strange thing is that &quot;iwlist wl0 scan&quot; reporting very low signal of strong networks.<br /> I put my notebook near wl-500gp and notebook shows signal level of -45dB, but wl-500gp &quot;iwlist scan&quot; shows only -75dB. That means notebook is receiving 30dB(1000 times!) stronger signal. Also if I remove asus original external antenna signal doesn&#039;t change at all.<br /> I tried &quot;wlc rxant&quot;, &quot;wlc txant&quot;, &quot;nvram set wl0_antdiv&quot;, &quot;nvram set wl_antdiv&quot;, &quot;nvram set wl0_txdiv&quot; combinations, tried with commit changes with &quot;wifi&quot;, &quot;nvram commit&quot; but no results, these commands didn&#039;t change anything.<br /> Also there is interesting thing: txpower is changing only with &quot;iwconfig wl0 txpower xx&quot;, but editing nvram doesn&#039;t change output power level.</p><p>Also I can&#039;t switch txpower &quot;on&quot; when I am in sta (repeater) mode, I only can set power &quot;on/off&quot; in ap mode.</p><p>p.s. I checked, external antenna cable is connected in &quot;MAIN&quot; socket on mini-pci card.</p><p>my nvram:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# nvram show | grep wl
wl_radius_port=1812
wl_mode_x=0
wl0_frameburst=0
filter_wl_default_x=ACCEPT
wl_wdsapply_x=0
wl_gmode_protection_x=0
wl0_akm=none
wl_maxassoc=128
wl0_guest_key1_1=
wl0_phrase_x=
wl_phytypes=
wl0_infra=1
wl0_country_code=DE
wl_infra=1
filter_wl_time_x=00002359
wl_maclist_x=
wl_radio_x=1
wl0_wme_sta_be=15 1023 3 0 0 off
wl_guest_auth_mode_1=open
wl_radius_ipaddr=
wl0_gmode_protection_x=0
wl0_ifname=eth2
wl0_guest_wpa_gtk_rekey_1=0
wl0_wme_sta_bk=15 1023 7 0 0 off
wl_wdsnum_x=0
wl_net_reauth=36000
wl0_mrate=0
wl_guest_crypto_1=0
wl0_mode=sta
wl_guest_key2_1=
wl0_ap_isolate=0
wl0_radio_x=1
wl_mrate=0
wl_akm=
filter_wl_date_x=1111111
wl0_wme_no_ack=off
wl0_gmode=1
filter_wl_icmp_x=
wl_gmode=1
wl0_dtim=1
wl0_ssid=default
wl_wme_sta_vi=7 15 2 6016 3008 off
filter_wl_dstport_x=
fw_wl_enable_x=0
wl0_macnum_x=0
wl_wme_ap_be=15 63 3 0 0 off
wl0_dfs_preism=60
wl_plcphdr=long
wl_wme_sta_vo=3 7 2 3264 1504 off
wl_macmode=disabled
wl_wme_ap_bk=15 1023 7 0 0 off
wl0_key1=
wl_phytype=b
wl0id=0x4320
wl0_guest_key4_1=
wl0_key2=
wl_lazywds=0
wl_guest_key_1=1
wl0_guest_auth_mode_1=open
wl0_key3=
wl_dfs_postism=60
wl0_wdslist_x=
wl0_key4=
wl_auth_mode=open
wlan_ipaddr=192.168.21.1
wl0_radio_power_x=17
wl_wpa_psk=
filter_wl_num_x=0
wl0_wme_ap_vi=7 15 1 6016 3008 off
wl_mode=ap
size: 12015 bytes (20753 left)
wl0_wdsapply_x=0
wl0_closed=0
wl0_plcphdr=long
wl0_rate=0
wl0_macmode=disabled
wl_wpa_gtk_rekey=0
wl0_radioids=BCM2050
wl0_wme_ap_vo=3 7 1 3264 1504 off
wl0_phytype=g
wl0_lazywds=0
filter_wl_dstip_x=
wl0_guest_enable=0
wl0_afterburner=off
wl0_antdiv=0
wl_chan_list=1 2 3 4 5 6 7 8 9 10 11 12 13
wl_wds_timeout=1
wl0_radio_time_x=00002359
wl0_mode_x=0
wlan_ifname=eth1
wl_ssid=default
wl_dtim=1
wl_mode_ex=ap
wl0_wpa_psk=
wl0_guest_ssid_1=guest
wl_macapply_x=Both
wl_guest_wpa_psk_1=
wl_key1=
wl_guest_key1_1=
wl_key2=
wl0_unit=0
wl_key3=
wl_country_code=DE
wl_key4=
wl0_txpwr=7
wl_hwaddr=
wl_guest_wep_x_1=0
wl0_net_reauth=36000
wl0_mode_ex=ap
wl0_radio_date_x=1111111
wl0_wds=
filter_wl_proto_x=
wl_rate=0
wl0_reg_mode=off
wlan_netmask=255.255.255.0
wl_phrase_x=
wl0_wep_x=0
wl0_radius_port=1812
wl0_wme=off
wl0_auth=0
wl0_guest_key3_1=
wl0_radius_ipaddr=
wl0_wme_sta_vi=7 15 2 6016 3008 off
wl_country=
wl_wep_x=0
wl0_wme_sta_vo=3 7 2 3264 1504 off
wl_rateset=default
wl_crypto=tkip
wl_radius_key=
wl0_maxassoc=128
wl_unit=0
wl0_phytypes=g
wl0_frag=2346
wl0_wep=disabled
wl_guest_phrase_x_1=
wl0_distance=200
wl0_country=
wl_wdslist_x=
wl_wds=
wl0_rateset=default
wl_guest_key4_1=
wl_wme=off
wl0_ssid2=default
wl_wme_ap_vi=7 15 1 6016 3008 off
filter_wl_srcip_x=
wl0_wdsnum_x=0
wl_auth=0
wl_ssid2=default
wl_guest_wpa_gtk_rekey_1=0
wl_wme_ap_vo=3 7 1 3264 1504 off
wl_frameburst=0
wl0_guest_phrase_x_1=
wl_macnum_x=0
wl0_macapply_x=Both
wl0_rts=2347
wl_ifname=
wl_wep=disabled
wl_guest_enable=0
wl0_maclist_x=
wl0_guest_wpa_psk_1=
wl_gmode_protection=off
wl0_wpa_gtk_rekey=0
wl_radio_time_x=00002359
wl_frag=2346
wl0_key=1
wl_preauth=1
wl_maclist=
wl_guest_ssid_1=guest
filter_wl_srcport_x=
wl0_guest_key2_1=
wl_wme_sta_be=15 1023 3 0 0 off
wl0_guest_key_1=1
wl_radioids=
wl0_dfs_postism=60
landevs=vlan0 wl0
wl0_radio=1
wl_corerev=
wl_channel=0
wl0_bcn=100
wl_wme_sta_bk=15 1023 7 0 0 off
wl0_hwaddr=00:1A:92:7E:63:7D
wl_radio=1
wl_afterburner=off
wl0_preauth=1
wl0_gmode_protection=1
wl_radio_date_x=1111111
wl0_maclist=
wl0_guest_wep_x_1=0
wl_rts=2347
wl_ap_isolate=0
wl_wme_no_ack=off
wl0_radius_key=
wl0_wme_ap_be=15 63 3 0 0 off
wl_radio_power_x=17
wl0_txdiv=0
wl0_corerev=9
wl_key=1
wl0_channel=0
wl_guest_key3_1=
wl0_wds_timeout=1
wl0_wme_ap_bk=15 1023 7 0 0 off
wlan_hardware_present=yes
wl_dfs_preism=60
wl0_auth_mode=open
wl_closed=0
wl0_crypto=tkip
wl_bcn=100
wl_reg_mode=off
wl0_guest_crypto_1=0
wl_antdiv=0</code></pre></div><p>Sorry for my bad english,</p><p>Regards,<br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 4 Nov 2007, 14:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58484">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">doddel</div>
					<div class="post-datetime">
						4 Nov 2007, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>setting variables in nvram doesn&#039;t have an immediate effect and, unless a &#039;nvram commit&#039; was issued, the settings are forgotten at the next system (re-)boot. The drivers that control the radio chip in Kamikaze take their input basically from the network and wireless config files; nvram settings is something of the whiterussian firmware but also there only had their effect upon execution of the &#039;wifi&#039; radio interface binary that looked at a series of nvram variables for input.<br />Immediate effect should have the iwconfig and wl (broadcom specific) commands. Antenna switching should be accomplished by the &#039;wl txant&#039; (transmission: fixed 0 | 1, or to follow last successful reception antenna: 3) and &#039;wl antdiv&#039; commands (reception: fixed 0 | 1 or to choose best signal: 3). If these commands don&#039;t work there must be an incompatibility between the broadcom radio circuit as implemented on the mini-PCI board in the Asus (not working according to your reports), and on the motherboard of e.g. a wrt54gl (where these settings work).<br />The &#039;wl rssi&#039; command may produce confusion where signals from various sources are received. To be specific you can issue &#039;wl rssi &lt;mac number&gt;&#039; to get the value of a particular radio. The values are in dBm, a logarithmic factor relative to a reference power level.<br />A less negative number is stronger than a more negative number. The noise floor is somewhere in the - 95 realm in case of a wrt54gl. In the -60 - -70 range or stronger one can start using full 54M speed in my experience.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58530">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						5 Nov 2007, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>Maybe somebody can switch his router to MAIN antenna and post /etc/config/wireless and /etc/config/network, files and nvram settings?<br />Try to unscrew external antenna and write how much your signal has changed(this is for checking if you really have switched to external antenna).</p><br /><p>Regards,<br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 5 Nov 2007, 19:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58588">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						6 Nov 2007, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>I tried on freshly installed Kamikaze 7.09, and found out that wlc method to set diversity is non-working on external(MAIN or &quot;0&quot;) antenna.<br /> <strong>&quot;wlc rxant&quot;</strong>&nbsp; and <strong>&quot;wlc txant&quot;</strong> controls only internal antenna(&quot;1&quot;), but if I try to set external antenna(&quot;0&quot;) using &quot;wlc rxant 0&quot; and &quot;wlc txant 0&quot; I get very low signals, both ways, uplink and downlink.</p><p> Broadcom Users, can you confirm such behavior of &quot;wlc&quot; or any other method for setting receiving and transmitting antennas?</p><p>If external antenna can&#039;t be used in OpenWrt, it&#039;s quite serious problem, internal antenna has poor characteristics, and bigger problem is that you can&#039;t use any directional ant.<br /> Maybe it&#039;s bcm43xx driver bug?</p><br /><p>edited: look like same problem, still no solution: <a href="http://wl500g.info/showthread.php?t=9233&amp;highlight=diversity">http://wl500g.info/showthread.php?t=923 … =diversity</a></p><br /><p>sorry for my bad english,<br />Kestas</p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 6 Nov 2007, 22:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58703">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">Pow</div>
					<div class="post-datetime">
						9 Nov 2007, 12:42					</div>
				</div>
				<div class="post-content content">
					<p>I had a success with rxant and txant configuration variables. I used 14dBi external antenna for long range link in client mode. You don&#039;t have to call wlc to do that. /lib/wifi/broadcom.sh will take care of it. IIRC, possible antenna settings are 1|2|3, not 0|1|3 as doddel suggested. So in &quot;config wifi-device wl0&quot; section you&#039;ll need &quot;option rxant 1&quot; and &quot;option txant 1&quot;.<br />1 is antenna main (connected to chasis RP-SMA connector)<br />2 is antenna ext (not connected)<br />3 is diversity (default behavior)</p><p>I&#039;m 100% sure that it works, because I have 2 WL-500GP boxes placed 1m apart - one is uplink with 14dBi panel antenna in client mode, other is bridge mode ap (omni antenna) different channel, different network. With default behavior (diversity) my uplink box switched to antenna 2 and could not connect to uplink ap, because signal from ap box was stronger than from uplink. Changed rxant and txant settings and that fixed it.</p><p>Of course now I switched to Atheros AR5006XS based NICs, because Broadcoms are crap. For atheros configuration options for antenna selection should be &quot;option rxantenna 0&quot;, &quot;option txantenna 0&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59170">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						18 Nov 2007, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>Labvakar, Pow! Greeings form neighborly Lithuania <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Why do you think that Broadcom is so bad, you said that it is working for you, do you have any problems?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59245">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">tajuma</div>
					<div class="post-datetime">
						19 Nov 2007, 21:30					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;am running latest Kamikaze svn 2.6 kernel on my wl500-gP with b34/mac80211 driver in sta mode. It shows signal level ~ -70dBm (a laptop next to it is ~ -30dBm).</p><p>Does someone know how to select different antenna with this driver?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59252">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">saugumas</div>
					<div class="post-datetime">
						19 Nov 2007, 22:59					</div>
				</div>
				<div class="post-content content">
					<p>looks like b43 is support is getting better, good news.<br /><a href="https://dev.openwrt.org/search?q=b43&amp;wiki=on&amp;changeset=on&amp;ticket=on">https://dev.openwrt.org/search?q=b43&am … ;ticket=on</a></p>											<p class="post-edited">(Last edited by <strong>saugumas</strong> on 19 Nov 2007, 22:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59557">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Pow</div>
					<div class="post-datetime">
						26 Nov 2007, 18:24					</div>
				</div>
				<div class="post-content content">
					<p>Correction. It&#039;s<br /></p><div class="codebox"><pre><code>option rxant 0
option txant 0</code></pre></div><p>for Broadcom and<br /></p><div class="codebox"><pre><code>option rxantenna 1
option txantenna 1</code></pre></div><p>for Atheros.</p><p>saugumas, I switched to Atheros because of superior radio sensitivity and better SNR.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>