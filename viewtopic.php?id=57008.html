<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Gigabit WAN Capable Hardware.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p273897">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Degeneratescum</div>
					<div class="post-datetime">
						25 Apr 2015, 12:48					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m shortly going to be moving into an apartment where I will have the good fortune to have a 1000mbps down/100mbps up connection. I want to make the most of this and not have my throughput restricted by my router. I fear that my trusty WZR-HP-AG300H will be over-stretched by this task. So I&#039;m looking for hardware recommendations. My requirements are simple:</p><p>- fastest 802.11ac wireless possible<br />- full speed throughput from WAN to LAN.</p><p>From what I have read, I understand that NAT performance may be an issue. The higher-performance routers use hardware NAT acceleration that OpenWRT can&#039;t support due to lack of open drivers, and even the fastest consumer router CPUs are likely to struggle doing software NAT at the throughput rates I require.</p><p>So does anyone know of any reasonably priced routers out there that are actually capable of this level of performance whilst running OpenWRT? Or would I be better off building my own with a small form-factor x86 PC solution?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274066">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						27 Apr 2015, 01:30					</div>
				</div>
				<div class="post-content content">
					<p>Check out TP-LINK WR3600 and read a bit more on openwrt forum, there are LOTS of similar questions and lots of answers already.</p><p>Update: for that kind of speeds I couldn&#039;t find any wifi route that could handle more than 80Mbps and I tested quite few of them...</p><p>Only device that had enough power to get more that 100Mbps was Banana Pi Router BPI-R1! Get it and you won&#039;t be disappointed:<br /><a href="http://www.banana-pi.com/eacp_view.asp?id=64">http://www.banana-pi.com/eacp_view.asp?id=64</a></p>											<p class="post-edited">(Last edited by <strong>valentt</strong> on 27 Apr 2015, 01:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274083">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						27 Apr 2015, 04:56					</div>
				</div>
				<div class="post-content content">
					<p>Probably best off with a low powered x86 system if you want to handle those speeds, especially with any sort of QoS functionality (and even with those high speeds, you may still want QoS).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274142">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Degeneratescum</div>
					<div class="post-datetime">
						27 Apr 2015, 15:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>drawz wrote:</cite><blockquote><p>Probably best off with a low powered x86 system if you want to handle those speeds, especially with any sort of QoS functionality (and even with those high speeds, you may still want QoS).</p></blockquote></div><p>Yes, I&#039;m close to reaching that conclusion. I will definitely want QOS, as I&#039;ll have bittorrent sharing the network with VOIP. In any case, I don&#039;t want a router that goes flat out just to keep up with my connection, I want one with some headroom to spare, in case I want to make it do more clever stuff in future. Price also comes into it. With some of the top-end consumer routers now approaching Â£250, the economic case for going x86 instead stacks up well. From a logistical viewpoint, I can also see advantages to moving back to an old-fashioned &quot;one box per task&quot; approach, rather than all-in-one.</p><p>- Separate router, placed in a convenient location between the incoming WAN and the switch.<br />- Separate Gigabit switch, placed in the best location for cable runs in the apartment.<br />- Separate 802.11ac access point, placed in the best location(s) for signal propagation (maybe a ceiling mount).</p><p>The PCEngines APU looks attractive, but valentt&#039;s suggestion of the Banana Pi is completely new to me and also looks interesting.</p><p>The biggest problem I have here is trying to assess the relative bang for buck with all the different architectures out there. Will an APU have the power to do software NAT at gigabit speeds easily? how do it&#039;s dual 1GHz AMD Bobcat cores compare to the dual 1GHz A20 ARM Cortex A7 cores in the Banana Pi? The temptation is to assume that x86 = much more powerful, but that&#039;s probably a very dangerous assumption to make these days.</p><br /><p>Edit: I should have read the APU wiki page more thoroughly. It has benchmarks that show the APU Doing NAT at close to gigabit line speed with 80% CPU utilization, running an OpenWRT image that was only using one core. So at least that answers my question, it certainly suits my needs, but how does it compare on price/performance to other options?</p><p><a href="http://wiki.openwrt.org/toh/pcengines/apu">http://wiki.openwrt.org/toh/pcengines/apu</a></p>											<p class="post-edited">(Last edited by <strong>Degeneratescum</strong> on 27 Apr 2015, 16:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274192">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						27 Apr 2015, 20:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Degeneratescum wrote:</cite><blockquote><p>but valentt&#039;s suggestion of the Banana Pi is completely new to me and also looks interesting.</p></blockquote></div><p>Just forget the Banana Pi, which is an Allwinner A20 SOC coupled with a Broadcom switch chip. As long as your data can be handled exclusively by the Broadcom switch, performance should be fine - but once your data needs to go to the A20 SOC (which is needed for routing, NAT, firewall, etc.), you&#039;re limited to the A20&#039;s single gmac - which can&#039;t sustain more than 300-400 MBit/s throughput. </p><p>The concept of the Banana Pi is really nice, but the Allwinner A20&#039;s ethernet I/O options simply aren&#039;t fast enough to do anything interesting with multiple GBit/s interfaces at line speed (and for routing, you need at least two interfaces, WAN and LAN). The attached Broadcom switch chipset is just that, a (managed) switch, without an option for advanced filtering or routing - which has to go through the single SOC ethernet. In practice it might work fine up to ~100 MBit/s WAN speeds, perhaps even up to 200 MBit/s, (depending on what you actually want to do on the A20) and everything else offloaded to the vlans of the Broadcom switch chipset, but anyything that needs to go through the SOC gmac simply can&#039;t cope with full GBit/s throughput.</p><p>[Disclaimer, I haven&#039;t played with the Banana Pi router board so far, but am roughly familiar with the Allwinner A10/ A20 SOCs]</p>											<p class="post-edited">(Last edited by <strong>slh</strong> on 27 Apr 2015, 21:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274220">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">drawz</div>
					<div class="post-datetime">
						28 Apr 2015, 01:30					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think any of the slower ARM CPUs will be up to the task. Maybe MAYBE the 1.2 GHz dual core ARM in the Linksys WRT1900AC, but I&#039;m quite confident the PC Engines APU would still be faster.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274242">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Degeneratescum</div>
					<div class="post-datetime">
						28 Apr 2015, 04:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>drawz wrote:</cite><blockquote><p>I don&#039;t think any of the slower ARM CPUs will be up to the task. Maybe MAYBE the 1.2 GHz dual core ARM in the Linksys WRT1900AC, but I&#039;m quite confident the PC Engines APU would still be faster.</p></blockquote></div><p>And cheaper. The UK distributors of the APU seem way overpriced, I just found out I can buy a 2GB APU, case and PSU from Germany for Â£125 including VAT and international shipping. I could add an AC wireless card to that and still come out cheaper than the Â£200 a WRT1900AC sells for.</p><p>The APU looks like the winner by a long way!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274261">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						28 Apr 2015, 09:57					</div>
				</div>
				<div class="post-content content">
					<p>Does anybody of you own APU or are you just talking your opinions ?</p><p>My money is on BananaPi Router, so lets benchmark them and see which board is faster and more capable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274298">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Degeneratescum</div>
					<div class="post-datetime">
						28 Apr 2015, 15:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>valentt wrote:</cite><blockquote><p>Does anybody of you own APU or are you just talking your opinions ?</p></blockquote></div><p>slh gave an opinion based on knowledge of the technical parameters of the BananaPi chip. That&#039;s not random speculation.</p><br /><div class="quotebox"><cite>valentt wrote:</cite><blockquote><p>My money is on BananaPi Router, so lets benchmark them and see which board is faster and more capable.</p></blockquote></div><p>You realise we&#039;re talking about a 1000mbps connection here? The APU has been benchmarked doing NAT at speeds of 935mbps. You talked about the BananaPi doing &quot;over 100mbps&quot; above. You&#039;re out by a factor of 10.</p>											<p class="post-edited">(Last edited by <strong>Degeneratescum</strong> on 28 Apr 2015, 16:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274369">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">trismo</div>
					<div class="post-datetime">
						28 Apr 2015, 23:21					</div>
				</div>
				<div class="post-content content">
					<p>with Realtek RTL8111E forgot it max speed 800mbit to SOC</p><p>and everything i kown that support this speed 1GBS wan + qos is not cheap 1000â¬ + and not running well with openwrt</p>											<p class="post-edited">(Last edited by <strong>trismo</strong> on 29 Apr 2015, 00:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274386">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Degeneratescum</div>
					<div class="post-datetime">
						29 Apr 2015, 00:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>trismo wrote:</cite><blockquote><p>with Realtek RTL8111E forgot it max speed 800mbit to SOC</p><p>and everything i kown that support this speed 1GBS wan + qos is not cheap 1000â¬ + and not running well with openwrt</p></blockquote></div><p>Well, I&#039;m not going to be spending that amount on hardware. The APU looks to be the most powerful option within my price range.</p><p>The benchmarks others have run suggest higher throughput than your 800mbit ceiling. The hardware should be capable, maybe the drivers have been improved.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274540">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">hoovey316</div>
					<div class="post-datetime">
						30 Apr 2015, 03:22					</div>
				</div>
				<div class="post-content content">
					<p>Small form factor PC all the way.</p><p>My company recently ported OpenWRT over to a MITX based PC.&nbsp; Dualcore hyperthreaded 1.8GHz Atom.</p><p>It pegged out a gigabit interface with NAT speed tests @ 10-15% CPU a thread.&nbsp; We actually had to test multiple Wan/Lan simultaneously to saturate the CPU with just NAT.</p><p>Long story short 1750Mbps @ 175,000 PPS @ 1500 Byte Packets</p><p>Runs barrier breaker 14.07.</p><p>Costs &lt;400$</p>											<p class="post-edited">(Last edited by <strong>hoovey316</strong> on 30 Apr 2015, 03:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p274572">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">valentt</div>
					<div class="post-datetime">
						30 Apr 2015, 10:34					</div>
				</div>
				<div class="post-content content">
					<p>For home I&#039;m fine with 1/4 of the price, 1/4 of performance and 1/4 power bill with running EdgeRouter Lite or BananaPi Router version with 5 ports.</p><p>For SMB businesses I would also go with same setup, only for some bigger company I would chose PC. PCs are nice but overkill and too big TCO.</p>											<p class="post-edited">(Last edited by <strong>valentt</strong> on 1 Nov 2015, 00:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p361561">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">asldjlajhdwat</div>
					<div class="post-datetime">
						5 Jul 2017, 21:27					</div>
				</div>
				<div class="post-content content">
					<p>Fast Path on LEDE:</p><p>forum.lede-project.org/t/qualcomm-fast-path-for-lede/4582</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>