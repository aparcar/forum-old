<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Asterisk: Unable to connect to remote asterisk</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Feb 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p56394">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">draxx86</div>
					<div class="post-datetime">
						24 Sep 2007, 18:16					</div>
				</div>
				<div class="post-content content">
					<p>I have just upgraded my wgt634u to kamikaze 7.07 and I have installed asterisk.<br />I have modified /etc/default/asterisk:<br />ENABLE_ASTERISK=&quot;yes&quot;</p><p>But now this is the situation:</p><p>root@OpenWrt:~# asterisk -r<br />Unable to connect to remote asterisk (does /var/run/asterisk.ctl exist?)<br />root@OpenWrt:~#</p><p>Please, help me!</p><p>ps. excuse me for grammar mistake, I don&#039;t speak english very well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63365">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						13 Feb 2008, 21:20					</div>
				</div>
				<div class="post-content content">
					<p>I know this is a rather old post and don&#039;t know if you already found a solution. However, I, too, would like to re-visit this issue. I have just flashed one of my LaFonera units with an OpenWRT compiled off the SVN trunk with asterisk14 and asterisk-1.2.x. Regardless which version of asterisk I installed, when I try to run rasterisk, I always got the same error message indicating <em>/var/run/asterisk.ctl doesn&#039;t exist</em> even though my asterisk has been configured and run through the original init scripts (/etc/init.d/asterisk) during a reboot. However, if I modified the /etc/default/asterisk file to include this <em>OPTIONS=&quot;-<strong>v</strong>C /etc/asterisk/asterisk.conf&quot;</em> (notice the verbose <strong>v</strong> switch) and add an <strong>&amp;</strong> at the end of the line to launch asterisk on the /etc/init.d/asterisk file, i.e. <em>$DEST/usr/sbin/asterisk $OPTIONS <strong>&amp;</strong></em>, then rasterisk will run without a problem as shown below:</p><div class="codebox"><pre><code>root@192.168.1.2&#039;s password: 


BusyBox v1.8.2 (2008-02-12 15:28:32 EST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r10141) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@Fonerisk:~# rasterisk
Asterisk 1.4.17, Copyright (C) 1999 - 2007 Digium, Inc. and others.
Created by Mark Spencer &lt;markster@digium.com&gt;
Asterisk comes with ABSOLUTELY NO WARRANTY; type &#039;core show warranty&#039; for details.
This is free software, with components licensed under the GNU General Public
License version 2 and other licenses; you are welcome to redistribute it under
certain conditions. Type &#039;core show license&#039; for details.
=========================================================================
Connected to Asterisk 1.4.17 currently running on Fonerisk (pid = 461)
Verbosity is at least 1
Fonerisk*CLI&gt;</code></pre></div><p>Honetly, I just don&#039;t like this quick and simple hack. I am hoping someone who knows how to fix this can help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70027">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">fireandy</div>
					<div class="post-datetime">
						25 Jun 2008, 03:03					</div>
				</div>
				<div class="post-content content">
					<p>I have exactly the same problem and no solution yet - I do not even know, where the problem lies / comes from...<br />It is definitely not possible for me to run Asterisk in background, if I use one of the options, that it does some output, it works (e.g. : -v, -f, -d). But the &quot;normal&quot; mode (./asterisk start) is not working, a pid file is created, asterisk processes appear in list of processes, but I am not able to connect locally (command: asterisk -r), or by using x-lite.</p><p>Hardware: WL-500 GP<br />OpenWRT Kamikaze 2.6 trunk r11370<br />asterisk 1.4.11-1</p>											<p class="post-edited">(Last edited by <strong>fireandy</strong> on 25 Jun 2008, 03:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70065">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">baba2s</div>
					<div class="post-datetime">
						25 Jun 2008, 17:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fireandy wrote:</cite><blockquote><p>I have exactly the same problem and no solution yet - I do not even know, where the problem lies / comes from...<br />It is definitely not possible for me to run Asterisk in background, if I use one of the options, that it does some output, it works (e.g. : -v, -f, -d). But the &quot;normal&quot; mode (./asterisk start) is not working, a pid file is created, asterisk processes appear in list of processes, but I am not able to connect locally (command: asterisk -r), or by using x-lite.</p><p>Hardware: WL-500 GP<br />OpenWRT Kamikaze 2.6 trunk r11370<br />asterisk 1.4.11-1</p></blockquote></div><p>Me too have same issue..<br />Looks like some issue in SVN trunk for Asterisk.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p70092">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						25 Jun 2008, 23:53					</div>
				</div>
				<div class="post-content content">
					<p>Please read <a href="http://forum.openwrt.org/viewtopic.php?pid=66378#p66378">my last response</a> on this <a href="http://forum.openwrt.org/viewtopic.php?id=13839&amp;p=2">thread</a> where I confirmed the problem was caused by uClibc-0.9.29 library. Ever since I recompiled my OpenWRT SVN source with uClibc-0.9.28 library, my asterisk runs normally without any additional switches.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>