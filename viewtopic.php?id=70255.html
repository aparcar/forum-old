<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> snmpd</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p354398">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">leonids23</div>
					<div class="post-datetime">
						17 Mar 2017, 05:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi body<br />I just download this<br />snmpd_5.4.4-1_ramips_24kec.ipk.<br />Installing libnetsnmp (5.4.4-1) to root...<br />Downloading </p><p>and my OS is <br />BusyBox v1.23.2 (2016-09-27 07:54:34 CEST) built-in shell (ash)<br /> CHAOS CALMER (15.05.1, r49203)<br />-----</p><p>my question is how to use snmpd ???<br />Anyone can teach me? any example for me </p><p>#snmpd&nbsp; -v <br />NET-SNMP version:&nbsp; 5.4.4<br />Web:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Email:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;net-snmp-coders@lists.sourceforge.net</p><p>Thank you body!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354405">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">milankocvara</div>
					<div class="post-datetime">
						17 Mar 2017, 09:52					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />default OpenWRT config is in /etc/config/snmpd and OpenWRT scripts build the /etc/snmp/snmpd.conf. &lt; this is symlink into /tmp dir</p><p>After instalation is there a default configuration and daemon should be started automatically after instalation.</p><p>You can test it, if is working by snmpwalk from your computer<br />Default community for reading is public<br />snmpwalk -c public -v 2c LAN_IP_OF_ROUTER .&nbsp; &lt; dont forget the dot at the end of command. It mean LIST ALL OIDS</p>											<p class="post-edited">(Last edited by <strong>milankocvara</strong> on 17 Mar 2017, 09:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354408">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">leonids23</div>
					<div class="post-datetime">
						17 Mar 2017, 11:15					</div>
				</div>
				<div class="post-content content">
					<p>Hello milankocvara<br />First,thank you for your reply!<br />Could you teach me what is must be set to conf?<br />And when I use Windows OS,what software have be install to watch snmp?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354409">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">leonids23</div>
					<div class="post-datetime">
						17 Mar 2017, 11:16					</div>
				</div>
				<div class="post-content content">
					<p>And I try to do your tell me<br />It&#039;s show：<br />-ash: snmpwalk: not found</p><p>--------------<br />root@mylinkit:~# snmpd -h</p><p>Usage:&nbsp; snmpd [OPTIONS] [LISTENING ADDRESSES]</p><p>&nbsp; &nbsp; &nbsp; &nbsp; Version:&nbsp; 5.4.4<br />&nbsp; &nbsp; &nbsp; &nbsp; Web:&nbsp; &nbsp; &nbsp; <a href="http://www.net-snmp.org/">http://www.net-snmp.org/</a><br />&nbsp; &nbsp; &nbsp; &nbsp; Email:&nbsp; &nbsp; net-snmp-coders@lists.sourceforge.net</p><p>&nbsp; -a&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; log addresses<br />&nbsp; -A&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; append to the logfile rather than truncating it<br />&nbsp; -c FILE[,...]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;read FILE(s) as configuration file(s)<br />&nbsp; -C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do not read the default configuration files<br />&nbsp; -d&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dump sent and received SNMP packets<br />&nbsp; -D[TOKEN[,...]]&nbsp; &nbsp; &nbsp; &nbsp;turn on debugging output for the given TOKEN(s)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (try ALL for extremely verbose output)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Don&#039;t put space(s) between -D and TOKEN(s).<br />&nbsp; -f&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do not fork from the shell<br />&nbsp; -g GID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; change to this numeric gid after opening<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; transport endpoints<br />&nbsp; -h, --help&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display this usage message<br />&nbsp; -H&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; display configuration file directives understood<br />&nbsp; -I [-]INITLIST&nbsp; &nbsp; &nbsp; &nbsp; list of mib modules to initialize (or not)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (run snmpd with -Dmib_init for a list)<br />&nbsp; -L &lt;LOGOPTS&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; toggle options controlling where to log to<br />&nbsp; &nbsp; &nbsp; &nbsp; e:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;log to standard error<br />&nbsp; &nbsp; &nbsp; &nbsp; o:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;log to standard output<br />&nbsp; &nbsp; &nbsp; &nbsp; n:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;don&#039;t log at all<br />&nbsp; &nbsp; &nbsp; &nbsp; f file:&nbsp; &nbsp; &nbsp; log to the specified file<br />&nbsp; &nbsp; &nbsp; &nbsp; s facility:&nbsp; log to syslog (via the specified facility)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; (variants)<br />&nbsp; &nbsp; &nbsp; &nbsp; [EON] pri:&nbsp; &nbsp;log to standard error, output or /dev/null for level &#039;pri&#039; and above<br />&nbsp; &nbsp; &nbsp; &nbsp; [EON] p1-p2: log to standard error, output or /dev/null for levels &#039;p1&#039; to &#039;p2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; [FS] pri token:&nbsp; &nbsp; log to file/syslog for level &#039;pri&#039; and above<br />&nbsp; &nbsp; &nbsp; &nbsp; [FS] p1-p2 token:&nbsp; log to file/syslog for levels &#039;p1&#039; to &#039;p2&#039;<br />&nbsp; -m MIBLIST&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use MIBLIST instead of the default MIB list<br />&nbsp; -M DIRLIST&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use DIRLIST as the list of locations<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; to look for MIBs<br />&nbsp; -p FILE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;store process id in FILE<br />&nbsp; -q&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print information in a more parsable format<br />&nbsp; -r&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; do not exit if files only accessible to root<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cannot be opened<br />&nbsp; -u UID&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; change to this uid (numeric or textual) after<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; opening transport endpoints<br />&nbsp; -v, --version&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;display version information<br />&nbsp; -V&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; verbose display</p><p>Deprecated options:<br />&nbsp; -l FILE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;use -Lf &lt;FILE&gt; instead<br />&nbsp; -P&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use -p instead<br />&nbsp; -s&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use -Lsd instead<br />&nbsp; -S d|i|0-7&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use -Ls &lt;facility&gt; instead</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354413">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">milankocvara</div>
					<div class="post-datetime">
						17 Mar 2017, 12:02					</div>
				</div>
				<div class="post-content content">
					<p>you can download net-snmp utils for windows from here</p><p><a href="http://www.net-snmp.org/download.html">http://www.net-snmp.org/download.html</a></p><p>there you can find a link to the sourceforge for downloading windows binary.<br />It is command-line tool and after installation/unpacking directly from snmp directory you can run command above.<br />snmpwalk is client. It is not part of snmpd, you have installed on your router.</p><div class="quotebox"><blockquote><p>And I try to do your tell me<br />It&#039;s show：<br />-ash: snmpwalk: not found</p></blockquote></div><p>In default OpenWRT settings of SNMPD you will see all important data.<br />For what you want these information (from snmp)?</p><p>OpenWRT/LEDE have in luci web good working and good looking tools using collectd and rrdtool (statistic blurb)</p><p>snmp is useless without other implementation (zabbix etc)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354425">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						17 Mar 2017, 15:38					</div>
				</div>
				<div class="post-content content">
					<p>My guess is that you wish to monitor something using SNMP?&nbsp; If so, what would you like to have monitored? It matters because the SNMP agent is very lean and only offers a limited amount of MIBS (Management Information Base). </p><p>SNMP works by Polling the agent (running on the router) on a schedule using a client. The results are usually stored in a database for graphing purposes. Alerts can also be set up on the client when a threshold is reached. </p><p>General Syntax for a snmp.&nbsp; #snmpwalk -c public -v2c &quot;Router_IP&quot;&nbsp; &quot;MIB&quot;</p><p>Example mib(s)&nbsp; &quot;system&quot; &quot;ifmib&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354827">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">leonids23</div>
					<div class="post-datetime">
						23 Mar 2017, 04:44					</div>
				</div>
				<div class="post-content content">
					<p>milankocvara，davidc502&nbsp; Thank you for reply me!!!<br />I have problem for that!<br />1. I want to look storage status and I use command<br /> snmpwalk -v 2c -c public 192.168.5.136 1.3.6.1.4.1.2021.9.1.6.1<br />but that was show &quot; iso.3.6.1.4.1.2021.9.1.6.1 = No Such Instance currently exists at this OID &quot;<br />Is it not support my machine?? or I should set any on conf?<br />I have try to look CPU Load<br />1 minute Load: .1.3.6.1.4.1.2021.10.1.3.1<br />5 minute Load: .1.3.6.1.4.1.2021.10.1.3.2<br />15 minute Load: .1.3.6.1.4.1.2021.10.1.3.3<br />And memory<br />Total memory：.1.3.6.1.4.1.2021.4.5.0<br />Free memory：.1.3.6.1.4.1.2021.4.11.0<br />All of that was show to me!<br />Just storage was trouble.............</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354828">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">leonids23</div>
					<div class="post-datetime">
						23 Mar 2017, 04:50					</div>
				</div>
				<div class="post-content content">
					<p>and another problem is....<br />I setting to /etc/snmp/snmp.conf <br />But when I command: /etc/init.d/snmpd restart<br />any setting was clean.<br />That is back default setting <br />I don&#039;t what is wrong.........</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354830">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						23 Mar 2017, 05:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>leonids23 wrote:</cite><blockquote><p>milankocvara，davidc502&nbsp; Thank you for reply me!!!<br />I have problem for that!<br />1. I want to look storage status and I use command<br /> snmpwalk -v 2c -c public 192.168.5.136 1.3.6.1.4.1.2021.9.1.6.1<br />but that was show &quot; iso.3.6.1.4.1.2021.9.1.6.1 = No Such Instance currently exists at this OID &quot;<br />Is it not support my machine?? or I should set any on conf?<br />I have try to look CPU Load<br />1 minute Load: .1.3.6.1.4.1.2021.10.1.3.1<br />5 minute Load: .1.3.6.1.4.1.2021.10.1.3.2<br />15 minute Load: .1.3.6.1.4.1.2021.10.1.3.3<br />And memory<br />Total memory：.1.3.6.1.4.1.2021.4.5.0<br />Free memory：.1.3.6.1.4.1.2021.4.11.0<br />All of that was show to me!<br />Just storage was trouble.............</p></blockquote></div><p>See if the host resource mib is available.&nbsp; &nbsp; &nbsp; 1.3.6.1.2.1.25.2.3.1.1&nbsp; &nbsp;&lt; hrstorageindex</p><p>If it is you can take a look at storageSize and storageUsed to calculate how much is free.</p><p><a href="http://www.oidview.com/mibs/0/HOST-RESOURCES-MIB.html">http://www.oidview.com/mibs/0/HOST-RESOURCES-MIB.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354843">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">milankocvara</div>
					<div class="post-datetime">
						23 Mar 2017, 09:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>leonids23 wrote:</cite><blockquote><p>and another problem is....<br />I setting to /etc/snmp/snmp.conf <br />But when I command: /etc/init.d/snmpd restart<br />any setting was clean.<br />That is back default setting <br />I don&#039;t what is wrong.........</p></blockquote></div><p>As I wrote before, /etc/snmp/snmp.conf is symlink into TMP, where script /etc/init.d/snmpd build a configuration from Owrt confing /etc/config/snmp</p><p>Here you have to do changes to build snmpd config with your own settings</p>											<p class="post-edited">(Last edited by <strong>milankocvara</strong> on 23 Mar 2017, 09:15)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>