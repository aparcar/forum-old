<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> DIR-300 - trunk build w x-wrt appears to reboot very often</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Jan 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p87399">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">reddust</div>
					<div class="post-datetime">
						6 May 2009, 07:59					</div>
				</div>
				<div class="post-content content">
					<p>Router: DIR-300</p><p>Build: r15630</p><p>Configuration: Atheros AR231x; default options plus webif, tc, ntpclient, bandwidthd</p><p>Build method:</p><p>svn co svn://svn.openwrt.org/openwrt/trunk<br />cd trunk<br />./scripts/feeds update -a<br />./scripts/feeds install -a<br />make menuconfig<br />&nbsp; -- select configuration as above --<br />make</p><p>Install: openwrt-atheros-vmlinux.lzma and openwrt-atheros-root.squashfs via redboot procedure</p><p>Behaviour: Appears to reboot when you do almost anything - try to access a web page through it; try to access it via ssh; try to access the webif interface.<br />What happens is that the LAN port light flashes a couple of times (I am accessing the router through the LAN port) then the PC says ethernet cable has disconnected and<br />the LAN port lights scan once as happens on boot (lights up port 4, then 3, 2, 1) and it comes back to life again after only a few seconds.</p><p>Where does one go from here?</p><p>Try a different SVN number?&nbsp; Eliminate x-wrt from the equation (but the whole reason for doing this in the first place is to use x-wrt&#039;s bandwidth graphs)?<br />Go back to release 8.09 kamikaze and add the patch for switch configuration that the DIR-300 needs (but how to add a patch?)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87418">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						6 May 2009, 14:25					</div>
				</div>
				<div class="post-content content">
					<p>Yeah, unstable on high traffic. Even with 8.09 release <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87476">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">reddust</div>
					<div class="post-datetime">
						7 May 2009, 01:26					</div>
				</div>
				<div class="post-content content">
					<p>On the DIR-300, the trunk build is unstable even with low traffic.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87503">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">indishark</div>
					<div class="post-datetime">
						7 May 2009, 11:35					</div>
				</div>
				<div class="post-content content">
					<p>I am using trunk build on DIR-300. Till now I thought it was running stable, and did not really check for uptime. <br />I would be monitoring the router uptime now while loading it with torrent. Right now my uptime shows 4.5 hours, however last reset(by me) was more than a day ago. So either router reboot itself or there was a power cut(happens here sometimes).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87723">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">onkaonka</div>
					<div class="post-datetime">
						11 May 2009, 10:12					</div>
				</div>
				<div class="post-content content">
					<p>Indishark,<br />what are results after 4 days?<br />Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87728">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						11 May 2009, 12:19					</div>
				</div>
				<div class="post-content content">
					<p>Ok. I&#039;ll give trunk a try. Seems that the drivr for the switch is integrated as well now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87739">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						11 May 2009, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>Latest trunk does not compile for me...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87974">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						14 May 2009, 14:54					</div>
				</div>
				<div class="post-content content">
					<p>It seems the trunk is broken for DIR-300. I tried rev. 15802 and it reboots so often I can&#039;t even login to the web admin. Then I compiled 8.09 release with IC-175 patches and it works fine, at least idle (have to test it under full load yet). BTW, there are slightly different instructions for flashing on DIR-300 and AR430W - the latter one requires calculation of size of the loaded image, which the former does not. The image that works now was flashed with size calculated, the trunk was flashed both ways and did not work either.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88131">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">macjonesnz</div>
					<div class="post-datetime">
						17 May 2009, 15:14					</div>
				</div>
				<div class="post-content content">
					<p>r15888 compiles fine for me. but i can only access local lan, not internet.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88412">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						21 May 2009, 22:35					</div>
				</div>
				<div class="post-content content">
					<p>Well, I have tested my image under load and it works fine. No reboots by itself. The only issue is high CPU load due to ksoftirqd - up to 70%, which is disappointing. Probably newer kernels should fix it.</p><p>BTW, it&#039;s sadly LuCI lacks VPN setup page - it&#039;s difficult to set it up manually <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> VPN pass-through is missing also... I&#039;m using PPTP VPN. X-Wrt has one, but it&#039;s buggy and still not tested for Kamikaze (I tested, not works).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p88429">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">warm</div>
					<div class="post-datetime">
						22 May 2009, 06:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>reddust wrote:</cite><blockquote><p>Router: DIR-300</p><p>Build: r15630</p><p>Configuration: Atheros AR231x; default options plus webif, tc, ntpclient, bandwidthd</p><p>Build method:</p><p>svn co svn://svn.openwrt.org/openwrt/trunk<br />cd trunk<br />./scripts/feeds update -a<br />./scripts/feeds install -a<br />make menuconfig<br />&nbsp; -- select configuration as above --<br />make</p><p>Install: openwrt-atheros-vmlinux.lzma and openwrt-atheros-root.squashfs via redboot procedure</p><p>Behaviour: Appears to reboot when you do almost anything - try to access a web page through it; try to access it via ssh; try to access the webif interface.<br />What happens is that the LAN port light flashes a couple of times (I am accessing the router through the LAN port) then the PC says ethernet cable has disconnected and<br />the LAN port lights scan once as happens on boot (lights up port 4, then 3, 2, 1) and it comes back to life again after only a few seconds.</p><p>Where does one go from here?</p><p>Try a different SVN number?&nbsp; Eliminate x-wrt from the equation (but the whole reason for doing this in the first place is to use x-wrt&#039;s bandwidth graphs)?<br />Go back to release 8.09 kamikaze and add the patch for switch configuration that the DIR-300 needs (but how to add a patch?)?</p></blockquote></div><p>Probably this may not be a software problem. If You can You should try to replace power supply (AC adaptor). There are capacitors in all circuits, they can degradate from time and hardware bedins to work unstable.</p><p>Or You can flash back original firmware and test. But original d-link firmware often is not stable by it self :-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>