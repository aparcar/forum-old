<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> JTAG OpenOCD Configuration for Broadcom 63xx</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p134020">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">PopOpen</div>
					<div class="post-datetime">
						26 Apr 2011, 03:44					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have been trying to figure out how to use JTAG on my <strong>BCM6348</strong>-based, <a href="http://wiki.openwrt.org/toh/pirelli/a125g">Pirelli A125G</a> router. I am using the latest git clone of OpenOCD, but I fail to find the correct &quot;target&quot; and &quot;board&quot; configuration files, appropriate for this board. Perhaps it&#039;s there, but most likely it is not. I have Googled myself blue, but in vain. I know Broadcom is based on MIPS technology, and according to OpenOCD manual, there should be at least one target/cpu/board (or whatever it is) available. See: </p><p><a href="http://openocd.berlios.de/doc/html/CPU-Configuration.html#target%20types">http://openocd.berlios.de/doc/html/CPU- … et%20types</a> <br /><a href="http://openocd.berlios.de/doc/html/Config-File-Guidelines.html">http://openocd.berlios.de/doc/html/Conf … lines.html</a></p><p>In addition, I have found the relevant devices (BCM6348/58) in the UrJTAG release. But I do not use UrJTAG as my JTAG USB-dongle is not yet supported there. For more information on UrJTAG data file formats, look <a href="http://urjtag.org/book/_data_file_format.html">here</a>.</p><br /><p>My board data are as follows:<br />-------------------------------------------------------------<br />SoC &nbsp; &nbsp; &nbsp; &nbsp; Broadcom 6348 Rev.b0 / 00029107 @ 240 MHz<br />CPU &nbsp; &nbsp; &nbsp; &nbsp; BCM6348KPBG V0.7<br />Flash&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; AMD? 29LV320CBTC-90G, 4MB (4M*8b | 2M*16b)<br />SDRAM &nbsp; &nbsp; &nbsp; &nbsp; Winbond W9812G6GH-6, 16MB (2M*4Banks*16b)<br />LAN Switch &nbsp; &nbsp; BCM5325e<br />Wireless Card &nbsp; &nbsp; Broadcom BCM4318KFBG<br />-------------------------------------------------------------</p><p>With Flash layout:<br />-------------------------------------------------------------<br />CFE &nbsp; &nbsp; &nbsp; &nbsp; BOOT &nbsp; &nbsp; &nbsp; &nbsp; 64KB &nbsp; &nbsp; 0x00000000-0x00010000<br />1st Image &nbsp; &nbsp; IMAGE &nbsp; &nbsp; &nbsp; &nbsp; ~3.8MB &nbsp; &nbsp; 0x00010000-0x003D0000<br />1st Conf &nbsp; &nbsp; CONF &nbsp; &nbsp; &nbsp; &nbsp; ~64KB &nbsp; &nbsp; 0x003D0000-0x003E0000<br />2nd Conf &nbsp; &nbsp; CONF &nbsp; &nbsp; &nbsp; &nbsp; ~64KB &nbsp; &nbsp; 0x003E0000-0x003F0000<br />Fact Settings &nbsp; &nbsp; FACTORY &nbsp; &nbsp; 64KB &nbsp; &nbsp; 0x003F0000-0x00400000 <br />-------------------------------------------------------------</p><br /><p>Could someone please: <br />a)&nbsp; provide me with a working OpenOCD config file(s) for a board in the Broadcom BCM63xx series? <br />b)&nbsp; provide any other relevant help or details regarding JTAG of Broadcom/MIPS based boards?<br />c)&nbsp; let me know if it is possible to translate UrJtag data into OpenOCD configuration files? (How?)<br />d)&nbsp; provide a serious data sheet for this chip? (Broadcom products are really starting to p155 me off!)</p><p>Many thanks in advance for any response!</p><br /><p>The successful results of this &quot;study&quot; will be posted in detail here on OpenWRT Wiki.</p><p>Other Useful Sources:<br />________________________________________<br />Some Broadcom info:&nbsp; <br /><a href="http://www.linux-mips.org/wiki/Broadcom_SOCs">http://www.linux-mips.org/wiki/Broadcom_SOCs</a><br />Great JTAG info/explanation:<br /><a href="http://www.freelabs.com/~whitis/electronics/jtag/">http://www.freelabs.com/~whitis/electronics/jtag/</a><br />Crucial Router JTAG info from dd-wrt.com:<br /><a href="http://www.dd-wrt.com/wiki/index.php/JTAG">http://www.dd-wrt.com/wiki/index.php/JTAG</a><br />OpenOCD forum (hosted by Sparkfun):<br /><a href="http://forum.sparkfun.com/viewforum.php?f=18">http://forum.sparkfun.com/viewforum.php?f=18</a><br />UrJTAG Forum:<br /><a href="http://sourceforge.net/projects/urjtag/forums/forum/682993">http://sourceforge.net/projects/urjtag/ … rum/682993</a></p>											<p class="post-edited">(Last edited by <strong>PopOpen</strong> on 26 Apr 2011, 03:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p142269">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cpplab</div>
					<div class="post-datetime">
						27 Aug 2011, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>the router may be not better than taht based on rt3050f.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>