<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Madwifi support in /etc/config/wireless</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p37819">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						26 Nov 2006, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone tested madwifi since <a href="https://dev.openwrt.org/changeset/5630">build 5630</a>?<br />It seems the script <span class="bbu">should</span> build /etc/config/wireless for you, but I can&#039;t seem to get it to work.&nbsp; Tried deleting the file, but when it&#039;s recreated there is nothing in it.</p><p>My main goal is to get my WGT634U into bridged client mode.&nbsp; I&#039;ve tried countless times with no luck.</p><p>Thanks mbm for madwifi support!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p37825">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						26 Nov 2006, 11:59					</div>
				</div>
				<div class="post-content content">
					<p>If you want to play with the script, copy it to /lib/wifi/madwifi.sh and run wifi to create a /etc/config/wireless; be warned that the script does not support any encryption beyond WEP and can easily crash madwifi.</p><p>(The script is not yet part of the firmware image)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40013">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						2 Jan 2007, 03:15					</div>
				</div>
				<div class="post-content content">
					<p>AP mode is working great since r5903, thanks devs!</p><p>Now I&#039;m interested in getting WPA-PSK(2) Client mode working.</p><p>I noticed in the wpa_supplicant .config files that it&#039;s not being compiled with the madwifi driver.<br />Do I simply uncomment the CONFIG_DRIVER_MADWIFI line or are there other flags/options that need to be set?</p><p>There&#039;s also a new stable release in town. <a href="http://hostap.epitest.fi/releases/wpa_supplicant-0.5.7.tar.gz">0.5.7</a> was just released on 12/31/2006.&nbsp; Might be worth an upgrade.</p><p>Snippet from &quot;/trunk/package/wpa_supplicant/files/config.mipsel&quot;<br /></p><div class="codebox"><pre><code># Driver interface for generic Linux wireless extensions 
CONFIG_DRIVER_WEXT=y 

# Driver interface for madwifi driver 
#CONFIG_DRIVER_MADWIFI=y 
# Change include directories to match with the local setup 
#CFLAGS += -I../madwifi/wpa</code></pre></div><p>EDIT:&nbsp; Regarding the config options, just read this portion of the wpa_supplicant readme: <br /></p><div class="codebox"><pre><code>    Linux drivers that support WPA/WPA2 configuration with the generic
    Linux wireless extensions (WE-18 or newer). Even though there are
    number of driver specific interface included in wpa_supplicant, please
    note that Linux drivers are moving to use generic wireless extensions
    and driver_wext (-Dwext on wpa_supplicant command line) should be the
    default option to start with before falling back to driver specific
    interface.</code></pre></div>											<p class="post-edited">(Last edited by <strong>KillaB</strong> on 2 Jan 2007, 03:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40014">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Kevin</div>
					<div class="post-datetime">
						2 Jan 2007, 03:19					</div>
				</div>
				<div class="post-content content">
					<p>the wext driver works for me for wpa-psk with madwifi</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40015">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						2 Jan 2007, 03:21					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Kevin, just figured that out.&nbsp; I&#039;ll give it another shot when I get home.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40016">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">GoldServe</div>
					<div class="post-datetime">
						2 Jan 2007, 03:23					</div>
				</div>
				<div class="post-content content">
					<p>I have client mode WPA-PSK working on the Fonera device. Beyond that, I do not know how to set bridging or NAT for the lan device nor the firewall rules to make everything happen.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p40063">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">KillaB</div>
					<div class="post-datetime">
						3 Jan 2007, 00:44					</div>
				</div>
				<div class="post-content content">
					<p>After a bunch of mediocre testing I finally made my station mode wgt634u authenticate with my AP wgt634u running WPA-PSK.<br />Strange thing is, it would only authenticate after adding the bridging option.</p><p>Eg. #wpa_supplicant -iath0 -c/etc/wpa_supplicant.conf -d -Dwext <strong>-bbr-lan</strong></p><p>And after I was authenicated, I couldn&#039;t ping the other router, so it doesn&#039;t look like bridging is fully working just yet.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>