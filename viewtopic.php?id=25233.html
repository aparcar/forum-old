<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Backfire and PPPoE</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p111045">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						12 Jun 2010, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>Hello all.</p><p>I cannot get PPPoE working on Backfire installed on a x86 PC. I always get a timeout.</p><p>/var/log/ppp.log:<br />Plugin rp-pppoe.so loaded.<br />Timeout waiting for PADO packets<br />Unable to complete PPPoE Discovery<br />Timeout waiting for PADO packets<br />Unable to complete PPPoE Discovery<br />Plugin rp-pppoe.so loaded.<br />Timeout waiting for PADO packets<br />Unable to complete PPPoE Discovery<br />Terminating on signal 15</p><p>Here are my wan settings from /etc/config/network:<br />config &#039;interface&#039; &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;ifname&#039; &#039;eth1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;proto&#039; &#039;pppoe&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;username&#039; &#039;XXXXXX&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;password&#039; &#039;XXXXXX&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;defaultroute&#039; &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option &#039;peerdns&#039; &#039;1&#039;</p><p>On some forums I found, that I should add &quot;option device ppp&quot;, but I get an error when using this (nic-ppp not found), so I guess this is just for embedded devices.</p><p>Here is the listing of /etc/ppp/options:<br />debug<br />logfile /var/log/ppp.log<br />noaccomp<br />nopcomp<br />nocrtscts<br />lock<br />maxfail 0<br />lcp-echo-failure 10<br />lcp-echo-interval 5<br />defaultroute<br />asyncmap 0<br />mtu 1392<br />mru 1452<br />passive<br />noauth</p><p>I also installed pppoe-start/stop script package, but this does not work either for me.</p><p>The connection works fine in Windows 7, although I had to turn ipv6 off for the network adapter to get it to work.</p><p>Could somebody help ? I am getting quite desperate..<br />Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111047">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						12 Jun 2010, 01:31					</div>
				</div>
				<div class="post-content content">
					<p>Hmm, &quot;Timeout waiting for PADO packets&quot; means that there is no PPPoE signal detected at all. Are you sure that &quot;eth1&quot; is the correct nic? Maybe it got swapped with eth0</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111220">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						14 Jun 2010, 22:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>Hmm, &quot;Timeout waiting for PADO packets&quot; means that there is no PPPoE signal detected at all. Are you sure that &quot;eth1&quot; is the correct nic? Maybe it got swapped with eth0</p></blockquote></div><p>Yes, I am pretty sure. I really do not know what could be wrong.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112215">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">dweller</div>
					<div class="post-datetime">
						30 Jun 2010, 09:09					</div>
				</div>
				<div class="post-content content">
					<p>I finally found out the problem. It is quite stupid. The PPPoE device needs a crossover cable and the NIC (mainboard integrated and pretty old) I have been using did not support auto-negotiation. After getting desperate I tried a newer NIC and this worked. Well, I just needed a crossover cable for the old NIC.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>