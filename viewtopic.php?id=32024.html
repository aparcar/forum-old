<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WNDR3700 Memory Mod - a failure ?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p144120">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">skyraven</div>
					<div class="post-datetime">
						21 Sep 2011, 01:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I&#039;ve just changed the memory on a WNDR3700 according to the documentation and using one of the listed compatible memory chips.<br />Now after loading U-Boot, the console (I have an adapter soldered there) just freezes and the firmware doesn&#039;t load.<br />Can anyone help me out ?<br />Restoring to factory settings allows uploading a new firmware but the default openwrt jffs2 factory image just behaves the same afterward.</p><p>This is the output I am getting before the console freezes on me:</p><p>Resetting...#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />U-Boot 1.1.4 (Oct 29 2010 - 14:27:18)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />WNDR3700v1h2 (ar7100) U-boot 0.0.12 dni13 V0.3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />DRAM:&nbsp; b8050000: 0xc0140180&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />128 MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Top of RAM usable for U-Boot at: 88000000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Reserving 259k for U-Boot at: 87fbc000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Reserving 192k for malloc() at: 87f8c000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Reserving 44 Bytes for Board Info at: 87f8bfd4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Reserving 36 Bytes for Global Data at: 87f8bfb0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Reserving 128k for boot params() at: 87f6bfb0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Stack Pointer at: 87f6bf98&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Now running in RAM - U-Boot at: 87fbc000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />id read 0x100000ff&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />flash size 16MB, sector count = 256&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Flash: 16 MB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />*** Warning - bad CRC, using default environment&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />In:&nbsp; &nbsp; serial&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Out:&nbsp; &nbsp;serial&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Err:&nbsp; &nbsp;serial&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Net:&nbsp; &nbsp;ag7100_enet_initialize...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />CHH:mac: 0 if: 2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />CHH:mac:verify: 0 if: 00000002&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />: cfg1 0xf cfg2 0x7014&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />in rtl8366s_phy_setup mac=-1476803788&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />after rtl8366s_initChip ret=0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />eth0: c4:3d:c7:97:7d:aa&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />eth0 up&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />CHH:mac: 1 if: 1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />CHH:mac:verify: 1 if: 00000001&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />: cfg1 0xf cfg2 0x7014&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />in rtl8366s_phy_setup mac=-1476803308&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />eth1: c4:3d:c7:97:7d:ab&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />eth1 up&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />eth0, eth1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Trying eth0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />: unit 0 phy is up...RGMii 1000Mbps full duplex&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />#259:ag7100_set_mac_from_link&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />: pll reg 0x18050010: 0x11110000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />: cfg_1: 0x1ff0000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />: cfg_2: 0x3ff&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />: cfg_3: 0x8001ff&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />: cfg_4: 0xffff&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />: cfg_5: 0xfffef&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />: done cfg2 0x7215 ifctl 0x40605060 miictrl 0x22&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /> Client starts...[Listening] for ADVERTISE...TTT&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />Retry count exceeded; boot the image as usual&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /> nmrp server is stopped or failed !&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />Hit any key to stop autoboot:&nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;Verifying Checksum ... OK&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </p><p>And this is where it dies out...<br />Any clues ? is there any way I can make it work again without changing back the memory and downgrading it to 64 MB ?</p><br /><p>Thanks in advance,<br />Mihai</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144121">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">skyraven</div>
					<div class="post-datetime">
						21 Sep 2011, 01:39					</div>
				</div>
				<div class="post-content content">
					<p>plus here:<br />Hit any key to stop autoboot:&nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />ar7100&gt; <br />if I do a ctrl+c and stop the boot process, then any command I give at this point =&gt; no return from it and the device freezes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144251">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">skyraven</div>
					<div class="post-datetime">
						23 Sep 2011, 00:13					</div>
				</div>
				<div class="post-content content">
					<p>Today I&#039;ve changed the memory chips and added:</p><p>2 x K4H511638D-UCB3.</p><p>The router behaves exactly the same so I&#039;m thinking it&#039;s not a memory problem.<br />Also, I&#039;ve rechecked the soldering and it is ok.</p><p>Do I need a custom built openwrt version ?<br />Is there something else that I am missing ?<br />I&#039;m running out of any ideas to try rather then placing the original memory back in and hoping that it might once again work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144260">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						23 Sep 2011, 01:44					</div>
				</div>
				<div class="post-content content">
					<p>Are you sure that your serial cable is working 100%?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144269">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">skyraven</div>
					<div class="post-datetime">
						23 Sep 2011, 07:28					</div>
				</div>
				<div class="post-content content">
					<p>Yes, pretty sure.<br />I mean I don&#039;t see any signs that it might not work 100% (the router really freezes, no ping answer, etc =&gt; it can&#039;t be the cable)</p><p>I have reached a dead-end and am thinking about throwing out the router as garbage because although I can upload&nbsp; a new firmware by setting it in the recovery mode, none really works and it doesn&#039;t pass that Verifying Checksum step. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>											<p class="post-edited">(Last edited by <strong>skyraven</strong> on 23 Sep 2011, 08:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144403">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">skyraven</div>
					<div class="post-datetime">
						25 Sep 2011, 01:07					</div>
				</div>
				<div class="post-content content">
					<p>Latest update:<br />I&#039;ve compiled my own openwrt firmware hoping that something would get solved..and....still the same behavior</p><p>It does enter failsafe and upgrade modes if pressing the reset button long enough.<br />The U-Boot prompt shows up as I showed before, but the image does not boot.<br />After verifying checksum, all is dead.</p><p>Reading the U-boot prompt of WNDR3700v1, I&#039;ve tried to upgrade to a wndr3700v1 image but that gave a magic number error =&gt; I really do have a v2.<br />Now I&#039;m stuck with a broken router that won&#039;t boot it&#039;s image. (or any other image).<br />Is there any solution someone might know for it or should I just place the old memory back and consider the mod functional only for v1 ?</p><p>Thanks,<br />Mihai</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144418">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						25 Sep 2011, 11:42					</div>
				</div>
				<div class="post-content content">
					<p>i would recommend to put the original ram back in for the moment and see if that works. There are several potential sources for problems, so reverting back to a known configuration that should work helps eliminating those sources.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144474">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">skyraven</div>
					<div class="post-datetime">
						26 Sep 2011, 01:14					</div>
				</div>
				<div class="post-content content">
					<p>Hi MBS,</p><p>Seems my WNDR3700 is heading toward the dust bin.<br />After trying at home with my new hot air soldering station to change the memory (instead of going to the electronist I&#039;ve been to ..believing he might have soldered something wrong) I got no results with changing memory (the U-Boot loader would freeze at the DRAM stage) and after toying a bit more, one of the pads for one of the memory chip pins got damaged (if flew away of the board).<br />So now, I&#039;m throwing this one out as I&#039;ve managed to damage it.</p>											<p class="post-edited">(Last edited by <strong>skyraven</strong> on 26 Sep 2011, 01:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p144647">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jdoering</div>
					<div class="post-datetime">
						28 Sep 2011, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>I ran into essentially the same set of failures trying to upgrade a WNDR3700v2. I have successfully performed similar upgrades on a variety of other devices in the past so I&#039;m pretty confident of my steps and equipment. I wasn&#039;t 100% sure it wasn&#039;t a RAM chip problem but the chips worked fine on other devices with the same requirements. Now seeing your post I suspect I&#039;m seeing the same issue&nbsp; you are.</p><p>Based on the freezing u-boot behavior I did a comparison of&nbsp; u-boot source for this versus 3700v1 as well as changes for 3700v3 and 3800. Nothing significant jumped out there and the u-boot message confirms that the hardware was at least recognized right. Maybe something about RAM size is still hardcoded somewhere in u-boot. Need to check again. But I&#039;m surprised the 3700v1 is reported to handle this mod seemlessly (u-boot source doesn&#039;t seem much different).</p><p>I reverted to original RAM and everything is working but I was hoping to reapply this mod eventually.</p><p>Might be interesting to compare memory details on the 3800 when it comes out. Same hardware as 3700v2 but with 128 MB RAM stock as far as I can see. Interesting to see if there is some difference in memory timing or something I missed in u-boot.</p><p>-Jeff</p>											<p class="post-edited">(Last edited by <strong>jdoering</strong> on 28 Sep 2011, 01:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p194720">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">jdoering</div>
					<div class="post-datetime">
						13 Mar 2013, 00:01					</div>
				</div>
				<div class="post-content content">
					<p>Well, after a very long delay. Success! I believe the issue is purely the WNDR3700v2 U-Boot. The key is updating to WNDR3800 U-Boot.</p><p>I ended up using Hynix H5DU5162ETR-E3C chips but I suspect that other chips I tried would have worked as they all exhibited the same U-Boot pattern (128MB detected, U-Boot freezes up and won&#039;t boot firmware).</p><p>I had compared the published U-Boot source for the various models and nothing jumped out. Either the issue is subtle or perhaps the binary on the devices doesn&#039;t match the published source exactly.</p><br /><p>Steps:</p><p>1) Flash DD-WRT to my device to enable MTD editing (there are other ways but this was much faster than compiling a custom firmware and easier IMO than doing the transfer from U-Boot itself via serial).</p><p>2) Update MTD5 ART partition to include new WNDR3800 device identification fields. I accomplished this by merging the WNDR3800 ART example <a href="https://forum.openwrt.org/viewtopic.php?id=42140">posted here</a> with the actual ART from my device. I only added the WNDR3800 board info section. I kept as much of my original ART as possible.</p><p>2) Reboot, WNDR3700v2 still works fine with 64MB RAM, original U-Boot and DD-WRT firmware.</p><p>3) Overwrite MTD0 partition with U-Boot from WNDR3800 (same thread mentioned in step 1). This is the dangerous step. Note that OpenWRT MTD0 + MTD1 == DD-WRT MTD0. Check the sizes! I had to merge MTD0 + MTD1 from the other thread to create a single MTD0 that matched DD-WRT size (again multiple ways to accomplish this, I took the easiest path for me).</p><p>4) Reboot router. DD-WRT starts fine reports itself as a WNDR3800 with 64MB RAM.</p><p>5) Replace RAM the usual way. This step has to come last as the machine won&#039;t boot with 128MB RAM until the WNDR3800 U-Boot is in place. After replacing the RAM for about the 5th time (due to earlier test); I lifted a pad and spent the next hour swearing. Don&#039;t do this. Fortunately I got it fixed. Router booted fine; reports as a WNDR3800 with 128MB RAM.</p><p>6) Flash OpenWRT WNDR3800 image to router. Done at last.</p><p>-Jeff</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228324">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">raver</div>
					<div class="post-datetime">
						24 Mar 2014, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi Jeff,<br />Let me thank you for your great tutorial!<br />I successfully managed to mod my WNDR3700v2. I also used Hynix H5DU5162ETR-E3C modules and had no trouble with them.<br />For those who wish to follow the tutorial, on recent OpenWrt releases (I&#039;m running r40004), the ART partition currently is mtd6, not mtd5.<br /></p><div class="codebox"><pre><code>mtd6: 00010000 00010000 &quot;art&quot;</code></pre></div><p>I also found that on DD-WRT the ART data is on these two partitions, so I did update both.<br /></p><div class="codebox"><pre><code>mtd5: 00010000 00010000 &quot;FIS directory&quot;
mtd6: 00010000 00010000 &quot;board_config&quot;</code></pre></div><p>I also found the the link in <a href="https://forum.openwrt.org/viewtopic.php?pid=193042#p193042"> this post</a> is dead.<br />I manage to find u-Boot and ART dumps on <a href="https://forum.openwrt.org/viewtopic.php?pid=224851#p224851"> this post</a> and followed <a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/ooWlI23QzN/mtd">this link</a>.</p><p>Best regards,<br />João</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>