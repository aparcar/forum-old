<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-WR741ND (v4.20) rebooting over and over</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p170798">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">francx</div>
					<div class="post-datetime">
						24 Jun 2012, 09:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>I have problem with my TL-WR741ND v4.20. Router rebooting over and over. How can I fix this?</p><p>Serial output:<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Sep 14 2011 - 16:30:24)

AP121-2MB (ar9330) U-boot

DRAM:  32 MB
led turning on for 1s...
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup 
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup 
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... Too big uncompressed streamLZMA ERROR 1 - must RESET 

U-Boot 1.1.4 (Sep 14 2011 - 16:30:24)

AP121-2MB (ar9330) U-boot

DRAM:  32 MB
led turning on for 1s...
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup 
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup 
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... Too big uncompressed streamLZMA ERROR 1 - must RESET 

U-Boot 1.1.4 (Sep 14 2011 - 16:30:24)

AP121-2MB (ar9330) U-boot

DRAM:  32 MB
led turning on for 1s...</code></pre></div>											<p class="post-edited">(Last edited by <strong>francx</strong> on 24 Jun 2012, 16:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170799">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">ninno</div>
					<div class="post-datetime">
						24 Jun 2012, 10:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>francx wrote:</cite><blockquote><p>Serial output:<br />...<br />Autobooting in 1 seconds<br />## Booting image at 9f020000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... Too big uncompressed streamLZMA ERROR 1 - must RESET <br />...<br />TL-WR741ND (v4) rebooting over and over</p></blockquote></div><p>It doesnt even start the kernel, flashed a wrong image?</p><p>You already have a serial connection which is the biggest hurdle for many, so just use it to flash a new image via tftp (its described on the wiki page of your router).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170807">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">francx</div>
					<div class="post-datetime">
						24 Jun 2012, 14:27					</div>
				</div>
				<div class="post-content content">
					<p>This?<br /><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#oem.installation.tftpboot.rs232">http://wiki.openwrt.org/toh/tp-link/tl- … boot.rs232</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170821">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ninno</div>
					<div class="post-datetime">
						24 Jun 2012, 17:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>francx wrote:</cite><blockquote><p>This?<br /><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd#oem.installation.tftpboot.rs232">http://wiki.openwrt.org/toh/tp-link/tl- … boot.rs232</a></p></blockquote></div><p>Yes, exactly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170827">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">francx</div>
					<div class="post-datetime">
						24 Jun 2012, 18:59					</div>
				</div>
				<div class="post-content content">
					<p>I can not setup ipaddr and serverip because my router are rebooting over and over</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170838">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						24 Jun 2012, 21:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Autobooting in 1 seconds</p></blockquote></div><p>Write </p><div class="quotebox"><blockquote><p>tpl</p></blockquote></div><p>to stop autoboot and get uboot prompt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170839">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">francx</div>
					<div class="post-datetime">
						24 Jun 2012, 21:34					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p170853">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						25 Jun 2012, 01:29					</div>
				</div>
				<div class="post-content content">
					<p>This happened to me few times!<br />I think it was because the openwrt OS was stuck or in a strange status, after doing sysupgrade it didn&#039;t reboot and stayed without network connectivity forever. After 15 minutes I said, hey! go on! and disconnected the router. Then it happened that, corrupted firmware. So I had to recover using the bootloader<br />Now I always save my config files first, then do &quot;mtd -r erase rootfs_data&quot; to delete everything, returning to factory settings.<br />After it reboots, I do the upgrade. No problems since then.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202538">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">ropafiro</div>
					<div class="post-datetime">
						23 May 2013, 01:22					</div>
				</div>
				<div class="post-content content">
					<p>hello<br />I have the same problem, can describe the procedure step by step, please, I&#039;m new in these things.</p><p>thank you very much<br />greetings</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202771">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ropafiro</div>
					<div class="post-datetime">
						25 May 2013, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>I got, my router works fine, Here is my tuturial</p><br /><p>TUTURIAL TFTPBOOT + RS232 PARA TP-LINK 741ND V2</p><p>1-MATERIAL NECESSÁRIO</p><p>CABO NOKIA CA-42 OU DKU-5 EU USEI O SEGUNDO COMPREI NOS CHINESES 5€</p><p>2-SOLDAR A PLACA NOS PONTOS REFERIDOS NA IMAGEM ABAIXO(EU SOLDEI NA PARTE DE TRÁS).</p><p><a href="http://wiki.openwrt.org/_detail/toh/tp-link/tl741v2-1.jpg?id=toh%3Atp-link%3Atl-wr741nd">http://wiki.openwrt.org/_detail/toh/tp- … tl-wr741nd</a></p><p>VERIFICAR O PINOUT DO CABO CONFORME IMAGEM ABAIXO</p><p><a href="http://www.google.pt/imgres?imgurl=http://i55.photobucket.com/albums/g146/icecreamterror/dku-5.gif&amp;imgrefurl=http://forum.arduino.cc/index.php/topic,22926.0.html&amp;h=433&amp;w=385&amp;sz=43&amp;tbnid=E10_9zZSBXgegM:&amp;tbnh=90&amp;tbnw=80&amp;zoom=1&amp;usg=__37VIHYxqteQRkKpwBtD_uC4_rKQ=&amp;docid=iMb19ZwQRkmmaM&amp;sa=X&amp;ei=EeGgUcrKH6T17Ab4nYDYAg&amp;ved=0CD8Q9QEwAw&amp;dur=535">http://www.google.pt/imgres?imgurl=http … mp;dur=535</a></p><p>3-EU UTILIZEI O SISTEMA LINUX UBUNTU, INSTALEI O SERVIDOR TFTP-HPA E CONFIGURAR O FICHEIRO TFTP-HPA.</p><p># /etc/default/tftpd-hpa</p><p>TFTP_USERNAME=&quot;tftp&quot;<br />TFTP_DIRECTORY=&quot;/home/ropafiro/tftpboot&quot;<br /> #TEM QUE CRIAR ESTA PASTA NA VOSSA HOME E COPIAR PARA LÁ O FICHEIRO BIN DO FIRMWARE DO ROUTER<br />TFTP_ADDRESS=&quot;192.168.1.68:69&quot;<br /> #ESTE IP É O DO VOSSO COMPUTADOR<br />TFTP_OPTIONS=&quot;—secure&quot;</p><p>4-USEI O CUTECOM PARA CONECTAR AO ROUTER COM O RESPECTIVO CABO DKU-5</p><p>PENSO QUE BASTA ALTERAR O DEVICE PARA /dev/ttyUSB0</p><p>LIGAR O ROUTER A REDE NA PORTA WAN</p><p>5-PARA PARAR O REINICIAR DO ROUTER, ASSIM QUE APARECER A MENSAGEM</p><p>Autobooting in 1 seconds INPUT tpl </p><p>INPUT setenv serverip 192.168.1.68 ESTE IP É O DO VOSSO COMPUTADOR</p><p>PARA TER&nbsp; A CERTEZA DO ENDEREÇO (0x81000000) MEMORIA ACONSELHO A EXECUTAR O COMANDO loady</p><p>INPUT tftpboot 0x81000000 tplink.bin ESTE BIN É O FIRMWARE ORIGINAL DO ROUTER CONVEM ALTERAR O NOME PARA TPLINK<br />NO FINAL DO FLASH APRESENTA UMA MENSAGEM COMO ESTA:<br />Bytes transferred = 3932160 (3c0000 hex)</p><p>O PRÓXIMO INPUT erase 0x9f020000 +3c0000 REPAREM QUE O SEGUNDO ENDEREÇO E O QUE A MENSAGEM TEM.<br />DEPOIS DE EXECUTADO O ERASE DÁ UMA MENSAGEM:<br />Erased 60 sectors</p><p>INPUT cp.b 0x81000000 0x9f020000 0x3c0000</p><p>E FINALMENTE INICIAMOS O ROUTER INPUT bootm 9f020000</p><p>SE TUDO ESTIVER BEM PODE ACEDER AO ROUTER NO BROWSER 192.168.1.1<br />USER:admin<br />PASSWORD:admin</p><br /><p>AGRADEÇO A TODOS OS TUTORIAIS QUE ENCONTREI NA INTERNET</p><p><a href="http://www.google.pt/imgres?imgurl=http://i55.photobucket.com/albums/g146/icecreamterror/dku-5.gif&amp;imgrefurl=http://forum.arduino.cc/index.php/topic,22926.0.html&amp;h=433&amp;w=385&amp;sz=43&amp;tbnid=E10_9zZSBXgegM:&amp;tbnh=90&amp;tbnw=80&amp;zoom=1&amp;usg=__37VIHYxqteQRkKpwBtD_uC4_rKQ=&amp;docid=iMb19ZwQRkmmaM&amp;sa=X&amp;ei=EeGgUcrKH6T17Ab4nYDYAg&amp;ved=0CD8Q9QEwAw&amp;dur=535">http://www.google.pt/imgres?imgurl=http … mp;dur=535</a></p><p><a href="http://www.google.pt/imgres?imgurl=http://3.bp.blogspot.com/_J1iH5akz1V4/TIwJvc2PcaI/AAAAAAAAAAc/D65nM0EafiI/s1600/nokia%2Bca-42%2Busb%2Bto%2BTTL%2Bserial%2Bwith%2Barkmicro%2Bchip%2Band%2Bbelkin%2Brouter%2BF5D8235-4%2BV2000%2Bserial%2Bconsole%2Bat%2B57600%2Bbaud.png&amp;imgrefurl=http://sleclire.blogspot.com/2010/09/clone-non-original-nokia-ca-42-cable.html&amp;h=1200&amp;w=1600&amp;sz=3268&amp;tbnid=gpBH5C1qwhcrCM:&amp;tbnh=95&amp;tbnw=127&amp;zoom=1&amp;usg=__PADnBnCraWcUEIS-0NvrzNnjgTk=&amp;docid=mDx3pScRgDlJsM&amp;sa=X&amp;ei=zuCgUfXbNMaO7QaLroCoAw&amp;ved=0CDMQ9QEwAA&amp;dur=535">http://www.google.pt/imgres?imgurl=http … mp;dur=535</a></p><p><a href="http://www.youtube.com/watch?v=713hvVp_hFw">http://www.youtube.com/watch?v=713hvVp_hFw</a></p><p><a href="http://wiki.openwrt.org/toh/tp-link/tl-wr741nd">http://wiki.openwrt.org/toh/tp-link/tl-wr741nd</a></p><p><a href="ftp://dd-wrt.com/others/eko/BrainSlayer-V24-preSP2/2011/12-20-11-r18024/tplink_tl-wr741ndv1/">ftp://dd-wrt.com/others/eko/BrainSlayer … wr741ndv1/</a></p><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=671793">http://www.dd-wrt.com/phpBB2/viewtopic.php?p=671793</a></p><p><a href="http://puffs.wordpress.com/2008/02/14/instalar-servidor-de-tftp-em-ubuntu/">http://puffs.wordpress.com/2008/02/14/i … em-ubuntu/</a></p><p>BOA SORTE</p>											<p class="post-edited">(Last edited by <strong>ropafiro</strong> on 26 May 2013, 17:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203219">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">sayatnowa</div>
					<div class="post-datetime">
						30 May 2013, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>Hello I have the same problem with my Tp -Link MR 3020<br />During the screen the &quot;tpl&quot; password doesn&#039;t work, i don&#039;t know how to fix it ?</p><p>Thank You</p><p>Auto-Response :</p><p>27/07/2015 SOLVED since 2014 : It was a hardware problem, u-boot console working well with tpl, i could flash a new .bin image by tftp protocole, for any question send a message !</p>											<p class="post-edited">(Last edited by <strong>sayatnowa</strong> on 27 Jul 2015, 15:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p203222">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						30 May 2013, 18:31					</div>
				</div>
				<div class="post-content content">
					<p>sayatnowa, please start a new thead. And give all console output<br />And what you did to get where you are.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226658">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">geyza0711</div>
					<div class="post-datetime">
						2 Mar 2014, 22:25					</div>
				</div>
				<div class="post-content content">
					<p>Since I have a similar problem I´d rather not open a topic but post it here. Hopefully I get responses quick because I need to set up the device by tomorrow! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>Got a bricked 741ND v2.4</p><p>Got rs232 connected. Now Im rather certain I got RX/TX/GND right because I use the same cable to unlock netgear devices. </p><p>When I open the session in putty nothing happens when I power on the 741nd. When its off I can type and see my inputs.</p><p>When I disconnect the RX wire and only TX and GND are attached I get the following output:</p><div class="quotebox"><blockquote><p>U-Boot 1.1.4 (Sep&nbsp; 3 2010 - 12:28:13)</p><p>AP91 (ar7240) U-boot<br />DRAM:<br />sri<br />#### TAP VALUE 1 = a, 2 = a<br />32 MB<br />id read 0x100000ff<br />flash size 4194304, sector count = 64<br />Flash:&nbsp; 4 MB<br />Using defaulüIn:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;serial<br />Net:&nbsp; &nbsp;ag7240_enet_initËëfixed address<br />: cfg1 0xf cfg2 0x7014<br />eth0: 00:03:7f:09:0b:ad<br />eth0 up<br />No valid address in Flash. Using fixed address<br />: cfç¡Q!IMÉ6: resetting s26<br />ATHRS26: s26 reset done<br />eth1 up<br />eth0, eth1<br />Autobooting in 1 seconds<br />## Booting image at 9f020000 ...&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;½ÙÉ5<br />&nbsp; &nbsp;Uncompressing Kernel Image ... Error: Bad gzippedà<br />Resetting...</p><p>U-Boot 1.1.4 (Sep&nbsp; 3 2010 - 12:þèÉ¥5<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;VALUE 1 = a, 2 = a<br />32 MB<br />iäÑ½Écount = 64<br />Flash:&nbsp; 4 MB<br />Using default environment</p><p>In:&nbsp; &nbsp; serial<br />Out:&nbsp; &nbsp;serial<br />Err:&nbsp; &nbsp;seriNet:&nbsp; &nbsp;ag7240_enet_initialize...<br />No valid address in Flash. Using fixed address<br />: cfg1 0øþeth0 up<br />No valid address in Flash. Using fixed address<br />: cfg1 0xf cfg2 0x7214<br />eth1: 00:03:7f:09:0b:ad<br />ATHRS26: resetting s26<br />ATHRS26: s26 reset done<br />þeconds<br />ÿÊ2Á20000 ...<br />&nbsp; &nbsp;Uncompressing Kernel Image ... Error: Bad gzipped data<br />GUNZIP ERROR - must RESET board to recover</p><p>Resetting...</p></blockquote></div><p>But obviously since RX isnt connected I cant type tpl to interrupt reboot. Baud is 115200 8/1/N/N played around with different settings but same result. </p><p>Hopefully someone has an idea. Thanks for any help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226659">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						2 Mar 2014, 22:56					</div>
				</div>
				<div class="post-content content">
					<p>check for shortcuts, you say you can &quot;see your inputs&quot;? you mean u got echo in terminal? that is not ok.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226662">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">geyza0711</div>
					<div class="post-datetime">
						2 Mar 2014, 23:16					</div>
				</div>
				<div class="post-content content">
					<p>Yes when the 741nd is powered off I can type into the console. When I power it on, nothing happens. Not even output, only when detaching RX then I get what I posted above. It´s weird. Check for shortcuts on the 741?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226680">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						3 Mar 2014, 03:58					</div>
				</div>
				<div class="post-content content">
					<p>lol i mean short-circuits.. with a multimeter, check resistance (ohm ) between tx and rx.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p226702">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">geyza0711</div>
					<div class="post-datetime">
						3 Mar 2014, 13:20					</div>
				</div>
				<div class="post-content content">
					<p>Not sure if I did this correctly because Im not that into electronics. But when its turned off I get a read of 1350 and when on its about 850. Dont know what that means?!?!?!? :D</p><p>Edit: when I set the MM to 20M then I get a reading of 8.4 when the 741 is off and power unplugged, when off and power plugged in its 6.3 and when its powered on nothing happens.</p><p>Edit 2: Well now I unplugged RX and could spam tpl BLINDLY and it actually stops the reboot. LAN lights up. Now I have the problem that since I cant read, I dont now if printenv setenv etc does anything. If yes it wouldnt talk to my tftp server so I dont know if the memory adress I use 0x81000000 is actually correct for the tftpboot 0x............ firmware.bin command is accurate.</p><p>Normally I wouldnt care for a 15€ device but I have heavy OCD in those regards and really would love to solve this.</p>											<p class="post-edited">(Last edited by <strong>geyza0711</strong> on 4 Mar 2014, 20:16)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>