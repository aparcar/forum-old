<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Pivot overlay fs &amp; usb hubs</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p190206">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Guzz</div>
					<div class="post-datetime">
						28 Jan 2013, 13:46					</div>
				</div>
				<div class="post-content content">
					<p>Hi all!</p><p>Have been reading the forums and the wiki for the past weekend to learn as much as possible about extroot, but still not sure about some things.</p><p>My hardware:<br />- TP-Link MR3020<br />- Sitecom CN-050 4 port USB Hub<br />- Gereric 256MB usb 2.0 flash drive formatted ext4 (soldered onto hub, whole assembly fits inside MR3020 housing!)</p><p>Firmware:<br />- OpenWRT Attitude Adjustment RC1 (via link in wiki)</p><p>Software:<br />- The necessary packages for usb storage, 256MB drive mounted at /mnt/sda1<br />- Required packages for pivot_root</p><p>I have read the wiki<br />I have searched the forum<br />I have googled around</p><p>My questions:</p><p>- If I follow the steps described in the wiki to mount /overlay on the 256MB drive and verify that it works, can i just plug in another usb drive (say 8GB) for data storage. In other words, will openwrt be able to distinguish one drive from another during boot? [eventually I&#039;d like to be able to share the files on the 8GB drive via ftp or http]<br />I found this blog with an extroot script, if the above is not possible, will it provide the required functionality and is it still up-to-date? <a href="http://www2.kaufmanfamily.net:8080/blog/2009/08/a-better-pivotroot-for-openwrt">Link</a></p><p>- At the bottom of the pivot wiki page it says to modify etc/config/fstab. When I open the file with vi there allready is a line (obviously) reflecting the drive being mounted at /mnt/sda1. However, it does not have the &quot;option&quot; labels. Lacking any commentary symbols, are these optional? Right now my fstab looks something like this:</p><p>/dev/sda1&nbsp; /mnt/sda1&nbsp; ext4&nbsp; rw,sync 1 0</p><p>As far as I can see the only thing I should change is the last 0? Like so:</p><p>/dev/sda1&nbsp; /mnt/sda1&nbsp; ext4&nbsp; rw,sync 1 1</p><p>To enable this fs as external overlay?</p><p>Lastly, I&#039;d like to thank anybody who takes the time to read the above. Any response is greatly appreciated.</p><p>~Guzz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p190266">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">rolf2</div>
					<div class="post-datetime">
						29 Jan 2013, 01:33					</div>
				</div>
				<div class="post-content content">
					<p>to mount your 256MB flash drive to /overlay you can use uuid or partition label instead of&nbsp; /dev/sdxx</p><p>option &#039;device&#039;&nbsp; &nbsp;&#039;partition_LABEL&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p190287">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Guzz</div>
					<div class="post-datetime">
						29 Jan 2013, 10:35					</div>
				</div>
				<div class="post-content content">
					<p>Thanks! I&#039;ll try that tonight!</p><p>Any thoughts on question 2?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>