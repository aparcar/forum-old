<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WGR614v5 - In search of a back door...</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p13994">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Floid</div>
					<div class="post-datetime">
						19 Oct 2005, 22:53					</div>
				</div>
				<div class="post-content content">
					<p>Well, I was hoping for one of the Atheros models, strangely enough, but I landed one of these instead.&nbsp; I&#039;m presently on the hunt for any trick to gain access without opening the case.&nbsp; (Too lazy to solder, up for the challenge...)</p><p>So far, it&#039;s obvious that it&#039;s listening on port 23 by default (though rejecting telnet connections), and that netgear.cfg contains many environment variables used by the vxWorks preload and associated software.</p><p>It&#039;s also obvious that there are quite a few CGI scripts present to handle the interface... and perhaps even some &#039;secret&#039; ones or options thereto, judging by other Netgear products?</p><p>So... While I&#039;ll continue to poke and prod, may I ask anyone who *has* gotten in via the serial method to provide some hint of what&#039;s present?&nbsp; Is it possible to get something like a ls -R of the filesystem?&nbsp; Some hint of what&#039;s /reading/ those nvram variables would be nice.... (Could telnet access be as easy as a shell ` ` injection? ... Is there even a real telnetd present in the ROM?)</p><p>-Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14004">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Floid</div>
					<div class="post-datetime">
						20 Oct 2005, 03:42					</div>
				</div>
				<div class="post-content content">
					<p>More teaser info -- I just got impatient and popped mine open, and lo - there&#039;re solder points for <strong>two</strong> vertical-style USB connectors!&nbsp; (<a href="http://www.nag.ru/goodies/foto/wireless/asus_wl_500g/002.jpg">similar to the one seen on this Asus WL-500G -- thanks to the Wiki for the link.</a>)</p><p>Downside is that a number of passives are missing that would be required to connect these (B304/B305, B301/B303, and probably at least B302, U303, and the small mess of parts around that -- are &#039;B&#039; parts just bridges?), not to mention software, software, software.</p><p>This board is a U12H029 REV:4 LF by the silkscreen, and a U12H029T00 by sticker.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14169">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Floid</div>
					<div class="post-datetime">
						23 Oct 2005, 01:46					</div>
				</div>
				<div class="post-content content">
					<p>...And even more news:&nbsp; the U303 pad seems to be intended for an AP1212 or AP1210 USB switch part, with two quirks -- the power pad nearby is +12V straight from the DC input, not +5, and I can&#039;t determine if the &#039;enable&#039; lines are wired through to anything.&nbsp; The USB data pairs run through the R306/R307 and R301/R302 areas, respectively -- something will have to happen to complete the circuit there, too (USB termination + whatever padding the chip needs).</p><p>All this remains academic as I wait to start attacking the thing via serial, but the power quirk has me puzzled.&nbsp; Is there something pin-compatible to the AP1212 that includes a voltage regulator?&nbsp; Did the designers just assume a regulated 5V supply would be used?&nbsp; (What&#039;s the output voltage on the power bricks for the USB-enabled models?)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14179">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						23 Oct 2005, 11:10					</div>
				</div>
				<div class="post-content content">
					<p>Can You post some photos from the board? I&#039;m currently trying to get the v6 to accept a kerel image to make NFSrooting possible. If USB is also possible, that would make things easier.</p><p>On the v6, I&#039;ve only found a 12pin connector, which is the serial port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14181">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Floid</div>
					<div class="post-datetime">
						23 Oct 2005, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>My camera sucks, but I&#039;ll see what I can do and edit something in here later.&nbsp; The USB pads are right behind the vent holes, between the reset button and WAN port, unmistakable on my V5.</p><p><em>Edit:</em>&nbsp; These came out even worse than I expected, so I&#039;ll leave them over <a href="http://briefcase.yahoo.com/bc/jkanowitz@snet.net/lst?.dir=/WGR614v5">here</a>.&nbsp; I&#039;ve tried to highlight the USB pads, U303 beneath them, and 12 pin serial header, not that it makes the closeup version any more intelligible.</p>											<p class="post-edited">(Last edited by <strong>Floid</strong> on 23 Oct 2005, 12:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14185">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						23 Oct 2005, 13:50					</div>
				</div>
				<div class="post-content content">
					<p>Hmz.. The layout is different, and the v6 is missing those pads. Anyway, can You check, if Your v5 tries to download a file called &quot;vxWorks&quot; from tftp on bootup? Just run a tftp server, and check the messages.</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14193">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Floid</div>
					<div class="post-datetime">
						23 Oct 2005, 21:02					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>tcpdump: listening on fxp0, link-type EN10MB (Ethernet), capture size 1500 bytes
13:56:10.725318 arp who-has 192.168.1.2 tell 192.168.1.1
13:56:10.725410 arp reply 192.168.1.2 is-at XX:XX:XX:XX:XX:XX
13:56:10.726341 IP (tos 0x0, ttl 100, id 1, offset 0, flags [none], length: 44) 192.168.1.1.2446 &gt; 192.168.1.2.tftp: [udp sum ok]  16 RRQ &quot;vxworks&quot; octet 
13:56:10.726481 IP (tos 0x0, ttl  64, id 60217, offset 0, flags [none], length: 56) 192.168.1.2 &gt; 192.168.1.1: icmp 36: 192.168.1.2 udp port tftp unreachable
13:56:10.726929 IP (tos 0x0, ttl 100, id 2, offset 0, flags [none], length: 44) 192.168.1.1.2446 &gt; 192.168.1.2.tftp: [udp sum ok]  16 RRQ &quot;vxworks&quot; octet 
13:56:10.727028 IP (tos 0x0, ttl  64, id 50731, offset 0, flags [none], length: 56) 192.168.1.2 &gt; 192.168.1.1: icmp 36: 192.168.1.2 udp port tftp unreachable
...</code></pre></div><p>Why yes, I&#039;d say it does. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><em>Edit:</em> Is there a photo of the v6 layout anywhere?&nbsp; This asked right before I check the wiki...</p>											<p class="post-edited">(Last edited by <strong>Floid</strong> on 23 Oct 2005, 21:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14195">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Kaloz</div>
					<div class="post-datetime">
						23 Oct 2005, 21:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Floid wrote:</cite><blockquote><p>Why yes, I&#039;d say it does. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p><em>Edit:</em> Is there a photo of the v6 layout anywhere?&nbsp; This asked right before I check the wiki...</p></blockquote></div><p>Yay! If it works the same way, You can tftpboot with it without any risk like on the v5 (okay, theoritically, I need to create an nfsroot first).</p><p>I didn&#039;t make a photo yet, but I try to get a camera <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14217">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						24 Oct 2005, 13:52					</div>
				</div>
				<div class="post-content content">
					<p>I should be able to take photos later this week or weekend if Kaloz doesn&#039;t beat me to it!&nbsp; &nbsp; &nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14511">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">beckolamuffin</div>
					<div class="post-datetime">
						29 Oct 2005, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>WGR614v6 photo:<br /><span class="postimg"><img src="http://www.tahoma.com/~wrtinfo/netgearwgt614v6.jpg" alt="http://www.tahoma.com/~wrtinfo/netgearwgt614v6.jpg" /></span></p><p>Erik</p>											<p class="post-edited">(Last edited by <strong>beckolamuffin</strong> on 26 Dec 2005, 22:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14524">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">aliasptr</div>
					<div class="post-datetime">
						30 Oct 2005, 02:10					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve got a WGR614v5 as well. I&#039;ve gotten the serial port to work as well using an inverting op-amp circuit and an inverting summing op-amp. I&#039;ll draw up the schematic if anyone wants but I think there&#039;s enough info on how to go the 74HC14 route. My circuit&#039;s not much safer than the 74HC14 either. However I haven&#039;t been able to detect any traces of the tftp requests. I&#039;ve used tcpdump listening during boot up on both the WAN port and the regular LAN ports. I only get ARP and DHCP requests. I&#039;m hoping to make some progress on getting OpenWRT on this thing and in a usable state along with a custom TCP/IP application. But I don&#039;t have my hopes up- just getting a usable shell would be amazing! Here are some pictures I took to help augment the ones Floid took.</p><p>Small version of a close up of the USB pads.<br /><span class="postimg"><img src="http://tzilla.is-a-geek.com/galleries/wgr614v5/WGR614v5-usb-pads-small.jpg" alt="http://tzilla.is-a-geek.com/galleries/wgr614v5/WGR614v5-usb-pads-small.jpg" /></span></p><p>Small version of the router and circuit board.<br /><span class="postimg"><img src="http://tzilla.is-a-geek.com/galleries/wgr614v5/WGR614v5-circuit-router-small.jpg" alt="http://tzilla.is-a-geek.com/galleries/wgr614v5/WGR614v5-circuit-router-small.jpg" /></span></p><p>The full 3MP pictures are at <a href="http://tzilla.is-a-geek.com/galleries/wgr614v5/WGR614v5-circuit-router.jpg">http://tzilla.is-a-geek.com/galleries/w … router.jpg</a> and <a href="http://tzilla.is-a-geek.com/galleries/wgr614v5/WGR614v5-usb-pads.jpg">http://tzilla.is-a-geek.com/galleries/w … b-pads.jpg</a> .</p><p>Please feel free to PM me.</p>											<p class="post-edited">(Last edited by <strong>aliasptr</strong> on 30 Oct 2005, 05:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14537">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Floid</div>
					<div class="post-datetime">
						30 Oct 2005, 12:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>beckolamuffin wrote:</cite><blockquote><p>I have posted a photo at the following URL:</p><p><a href="http://www.tahoma.com/~erikbeck/">http://www.tahoma.com/~erikbeck/</a></p></blockquote></div><p>Wow, at first glance, that&#039;s lame -- the only &#039;benefit&#039; I see to that layout is the total loss/obfuscation of any hope for USB... and of course, the switch to the 5352 with whatever new feature that brings.&nbsp; Perhaps the bottom of the board holds more secrets? ... How many traces run to the 12-pin header on that variant?&nbsp; </p><p>(The bottom of the V5 is boring unless anyone&#039;s interested in the other 3 traces to the JTAG.)</p><p><a href="http://www.iyuyu.com/web/dying/tw/index.php">D-Ying</a> are just a PCB manufacturing firm, boringly enough, not an engineer we can try to shake down for information. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>---</p><p>Also, I&#039;ve gone over some packet dumps with aliasptr, and it seems 192.168.1.2 is fixed in the firmware by default -- if you want to tftp to at least the v5, your server must reside at that address on the LAN side.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>