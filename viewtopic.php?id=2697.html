<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WANTED: Web interface developers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 9 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p12558">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						22 Sep 2005, 21:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>as you know, OpenWrt has always lacked a proper web interface for configuring all those settings. I intend to change that - that&#039;s why I&#039;ve started to work on a new modular web interface that - I hope - will be ready for the next release candidate of OpenWrt &#039;White Russian&#039; and eventually for our 1.0 release. It is written completely in Shell+AWK and uses Haserl for form processing. It&#039;s nowhere near feature complete (but some things like basic wireless settings, firmware upgrade and an ipkg interface do work), that&#039;s why I need your help. If you&#039;ve got some basic skills in HTML, shell and OpenWrt, please have a look at the thing.<br />I keep an updated snapshot at <strong>(dead link removed)</strong>. If you want to send me patches or have questions about the interface, please talk to me via IRC (nbd in #openwrt on irc.freenode.net) or mail me: openwrt &lt;at&gt; nbd.name</p><p>Have fun</p><p>- nbd</p><p><strong>Update: webif development continues in the X-Wrt project: <a href="http://www.x-wrt.org/">http://www.x-wrt.org/</a></strong></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12563">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						22 Sep 2005, 22:43					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I started few months ago writing a web interface for our wireless user group in Nantes, the interface is located here : <a href="http://sourceforge.net/projects/nwn-firmware">http://sourceforge.net/projects/nwn-firmware</a>. As it is already developped in ash + javascript and haserl, maybe we can merge our work ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12566">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						22 Sep 2005, 23:10					</div>
				</div>
				<div class="post-content content">
					<p>Looks interesting, but I don&#039;t think I can use much of your code. Some problems that I noticed:</p><p>1) Your code doesn&#039;t seem modular at all<br />2) It relies on JavaScript for form validation etc. That won&#039;t work that well in browsers like w3m<br />3) You have a lot of duplicate code, because the HTML stuff is inseparable from the script code and you haven&#039;t added any abstraction.<br />4) A lot of the stuff uses non-standard nvram variables<br />5) Most of the stuff is written in pure shell, which is much slower than processing stuff with awk</p><p>I tried to address all these issues with my web interface. No category or config page names are hardcoded in the index scripts. The forms are generated completely by an awk script (which abstracts away all the html stuff). And it runs very fast despite having a lot of abstraction code.<br />I haven&#039;t got any internationalization code in there yet, but I intend to do the language translation at compile time so that it doesn&#039;t slow down the whole interface.</p><p>I think you should have a look at my code and start porting your interface pages to it. It might save you a lot of maintenance effort.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12597">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">TheRoDent</div>
					<div class="post-datetime">
						23 Sep 2005, 10:50					</div>
				</div>
				<div class="post-content content">
					<p>nbd: If you stick this as a module into CVS somewhere I&#039;d be willing to put some effort into it. I&#039;m &quot;experienced&quot; in the field. Would be nice to have commit rights though, so perhaps you have a repo somewhere else to use in the meantime?</p>											<p class="post-edited">(Last edited by <strong>TheRoDent</strong> on 23 Sep 2005, 10:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12610">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">florian_</div>
					<div class="post-datetime">
						23 Sep 2005, 15:58					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot nbd for your advice. I will port my web interface to your code because it looks like really pretty and efficient.</p><p>Maybe you want a french localized version ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12611">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						23 Sep 2005, 16:18					</div>
				</div>
				<div class="post-content content">
					<p>Hey TheRoDent, RItalMan,</p><p>I have now added webif to whiterussian CVS (disabled by default). So you can follow the progress there.<br />If you have any patches, please send them directly to me.<br />About the french translation: Sure I&#039;d like that. Maybe after I add language translation support to the build process.<br />I just want to make it a bit more featureful before starting something like that.<br />Thanks for your support,</p><p>Felix</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12627">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Lutz_R</div>
					<div class="post-datetime">
						24 Sep 2005, 03:06					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />would it be possible that the status page is open to everybody/has no password request?<br />at my old router I used the status page to see if the router was on and had a connection, before browsing. this was neccessary because it liked to crash often, now I would be glad to see the great uptime of the router. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I know that I can access the router with http://user:pw@router/ but I don&#039;t like it, that anybody could see the password if he looks in my bookmarks. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>lutz</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12637">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">uhop</div>
					<div class="post-datetime">
						24 Sep 2005, 07:39					</div>
				</div>
				<div class="post-content content">
					<p>I am working on OpenWrt GUI using nbd&#039;s code as a starting point. As soon as I have something semi-working I&#039;ll post the code.</p><p>My goal is to be able to configure OpenWrt after fresh install without using dreaded command line. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Purely by coincidence I posted a small blurb here: <a href="http://lazutkin.com/blog/2005/sep/23/openwrt_gui/">http://lazutkin.com/blog/2005/sep/23/openwrt_gui/</a> </p><p>My super goal is to be able to configure firewall using WebUI. I want to use this tool: <a href="http://easyfwgen.morizot.net">http://easyfwgen.morizot.net</a>/ I already did some research and it looks like it can be ported to JavaScript without major hassle.</p><p>I am overloaded with work now, but I am trying to have something worthy of review in 2 weeks.</p><p>BTW, what is the release plan for next White Russian and 1.0?</p>											<p class="post-edited">(Last edited by <strong>uhop</strong> on 24 Sep 2005, 09:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12670">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						24 Sep 2005, 20:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Lutz_R wrote:</cite><blockquote><p>would it be possible that the status page is open to everybody/has no password request?</p></blockquote></div><p>I changed it, so that the &#039;Router Info&#039; and &#039;About&#039; pages are accessible without authentication.<br />If you&#039;ve run the previous version of webif, you need to delete /etc/httpd.conf and run killall -HUP httpd in order to make the change effective.</p><div class="quotebox"><cite>uhop wrote:</cite><blockquote><p>My goal is to be able to configure OpenWrt after fresh install without using dreaded command line. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Purely by coincidence I posted a small blurb here: <a href="http://lazutkin.com/blog/2005/sep/23/openwrt_gui/">http://lazutkin.com/blog/2005/sep/23/openwrt_gui/</a></p><p>My super goal is to be able to configure firewall using WebUI. I want to use this tool: <a href="http://easyfwgen.morizot.net">http://easyfwgen.morizot.net</a>/ I already did some research and it looks like it can be ported to JavaScript without major hassle.</p></blockquote></div><p>That doesn&#039;t fit into what I&#039;m doing. I want to keep my UI compatible with text mode browsers that don&#039;t use JavaScript (like w3m). I do use JavaScript in my UI, but it&#039;s not required.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12677">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Lutz_R</div>
					<div class="post-datetime">
						24 Sep 2005, 21:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><div class="quotebox"><cite>Lutz_R wrote:</cite><blockquote><p>would it be possible that the status page is open to everybody/has no password request?</p></blockquote></div><p>I changed it, so that the &#039;Router Info&#039; and &#039;About&#039; pages are accessible without authentication.<br />If you&#039;ve run the previous version of webif, you need to delete /etc/httpd.conf and run killall -HUP httpd in order to make the change effective.</p></blockquote></div><p>it works for just one time <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />when I restart firefox I have to type &quot;root&quot; and my pw again. but if I do &quot;rm /etc/httpd.conf &amp;&amp; killall -HUP httpd&quot; and then reconnect with firefox, it works, but only the first time I connect to the router with firefox, then I have to do &quot;rm .. &amp;&amp; killall ..&quot; again.</p><p>but don&#039;t worry to much about it, when it is too much work and you think it&#039;s nearly useless. I&#039;m just the type of person who likes to monitor the CPU, RAM, Traffic, ... of my desktop computer. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>// Edit: it seems, that it works as long as I did not have to enter my password in the web interface. the first time after requesting the password, the password is required for the status page, too. but if I just view the status page and restart firefox and view the status page again it works.</p>											<p class="post-edited">(Last edited by <strong>Lutz_R</strong> on 24 Sep 2005, 22:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12678">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						24 Sep 2005, 21:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>I want to keep my UI compatible with text mode browsers that don&#039;t use JavaScript (like w3m). I do use JavaScript in my UI, but it&#039;s not required.</p></blockquote></div><p>Thank you. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12682">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">uhop</div>
					<div class="post-datetime">
						24 Sep 2005, 23:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>That doesn&#039;t fit into what I&#039;m doing. I want to keep my UI compatible with text mode browsers that don&#039;t use JavaScript (like w3m). I do use JavaScript in my UI, but it&#039;s not required.</p></blockquote></div><p>Text mode browsers? I believe that somebody who keeps text mode browser around will be more comfortable using command line. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12788">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">sven-ola</div>
					<div class="post-datetime">
						26 Sep 2005, 11:45					</div>
				</div>
				<div class="post-content content">
					<p>Hey,</p><p>can anybody tell me the status of the openwrt web UI? I&#039;ve seen several people announcing such a packet but have no time to evaluate them. What I can offer is this: Throw in a customized version of the Freifunk webadmin with a more OpenWRT screen layout and some changes applied. Will be a spinoff with not to much work required:</p><p>- OLSR page (to much firewall stuff in there)<br />+ WEP/WPA for the Wireless page<br />+ Some extras for System (e.g. lan_ifname)<br />% Changed &quot;Update Firmware&quot; approach</p><p>Comments?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12791">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Weedy</div>
					<div class="post-datetime">
						26 Sep 2005, 12:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sven-ola wrote:</cite><blockquote><p>Hey,</p><p>can anybody tell me the status of the openwrt web UI? I&#039;ve seen several people announcing such a packet but have no time to evaluate them. What I can offer is this: Throw in a customized version of the Freifunk webadmin with a more OpenWRT screen layout and some changes applied. Will be a spinoff with not to much work required:</p><p>- OLSR page (to much firewall stuff in there)<br />+ WEP/WPA for the Wireless page<br />+ Some extras for System (e.g. lan_ifname)<br />% Changed &quot;Update Firmware&quot; approach</p><p>Comments?</p></blockquote></div><p>even though this one isnt done i can say it is the best by far and it should only get better</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12792">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">sven-ola</div>
					<div class="post-datetime">
						26 Sep 2005, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>@Weedy,</p><p>which one you are talking about?</p><p>@all,</p><p>ah - while I&#039;am here, I may spit out another question. I think it&#039;s good to have a technique to allow IPK devels to add in an admin page for their packet showing up automatically in the UI. For this a naming convention (e.g. openvpn-with-an-english-webadmin-page.ipk) is required. Also a naming convention for the language used (because the mini-ipk-script on OpenWRT does not handle language deps with version IDs e.g. to have &quot;oh-no-spanisch-ipk-ok-fetch-the-english-one).</p><p>LG, Sven-Ola</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12793">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">sven-ola</div>
					<div class="post-datetime">
						26 Sep 2005, 12:51					</div>
				</div>
				<div class="post-content content">
					<p>Ah - sorry. Should read the thread *first*. I&#039;ll check...</p><p>LG, Sven-Ola</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12794">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">sven-ola</div>
					<div class="post-datetime">
						26 Sep 2005, 13:08					</div>
				</div>
				<div class="post-content content">
					<p>Ah - felix is definitely a good kernel hacker <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> Besides that haserl dep, I prefer to stay stand alone (render stuff statically on a big machine) and do not want to interfere with other peoples projects.</p><p>A good time,<br />Sven-Ola</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12812">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						26 Sep 2005, 17:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>uhop wrote:</cite><blockquote><div class="quotebox"><cite>nbd wrote:</cite><blockquote><p>That doesn&#039;t fit into what I&#039;m doing. I want to keep my UI compatible with text mode browsers that don&#039;t use JavaScript (like w3m). I do use JavaScript in my UI, but it&#039;s not required.</p></blockquote></div><p>Text mode browsers? I believe that somebody who keeps text mode browser around will be more comfortable using command line. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p></blockquote></div><p>But there is no reason you can&#039;t create a very nice looking and functional UI that also supports text mode browsers or automated http scraping applications. Of course I would probably use ssh in an automated app but there might be valid need for this. The thing I&#039;ve always liked about OpenWRT is it gives you the basics and lets you customize it to your liking. I almost prefer it to not come with a web UI at all but would surely like to be able to install the one I like (many would choose the really fancy interface but several would also prefer a more basic interface and yet more still would prefer no interface at all). Just a couple of thoughts.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12817">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">uhop</div>
					<div class="post-datetime">
						26 Sep 2005, 19:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>But there is no reason you can&#039;t create a very nice looking and functional UI that also supports text mode browsers or automated http scraping applications. Of course I would probably use ssh in an automated app but there might be valid need for this. The thing I&#039;ve always liked about OpenWRT is it gives you the basics and lets you customize it to your liking. I almost prefer it to not come with a web UI at all but would surely like to be able to install the one I like (many would choose the really fancy interface but several would also prefer a more basic interface and yet more still would prefer no interface at all). Just a couple of thoughts.</p></blockquote></div><p>I respect that. I support the idea of several web UIs as installable packages. That&#039;s why I want to do it on my own using nbd&#039;s code as a starting point. </p><p>I know exactly one good reason to justify plain HTML interface --- support for screen reader, which helps blind persons. It is a very good reason.</p><p>Personally I would prefer secure SSH to completely unsecured OpenWrt-based web server for simple management tasks. Only complex tasks, which consist of several coordinated changes in different places in correct order, would require some assistance (ash script?). Going with web-based solution makes OpenWrt as secure as your local network. But it is okay in many scenarios.</p><p>In my model a user of such web UI is going to be a casual user of OpenWrt, who doesn&#039;t have a lot of time to learn all OpenWrt gotchas. I bet that this guy/gal would have access to latest browsers free browsers (IE6, FF, Opera8, Safari 2.0, and so on). In 99.99% of cases s/he would have them installed already. Why not use it to offload OpenWrt?</p><p>One example is a firewall configuration. I used a ported package, which generated iptables stuff on the fly from configuration file. It took several minutes to generate it. I decided to generate it outside of OpenWrt and upload the result. It works, but quite cumbersome to do. Clearly it is not what I would recommend to my friends. But if it is done in JavaScript, it can be generated and uploaded within single web application hosted by OpenWrt. Probably I am uncharacteristic user, but firewall is the only place I tweak periodically after initial setup.</p><p>Another problem was a code complexity trade-off between client and server code. nbd&#039;s code is good but quite complex by necessity --- ash is not designed to do text-processing producing HTML. Some places are just arcane. JavaScript is close to C, which is familiar to almost all developers. JavaScript has regex, which allows massaging text from command line scripts to your liking, like you would do with Perl. I suspect that package writers will prefer JavaScript to awk. I do.</p><p>And what is wrong with making web UI pretty? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> I think it will help popularity of OpenWrt. Interesting fact: ~25% of readers of my blog are coming from openwrt.org main page and from link in this thread. They don&#039;t come to read some revelations about OpenWrt internals --- I don&#039;t have such things at all. They come just because there is a great interest in web UI. That&#039; s why I am working on it.</p><p>There are some problems, which should be addressed in the future:</p><p>1) Web UI should be bundled with openwrt to make good first impression for non-hacker users. Which one? It is too early to select now. But clearly such web UI should provide a simple way to switch to other UI. Or be completely uninstalled. One possible solution: different images, which come with different set of pre-installed packages.</p><p>2) Web UI will have some core components (e.g., general info on OpenWrt setup with some editing) and additional components, which may come with packages. It would be nice to have package API defined at some point, so it can be reused (if possible) by different web UIs. Obviously a package can use a specialized API to make it super-simple/super-fancy. But we need to have some reasonable common ground.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12825">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						26 Sep 2005, 20:36					</div>
				</div>
				<div class="post-content content">
					<p>I would agree with all of your statements except the one stating OpenWRT should be bundled with a web interface. I would actually like to see OpenWRT not even come with a web server. The reason for this is using the squashfs binaries you have no way to remove software. Once it&#039;s there it&#039;s there. I also like to use Shorewall for my firewall software although it would be nice to have the startup script that is generated on a shorewall restart generated on a machine with more power. It takes over 5 minutes to restart it. I mean it sounds like by bundling all this stuff what you want to end up with here is DD-WRT. Why not just have a script on the OpenWRT that can be run on first login to select and install the base packages you want (something along the lines of Debian). It could then ipkg install them. Then you basically have a highly customized/personalized router almost out of the box.</p><p>P.S. I&#039;m not an OpenVPN developer so these are just my inputs as a user and a big fan of OpenWRT.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12826">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">xFallenAngel</div>
					<div class="post-datetime">
						26 Sep 2005, 21:00					</div>
				</div>
				<div class="post-content content">
					<p>From what I read there are two or three kinds of people answering here:</p><p>* type A: I dont need a web interface, since I can do all changes with ssh.<br />* type B: A web interface is cool, but it should be using the newest browser, javascript, etc.<br />* type C: me.</p><br /><p>To explain type C:<br />I can do both. I like to do changes to my configs when i have the time to do them. If i am in a hurry, or just plain lazy, I would like to be able to do simple tasks the easy way, with a web interface. Also for tasks I have never done, for example QoS. It would be great if a web interface just does the changes for me. I can review changes after that and then know how to do it by my self later.</p><p>I could do with out a web interace, sure. I would just make a couple of scripts that do the changes for me, basically the backend of the webinterface made standalone. Works fine, and there are probly enuf people out there who do it just that way. Regarding the text-mode browser compatability, I think this is important. I sometimes am at places where I just dont have any UI to work with, just an ssh window at max. I could do changes the ssh-way, sure, but why not do them with the web interface, if they are complex tasks?</p><p>The thing is, we want this web interface not only to work for type C people, but also for type B and inbetween people (type A people dont need to install it, or can uninstall it). Therefore, I think the way we are heading right now - having an interface that works with and without the newest browser - is the best way to go.</p><br /><div class="quotebox"><blockquote><p>Another problem was a code complexity trade-off between client and server code. nbd&#039;s code is good but quite complex by necessity --- ash is not designed to do text-processing producing HTML. Some places are just arcane. JavaScript is close to C, which is familiar to almost all developers. JavaScript has regex, which allows massaging text from command line scripts to your liking, like you would do with Perl. I suspect that package writers will prefer JavaScript to awk. I do.</p></blockquote></div><p>so how do you test server-side things and get them to the javascript client? If you write a package, anything that depends on server-side tasks (i.e checking for files, etc) relies on shell code. You will need to write it. Or do you want to just make a section with all the output from the (hint: you have to write them too!) shell scripts, and massage that with javascript? Sounds like the wrong thing to do for me, especially since text-mode browsers will just see the shell outputs as they are.</p><p>I am sure nbd&#039;s code can be taken apart a bit more or be templated a bit more, so that package maintainers just have to use a certain syntax (which may be documented some day) to provide UI for their package. No need to understand awk for that.</p><div class="quotebox"><blockquote><p>1) Web UI should be bundled with openwrt to make good first impression for non-hacker users. Which one? It is too early to select now. But clearly such web UI should provide a simple way to switch to other UI. Or be completely uninstalled. One possible solution: different images, which come with different set of pre-installed packages.</p></blockquote></div><p>I totally agree. There should be a UI to start with. I think nbd&#039;s ui should be the standard installed web interface, but I guess thats a question of religion.&nbsp; The simple way to switch to another is to uninstall one and isntall the other. You dont need different images for that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12827">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Schlaegel</div>
					<div class="post-datetime">
						26 Sep 2005, 21:49					</div>
				</div>
				<div class="post-content content">
					<p>I personally love the look of the interface and think it will be a great boon to OpenWRT. It took me a while to decide to give up the Linksys interface. Once I switched to OpenWRT I was very happy, but still wrote a small interface to accomplish some tasks others need to perform on the router.</p><p>nbd&#039;s XHTML and CSS look very good, but the code to create it looks very complex, almost scary. I wonder how all of the engineering affects performance. Regardless of how it runs under the hood I think it will be a success if it works.</p><p>I would prefer two versions of the firmware, one with the interface pre-installed, and one without.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12829">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">uhop</div>
					<div class="post-datetime">
						26 Sep 2005, 22:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>xFallenAngel wrote:</cite><blockquote><p>* type B: A web interface is cool, but it should be using the newest browser, javascript, etc.</p></blockquote></div><p>Who is B? I suspect that B is I, because I was the only one in this thread, who said about leveraging modern browsers. As far as I remember I advocated SSH for most tasks and I don&#039;t support the idea of &quot;it should be using the newest browser, javascript, etc.&quot; --- tools should be adequate to needs.</p><p>Every time you code for a web site you are faced with selecting the lowest common denominator as your base (&quot;We don&#039;t support NN4!&quot;) and providing enhancements for popular browsers (&quot;This is extension for FF!&quot;). I think that targeting text-based browsers makes the lowest common denominator is uncomman and impossibly low.</p><div class="quotebox"><cite>xFallenAngel wrote:</cite><blockquote><p>so how do you test server-side things and get them to the javascript client?...</p></blockquote></div><p>Sorry, I didn&#039;t get this paragraph. What did you mean by that?</p><p>In my (far from finished) implementation you still need server-side code. It goes (almost) directly to the browser and processed by JS. In most cases it&#039;s a one-liner. No processing is done in OpenWrt besides some greps. Is that what you asked?</p><div class="quotebox"><cite>xFallenAngel wrote:</cite><blockquote><p>I am sure nbd&#039;s code can be taken apart a bit more or be templated a bit more, so that package maintainers just have to use a certain syntax (which may be documented some day) to provide UI for their package. No need to understand awk for that.</p></blockquote></div><p>I don&#039;t recall bashing nbd&#039;s code. Just the opposite is true: I am impressed.</p><p>I want to clarify my point about awk. I downloaded nbd&#039;s code and started to muck around. ash scripts are unsuitable for HTML generation. Any transformation of command line output is a pain. If you can do with grep, and sub, you are fine. If not, you do awk. Basically the only scenario was easy to do: you show command line ouput verbatim, you show static form, you collect parameters from your form, and run a script with this parameters. Sounds familiar? I can do the same workflow with SSH. It would be simpler, more secure, and more flexible. I may need some helper scripts, which will automate some tasks for me. Things are getting more complicated, if you want to validate user&#039;s input. Just try to write something realistic. I tried.</p><div class="quotebox"><cite>xFallenAngel wrote:</cite><blockquote><p>I totally agree. There should be a UI to start with. I think nbd&#039;s ui should be the standard installed web interface, but I guess thats a question of religion.&nbsp; The simple way to switch to another is to uninstall one and isntall the other. You dont need different images for that.</p></blockquote></div><p>It&#039;s good to know your opinion. Not being OpenWrt developer I have absolutely no say in this matter. I could propose something. I did.</p><p>I hope &quot;to uninstall one and isntall the other&quot; would be possible without command line. Otherwise it defeats the purpose. That&#039;s why I proposed &quot;the switch&quot; in #1.</p><p>I think it is absolutely counterproductive to have many incompatible versions of web UI. Just imagine writing UI code for 5 different web UIs. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> That&#039;s why I proposed #2. </p><p>In my proposals I don&#039;t discuss any specifics. I just want to have the door open for alternative implementations. Please keep in mind that at this point my version of web UI is vaporware --- nobody saw it but me. <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> nbd has working version. It is here _now_. So chill your engines. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> When I have something semi-working (hopefully in ~2 weeks), I would be glad to hear some constructive criticism. But you have to wait.</p><p>PS: I re-read previous posts and I think that there is a misunderstanding. Let me tell directly what I thought was implied: I am doing web UI because I want to, I am not forcing it on anybody, I am not trying to convert anybody from their religions, I am not asking for anything, I don&#039;t think that I have monopoly on web UI, I am not going to bundle my implementation with anything (it is not my position to do so), I am not saying that you cannot do nice interface without JS. I hope it is clear now. Stop fantasizing. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>PPS: No, I am not against Shorewall.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12839">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						27 Sep 2005, 03:32					</div>
				</div>
				<div class="post-content content">
					<p>I am a little confused about something. You say you can uninstall one and install another but if it comes on a squashfs it would be in ROM and can not be uninstalled. Is this not correct? That is the only reason I am opposed to including one because it can&#039;t be uninstalled thus taking up precious space. Someone might want to use that space for something else. If it could be uninstalled I wouldn&#039;t even have piped up in the first place. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> I know I could build my own without it but it would be nice to have a basic binary. Maybe 2 or 3 different squashfs versions could be created with each release. A &quot;basic&quot; distribution (wouldn&#039;t even include web server), a &quot;standard&quot; edition, and a &quot;deluxe&quot; edition with varying degrees of geekiness. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p12840">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						27 Sep 2005, 03:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>I know I could build my own without it but it would be nice to have a basic binary. Maybe 2 or 3 different squashfs versions could be created with each release. A &quot;basic&quot; distribution (wouldn&#039;t even include web server), a &quot;standard&quot; edition, and a &quot;deluxe&quot; edition with varying degrees of geekiness. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Check out the new Image Builder. It uses package lists to quickly create several images with different feature sets. Should be exactly what you&#039;re looking for...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>