<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> davidc502 1900ac 3200acm builds</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 26 Feb 2018 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 36 of 229</div><nav><ul><li><a href="viewtopic.php%3Fid=64949&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=34.html">34</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=35.html">35</a></li><li class="pagination-current"><span>36</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=37.html">37</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=38.html">38</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=229.html">229</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p348018">
				<div class="post-metadata">
					<div class="post-num">Post #876</div>
					<div class="post-author">starcms</div>
					<div class="post-datetime">
						30 Dec 2016, 01:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><p>Hi @davidc502,</p><p>thanks for your builds.</p><p>Do you have a bug tracker?</p><p>I noticed a couple of small issues since I installed your build for wrt1200ac and would like to let you know about them.</p><p>One is that there is no diffutils package available, which I often use to compare config changes.</p><p>Also, /sbin/fan_ctrl.sh doesn&#039;t seem to be useful on wrt1200ac, as this device doesn&#039;t have a fan. That script wouldn&#039;t work anyway, as it tries to determine the CPU temp by looking at /sys/class/hwmon/hwmon2, which doesn&#039;t exist on wrt1200ac. There&#039;s only hwmon0 and 1.</p><p>Plus a couple of further issues which I have forgotten. :-(</p><p>Let me know if you want me to report here, or if you have a bug tracker.</p><p>Kind regards,</p><p>Ralf</p></blockquote></div><p>You are correct.&nbsp; Only the original WRT1900AC v1 (mamba) had a fan. No others in the WRT1200/1900/3200 series do. So I simply deleted the line */5 * * * * /sbin/fan_ctrl.sh from scheduled tasks in Luci (cron as it&#039;s actually called).&nbsp; I also have a 1200ac. </p><p>I don&#039;t believe @david has a bug tracker yet; if you have any issues please post them here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348019">
				<div class="post-metadata">
					<div class="post-num">Post #877</div>
					<div class="post-author">starcms</div>
					<div class="post-datetime">
						30 Dec 2016, 01:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>This morning I fixed https not working correctly. It would re-direct users back to http, which isn&#039;t helpful. It now stays on the https track no matter where you go on the page. Would like to get a certificate that has a valid CA, but it will cost $ to do so.</p></blockquote></div><p>You want to use Let&#039;s Encrypt. It&#039;s free and the way to go...</p></blockquote></div><p>That&#039;s how it&#039;s set up... using let&#039;s encrypt and though it says it has a open CA, in my case its not using one.&nbsp; Will look again and see if there&#039;s anything else I can do to get it to work.</p></blockquote></div><p>@david, I forgot to mention something important.&nbsp; In order to get opkg to download packages from a https:// source, you&#039;ll need wget (to be able to download from a https:// site) and ca-bundle and ca-certificates packages to install the database of trusted certificate providers.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348020">
				<div class="post-metadata">
					<div class="post-num">Post #878</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						30 Dec 2016, 02:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>starcms wrote:</cite><blockquote><div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><p>Hi @davidc502,</p><p>thanks for your builds.</p><p>Do you have a bug tracker?</p><p>I noticed a couple of small issues since I installed your build for wrt1200ac and would like to let you know about them.</p><p>One is that there is no diffutils package available, which I often use to compare config changes.</p><p>Also, /sbin/fan_ctrl.sh doesn&#039;t seem to be useful on wrt1200ac, as this device doesn&#039;t have a fan. That script wouldn&#039;t work anyway, as it tries to determine the CPU temp by looking at /sys/class/hwmon/hwmon2, which doesn&#039;t exist on wrt1200ac. There&#039;s only hwmon0 and 1.</p><p>Plus a couple of further issues which I have forgotten. :-(</p><p>Let me know if you want me to report here, or if you have a bug tracker.</p><p>Kind regards,</p><p>Ralf</p></blockquote></div><p>You are correct.&nbsp; Only the original WRT1900AC v1 (mamba) had a fan. No others in the WRT1200/1900/3200 series do. So I simply deleted the line */5 * * * * /sbin/fan_ctrl.sh from scheduled tasks in Luci (cron as it&#039;s actually called).&nbsp; I also have a 1200ac. </p><p>I don&#039;t believe @david has a bug tracker yet; if you have any issues please post them here.</p></blockquote></div><p>In cron, there should be a # in front except for the 1900ac.&nbsp; Is this not the case?&nbsp; I have the ACS, and in this model it does.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348021">
				<div class="post-metadata">
					<div class="post-num">Post #879</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						30 Dec 2016, 02:56					</div>
				</div>
				<div class="post-content content">
					<p>More about the certificate.&nbsp; certbot, for let&#039;s encrypt,&nbsp; was used to create the cert... It&#039;s just a command line utility, and it asked me Zero questions about the environment. </p><p>After it was created, I just moved on, and haven&#039;t circled back around, but surely it has switches that will allow one to fill in the information needed.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348022">
				<div class="post-metadata">
					<div class="post-num">Post #880</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						30 Dec 2016, 03:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><p>Hi @davidc502,</p><p>thanks for your builds.</p><p>Do you have a bug tracker?</p><p>I noticed a couple of small issues since I installed your build for wrt1200ac and would like to let you know about them.</p><p>One is that there is no diffutils package available, which I often use to compare config changes.</p><p>Also, /sbin/fan_ctrl.sh doesn&#039;t seem to be useful on wrt1200ac, as this device doesn&#039;t have a fan. That script wouldn&#039;t work anyway, as it tries to determine the CPU temp by looking at /sys/class/hwmon/hwmon2, which doesn&#039;t exist on wrt1200ac. There&#039;s only hwmon0 and 1.</p><p>Plus a couple of further issues which I have forgotten. :-(</p><p>Let me know if you want me to report here, or if you have a bug tracker.</p><p>Kind regards,</p><p>Ralf</p></blockquote></div><p>LEDE bug tracker is the place to report them. Just reference the build # example: r2695&nbsp; &nbsp;<a href="https://bugs.lede-project.org/">https://bugs.lede-project.org/</a></p><p>diffutils?&nbsp; I&#039;ll have to take a look to see where this option exists in menuconfig. All packages/kernels are selected, so I&#039;m not sure why this one isn&#039;t available, unless it&#039;s a option outside of the regular build.</p><p>As to the fan script, look to see if it is commented out in cron. On the acs model, it is, and someone with v2 said it was commented out. If commented out, there&#039;s nothing else that would call the script.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348024">
				<div class="post-metadata">
					<div class="post-num">Post #881</div>
					<div class="post-author">starcms</div>
					<div class="post-datetime">
						30 Dec 2016, 04:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><div class="quotebox"><cite>starcms wrote:</cite><blockquote><div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><p>Hi @davidc502,</p><p>thanks for your builds.</p><p>Do you have a bug tracker?</p><p>I noticed a couple of small issues since I installed your build for wrt1200ac and would like to let you know about them.</p><p>One is that there is no diffutils package available, which I often use to compare config changes.</p><p>Also, /sbin/fan_ctrl.sh doesn&#039;t seem to be useful on wrt1200ac, as this device doesn&#039;t have a fan. That script wouldn&#039;t work anyway, as it tries to determine the CPU temp by looking at /sys/class/hwmon/hwmon2, which doesn&#039;t exist on wrt1200ac. There&#039;s only hwmon0 and 1.</p><p>Plus a couple of further issues which I have forgotten. :-(</p><p>Let me know if you want me to report here, or if you have a bug tracker.</p><p>Kind regards,</p><p>Ralf</p></blockquote></div><p>You are correct.&nbsp; Only the original WRT1900AC v1 (mamba) had a fan. No others in the WRT1200/1900/3200 series do. So I simply deleted the line */5 * * * * /sbin/fan_ctrl.sh from scheduled tasks in Luci (cron as it&#039;s actually called).&nbsp; I also have a 1200ac. </p><p>I don&#039;t believe @david has a bug tracker yet; if you have any issues please post them here.</p></blockquote></div><p>In cron, there should be a # in front except for the 1900ac.&nbsp; Is this not the case?&nbsp; I have the ACS, and in this model it does.</p></blockquote></div><p>I always have been restoring my config the last several builds.&nbsp; In mine, I have it commented out too and have added a line for adblock to update every day.&nbsp; But on r2221 or maybe before that when I decided to start completely fresh, it wasn&#039;t commented out yet...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348029">
				<div class="post-metadata">
					<div class="post-num">Post #882</div>
					<div class="post-author">starcms</div>
					<div class="post-datetime">
						30 Dec 2016, 05:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>More about the certificate.&nbsp; certbot, for let&#039;s encrypt,&nbsp; was used to create the cert... It&#039;s just a command line utility, and it asked me Zero questions about the environment. </p><p>After it was created, I just moved on, and haven&#039;t circled back around, but surely it has switches that will allow one to fill in the information needed.</p></blockquote></div><p>Quick summary at first:</p><p>To allow opkg to download packages from a https:// server; wget, ca-certificates, and ca-bundle packages is all that&#039;s needed. No configuration required.&nbsp; ca-bundle may not even be required, but it doesn&#039;t hurt and I always keep it installed in addition to ca-certificates.&nbsp; If this isn&#039;t done, then even if/when you get your web server certificate to show as completely valid in a browser; opkg update and opkg install will fail.</p><p>For creating a cert to be used for Luci-SSL, simply look back at my previous few (long <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />) posts.&nbsp; All the required info is there (with one of the most important things that I haven&#039;t seen mentioned anywhere is making sure your build doesn&#039;t include a /etc/uhttpd.crt file. Many seem to for some reason (even if Luci-SSL isn&#039;t included), but the cert is very old and out of date.&nbsp; uhttpd (using px5g) will generate one automatically based on your uhttpd config on first boot, BUT ONLY if the file/cert doesn&#039;t already exist.&nbsp; Also, ensure the commonname in the uhttpd config file is set to 192.168.1.1 (other fields don&#039;t matter since its not going to be signed by a CA.&nbsp; This way, someone can if they so choose, download the certificate and add it to their browser certificate store so it will accept it as fully valid.</p><p><strong>Now to finally address your original question of correctly generating a cert for your web-server (which contains all the builds, packages, etc)</strong></p><p>According to <a href="https://letsencrypt.org/docs/certificate-compatibility/">https://letsencrypt.org/docs/certificate-compatibility/</a>, the certificate should be fully legit and uses&nbsp; IdenTrust’s DST Root X3 as the CA which is included in all browsers.&nbsp; I just checked and it is also included in /etc/ssl/certs, so it was provided by either the ca-certificates or ca-bundle packages.&nbsp; So it should definitely be able to work 100%.</p><p>If I were you, I would load <a href="https://valid-isrgrootx1.letsencrypt.org/">https://valid-isrgrootx1.letsencrypt.org/</a> (as opposed to simply letsencrypt.org; link is mentioned at <a href="https://letsencrypt.org/certificates/">https://letsencrypt.org/certificates/</a> ; its a page with an example certificate just as you would get, 90 day expiration) in IE (in Chrome I can&#039;t figure out how to display the actual certificate, clicking on the Lock Icon simply loads a list of permissions) or in another browser that will actually display the certificate (normally by clicking the lock icon and choosing Display Certificate).&nbsp; Click on the Details tab of the cert and look at the values they used.&nbsp; For example in the Subject field, only the CN (common name) value is included and should match your URL (davidc502sis.dynamic-dns.net). Many certs show the origination, state, country, and location in the Subject field of the cert.&nbsp; Not here.&nbsp; If you compare it to your current cert on <a href="https://davidc502sis.dynamic-dns.net">https://davidc502sis.dynamic-dns.net</a>, you&#039;ll notice giant differences, the biggest of which is probably what is listed as who the certificate is issued to and by whom.</p><p>The only other thing I can recommend is to check out <a href="https://letsencrypt.org/getting-started/">https://letsencrypt.org/getting-started/</a> and <a href="https://certbot.eff.org/">https://certbot.eff.org/</a></p><p>Edit: ALOT more info on cert here: <a href="https://certbot.eff.org/docs/using.html">https://certbot.eff.org/docs/using.html</a></p>											<p class="post-edited">(Last edited by <strong>starcms</strong> on 30 Dec 2016, 05:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348034">
				<div class="post-metadata">
					<div class="post-num">Post #883</div>
					<div class="post-author">108</div>
					<div class="post-datetime">
						30 Dec 2016, 08:51					</div>
				</div>
				<div class="post-content content">
					<p>@David, you may take a look at xenolf/lego on github. You can even generate and renew LE certs with the prebuilt binaries right on the router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348035">
				<div class="post-metadata">
					<div class="post-num">Post #884</div>
					<div class="post-author">Redferne</div>
					<div class="post-datetime">
						30 Dec 2016, 08:55					</div>
				</div>
				<div class="post-content content">
					<p>Am I&nbsp; the only one using nfs-kernel-server? It worked great on r2221, but now I get this:</p><div class="codebox"><pre><code>    _________
    /        /\      _    ___ ___  ___
   /  LE    /  \    | |  | __|   \| __|
  /    DE  /    \   | |__| _|| |) | _|
 /________/  LE  \  |____|___|___/|___|                      lede-project.org
 \        \   DE /
  \    LE  \    /  -----------------------------------------------------------
   \  DE    \  /    leviathan II (SNAPSHOT, r2695-c9c68c7)
    \________\/    -----------------------------------------------------------

root@wayout /root [#]# /etc/init.d/nfsd start
mount: mounting nfsd on /proc/fs/nfsd failed: No such device
rpc.nfsd: Unable to access /proc/fs/nfsd errno 2 (No such file or directory).
Please try, as root, &#039;mount -t nfsd nfsd /proc/fs/nfsd&#039; and then restart rpc.nfsd to correct the problem
root@wayout /root [#]#</code></pre></div><p>And the lvm2 package would not install due to kernel dependencies. It worked by --force-depends. </p><p>md raid modules are also not installing:</p><div class="codebox"><pre><code>root@wayout /root [#]# oi kmod-md-raid0
Installing kmod-md-raid0 (4.4.39-1) to root...
Downloading http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/kmod-md-raid0_4.4.39-1_arm_cortex-a9_vfpv3.ipk.
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-md-raid0:
 *      kernel (= 4.4.39-1-640b2d6a4a9fcdbcd2b9250e2b3d04a6) *  kernel (= 4.4.39-1-640b2d6a4a9fcdbcd2b9250e2b3d04a6) *
 * opkg_install_cmd: Cannot install package kmod-md-raid0.
root@wayout /root [#]#</code></pre></div><p>What am I doing wrong?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348037">
				<div class="post-metadata">
					<div class="post-num">Post #885</div>
					<div class="post-author">ralfbergs</div>
					<div class="post-datetime">
						30 Dec 2016, 10:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>starcms wrote:</cite><blockquote><p>Regardless if you decide to include Luci-ssl-openssl, I would highly recommend setting 2 default settings for future builds for those that are new to LEDE to ensure maximum security and avoid potential access from the WAN to SSL and Luci.</p><p>First, configure dropbear from the default unspecified interface to the LAN interface.&nbsp; </p><p>Secondly, in the uhttpd configuration (/etc/config/uhttpd):</p><p>-Change the default settings of listen_http and listen_https from the default of (I think it was) 0.0.0.0 (which allows WAN access to Luci) to 192.168.1.1.&nbsp; Also comment out or remove the second listen_http and listen_https of &#039;[::]:80&#039; and &#039;[::]:443, respectively (which also allow WAN access to Luci over IPv6).</p></blockquote></div><p>Right, this is exactly the other issues I had in mind and couldn&#039;t remember. That was one of the very first things I did after scanning my router from the outside (to make sure that the firewall is really closing down everything, which it does). So the out-of-box experience poses no security risk, but still it&#039;s much safer to bind only to the LAN interface to protect users against errors they might make themselves. :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348038">
				<div class="post-metadata">
					<div class="post-num">Post #886</div>
					<div class="post-author">ralfbergs</div>
					<div class="post-datetime">
						30 Dec 2016, 10:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>starcms wrote:</cite><blockquote><p>I bet there is a configuration error in how the certificate is being generated.&nbsp; The common name of the certificate is li1293-151.members.linode.com.&nbsp; I&#039;m pretty sure it should be davidc502sis.dynamic-dns.net.</p></blockquote></div><p>Yes, I also noticed this when checking. Also, the certificate is self-signed, and <em>not</em> signed by a well-known CA.</p><p>Maybe David didn&#039;t restart his web server to pull in the new config? Or he changed it in the wrong place?</p><div class="quotebox"><cite>starcms wrote:</cite><blockquote><p>But even if there is a configuration error, Windows is still saying &quot;This CA Root certificate is not trusted because it is not in the Trusted Root Certification Authorities store.&quot;&nbsp; So that makes me think that Let&#039;s Encrypt isn&#039;t a trusted certificate provider.</p></blockquote></div><p>No, it&#039;s because the currently deployed certificate at <a href="https://davidc502sis.dynamic-dns.net/">https://davidc502sis.dynamic-dns.net/</a> is self-signed, i. e. the public key was signed by corresponding private key, not by a different private key that belongs to a CA.</p><div class="quotebox"><cite>starcms wrote:</cite><blockquote><p>Also for a trusted certificate, the country, state, and origination name must also match what was provided (not simply the common name if you are generating a simple non-trusted certificate for Luci-SSL)</p></blockquote></div><p>For Let&#039;s Encrypt that doesn&#039;t matter, they will not include these fields in the certificate anyway. This is usually the same for all providers of domain-authorized certificates. To make them include these fields you have to provide proof, like identity documents or company registration docs. These certificates usually cost money, they cannot be obtained for free because it&#039;s a larger effort on the side of the CA.</p><br /><div class="quotebox"><cite>starcms wrote:</cite><blockquote><p>The concerning thing is that according to the cert, even the issuer has identical values listed.&nbsp; Also, the cert was issued to li1293-151.members.linode.com instead of to davidc502sis.dynamic-dns.net, and it was also issued by li1293-151.members.linode.com as well (which isn&#039;t a trusted source).</p></blockquote></div><p>Yes, as I said, this is the key issue. It&#039;s a self-signed certificate, not one signed by an external, well-known CA.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348039">
				<div class="post-metadata">
					<div class="post-num">Post #887</div>
					<div class="post-author">ralfbergs</div>
					<div class="post-datetime">
						30 Dec 2016, 10:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>starcms wrote:</cite><blockquote><div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><p>Also, /sbin/fan_ctrl.sh doesn&#039;t seem to be useful on wrt1200ac, as this device doesn&#039;t have a fan.</p></blockquote></div><p>You are correct.&nbsp; Only the original WRT1900AC v1 (mamba) had a fan. No others in the WRT1200/1900/3200 series do. So I simply deleted the line */5 * * * * /sbin/fan_ctrl.sh from scheduled tasks in Luci (cron as it&#039;s actually called).</p></blockquote></div><p>I did the same, but I don&#039;t want to repeatedly do this. Would be nice if David could change it in his build process. :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348040">
				<div class="post-metadata">
					<div class="post-num">Post #888</div>
					<div class="post-author">ralfbergs</div>
					<div class="post-datetime">
						30 Dec 2016, 10:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>starcms wrote:</cite><blockquote><p>@david, I forgot to mention something important.&nbsp; In order to get opkg to download packages from a https:// source, you&#039;ll need wget (to be able to download from a https:// site) and ca-bundle and ca-certificates packages to install the database of trusted certificate providers.</p></blockquote></div><p>That&#039;s true. Actually the first thing I did was to mirror David&#039;s packages, because I was afraid they could go away. I then changed the URLs to my web server, and I use SSL there as well, so I had to do what you described above. :-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348041">
				<div class="post-metadata">
					<div class="post-num">Post #889</div>
					<div class="post-author">ralfbergs</div>
					<div class="post-datetime">
						30 Dec 2016, 10:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>In cron, there should be a # in front except for the 1900ac.&nbsp; Is this not the case?</p></blockquote></div><p>No, it&#039;s not. It&#039;s an active cron entry.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348042">
				<div class="post-metadata">
					<div class="post-num">Post #890</div>
					<div class="post-author">ralfbergs</div>
					<div class="post-datetime">
						30 Dec 2016, 10:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>More about the certificate.&nbsp; certbot, for let&#039;s encrypt,&nbsp; was used to create the cert... It&#039;s just a command line utility, and it asked me Zero questions about the environment. </p><p>After it was created, I just moved on, and haven&#039;t circled back around, but surely it has switches that will allow one to fill in the information needed.</p></blockquote></div><p>I recommend you use certbot with the &quot;--webroot&quot; option, like described <a href="https://certbot.eff.org/docs/using.html#webroot">here</a>. This gives you maximum control and flexibility.</p><p>Basically you point the script to the webroot for your domain, so that it can put a file there that will then be retrieved by Let&#039;s Encrypt to verify whether you have control over the web server. This approach will also not try to make automatic changes to your config, but just retrieve the certificate. You can then manually configure your web server to use the certificate.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348043">
				<div class="post-metadata">
					<div class="post-num">Post #891</div>
					<div class="post-author">ralfbergs</div>
					<div class="post-datetime">
						30 Dec 2016, 10:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><p>Do you have a bug tracker?</p><p>I noticed a couple of small issues since I installed your build for wrt1200ac and would like to let you know about them.</p><p>One is that there is no diffutils package available, which I often use to compare config changes.</p><p>Also, /sbin/fan_ctrl.sh doesn&#039;t seem to be useful on wrt1200ac, as this device doesn&#039;t have a fan.</p></blockquote></div><p>LEDE bug tracker is the place to report them. Just reference the build # example: r2695&nbsp; &nbsp;<a href="https://bugs.lede-project.org/">https://bugs.lede-project.org/</a></p></blockquote></div><p>So you&#039;re saying it&#039;s an upstream bug? I suspected it&#039;s a bug of your specific build, this is why I didn&#039;t put it in LEDE&#039;s bug tracker (which I know about...)</p><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>diffutils?&nbsp; I&#039;ll have to take a look to see where this option exists in menuconfig. All packages/kernels are selected, so I&#039;m not sure why this one isn&#039;t available, unless it&#039;s a option outside of the regular build.</p></blockquote></div><p>Strange... I have been using it since ages, both on OpenWrt and LEDE...</p><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>As to the fan script, look to see if it is commented out in cron. On the acs model, it is, and someone with v2 said it was commented out. If commented out, there&#039;s nothing else that would call the script.</p></blockquote></div><p>As I said, the script is <em>not</em> commented out in cron. And I have a WRT1200AC &quot;V1&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348061">
				<div class="post-metadata">
					<div class="post-num">Post #892</div>
					<div class="post-author">Driver007</div>
					<div class="post-datetime">
						30 Dec 2016, 17:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>So far the new wifi driver is working well on r2695.</p><p>Any wifi driver issues out there?</p><p>Thanks for all the kudos! </p><p>David</p></blockquote></div><p>how to test properly wifi? for me seems something wrong. It&#039;s very unstable on cobra.</p><p>and what logs search for?</p><p>I have 600Mbps WAN speed, and it&#039;s hard to maintain half of the speed, on my Intel card it goes form 20-40MB/s from about a meter from router, my wifi USB also doesn&#039;t seem stable, it goes from 300KB/s and after 10 seconds it bumps to 30MB/s but not every time.</p><p>latest build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348067">
				<div class="post-metadata">
					<div class="post-num">Post #893</div>
					<div class="post-author">moccolo</div>
					<div class="post-datetime">
						30 Dec 2016, 18:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Driver007 wrote:</cite><blockquote><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>So far the new wifi driver is working well on r2695.</p><p>Any wifi driver issues out there?</p><p>Thanks for all the kudos! </p><p>David</p></blockquote></div><p>how to test properly wifi? for me seems something wrong. It&#039;s very unstable on cobra.</p><p>and what logs search for?</p><p>I have 600Mbps WAN speed, and it&#039;s hard to maintain half of the speed, on my Intel card it goes form 20-40MB/s from about a meter from router, my wifi USB also doesn&#039;t seem stable, it goes from 300KB/s and after 10 seconds it bumps to 30MB/s but not every time.</p><p>latest build.</p></blockquote></div><p>what encription and cipher are you using? use wpa2-psk and AES cipher.</p>											<p class="post-edited">(Last edited by <strong>moccolo</strong> on 30 Dec 2016, 18:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348076">
				<div class="post-metadata">
					<div class="post-num">Post #894</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						30 Dec 2016, 19:36					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>More about the certificate.&nbsp; certbot, for let&#039;s encrypt,&nbsp; was used to create the cert... It&#039;s just a command line utility, and it asked me Zero questions about the environment. </p><p>After it was created, I just moved on, and haven&#039;t circled back around, but surely it has switches that will allow one to fill in the information needed.</p></blockquote></div><p>I recommend you use certbot with the &quot;--webroot&quot; option, like described <a href="https://certbot.eff.org/docs/using.html#webroot">here</a>. This gives you maximum control and flexibility.</p><p>Basically you point the script to the webroot for your domain, so that it can put a file there that will then be retrieved by Let&#039;s Encrypt to verify whether you have control over the web server. This approach will also not try to make automatic changes to your config, but just retrieve the certificate. You can then manually configure your web server to use the certificate.</p></blockquote></div><p>Well, the cert is now hooked into a CA. This is the command I ran and just added the domain of davidc502sis.dynamic-dns.net.&nbsp; # ./certbot-auto --update-registration</p><p>Looks like the cert is only valid for about 4 months which is strange as there were no options to increase it. </p><p>Still looking though</p><p>**EDIT**</p><p>This was added to cron and checks twice daily and will auto renew -&nbsp; certbot-auto renew --quiet --no-self-upgrade</p>											<p class="post-edited">(Last edited by <strong>davidc502</strong> on 30 Dec 2016, 19:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348079">
				<div class="post-metadata">
					<div class="post-num">Post #895</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						30 Dec 2016, 19:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>moccolo wrote:</cite><blockquote><div class="quotebox"><cite>Driver007 wrote:</cite><blockquote><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>So far the new wifi driver is working well on r2695.</p><p>Any wifi driver issues out there?</p><p>Thanks for all the kudos! </p><p>David</p></blockquote></div><p>how to test properly wifi? for me seems something wrong. It&#039;s very unstable on cobra.</p><p>and what logs search for?</p><p>I have 600Mbps WAN speed, and it&#039;s hard to maintain half of the speed, on my Intel card it goes form 20-40MB/s from about a meter from router, my wifi USB also doesn&#039;t seem stable, it goes from 300KB/s and after 10 seconds it bumps to 30MB/s but not every time.</p><p>latest build.</p></blockquote></div><p>what encription and cipher are you using? use wpa2-psk and AES cipher.</p></blockquote></div><p>Also, please download a wifi analyzer, to your phone, and look to see how many others you might be competing with. I know in my area 2.4Ghz is hardly usable, and with everyone using 80Mhz widths on 5Ghz, there is only 2 channels outside of DFS.</p><p>With DFS not working correctly (always switches to non DFS after a few hours), there are certain times of the day where I only get 10 or 20mbps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348081">
				<div class="post-metadata">
					<div class="post-num">Post #896</div>
					<div class="post-author">starcms</div>
					<div class="post-datetime">
						30 Dec 2016, 20:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>More about the certificate.&nbsp; certbot, for let&#039;s encrypt,&nbsp; was used to create the cert... It&#039;s just a command line utility, and it asked me Zero questions about the environment. </p><p>After it was created, I just moved on, and haven&#039;t circled back around, but surely it has switches that will allow one to fill in the information needed.</p></blockquote></div><p>I recommend you use certbot with the &quot;--webroot&quot; option, like described <a href="https://certbot.eff.org/docs/using.html#webroot">here</a>. This gives you maximum control and flexibility.</p><p>Basically you point the script to the webroot for your domain, so that it can put a file there that will then be retrieved by Let&#039;s Encrypt to verify whether you have control over the web server. This approach will also not try to make automatic changes to your config, but just retrieve the certificate. You can then manually configure your web server to use the certificate.</p></blockquote></div><p>Well, the cert is now hooked into a CA. This is the command I ran and just added the domain of davidc502sis.dynamic-dns.net.&nbsp; # ./certbot-auto --update-registration</p><p>Looks like the cert is only valid for about 4 months which is strange as there were no options to increase it. </p><p>Still looking though</p><p>**EDIT**</p><p>This was added to cron and checks twice daily and will auto renew -&nbsp; certbot-auto renew --quiet --no-self-upgrade</p></blockquote></div><p>According to their website, their certs are only good for 90 days. But looks like you got it figured out. </p><p>Your website is now showing a completely valid cert!&nbsp; In the next build, you can definitely include wget, ca-certificates, and ca-bundle and change the sources to point to HTTPS. Great job!</p><p>Edit: And if I were you, I&#039;d set up the webserver to automatically direct http traffic to https</p>											<p class="post-edited">(Last edited by <strong>starcms</strong> on 30 Dec 2016, 20:18)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348082">
				<div class="post-metadata">
					<div class="post-num">Post #897</div>
					<div class="post-author">starcms</div>
					<div class="post-datetime">
						30 Dec 2016, 20:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Driver007 wrote:</cite><blockquote><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>So far the new wifi driver is working well on r2695.</p><p>Any wifi driver issues out there?</p><p>Thanks for all the kudos! </p><p>David</p></blockquote></div><p>how to test properly wifi? for me seems something wrong. It&#039;s very unstable on cobra.</p><p>and what logs search for?</p><p>I have 600Mbps WAN speed, and it&#039;s hard to maintain half of the speed, on my Intel card it goes form 20-40MB/s from about a meter from router, my wifi USB also doesn&#039;t seem stable, it goes from 300KB/s and after 10 seconds it bumps to 30MB/s but not every time.</p><p>latest build.</p></blockquote></div><p>Do you have a WRT3200ACM?&nbsp; The wifi drivers for it are still maturing and have speed issues.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348084">
				<div class="post-metadata">
					<div class="post-num">Post #898</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						30 Dec 2016, 20:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Redferne wrote:</cite><blockquote><p>Am I&nbsp; the only one using nfs-kernel-server? It worked great on r2221, but now I get this:</p><div class="codebox"><pre><code>    _________
    /        /\      _    ___ ___  ___
   /  LE    /  \    | |  | __|   \| __|
  /    DE  /    \   | |__| _|| |) | _|
 /________/  LE  \  |____|___|___/|___|                      lede-project.org
 \        \   DE /
  \    LE  \    /  -----------------------------------------------------------
   \  DE    \  /    leviathan II (SNAPSHOT, r2695-c9c68c7)
    \________\/    -----------------------------------------------------------

root@wayout /root [#]# /etc/init.d/nfsd start
mount: mounting nfsd on /proc/fs/nfsd failed: No such device
rpc.nfsd: Unable to access /proc/fs/nfsd errno 2 (No such file or directory).
Please try, as root, &#039;mount -t nfsd nfsd /proc/fs/nfsd&#039; and then restart rpc.nfsd to correct the problem
root@wayout /root [#]#</code></pre></div><p>And the lvm2 package would not install due to kernel dependencies. It worked by --force-depends. </p><p>md raid modules are also not installing:</p><div class="codebox"><pre><code>root@wayout /root [#]# oi kmod-md-raid0
Installing kmod-md-raid0 (4.4.39-1) to root...
Downloading http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/kmod-md-raid0_4.4.39-1_arm_cortex-a9_vfpv3.ipk.
Collected errors:
 * satisfy_dependencies_for: Cannot satisfy the following dependencies for kmod-md-raid0:
 *      kernel (= 4.4.39-1-640b2d6a4a9fcdbcd2b9250e2b3d04a6) *  kernel (= 4.4.39-1-640b2d6a4a9fcdbcd2b9250e2b3d04a6) *
 * opkg_install_cmd: Cannot install package kmod-md-raid0.
root@wayout /root [#]#</code></pre></div><p>What am I doing wrong?</p></blockquote></div><p>This is what I got when installing lvm2..&nbsp; I&#039;m not familiar with the package, but does look like it installed? I did see this command being issued above? Is this correct? &quot; /root [#]# oi kmod-md-raid0&quot; </p><div class="codebox"><pre><code>root@lede:~# opkg list |grep lvm2
lvm2 - 2.02.165-1 - LVM2 refers to a new userspace toolset that provide logical                                                         volume management facilities on linux. It is reasonably backwards-compatible wit                                                        h the original LVM toolset.
root@lede:~# opkg install lvm2
Installing lvm2 (2.02.165-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/packages/lvm2_2.02.165-1_arm_cortex-a9_vfpv3.ipk.
Installing libdevmapper (2.02.165-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/packages/libdevmapper_2.02.165-1_arm_cortex-a9_vfpv3.ipk.
Installing kmod-dm (4.4.39-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/ge[/url]                                                        neric/packages/kmod-dm_4.4.39-1_arm_cortex-a9_vfpv3.ipk.
Installing libblkid (2.28-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/base/libblkid_2.28-1_arm_cortex-a9_vfpv3.ipk.
Installing libreadline (7.0-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/base/libreadline_7.0-1_arm_cortex-a9_vfpv3.ipk.
Configuring kmod-dm.
Configuring libdevmapper.
Configuring libblkid.
Configuring libreadline.
Configuring lvm2.
File descriptor 3 (/tmp/lock/opkg.lock) leaked on lvm invocation. Parent PID 228                                                        76: /bin/sh
File descriptor 9 (pipe:[2176]) leaked on lvm invocation. Parent PID 22876: /bin                                                        /sh
  Reading all physical volumes.  This may take a while...
File descriptor 3 (/tmp/lock/opkg.lock) leaked on lvm invocation. Parent PID 228                                                        76: /bin/sh
File descriptor 9 (pipe:[2176]) leaked on lvm invocation. Parent PID 22876: /bin                                                        /sh

Also, installing kmod-md-radio0 worked.

root@lede:~# opkg install kmod-md-raid0
Installing kmod-md-raid0 (4.4.39-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/kmod-md-raid0_4.4.39-1_arm_cortex-a9_vfpv3.ipk.[/url]
Installing kmod-md-mod (4.4.39-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/kmod-md-mod_4.4.39-1_arm_cortex-a9_vfpv3.ipk.[/url]
Configuring kmod-md-mod.
Configuring kmod-md-raid0.</code></pre></div>											<p class="post-edited">(Last edited by <strong>davidc502</strong> on 30 Dec 2016, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348085">
				<div class="post-metadata">
					<div class="post-num">Post #899</div>
					<div class="post-author">davidc502</div>
					<div class="post-datetime">
						30 Dec 2016, 20:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>starcms wrote:</cite><blockquote><div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><div class="quotebox"><cite>ralfbergs wrote:</cite><blockquote><p>I recommend you use certbot with the &quot;--webroot&quot; option, like described <a href="https://certbot.eff.org/docs/using.html#webroot">here</a>. This gives you maximum control and flexibility.</p><p>Basically you point the script to the webroot for your domain, so that it can put a file there that will then be retrieved by Let&#039;s Encrypt to verify whether you have control over the web server. This approach will also not try to make automatic changes to your config, but just retrieve the certificate. You can then manually configure your web server to use the certificate.</p></blockquote></div><p>Well, the cert is now hooked into a CA. This is the command I ran and just added the domain of davidc502sis.dynamic-dns.net.&nbsp; # ./certbot-auto --update-registration</p><p>Looks like the cert is only valid for about 4 months which is strange as there were no options to increase it. </p><p>Still looking though</p><p>**EDIT**</p><p>This was added to cron and checks twice daily and will auto renew -&nbsp; certbot-auto renew --quiet --no-self-upgrade</p></blockquote></div><p>According to their website, their certs are only good for 90 days. But looks like you got it figured out. </p><p>Your website is now showing a completely valid cert!&nbsp; In the next build, you can definitely include wget, ca-certificates, and ca-bundle and change the sources to point to HTTPS. Great job!</p><p>Edit: And if I were you, I&#039;d set up the webserver to automatically direct http traffic to https</p></blockquote></div><p>@starcms</p><p>Thanks... already thinking about doing what you suggested.&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>installed libustream-openssl, ca-certificates, and ca bundle, and opkg works properly.&nbsp; I really appreciate everyone&#039;s help getting this going.</p><div class="codebox"><pre><code>root@lede:~# opkg install libustream-openssl
Installing libustream-openssl (2016-07-02-ec80adaa-1) to root...
Downloading http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/base/libustream-openssl_2016-07-02-ec80adaa-1_arm_cortex-a9_vfpv3.ipk.
Configuring libustream-openssl.

root@lede:~# opkg install ca-certificates
Installing ca-certificates (20161130) to root...
Downloading http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/base/ca-certificates_20161130_all.ipk.
Configuring ca-certificates.

root@lede:~# opkg install ca-bundle
Installing ca-bundle (20161130) to root...
Downloading http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/base/ca-bundle_20161130_all.ipk.
Configuring ca-bundle.

root@lede:~# opkg update
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/Packages.gz.
Updated list of available packages in /var/opkg-lists/leviathan_ii_core.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/Packages.sig.
Signature check passed.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/base/Packages.gz.
Updated list of available packages in /var/opkg-lists/leviathan_ii_base.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/base/Packages.sig.
Signature check passed.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/telephony/Packages.gz.
Updated list of available packages in /var/opkg-lists/leviathan_ii_telephony.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/telephony/Packages.sig.
Signature check passed.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/packages/Packages.gz.
Updated list of available packages in /var/opkg-lists/leviathan_ii_packages.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/packages/Packages.sig.
Signature check passed.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/routing/Packages.gz.
Updated list of available packages in /var/opkg-lists/leviathan_ii_routing.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/routing/Packages.sig.
Signature check passed.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/luci/Packages.gz.
Updated list of available packages in /var/opkg-lists/leviathan_ii_luci.
Downloading https://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cortex-a9_vfpv3/luci/Packages.sig.
Signature check passed.</code></pre></div>											<p class="post-edited">(Last edited by <strong>davidc502</strong> on 30 Dec 2016, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p348096">
				<div class="post-metadata">
					<div class="post-num">Post #900</div>
					<div class="post-author">Redferne</div>
					<div class="post-datetime">
						31 Dec 2016, 00:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>davidc502 wrote:</cite><blockquote><p>This is what I got when installing lvm2..&nbsp; I&#039;m not familiar with the package, but does look like it installed? I did see this command being issued above? Is this correct? &quot; /root [#]# oi kmod-md-raid0&quot; <br /></p><div class="codebox"><pre><code>root@lede:~# opkg list |grep lvm2
lvm2 - 2.02.165-1 - LVM2 refers to a new userspace toolset that provide logical                                                         volume management facilities on linux. It is reasonably backwards-compatible wit                                                        h the original LVM toolset.
root@lede:~# opkg install lvm2
Installing lvm2 (2.02.165-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/packages/lvm2_2.02.165-1_arm_cortex-a9_vfpv3.ipk.
Installing libdevmapper (2.02.165-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/packages/libdevmapper_2.02.165-1_arm_cortex-a9_vfpv3.ipk.
Installing kmod-dm (4.4.39-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/ge[/url]                                                        neric/packages/kmod-dm_4.4.39-1_arm_cortex-a9_vfpv3.ipk.
Installing libblkid (2.28-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/base/libblkid_2.28-1_arm_cortex-a9_vfpv3.ipk.
Installing libreadline (7.0-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/packages/arm_cor[/url]                                                        tex-a9_vfpv3/base/libreadline_7.0-1_arm_cortex-a9_vfpv3.ipk.
Configuring kmod-dm.
Configuring libdevmapper.
Configuring libblkid.
Configuring libreadline.
Configuring lvm2.
File descriptor 3 (/tmp/lock/opkg.lock) leaked on lvm invocation. Parent PID 228                                                        76: /bin/sh
File descriptor 9 (pipe:[2176]) leaked on lvm invocation. Parent PID 22876: /bin                                                        /sh
  Reading all physical volumes.  This may take a while...
File descriptor 3 (/tmp/lock/opkg.lock) leaked on lvm invocation. Parent PID 228                                                        76: /bin/sh
File descriptor 9 (pipe:[2176]) leaked on lvm invocation. Parent PID 22876: /bin                                                        /sh

Also, installing kmod-md-radio0 worked.

root@lede:~# opkg install kmod-md-raid0
Installing kmod-md-raid0 (4.4.39-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/kmod-md-raid0_4.4.39-1_arm_cortex-a9_vfpv3.ipk.[/url]
Installing kmod-md-mod (4.4.39-1) to root...
Downloading [url]http://davidc502sis.dynamic-dns.net/snapshots/r2695/targets/mvebu/generic/packages/kmod-md-mod_4.4.39-1_arm_cortex-a9_vfpv3.ipk.[/url]
Configuring kmod-md-mod.
Configuring kmod-md-raid0.</code></pre></div></blockquote></div><p>Amazing. I&#039;m starting to wonder if my extroot is causing this problem. Maybe keeping settings during upgrade is a bad idea. I wonder how the dependencies are checked during package installation. I got to the point where I needed python and flexget so extroot on /overlay was the only option. Too bad OpenWRT/LEDE does a really bad job on supporting upgrading with extroot. There&#039;s a lot of manual labor required. </p><p>Thanks for confirming my initial suspicion, now I need to figure out why the dependcies are broken on my installation.</p><p>Would you mind installing nfs-kernel-server? Just need to know for a fact that it&#039;s working. </p><p>BTW,&nbsp; oi is my alias for opkg install.</p><p>Cheers!</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 36 of 229</div><nav><ul><li><a href="viewtopic.php%3Fid=64949&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=34.html">34</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=35.html">35</a></li><li class="pagination-current"><span>36</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=37.html">37</a></li><li><a href="viewtopic.php%3Fid=64949&amp;p=38.html">38</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=64949&amp;p=229.html">229</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>