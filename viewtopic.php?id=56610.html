<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TVheadend not detecting RTL2832u</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p270943">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Xer0</div>
					<div class="post-datetime">
						2 Apr 2015, 02:34					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to get TV streaming to work with a MR3020 and a DVB-T USB Stick</p><p>Shell dump:</p><div class="codebox"><pre><code>opkg update
opkg install kmod-input-core -d ram
insmod /tmp/lib/modules/3.10.49/input-core.ko

cd /tmp

wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/dvb-core.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/dvb-pll.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/rc-core.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/i2c-mux.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/dvb-usb.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/dvb_usb_v2.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/rtl2830.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/rtl2832.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/r820t.ko
wget http://openwrt.stargate.pw/compiled-modules/ar71xx/latest/dvb-usb-rtl28xxu.ko

insmod dvb-core.ko
insmod dvb-pll.ko
insmod rc-core.ko
insmod i2c-mux.ko
insmod dvb-usb.ko
insmod dvb_usb_v2.ko
insmod rtl2830.ko
insmod rtl2832.ko
insmod r820t.ko
insmod dvb-usb-rtl28xxu.ko

---


[  270.050000] usbcore: registered new interface driver dvb_usb_rtl28xxu
[  590.070000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[  590.240000] usb 1-1: dvb_usb_v2: found a &#039;Realtek RTL2832U reference design&#039; in warm state
[  590.320000] usb 1-1: dvb_usb_v2: will pass the complete MPEG2 transport stream to the software demuxer
[  590.330000] DVB: registering new adapter (Realtek RTL2832U reference design)
[  590.340000] usb 1-1: DVB: registering adapter 0 frontend 0 (Realtek RTL2832 (DVB-T))...
[  590.350000] r820t 0-001a: creating new instance
[  590.370000] r820t 0-001a: Rafael Micro r820t successfully identified
[  590.380000] Registered IR keymap rc-empty
[  590.390000] input: Realtek RTL2832U reference design as /devices/platform/ehci-platform/usb1/1-1/rc/rc0/input0
[  590.390000] rc0: Realtek RTL2832U reference design as /devices/platform/ehci-platform/usb1/1-1/rc/rc0
[  590.400000] usb 1-1: dvb_usb_v2: schedule remote query interval to 400 msecs
[  590.420000] usb 1-1: dvb_usb_v2: &#039;Realtek RTL2832U reference design&#039; successfully initialized and connected

---

opkg install tvheadend -d ram
Installing tvheadend (3.4patch1-0.1) to ram...
Downloading http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/oldpackages/tvheadend_3.4patch1-0.1_ar71xx.ipk.
Installing libcurl (7.38.0-1) to ram...
Downloading http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/base/libcurl_7.38.0-1_ar71xx.ipk.
Installing libpolarssl (1.3.9-2) to ram...
Downloading http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/base/libpolarssl_1.3.9-2_ar71xx.ipk.
Installing libopenssl (1.0.2a-0) to ram...
Downloading http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/base/libopenssl_1.0.2a-0_ar71xx.ipk.
Installing zlib (1.2.8-1) to ram...
Downloading http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/base/zlib_1.2.8-1_ar71xx.ipk.
Installing librt (0.9.33.2-1) to ram...
Downloading http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/base/librt_0.9.33.2-1_ar71xx.ipk.
Installing libpthread (0.9.33.2-1) to ram...
Downloading http://downloads.openwrt.org/barrier_breaker/14.07/ar71xx/generic/packages/base/libpthread_0.9.33.2-1_ar71xx.ipk.
Configuring libpthread.
Configuring libpolarssl.
Configuring libcurl.
Configuring librt.
Configuring zlib.
Configuring libopenssl.
Configuring tvheadend.
root@OpenWrt:~# 

---

export PATH=/usr/bin:/usr/sbin:/bin:/sbin:/tmp/usr/sbin:/tmp/usr/bin
export LD_LIBRARY_PATH=/lib:/usr/lib:/tmp/lib:/tmp/usr/lib

root@OpenWrt:~# tvheadend -C
Apr 02 01:31:37.959 [   INFO]:epggrab: module pyepg created
Apr 02 01:31:37.961 [   INFO]:epggrab: module xmltv created
Apr 02 01:31:37.967 [   INFO]:epgdb: loaded v2
Apr 02 01:31:37.968 [   INFO]:epgdb:   channels   0
Apr 02 01:31:37.969 [   INFO]:epgdb:   brands     0
Apr 02 01:31:37.970 [   INFO]:epgdb:   seasons    0
Apr 02 01:31:37.977 [   INFO]:epgdb:   episodes   0
Apr 02 01:31:37.981 [   INFO]:epgdb:   broadcasts 0
Apr 02 01:31:37.982 [   INFO]:dvr: Creating new configuration &#039;&#039;
Apr 02 01:31:37.985 [ NOTICE]:START: HTS Tvheadend version  started, running as PID:1336 UID:0 GID:0, settings located in &#039;/root/.hts/tvheadend&#039;</code></pre></div><p>So, the adapter is attached to frontend0, but not detected by tvh.</p><p>any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p270997">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">poLuz</div>
					<div class="post-datetime">
						2 Apr 2015, 16:07					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />i&#039;ve got the same problem with tvheadend (3.4patch1-0.1), i found online version 3.6 (<a href="http://www61.zippyshare.com/v/40119290/file.html">http://www61.zippyshare.com/v/40119290/file.html</a>) it recognize my tuner :</p><p>Thu Apr&nbsp; 2 13:27:53 2015 daemon.info tvheadend[2525]: dvb: Found adapter /dev/dvb/adapter0 (Realtek RTL2832 (DVB-T)) via USB (480 Mbit/s)</p><p>but i can&#039;t find any signal/mux</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p271005">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						2 Apr 2015, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>- test the usb adapter with in a virtualbox/qemu environment with OpenWrt fully installed there ?<br />- Use newer tvheadend version</p><p>The whole DVB / Media needs cleanup and thorough testing.</p><p>This is on my todo list but it needs time. (just finished fixing pulseaudio and bluetooth issues)<br />I have an USB DVB-T stick but reception is a little bit bad at my end. </p><p>Can you reference the guid you used ? (there are several in the wild but I dont see a wiki entry - you should create one</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p271049">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Xer0</div>
					<div class="post-datetime">
						3 Apr 2015, 01:29					</div>
				</div>
				<div class="post-content content">
					<p>is used <a href="http://ocsovszki-dorian.blogspot.de/2014/01/tl-wdr4900-openwrt-dvb-t-with-ite9135.html">http://ocsovszki-dorian.blogspot.de/201 â€¦ e9135.html</a> but for rtl2832u</p><div class="quotebox"><cite>poLuz wrote:</cite><blockquote><p>i&#039;ve got the same problem with tvheadend (3.4patch1-0.1), i found online version 3.6 (<a href="http://www61.zippyshare.com/v/40119290/file.html">http://www61.zippyshare.com/v/40119290/file.html</a>)</p></blockquote></div><p>seems to big for MR3020 RAM, installing it crashed and reboots the router</p><p>i would love to compile me an own tvheadend but never got the buildroot/sdk working on Amazon EC2 <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>