<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Which image file for WBMR-HP-G300H.</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p162167">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						26 Mar 2012, 17:35					</div>
				</div>
				<div class="post-content content">
					<p>I was looking to install open-wrt onto a newly purchased Buffalo WBMR-HP-G300H.</p><p>I&#039;ve read the few threads on this forum which mention this router but I have been unable to establish which image file I should use.</p><p>The different <a href="http://downloads.openwrt.org/backfire/10.03.1-rc6/lantiq_danube">version</a> seem to boil down to..</p><div class="quotebox"><blockquote><p><strong>openwrt-lantiq-danube-&lt;1&gt;-&lt;2&gt;.image</strong></p></blockquote></div><p>or<br /></p><div class="quotebox"><blockquote><p><strong>openwrt-lantiq-danube-&lt;2&gt;.rootfs</strong></p></blockquote></div><p>or<br /></p><div class="quotebox"><blockquote><p><strong>openwrt-lantiq-danube-&lt;1&gt;.uImage</strong></p></blockquote></div><p>where &lt;1&gt; is one of ...</p><div class="quotebox"><blockquote><p><strong>ARV3527<br />ARV4510PW<br />ARV4518PW<br />ARV4520PW<br />ARV4525PW<br />ARV452CPW<br />ARV7518PW<br />ARV752DPW<br />ARV752DPW22<br />EASY4010<br />EASY50712<br />EASY50812<br />GIGASX76X<br />NONE<br />(blank)<br /></strong></p></blockquote></div><p>and &lt;2&gt; is one of</p><div class="quotebox"><blockquote><p><strong>jffs2-128k<br />jffs2-256k<br />jffs2-64k<br />squashfs<br /></strong></p></blockquote></div><p>I suspect that <strong>&lt;1&gt; </strong> represents a hardware version but I&#039;m not sure which one is used by this router. If I look at the hardware page it says it&#039;s a <a href="http://wiki.openwrt.org/toh/buffalo/wbmr-hp-g300h#hardware">Atheros AR922X</a> which isn&#039;t listed. Am I to assume then that I should use the &quot;NONE&quot; version or should I use the .rootfs version.</p><p>Can anyone shed any light on what these different image files represent and/or more importantly for me, which one I should be using.</p><p>Thx<br />M.</p>											<p class="post-edited">(Last edited by <strong>scaryAardvark</strong> on 26 Mar 2012, 17:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162173">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">peps1iko</div>
					<div class="post-datetime">
						26 Mar 2012, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>There is no build yet.</p><p>You have to compile it yourself from trunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162752">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						31 Mar 2012, 18:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I&#039;ve downloaded and installed the buildroot stuff (<a href="http://wiki.openwrt.org/doc/howto/buildroot.exigence">http://wiki.openwrt.org/doc/howto/buildroot.exigence</a>) and I&#039;m running menuconfig.</p><p>Could you let me know what &quot;Target System&quot; I need to choses. Looking ath the hardware (<a href="http://wiki.openwrt.org/toh/buffalo/wbmr-hp-g300h">http://wiki.openwrt.org/toh/buffalo/wbmr-hp-g300h</a>) section for my router I see that it&#039;s a MIPS cpu with an Atheros AR922X SoC and a Atheros AR9280 wireless chipset.</p><p>I&#039;m assuming it&#039;s a<br />Target System :&nbsp; &quot;Lantiq GPON/XWAY&quot; target system.<br />SubTarget: &quot;AR9&quot;</p><p>I&#039;ve ran make and got the following error</p><div class="quotebox"><blockquote><p>install -m0755 /home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/brctl/brctl /home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/ipkg-lantiq/bridge/usr/sbin<br />install: cannot stat <strong>`/home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/brctl/brctl&#039;</strong>: <strong>No such file or directory</strong></p></blockquote></div><p>Any ideas?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162766">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">darkwin</div>
					<div class="post-datetime">
						31 Mar 2012, 21:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello, have you made all of these steps?</p><p>svn co svn://svn.openwrt.org/openwrt/trunk/<br />cd trunk</p><p>./scripts/feeds update -a<br />./scripts/feeds install -a<br />make package/symlinks<br />make defconfig<br />make prereq<br />make menuconfig</p>											<p class="post-edited">(Last edited by <strong>darkwin</strong> on 31 Mar 2012, 21:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162933">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						1 Apr 2012, 20:38					</div>
				</div>
				<div class="post-content content">
					<p>Yep, diid all those things.</p><div class="quotebox"><blockquote><p>install -m0644 ./files/55_determine_extroot_sysupgrade /home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/tmp-block-mount/lib/preinit/<br />install -m0644 ./files/60_pivot_usb_root /home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/tmp-block-mount/lib/preinit/<br />echo &quot;extroot_settle_time=\&quot;20\&quot;&quot; &gt;/home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/tmp-block-mount/lib/preinit/00_extroot.conf<br />install -d -m0755 /home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/tmp-block-mount/overlay<br />SHELL= /home/mark/openwrt/trunk/staging_dir/host/bin/flock /home/mark/openwrt/trunk/tmp/.root-copy.flock -c &#039;cp -fpR /home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/tmp-block-mount/. /home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/&#039;<br />rm -rf /home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/tmp-block-mount<br />touch /home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/root-lantiq/stamp/.block-mount_installed<br />make[3]: Leaving directory `/home/mark/openwrt/trunk/package/block-mount&#039;<br />make[3]: Entering directory `/home/mark/openwrt/trunk/package/bridge-utils&#039;<br />mkdir -p /home/mark/openwrt/trunk/bin/lantiq/packages /home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/ipkg-lantiq/bridge/CONTROL<br />install -d -m0755 /home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/ipkg-lantiq/bridge/usr/sbin<br />install -m0755 /home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/brctl/brctl /home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/ipkg-lantiq/bridge/usr/sbin<br />install: cannot stat `/home/mark/openwrt/trunk/build_dir/linux-lantiq_ar9/bridge-utils-1.5/brctl/brctl&#039;: No such file or directory<br />make[3]: *** [/home/mark/openwrt/trunk/bin/lantiq/packages/bridge_1.5-1_lantiq.ipk] Error 1<br />make[3]: Leaving directory `/home/mark/openwrt/trunk/package/bridge-utils&#039;<br />make[2]: *** [package/bridge-utils/compile] Error 2<br />make[2]: Leaving directory `/home/mark/openwrt/trunk&#039;<br />make[1]: *** [/home/mark/openwrt/trunk/staging_dir/target-mips_r2_uClibc-0.9.33/stamp/.package_compile] Error 2<br />make[1]: Leaving directory `/home/mark/openwrt/trunk&#039;<br />make: *** [world] Error 2</p></blockquote></div><p>M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162936">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">peps1iko</div>
					<div class="post-datetime">
						1 Apr 2012, 21:09					</div>
				</div>
				<div class="post-content content">
					<p>1. Check out the code:&nbsp; &nbsp;svn co svn.openwrt.org/openwrt/trunk trunk<br />2. cd trunk<br />3. Update the feeds: ./scripts/feeds update<br />4. Install the feeds: ./scripts/feeds install<br />4b. make package/symlinks<br />5. Configure:&nbsp; make menuconfig<br />&nbsp; - Target System:&nbsp; Lantiq GPON/XWAY<br />&nbsp; - Subtarget:&nbsp; AR9<br />&nbsp; - Target Profile:&nbsp; WBMR - Buffalo WMBR-HP-G300H<br />&nbsp; - Target Images: I use squashfs, I haven&#039;t tested jffs2<br />&nbsp; - You might want to enable luci (Luci/Collections/Luci)<br />&nbsp; - Enable wireless:&nbsp; Kernel Modules/Wireless Drivers/kmod-ath9k<br />&nbsp; - Enable hostapd: Network/hostapd and Network/hostapd-utils<br />6. Save the config<br />7. make</p><p>I successfully compiled the firmware with these steps(archlinux on virtualbox).</p><p>I have uploaded a squashfs (dated 20/03/2012) --&gt; <a href="http://netkups.com/?d=cc806428f8c7a">http://netkups.com/?d=cc806428f8c7a</a></p><p>*USE AT YOUR OWN RISK* I didn&#039;t test it.</p>											<p class="post-edited">(Last edited by <strong>peps1iko</strong> on 1 Apr 2012, 21:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162938">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						1 Apr 2012, 21:16					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys,<br />really appreciate the help.</p><p>I did follow the steps from the wiki although but will start again just to make sure I didn&#039;t accidentally turn on or off something that I needed in menuconfig.</p><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162943">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						1 Apr 2012, 22:58					</div>
				</div>
				<div class="post-content content">
					<p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Ok. I managed to get it all built after starting again.</p><p>I now have <br /></p><div class="quotebox"><blockquote><p>[mark@vaio lantiq]$ pwd<br />/home/mark/openwrt/trunk/bin/lantiq<br />[mark@vaio lantiq]$ ls -lrtI <br />total 4012<br />-rw-r--r-- 1 mark users&nbsp; 949498 Apr&nbsp; 1 21:15 openwrt-lantiq-ar9-WBMR-uImage<br />-rw-r--r-- 1 mark users 3145732 Apr&nbsp; 1 21:15 openwrt-lantiq-ar9-WBMR-squashfs.image<br />-rw-r--r-- 1 mark users&nbsp; &nbsp; &nbsp;138 Apr&nbsp; 1 21:15 md5sums<br />drwxr-xr-x 2 mark users&nbsp; &nbsp; 4096 Apr&nbsp; 1 21:15 packages</p></blockquote></div><p>I now need to know how to get these onto my router. Do I simply use the firmware update option on my router?</p><p>I couldn&#039;t seem to find in the docs how I do this.</p><p>Thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162969">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">peps1iko</div>
					<div class="post-datetime">
						2 Apr 2012, 10:03					</div>
				</div>
				<div class="post-content content">
					<p>copy the squashfs in /tmp and use this command</p><p>(you need dd-wrt)</p><p>mtd -r write openwrt-lantiq-ar9-WBMR-squashfs.image linux</p><p>wait 15 min(15 min for real) and you can reboot the router.</p><p>I hope you have the serial console in case of a brick.</p>											<p class="post-edited">(Last edited by <strong>peps1iko</strong> on 2 Apr 2012, 10:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162978">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">darkwin</div>
					<div class="post-datetime">
						2 Apr 2012, 11:35					</div>
				</div>
				<div class="post-content content">
					<p>he doesn´t need reboot the router. the -r option make automatic reboot after flash.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p162989">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						2 Apr 2012, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>Thanks again guys. I really appreciate the quick responses.</p><p>Yes, I have dd-wrt on my WBMR and am very dissapointed with it&#039;s wireless capabilities hence moving to openwrt.</p><p>I&#039;m away on business untill the weekend but will be trying this ASAP.</p><p>I don&#039;t have a serial cable (yet) but will deal with that if it gets bricked. What are the chances, anyway...&nbsp; &gt;50% ? </p><p>M.</p>											<p class="post-edited">(Last edited by <strong>scaryAardvark</strong> on 2 Apr 2012, 12:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164618">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">peps1iko</div>
					<div class="post-datetime">
						16 Apr 2012, 04:26					</div>
				</div>
				<div class="post-content content">
					<p>Any news?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164647">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						16 Apr 2012, 12:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi peks1iko, yes, I managed to get my router working with rhlee&#039;s help. However, I was a muppet and managed to brick it by installing the wrong image file so now it&#039;s sitting in bits awaiting me hooking up a serial cable in the vain hope that I haven&#039;t knackered the bootloader and I&#039;ll be able to recover it.</p><p>failing that I&#039;ll probably be buting another one .... but just looking at the prices it&#039;s shot up by £10 since I bought mine <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p164710">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">peps1iko</div>
					<div class="post-datetime">
						17 Apr 2012, 02:41					</div>
				</div>
				<div class="post-content content">
					<p>Nice! </p><p>Right now I&#039;m in Tokyo and I can&#039;t try it myself. Also, I am waiting for a new unit because my old one had a problem with the official firmware and it went in RMA. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Hope one day you can help me! <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177331">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Mishunja</div>
					<div class="post-datetime">
						7 Sep 2012, 21:16					</div>
				</div>
				<div class="post-content content">
					<p>Dear all!<br />Help me to flash my WBMR-HP-G300H with DD-WRT firmware please. I&#039;ve tried all the versions from dd-wrt site named buffalo_to_dd-wrt*. Every time during the flashing I got a warning message &quot;Wrong Image&quot; and the router rebooted into standard firmware. I&#039;ve tried several times with stock firmware and after upgrading the firmware to version 1.78. Any ideas why it is happening and how to flash this device?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178208">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Mishunja</div>
					<div class="post-datetime">
						14 Sep 2012, 21:31					</div>
				</div>
				<div class="post-content content">
					<p>Up</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178447">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">rossini</div>
					<div class="post-datetime">
						17 Sep 2012, 04:04					</div>
				</div>
				<div class="post-content content">
					<p>He Guys! Good News. </p><p>I debricked my router without JTAG or Serial or something.</p><p>My Symtoms: After power on the router, Power led was orange for about 5 seconds. Then nothing. No Pings no wlan, nothing.<br />After a wireshark session and a little trial&amp;error i found following solution:</p><p>In the boot loader is a tftp client which requests a firmware.ram.</p><p>Following steps:</p><p>1. Build openwrt with ram image option. I just followed the guide. <br />2. Set your local interface on ip 192.168.11.2 netmask 255.255.255.0 router 192.168.11.1<br />3. setup a tftp-server. I used TftpServer Version 3.4.1 under osx mountain lion. <br />4. rename the openwork-lantig-ar9-WBMR-uImage to firmware.ram<br />5. start the tftp-server<br />6. connect your pc to one lan port on the router.<br />7. Power on the router + PUSH THE AOSS Button. If you dont push the button, there will be no tftp request.<br />8. Now the Powerled should light up red + the AOSS led should light up.<br />9. After a little while, change your local lan interface to automatic and you should get a ip-address from the dhcp server.<br />10. Do a normal sysupgrade with a good image.<br />11. Wait and prey.</p><p>If you have running wireshark in the background, you will see if the tftp-transfer of the ram-image is successful.</p><p>Please confirm if it is working. And maybe we should then write in the wiki about the uboot-tftp-client.</p><p>have a nice debricking.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178668">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Mishunja</div>
					<div class="post-datetime">
						18 Sep 2012, 22:33					</div>
				</div>
				<div class="post-content content">
					<p>Hi, Rossini! Really good news! Will this method help to flash Openwirt over factory firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178681">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">rossini</div>
					<div class="post-datetime">
						19 Sep 2012, 00:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi Mishunja!<br />I&nbsp; really don&#039;t know. I cant test it as there is no known way to me to go back to original firmware. <br />Better ask in ddwrt Forum why you cannot flash ddwrt on your device.<br />But you can try if you are able to boot the RAM Image.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>