<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Process start failed at Boot Up</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p335866">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">muhd.usman87</div>
					<div class="post-datetime">
						25 Aug 2016, 09:43					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I have developed custom firmware for my device TP-Link MR3020 with CoovaChilli with it.&nbsp; Now the issue is that if I start the coovachilli manually using &quot;/etc/init.d/chilli start&quot;, it works perfectly fine, however the Coovachilli doesn&#039;t work properly when rebooted. Configurations are the same and its also mentioned at the top.</p><p>Start=60<br />Stop=90</p><p>Any idea whats failing CoovaChilli to boot automatically at boot time.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335870">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						25 Aug 2016, 09:59					</div>
				</div>
				<div class="post-content content">
					<p><em>/etc/init.d/chilli <strong>enable</strong></em>?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335875">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						25 Aug 2016, 10:17					</div>
				</div>
				<div class="post-content content">
					<p>It might be trying to start too soon before some of the services required by it have fully started. <br />You might try <br />- changing the startup priority from 60 to e.g. 95<br />- or add a &quot;sleep 5&quot; into the beginning of the coovachilli&#039;s init script&#039;s start() function too see if wait an additional 5 seconds would help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335889">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">augustus_meyer</div>
					<div class="post-datetime">
						25 Aug 2016, 12:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>- or add a &quot;sleep 5&quot; into the beginning of the coovachilli&#039;s init script&#039;s start() function too see if wait an additional 5 seconds would help.</p></blockquote></div><p>The last weapon of a desperate programmer :-)<br />To increase statup prio to 95 is the first way to go. <br />And besides increase in prio, checking for wan interface to be up would be helpful, too.<br />WIthout DNS, chilli &quot;dies&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335896">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						25 Aug 2016, 14:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>augustus_meyer wrote:</cite><blockquote><p>The last weapon of a desperate programmer :-)</p></blockquote></div><p>+1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p336003">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">muhd.usman87</div>
					<div class="post-datetime">
						26 Aug 2016, 13:56					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the reply.<br />Do i just need to change the &quot;Start&quot; value of init.d script or the &quot;Stop&quot; value as well, Can you also mention what does these two values mean?<br />How can i check if the WAN interface is up or not?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p336048">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">muhd.usman87</div>
					<div class="post-datetime">
						26 Aug 2016, 18:51					</div>
				</div>
				<div class="post-content content">
					<p>I have tried by changing the Start value to 95 and keep the stop value to 90, but it didnt work. Should I need to change the Stop value as well?</p><p>CoovaChilli does work if I add Sleep 5 in the start section.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p336049">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						26 Aug 2016, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>Stop value has only meaning in the system shutdown. It has no relevance at startup.<br />Good to hear that the &quot;sleep 5&quot; solution works.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>