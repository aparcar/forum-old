<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Net - Router - Router with OpenWRT - 2 wifi ( guest + private )</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p199256">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Begi</div>
					<div class="post-datetime">
						22 Apr 2013, 23:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi there,</p><p>I have some problems setting up a guest Wifi in this environment:<br />First router is the DHCP server and has an internet access. Some computer are also connected to this router. Far away from it a second router is connected through LAN to the first router. It has OpenWRT on it and it is configured to be a switch so the first router will provide all ip address to LAN and private Wifi clients.<br />Main LAN is configured to be 192.168.10.*, first router has 192.168.10.1 address, the second one has 192.168.10.2.<br />On the second router there are two Wifi configured. One is for private usage which is also in the 192.168.10.* subnet and a second one for guest acces 192.168.20.*. I added a new interface with name guest and a static IP 192.168.20.1 and configured the a DHCP server on that interface.<br />My problem is that when a client connects to the guest Wifi it has no internet access. It receives 192.168.20.* ip, but that&#039;s all.<br />I think this is related somehow to the firewall settings. What should I set up?<br />The goal is that the guest clients could access to the internet only and not to the LAN. Is it somehow possible?</p><p>Thank you in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199340">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						23 Apr 2013, 14:14					</div>
				</div>
				<div class="post-content content">
					<p>Does maybe both routers support vlan tagging? if not you can do some magic with the firewall/iptables of the seccond router.</p><p>Also have you did have look at <a href="http://wiki.openwrt.org/doc/recipes/guest-wlan">http://wiki.openwrt.org/doc/recipes/guest-wlan</a><br />then you could do everything on one device as well.</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 23 Apr 2013, 14:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199344">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Begi</div>
					<div class="post-datetime">
						23 Apr 2013, 14:36					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the reply.<br />That magic what I would like to do, but I do not know how.<br />Unfortunately I have to use both routers.</p>											<p class="post-edited">(Last edited by <strong>Begi</strong> on 23 Apr 2013, 14:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199361">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						23 Apr 2013, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>should the guest wifi be availlable from both routers?<br />Also are you running openwrt on both routers, and what router models do you have?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199362">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Begi</div>
					<div class="post-datetime">
						23 Apr 2013, 16:39					</div>
				</div>
				<div class="post-content content">
					<p>No the guest wifi should be available from the second router only.<br />The first router is an ASUS something, no wifi is used, just the WAN/LAN and DHCP. DD-WRT on it.<br />The second router is a TP-Link 1043ND. OpenWRT on it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p199366">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						23 Apr 2013, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>Does the asus something support vlan tagging? or the exact model would also be enough <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />because if it does it is easier to setup</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>