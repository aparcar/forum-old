<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Netgear WNR2000 OpenWRT (Atheros AP81, AR9103 chip, u-boot)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 3 Apr 2018 and 3 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 15</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=18279&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=15.html">15</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p78953">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						4 Jan 2009, 16:00					</div>
				</div>
				<div class="post-content content">
					<p>thought this device needed own thread here, it has experimental support in current OpenWRT.</p><p>Some facts:<br />* The factory firmware is based on a fork of OpenWRT WhiteRussian with kernel 2.6.15.&nbsp; There is a way to get root telnet on the device with the factory firmware if you wish.<br />* u-boot is wide open on this router, you can connect a rs232 serial port and u-boot has a 5 second countdown to take control.<br />* Atheros AP81 hardware platform.&nbsp; I have removed the RF shield and visually confirmed the radio is an AR9103 chip, which is 3x3 MIMO.<br />* Router has a tftp recovery mode if you corrupt the firmware.&nbsp; details below.</p><p>Right now there is no firmware that you can flash, I have been using u-boot tftpboot and ramdisk image of OpenWRT.&nbsp; Testing the newer AR91xx support in ATH9K driver.</p><p>Photos of the router hardware: <a href="http://www.smallnetbuilder.com/content/view/30615/96/">http://www.smallnetbuilder.com/content/view/30615/96/</a></p><br /><p>PROBLEMS and Status OpenWRT<br />======================<br />1) NO WAY TO FLASH OpenWRT.&nbsp; The bootloader does a checksum of the flash contents so we have to overcome that to flash OpenWRT onto the router.&nbsp; If flash filesystem modifies contents, will be different each boot.&nbsp; Solution may be to modify the u-boot on this router.<br />2) Current build of OpenWRT doesn&#039;t enable the Ethernet ports, so you only get WiFi.<br />3) ath9k driver slow.&nbsp; See the Trendnet TEW-652BRP thread for other details about current issues with the AP81 platform and performance with ath9k driver.</p><br /><p>Firmware Recovery<br />================<br />Experimenting with flashing, I&#039;ve managed to mess up the firware a few times.&nbsp; Good news is you can recover it.&nbsp; If you hold down reset (for like 30 seconds) while you turn on power to unit... it goes into tftp recover mode.</p><div class="codebox"><pre><code>U-Boot 1.1.4.16-g04e9b8bf (May 14 2008 - 17:04:28)

AP81 (ar7100) U-boot
sri
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 245k for U-Boot at: 81fc0000
Reserving 192k for malloc() at: 81f90000
Reserving 44 Bytes for Board Info at: 81f8ffd4
Reserving 36 Bytes for Global Data at: 81f8ffb0
Reserving 128k for boot params() at: 81f6ffb0
Stack Pointer at: 81f6ff98
Now running in RAM - U-Boot at: 81fc0000
id read 0x100000ff
flash size 4MB, sector count = 64
Flash: 4MB
In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
Fetching MAC Address from 0x81fea7b0
: cfg1 0xf cfg2 0x7114
eth0: 00:22:3f:0b:c5:9c
dup 1 speed 100
eth0 up
eth0
Factory Reset Mode
The Router is in TFTP Server Firmware Recovery mode NOW!
Listening on Port : 69, IP Address: 192.168.1.1...</code></pre></div><p>I got the factory firmware back on by using tftp tips from this page: <a href="http://cyberstorm.altervista.org/wag354g/guides/howto_unbricking_wag354g_en.txt">http://cyberstorm.altervista.org/wag354 … 54g_en.txt</a></p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 29 Jan 2009, 22:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78955">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						4 Jan 2009, 16:05					</div>
				</div>
				<div class="post-content content">
					<p>In recent builds of OpenWRT, the cabled ethernet ports stop working for me.&nbsp; OpenWRT SVN 13658 I had working ethernet ports.&nbsp; Output:</p><div class="codebox"><pre><code>U-Boot 1.1.4.16-g04e9b8bf (May 14 2008 - 17:04:28)

AP81 (ar7100) U-boot
sri
32 MB
Top of RAM usable for U-Boot at: 82000000
Reserving 245k for U-Boot at: 81fc0000
Reserving 192k for malloc() at: 81f90000
Reserving 44 Bytes for Board Info at: 81f8ffd4
Reserving 36 Bytes for Global Data at: 81f8ffb0
Reserving 128k for boot params() at: 81f6ffb0
Stack Pointer at: 81f6ff98
Now running in RAM - U-Boot at: 81fc0000
id read 0x100000ff
flash size 4MB, sector count = 64
Flash: 4MB
In:    serial
Out:   serial
Err:   serial
Net:   ag7100_enet_initialize...
Fetching MAC Address from 0x81fea7b0
: cfg1 0xf cfg2 0x7114
eth0: 00:22:3f:0b:c5:9c
dup 1 speed 100
eth0 up
eth0
### main_loop entered: bootdelay=4

### main_loop: bootcmd=&quot;bootm 0xbf2a0000&quot;
Hit any key to stop autoboot:  0
ar7100&gt; tftpboot 0x81000000 openwrt-ar71xx-uImage-gzip.bin
Using eth0 device
TFTP from server 192.168.2.28; our IP address is 192.168.2.126
Filename &#039;openwrt-ar71xx-uImage-gzip.bin&#039;.
Load address: 0x81000000
Loading:          ##################################
done
Bytes transferred = 2501382 (262b06 hex)
ar7100&gt; bootm
## Booting image at 81000000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.26.8
   Created:      2008-12-16   2:55:58 UTC
   Image Type:   MIPS Linux Kernel Image (gzip compressed)
   Data Size:    2501318 Bytes =  2.4 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.26.8 (root@stephen-desktop) (gcc version 4.1.2) #3 Mon Dec 15 18:55:46 PST 2008
console [early0] enabled
CPU revision is: 00019374 (MIPS 24K)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal          0 -&gt;     8192
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0:        0 -&gt;     8192
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 28336k/32768k available (1764k kernel code, 4432k reserved, 318k data, 1576k init, 0k highmem)
SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Mount-cache hash table entries: 512
net_namespace: 484 bytes
NET: Registered protocol family 16
MIPS: machine is Generic AR71xx board
registering PCI controller with io_map_base unset
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Ã¾Ã¾ 2001-2006 Red Hat, Inc.
yaffs Dec 14 2008 22:59:50 Installing.
msgmni has been set to 55
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver $Revision: 1.90 $ 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth0: invalid speed specified
ag71xx: probe of ag71xx.0 failed with error -22
eth0: Atheros AG71xx at 0xba000000, irq 5
Atheros AR71xx SPI Controller driver version 0.2.2
m25p80 spi0.0: unrecognized JEDEC id c22016
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP vegas registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 1576k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. br-lan: Dropping NETIF_F_UFO since no NETIF_F_HW_CSUM feature.
device eth0 entered promiscuous mode
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
wlan: trunk
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 2008-10-02 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, RF2425, REGOPS_FUNC, DFS, XR)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us
wlan: mac acl policy registered
ath_pci: trunk
eth0: link up (1000Mbps/Full duplex)
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state
br-lan: port 1(eth0) entering disabled state
br-lan: port 1(eth0) entering learning state
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state



BusyBox v1.11.3 (2008-12-14 22:37:50 PST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13658) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# cat /proc/meminfo
MemTotal:        29912 kB
MemFree:         21144 kB
Buffers:             0 kB
Cached:           4828 kB
SwapCached:          0 kB
Active:           2340 kB
Inactive:         3236 kB
SwapTotal:           0 kB
SwapFree:            0 kB
Dirty:               0 kB
Writeback:           0 kB
AnonPages:         764 kB
Mapped:            756 kB
Slab:             1432 kB
SReclaimable:      364 kB
SUnreclaim:       1068 kB
PageTables:        184 kB
NFS_Unstable:        0 kB
Bounce:              0 kB
WritebackTmp:        0 kB
CommitLimit:     14956 kB
Committed_AS:     2564 kB
VmallocTotal:  1048404 kB
VmallocUsed:      1300 kB
VmallocChunk:  1046716 kB
root@OpenWrt:/# uname -a
Linux OpenWrt 2.6.26.8 #3 Mon Dec 15 18:55:46 PST 2008 mips unknown
root@OpenWrt:/#</code></pre></div><p>However, today on a boot of OpenWRT SVN 13865 (modified to correct crypto issue) I do not get ethernet devices.</p><div class="codebox"><pre><code>ar7100&gt; setenv bootargs &#039;board=WNR2000&#039;
ar7100&gt; tftpboot 0x81000000 openwrt_13865mod1_2-6-27_try1-ar71xx-uImage-lzma.bin
Using eth0 device
TFTP from server 192.168.2.90; our IP address is 192.168.2.126
Filename &#039;openwrt_13865mod1_2-6-27_try1-ar71xx-uImage-lzma.bin&#039;.
Load address: 0x81000000
Loading:          ###########
done
Bytes transferred = 2716217 (297239 hex)
ar7100&gt; bootm
## Booting image at 81000000 ...
   Image Name:   MIPS OpenWrt Linux-2.6.27.10
   Created:      2009-01-05   0:08:41 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    2716153 Bytes =  2.6 MB
   Load Address: 80060000
   Entry Point:  80060000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ...OK
No initrd
## Transferring control to Linux (at address 80060000) ...
## Giving linux memsize in bytes, 33554432

Starting kernel ...

Linux version 2.6.27.10 (adminsag@ipcmedialinux1) (gcc version 4.1.2) #2 Sun Jan 4 18:08:34 CST 2009
console [early0] enabled
CPU revision is: 00019374 (MIPS 24K)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 27848k/32768k available (1788k kernel code, 4920k reserved, 318k data, 2040k init, 0k highmem)
SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
net_namespace: 592 bytes
NET: Registered protocol family 16
MIPS: machine is NETGEAR WNR2000
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Ã¾Ã¾ 2001-2006 Red Hat, Inc.
yaffs Jan  4 2009 17:44:11 Installing.
msgmni has been set to 54
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
Atheros AR71xx SPI Controller driver version 0.2.2
m25p80 spi0.0: mx25l32 (4096 Kbytes)
Searching for RedBoot partition table in spi0.0 at offset 0x3e0000
Searching for RedBoot partition table in spi0.0 at offset 0x3f0000
No RedBoot partition table detected in spi0.0
Creating 8 MTD partitions on &quot;spi0.0&quot;:
0x00000000-0x00040000 : &quot;u-boot&quot;
0x00040000-0x00050000 : &quot;u-boot-env&quot;
0x00050000-0x00290000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
0x00290000-0x002a0000 : &quot;user-config&quot;
0x002a0000-0x003c0000 : &quot;uImage&quot;
0x003c0000-0x003e0000 : &quot;language_table&quot;
0x003e0000-0x003f0000 : &quot;rootfs_checksum&quot;
0x003f0000-0x00400000 : &quot;art&quot;
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP vegas registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 2040k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. cfg80211: Using static regulatory domain info
cfg80211: Regulatory domain: US
        (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
        (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
        (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
cfg80211: Calling CRDA for country: US
ath9k: 0.1
Registered led device: ath9k-phy0:radio
Registered led device: ath9k-phy0:assoc
Registered led device: ath9k-phy0:tx
Registered led device: ath9k-phy0:rx
phy0: Atheros AR9100 MAC/BB Rev:0, AR2133 RF Rev:a1, mem=0xb80c0000, irq=2
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
wlan: trunk
ath_hal: module license &#039;Proprietary&#039; taints kernel.
ath_hal: 2008-10-02 (AR5210, AR5211, AR5212, AR5416, RF5111, RF5112, RF2413, RF5413, RF2133, RF2425, REGOPS_FUNC, DFS, XR)
ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)
ath_rate_minstrel: look around rate set to 10%
ath_rate_minstrel: EWMA rolloff level set to 75%
ath_rate_minstrel: max segment size in the mrr set to 6000 us
wlan: mac acl policy registered
ath_pci: trunk



BusyBox v1.11.3 (2009-01-04 17:30:43 CST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13865) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# uci set wireless.wlan0.disabled=0
root@OpenWrt:/# wifi up
device wlan0 entered promiscuous mode
Configuration file: /var/run/hostapd-wlan0.conf
br-lan: port 1(wlan0) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state
Mode: IEEE 802.11g  Channel: 5  Frequency: 2432 MHz
Using interface wlan0 with hwaddr 00:22:3f:0b:c5:9c and ssid &#039;OpenWrt&#039;
br-lan: port 1(wlan0) entering disabled state
br-lan: topology change detected, propagating
br-lan: port 1(wlan0) entering forwarding state

root@OpenWrt:/#
root@OpenWrt:/# ifconfig
br-lan    Link encap:Ethernet  HWaddr 00:22:3F:0B:C5:9C
          inet addr:192.168.1.1  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

mon.wlan0 Link encap:UNSPEC  HWaddr 00-22-3F-0B-C5-9C-00-4C-00-00-00-00-00-00-00-00
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:3 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:254 (254.0 B)  TX bytes:0 (0.0 B)

wlan0     Link encap:Ethernet  HWaddr 00:22:3F:0B:C5:9C
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

wmaster0  Link encap:UNSPEC  HWaddr 00-22-3F-0B-C5-9C-00-4C-00-00-00-00-00-00-00-00
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</code></pre></div><p>Good news is the ATH9K driver is working!&nbsp; I was able to connect a client and ping the router.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 5 Jan 2009, 02:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p78988">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						5 Jan 2009, 02:53					</div>
				</div>
				<div class="post-content content">
					<p>The ATH9K driver is confirmed WORKING on this router with AR9103 chip!&nbsp; I had to reverse out the recent crypto change (SVN 13850) to resolve error I was having, but after that - SVN 13865 works!</p><p>1) LAN ports are not working as noted above, they were working in SVN 13658 but not in 13865.&nbsp; Any ideas?<br />2) Currently no way I know to flash this router with OpenWRT, only able to boot via u-boot tftpboot</p><p>Thanks again Gabor for the ath9k driver work!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79051">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						5 Jan 2009, 23:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>The ATH9K driver is confirmed WORKING on this router with AR9103 chip!&nbsp; I had to reverse out the recent crypto change (SVN 13850) to resolve error I was having, but after that - SVN 13865 works!</p></blockquote></div><p><a href="https://dev.openwrt.org/changeset/13869">Fixed</a> in trunk already.</p><div class="quotebox"><blockquote><p>1) LAN ports are not working as noted above, they were working in SVN 13658 but not in 13865.&nbsp; Any ideas?</p></blockquote></div><p>Without the &#039;board=WNR2000&#039; bootarg you have used the &#039;Generic AR71xx&#039; code previously, and the WNR2000 specific setup code don&#039;t register ethernet devices yet. I will copy it from the generic code tomorrow. I have no ideas about the WAN port yet.<br /></p><div class="quotebox"><blockquote><p>2) Currently no way I know to flash this router with OpenWRT, only able to boot via u-boot tftpboot</p></blockquote></div><p>This requires some work yet.</p><div class="quotebox"><blockquote><p>Thanks again Gabor for the ath9k driver work!</p></blockquote></div><p>You are welcome, however you will owe me with the bounty ;-)</p><p>-Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79063">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						6 Jan 2009, 00:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>juhosg wrote:</cite><blockquote><div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>Thanks again Gabor for the ath9k driver work!</p></blockquote></div><p>You are welcome, however you will owe me with the bounty ;-)</p><p>-Gabor</p></blockquote></div><p>what do you want, let me know which:&nbsp; 1) hardware (routers you don&#039;t have i can perhaps find in USA), 2) pizza/beer, 3) cash (PayPal)?&nbsp; Anyone else pitching in?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79317">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						8 Jan 2009, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>Photos of the internals of this route (Netgear WNR2000)r: <a href="http://www.smallnetbuilder.com/content/view/30615/96/">http://www.smallnetbuilder.com/content/view/30615/96/</a></p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 10 Jan 2009, 22:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79322">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Bartman007</div>
					<div class="post-datetime">
						8 Jan 2009, 23:40					</div>
				</div>
				<div class="post-content content">
					<p>Do you know of any AP81 board that has a JTAG header? Because of the way Netgear tweaked u-boot on this device we are going to need to reflash the bootloader when storing a writable filesystem in flash. I&#039;d like to have a similar device with JTAG to test the tweaked u-boot on before I reflash the bootloader on my WNR2000, since I will likely only have one shot if it didn&#039;t build properly.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79334">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						9 Jan 2009, 05:41					</div>
				</div>
				<div class="post-content content">
					<p>You are in luck!&nbsp; The TP-Link WR941N / WR941ND appears to have a JTAG interface on J9 position on the motherboard.&nbsp; It also has USB headers.&nbsp; I&#039;ve started a thread here: <a href="http://forum.openwrt.org/viewtopic.php?id=18354">http://forum.openwrt.org/viewtopic.php?id=18354</a></p><p>Lark on dd-wrt forum says: &quot;jtag: top left, J9 / Serial: top left, P1 / USB: top right, J10 (the case has a hole for USB socket)&quot;:&nbsp; here: <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=40041">http://www.dd-wrt.com/phpBB2/viewtopic.php?t=40041</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79335">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						9 Jan 2009, 05:43					</div>
				</div>
				<div class="post-content content">
					<p>Although our famous Trendnet 632/652 and D-Link DIR-615 C1 also have a 14 pin JTAG interface: <a href="http://wiki.x-wrt.org/index.php/Trendnet_TEW-632BRP#JTAG">http://wiki.x-wrt.org/index.php/Trendne … 32BRP#JTAG</a> - I bricked one (flash 4.6MB into 4MB of FLASH, DOH) - so I would like to see how JTAG works <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> -- perhaps I donate my unit to you?</p><p>Info on Atheros JTAG: <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=28714">http://www.dd-wrt.com/phpBB2/viewtopic.php?t=28714</a></p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 9 Jan 2009, 05:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79436">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						10 Jan 2009, 21:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>what do you want, let me know which:&nbsp; 1) hardware (routers you don&#039;t have i can perhaps find in USA), 2) pizza/beer, 3) cash (PayPal)?&nbsp; Anyone else pitching in?</p></blockquote></div><p>Well, some AR913x based boards would be nice.</p><p>Regards,<br />Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79440">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">_bbb_</div>
					<div class="post-datetime">
						10 Jan 2009, 21:41					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>juhosg wrote:</cite><blockquote><div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><p>what do you want, let me know which:&nbsp; 1) hardware (routers you don&#039;t have i can perhaps find in USA), 2) pizza/beer, 3) cash (PayPal)?&nbsp; Anyone else pitching in?</p></blockquote></div><p>Well, some AR913x based boards would be nice.</p><p>Regards,<br />Gabor</p></blockquote></div><p>Does anybody know of any reasonably priced (i.e. high volume consumer grade) concurrent dual radio (2.4 / 5 Ghz) AR913x based boards? I would donate one of those in a second if there was a chance to see OpenWrt on such a beast. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79444">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">juhosg</div>
					<div class="post-datetime">
						10 Jan 2009, 22:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>_bbb_ wrote:</cite><blockquote><p>Does anybody know of any reasonably priced (i.e. high volume consumer grade) concurrent dual radio (2.4 / 5 Ghz) AR913x based boards? I would donate one of those in a second if there was a chance to see OpenWrt on such a beast. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>The Atheros AP83 reference board uses the AR9132 SoC and the AR9106 RF chip (Dual Band, 3x3MIMO), and OpenWrt runs on it already:<br /></p><div class="codebox"><pre><code>Linux version 2.6.27.10 (juhosg@idared) (gcc version 4.1.2) #39 Fri Jan 9 12:04:50 CET 2009
console [early0] enabled
CPU revision is: 00019374 (MIPS 24K)
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00002000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00002000
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 init=/etc/preinit
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00000000
Readback ErrCtl register=00000000
PID hash table entries: 128 (order: 7, 512 bytes)
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 27356k/32768k available (1788k kernel code, 5412k reserved, 318k data, 2532k init, 0k highmem)
SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 266.24 BogoMIPS (lpj=1331200)
Mount-cache hash table entries: 512
net_namespace: 592 bytes
NET: Registered protocol family 16
MIPS: machine is Atheros AP83
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 3.0 (2006/03/15) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Ã‚Â© 2001-2006 Red Hat, Inc.
yaffs Jan  4 2009 20:34:33 Installing.
msgmni has been set to 53
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth1: Atheros AG71xx at 0xba000000, irq 5
Atheros AR71xx SPI Controller driver version 0.2.2
Atheros AR71xx hardware watchdog driver version 0.1.0
TCP vegas registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 2532k freed
Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
Press CTRL-C for failsafe

Please press Enter to activate this console. device eth0 entered promiscuous mode
cfg80211: Using static regulatory domain info
cfg80211: Regulatory domain: US
        (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
        (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
        (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
        (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
cfg80211: Calling CRDA for country: US
ath9k: 0.1
Registered led device: ath9k-phy0:radio
Registered led device: ath9k-phy0:assoc
Registered led device: ath9k-phy0:tx
Registered led device: ath9k-phy0:rx
phy0: Atheros AR9100 MAC/BB Rev:0, AR5133 RF Rev:a2, mem=0xb80c0000, irq=2
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Plase use
nf_conntrack.acct=1 kernel paramater, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
eth0: link up (1000Mbps/Full duplex)
br-lan: topology change detected, propagating
br-lan: port 1(eth0) entering forwarding state



BusyBox v1.11.3 (2008-12-08 17:12:18 CET) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 KAMIKAZE (bleeding edge, r13930) -------------------
  * 10 oz Vodka       Shake well with ice and strain
  * 10 oz Triple sec  mixture into 10 shot glasses.
  * 10 oz lime juice  Salute!
 ---------------------------------------------------
root@OpenWrt:/# cat /proc/cpuinfo
system type             : Atheros AR9132 rev 2 (id:0xb9)
processor               : 0
cpu model               : MIPS 24K V7.4
BogoMIPS                : 266.24
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes
ASEs implemented        : mips16
shadow register sets    : 1
core                    : 0
VCED exceptions         : not available
VCEI exceptions         : not available

root@OpenWrt:/# iwconfig
lo        no wireless extensions.

eth0      no wireless extensions.

eth1      no wireless extensions.

br-lan    no wireless extensions.

wmaster0  no wireless extensions.

wlan0     IEEE 802.11abgn  ESSID:&quot;&quot;
          Mode:Managed  Frequency:2.412 GHz  Access Point: Not-Associated
          Tx-Power=0 dBm
          Retry min limit:7   RTS thr:off   Fragment thr=2352 B
          Encryption key:off
          Power Management:off
          Link Quality:0  Signal level:0  Noise level:0
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:0  Invalid misc:0   Missed beacon:0

root@OpenWrt:/#</code></pre></div><p>Although i don&#039;t know about any consumer devices with AR9104/AR9106 RF chips yet, but if anyone find one, we will support it sooner or later. :-p</p><p>Regards,<br />Gabor</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79475">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">_bbb_</div>
					<div class="post-datetime">
						11 Jan 2009, 17:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>juhosg wrote:</cite><blockquote><div class="quotebox"><cite>_bbb_ wrote:</cite><blockquote><p>Does anybody know of any reasonably priced (i.e. high volume consumer grade) concurrent dual radio (2.4 / 5 Ghz) AR913x based boards? I would donate one of those in a second if there was a chance to see OpenWrt on such a beast. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>The Atheros AP83 reference board uses the AR9132 SoC and the AR9106 RF chip (Dual Band, 3x3MIMO), and OpenWrt runs on it already.</p><p>Although i don&#039;t know about any consumer devices with AR9104/AR9106 RF chips yet, but if anyone find one, we will support it sooner or later. :-p</p><p>Regards,<br />Gabor</p></blockquote></div><p>The AP83 sure looks nice, but I was hoping for something AP94-like with two radios that can run concurrently. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>And it seems TRENDNET have answered my prayers: <a href="http://trendnet.com/langen/press/view.asp?id=799">http://trendnet.com/langen/press/view.asp?id=799</a> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><blockquote><p>The TRENDnet TEW-673GR employs Atherosâ€™ XSPANÂ® AR9002AP platform, which consists of the AR9220 and AR9223 XSPAN dual-band radio chipset... The platform also features Atherosâ€™ 680MHz AR7161 wireless network processor and Atherosâ€™ AR8316 Gigabit Ethernet switch to support unsurpassed bandwidth to both wired and wireless clients.</p></blockquote></div><p>Sounds like stuff that OpenWrt would like, no?</p><p>Maybe the Netgear WNDR3700 is similar?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79512">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">loswillios</div>
					<div class="post-datetime">
						12 Jan 2009, 11:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>_bbb_ wrote:</cite><blockquote><p>And it seems TRENDNET have answered my prayers: <a href="http://trendnet.com/langen/press/view.asp?id=799">http://trendnet.com/langen/press/view.asp?id=799</a> <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><div class="quotebox"><blockquote><p>The TRENDnet TEW-673GR employs Atherosâ€™ XSPANÂ® AR9002AP platform, which consists of the AR9220 and AR9223 XSPAN dual-band radio chipset... The platform also features Atherosâ€™ 680MHz AR7161 wireless network processor and Atherosâ€™ AR8316 Gigabit Ethernet switch to support unsurpassed bandwidth to both wired and wireless clients.</p></blockquote></div><p>Sounds like stuff that OpenWrt would like, no?</p></blockquote></div><p>yep indeed. Is there a linux-driver for the switch available?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80074">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						22 Jan 2009, 02:16					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve updated the first post in this thread with info on recovery mode.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80704">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						29 Jan 2009, 22:24					</div>
				</div>
				<div class="post-content content">
					<p>This router has a way to recover if we do a bad flash - so somebody with experience want to help out in figuring the flash format?&nbsp; It runs White Russion and root telnet is available, what would I flash on it?</p><p>The hardware is similar to the flashable Trendnet TEW-632BRP, TEW-652BRP, D-Link DIR-615 C1. However, has different method of recovery boot and u-boot is modified.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81746">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">rubeus</div>
					<div class="post-datetime">
						12 Feb 2009, 19:38					</div>
				</div>
				<div class="post-content content">
					<p>gabor, </p><p>I noticed you mentioned that the openwrt is working on the AP83 reference platform. </p><p>I&#039;m a newbie, could you give me a couple of quick pointers on how to get this up and running. <br />I have an AP83 ref platform here.</p><p>I&#039;m trying to understand the board/cpu initialization code. </p><p>TIA</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81748">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						12 Feb 2009, 20:11					</div>
				</div>
				<div class="post-content content">
					<p>WNR2000 - I had previously overlooked that we have source code for the u-boot for this router.&nbsp; So the checksum feature that is preventing us from flashing OpenWRT could be replaced.&nbsp; Anyone wanting to hack on u-boot <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> ?</p><p>Also I&#039;ve looked over the software and such for the Netgear WN802Tv2 (WN802T-200) <a href="http://www.netgear.com/Products/APsWirelessControllers/AccessPoints/WN802Tv2.aspx?detail=Specifications">http://www.netgear.com/Products/APsWire … ifications</a>&nbsp; - this is an access point.&nbsp; The firmware clearly has references to AP81 name.&nbsp; I also notice the the firmware is over 5MB in size, does this Access Point have 8MB of FLASH?</p><p>The GPL download for the WN802Tv2 are at: <a href="ftp://downloads.netgear.com/files/GPL/">ftp://downloads.netgear.com/files/GPL/</a></p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 12 Feb 2009, 20:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82021">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						17 Feb 2009, 06:19					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve downloaded the WNR2000 GPL package from netgear.&nbsp; It is version V1.2.0.8.&nbsp; Unpacked it, followed the instruction, but can&#039;t compile it.&nbsp; Turns out, it&#039;s missing a lot of packages such as router-gui, dropbear, kmod-ar91xx, and many others.&nbsp; If I took them out, it builds fine, but the new compiled firmware won&#039;t boot.&nbsp; So you can&#039;t just take their GPL offering and make your own firmware.</p><p>Were you able to get telnet enabled?&nbsp; Looking at the code, they use simpleinit.&nbsp; In order to enable telnet, you have to comment out the part of the code that disables it, build a new simpleinit.</p><p>I see there is a wnr2000/stock-rootfs.squash.img on openwrt&#039;s download.&nbsp; I suppose you can extract it from the stock firmware.&nbsp; How does one do that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82022">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						17 Feb 2009, 06:22					</div>
				</div>
				<div class="post-content content">
					<p>Yes, Netgear telnetenable works fine on this router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82023">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						17 Feb 2009, 06:29					</div>
				</div>
				<div class="post-content content">
					<p>how do you enable telnet (stock firmware)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82024">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						17 Feb 2009, 06:33					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Netgear/TelnetConsole">http://wiki.openwrt.org/OpenWrtDocs/Har … netConsole</a></p><p>I can personally vouch for it working on the WNR2000.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82025">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">scerpio</div>
					<div class="post-datetime">
						17 Feb 2009, 07:03					</div>
				</div>
				<div class="post-content content">
					<p>I tried that on my wnr2000 but it doesn&#039;t work. I notice that my modpkt.pkt file is empty.&nbsp; My wnr2000 has version V1.2.0.8.&nbsp; Which version is yours?&nbsp; Perhaps Netgear has closed this loophole in their latest firmware?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82124">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">yjchang</div>
					<div class="post-datetime">
						18 Feb 2009, 12:53					</div>
				</div>
				<div class="post-content content">
					<p>Is anybody know how to make Ethernet work on WNR2000 with SVN 14548 (This is the one I tried)?<br />I checked out the code in target/linux/ar71xx/files/arch/mips/ar71xx/mach-wnr2000.c, there is no code to setup Ethernet. (There is some code in mach-ap83.c, mach-pb42.c, ..., etc, to setup Ethernet).</p><p>Or what type of board should I use which can make Ethernet work on wnr2000 board?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82136">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						18 Feb 2009, 14:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yjchang wrote:</cite><blockquote><p>Is anybody know how to make Ethernet work on WNR2000 with SVN 14548 (This is the one I tried)?<br />I checked out the code in target/linux/ar71xx/files/arch/mips/ar71xx/mach-wnr2000.c, there is no code to setup Ethernet. (There is some code in mach-ap83.c, mach-pb42.c, ..., etc, to setup Ethernet).</p><p>Or what type of board should I use which can make Ethernet work on wnr2000 board?</p></blockquote></div><p>Juhosg has been pretty busy, I think he may have forgotten to copy generic in as he said in the earlier message of this thread.&nbsp; I understand this uses the same Atheros LAN/Switch chips as the Trendnet and the Planex AP81 routers.&nbsp; the ar8216 switch chip. Although on the Planex we got WAN working but no LAN ports, as we lack technical details on how to initialize the chips.&nbsp; No such problem on the Trendnet ones... as Juhosg explained it to me, there are two methods of initializing the chips...</p><p>If you aren&#039;t afraid to program a little, the file /target/linux/ar71xx/files/arch/mips/ar71xx/mach-wnr2000.c is where these get set.</p><p> I assume you are doing tftpboot?&nbsp; If so, you could skip changing the file and try various <strong>setenv bootargs &#039;board=WNR2000&#039;</strong> values and see what works.&nbsp; possible values I see in prom.c:&nbsp; TEW-632BRP, MZK-W04NU</p><p>Hope this helps.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 15</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=18279&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=18279&amp;p=15.html">15</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>