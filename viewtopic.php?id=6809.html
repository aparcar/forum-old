<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> An introduction to Buildroot-ng</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 25 Apr 2018 and 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=6809&amp;p=2.html">2</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p31794">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						9 Aug 2006, 09:13					</div>
				</div>
				<div class="post-content content">
					<p><strong>The OpenWrt build environment</strong></p><p>One of the biggest challenges to getting started with embedded devices is that you just can&#039;t install a copy of Linux and expect to be able to compile a firmware. Even if you did remember to install a compiler and every development tool offered, you still wouldn&#039;t have the basic set of tools needed to produce a firmware image. The embedded device represents an entirely new hardware platform, which is incompatible with the hardware on your development machine, so in a process called cross compiling you need to produce a new compiler capable of generating code for your embedded platform, and then use it to compile a basic Linux distribution to run on your device.</p><p>The process of creating a cross compiler can be tricky, it&#039;s not something that&#039;s regularly attempted and so the there&#039;s a certain amount of mystery and black magic associated with it. In many cases when you&#039;re dealing with embedded devices you&#039;ll be provided with a binary copy of a compiler and basic libraries rather than instructions for creating your own -- it&#039;s a time saving step but at the same time often means you&#039;ll be using a rather dated set. Likewise, it&#039;s also common to be provided with a patched copy of the Linux kernel from the board or chip vendor, but this is also dated and it can be difficult to spot exactly what has been changed to make the kernel run on the embedded platform.</p><p>(Article continues below)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p31795">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						9 Aug 2006, 09:13					</div>
				</div>
				<div class="post-content content">
					<p>OpenWrt takes a different approach to building a firmware, downloading, patching and compiling everything from scratch, including the cross compiler. Or to put it in simpler terms, OpenWrt doesn&#039;t contain any executables or even sources, it&#039;s an automated system for downloading the sources, patching them to work with the given platform and compiling them correctly for the platform. What this means is that just by changing the template, you can change any step in the process.</p><p>As an example, if a new kernel is released, a simple change to one of the Makefiles will download the latest kernel, patch it to run on the embedded platform and produce a new firmware image -- there&#039;s no work to be done trying to track down an unmodified copy of the existing kernel to see what changes had been made, the patches are already provided and the process ends up almost completely transparent. This doesn&#039;t just apply to the kernel, but to anything included with OpenWrt -- It&#039;s this one simple understated concept which is what allows OpenWrt to stay on the bleeding edge with the latest compilers, latest kernels and latest applications. </p><p>So let&#039;s take a look at OpenWrt and see how this all works</p><p><strong>download openwrt</strong></p><p>This article refers to the &quot;Kamikaze&quot; branch of OpenWrt, which can be downloaded via subversion using the following command:</p><p>svn co <a href="https://svn.openwrt.org/openwrt/trunk">https://svn.openwrt.org/openwrt/trunk</a></p><p>Additionally, there&#039;s a trac interface on <a href="http://dev.openwrt.org">http://dev.openwrt.org</a>/ which can be used to monitor svn commits and browse the sources.</p><p><strong>The directory structure</strong></p><p>There are three key directories in the base:<br /> - toolchain<br /> - target<br /> - package</p><p>Toolchain refers to the compiler, the c library, and common tools which will be used to build the firmware image. The result of this is two new directories, toolchain_build_&lt;arch&gt; which is a temporary directory used for building the toolchain for a specific architecture, and staging_dir_&lt;arch&gt; where the resulting toolchain is installed. You won&#039;t need to do anything with the toolchain directory unless you intend to add a new version of one of the components above.</p><p>Target refers to the embedded platform, this contains items which are specific to a specific embedded platform. Of particular interest here is the &quot;target/linux&quot; directory which is broken down by platform and contains the kernel config and patches to the kernel for a particular platform. There&#039;s also the &quot;target/image&quot; directory which describes how to package a firmware for a specific platform.</p><p>Package is for exactly that -- packages. In an OpenWrt firmware, almost everything is an ipk, a software package which can be added to the firmware to provide new features or removed to save space.</p><p>Both the target and package steps will use the directory &quot;build_&lt;arch&gt;&quot; as a temporary directory for compiling. Additionally, anything downloaded by the toolchain, target or package steps will be placed in the &quot;dl&quot; directory.</p><p><strong>Building openwrt</strong></p><p>While the OpenWrt build environment was intended mostly for developers, it also has to be simple enough that an inexperienced end user can easily build his or her own customized firmware.</p><p>Running the command &quot;make menuconfig&quot; will bring up OpenWrt&#039;s configuration menu screen, through this menu you can select which platform you&#039;re targeting, which versions of the toolchain you want to use to build and what packages you want to install into the firmware image. Similar to the linux kernel config,<br />almost every option has three choices, y/m/n which are represented as follows:</p><p>&nbsp; &lt;*&gt; (pressing y) This will be included in the firmware image<br />&nbsp; &lt;m&gt; (pressing m) This will be compiled but not included (for later install)<br />&nbsp; &lt;n&gt; (pressing n) This will not be compiled</p><p>After you&#039;ve finished with the menu configuration, exit and when prompted, save your configuration changes. To begin compiling the firmware, type &quot;make&quot;. By default OpenWrt will only display a high level overview of the compile process and not each individual command.</p><div class="codebox"><pre><code>  make[2] toolchain/install
  make[3] -C toolchain install
  make[2] target/compile
  make[3] -C target compile
  make[4] -C target/utils prepare
  ...</code></pre></div><p>This makes it easier to monitor which step it&#039;s actually compiling and reduces the amount of noise caused by the compile output. To see the full output, run the command &quot;make V=99&quot;.</p><p>During the build process, buildroot will download all sources to the &quot;dl&quot; directory and will start patching and compiling them in the &quot;build_&lt;arch&gt;&quot; directory. When finished, the resulting firmware will be in the &quot;bin&quot; directory and packages will be in the &quot;bin/packages&quot; directory.</p><p><strong>Creating your own packages</strong></p><p>One of the things that we&#039;ve attempted to do with OpenWrt&#039;s template system is make it incredibly easy to port software to OpenWrt. If you look at a typical package directory in OpenWrt you&#039;ll find two things:</p><p> - package/&lt;name&gt;/Makefile<br /> - package/&lt;name&gt;/patches</p><p>The patches directory is optional and typically contains bug fixes or optimizations to reduce the size of the executable. The package makefile is the important item, provides the steps actually needed to download and compile the package.</p><p>Looking at one of the package makefiles, you&#039;d hardly recognize it as a makefile. Through what can only be described as blatant disregard and abuse of the traditional make format, the makefile has been transformed into an object oriented template which simplifies the entire ordeal.</p><p>Here for example, is package/bridge/Makefile:</p><div class="codebox"><pre><code>include $(TOPDIR)/rules.mk

PKG_NAME:=bridge
PKG_VERSION:=1.0.6
PKG_RELEASE:=1

PKG_BUILD_DIR:=$(BUILD_DIR)/bridge-utils-$(PKG_VERSION)
PKG_SOURCE:=bridge-utils-$(PKG_VERSION).tar.gz
PKG_SOURCE_URL:=@SF/bridge
PKG_MD5SUM:=9b7dc52656f5cbec846a7ba3299f73bd
PKG_CAT:=zcat

include $(INCLUDE_DIR)/package.mk

define Package/bridge
  SECTION:=base
  CATEGORY:=Network
  DEFAULT:=y
  TITLE:=Ethernet bridging configuration utility
  DESCRIPTION:=Ethernet bridging configuration utility\\\
    Manage ethernet bridging; a way to connect networks together to\\\
    form a larger network.
  URL:=http://bridge.sourceforge.net/
endef

define Build/Configure
  $(call Build/Configure/Default,--with-linux-headers=$(LINUX_DIR))
endef

define Package/bridge/install
        install -m0755 -d $(1)/usr/sbin
        install -m0755 $(PKG_BUILD_DIR)/brctl/brctl $(1)/usr/sbin/
endef

$(eval $(call BuildPackage,bridge))</code></pre></div><p>As you can see, there&#039;s not much work to be done; everything is hidden in other makefiles and abstracted to the point where you only need to specify a few variables.</p><p>&nbsp; PKG_NAME&nbsp; &nbsp; &nbsp; &nbsp;- The name of the package, as seen via menuconfig and ipkg<br />&nbsp; PKG_VERSION&nbsp; &nbsp; - The upstream version number that we&#039;re downloading<br />&nbsp; PKG_RELEASE&nbsp; &nbsp; - The version of this package Makefile<br />&nbsp; PKG_BUILD_DIR&nbsp; - Where to compile the package<br />&nbsp; PKG_SOURCE&nbsp; &nbsp; &nbsp;- The filename of the original sources<br />&nbsp; PKG_SOURCE_URL - Where to download the sources from<br />&nbsp; PKG_MD5SUM&nbsp; &nbsp; &nbsp;- A checksum to validate the download<br />&nbsp; PKG_CAT&nbsp; &nbsp; &nbsp; &nbsp; - How to decompress the sources (zcat, bzcat, unzip)</p><br /><p>The PKG_* variables define where to download the package from; @SF is a special keyword for downloading packages from sourceforge. The md5sum is used to verify the package was downloaded correctly and PKG_BUILD_DIR defines where to find the package after the sources are uncompressed into $(BUILD_DIR).</p><p>At the bottom of the file is where the real magic happens, &quot;BuildPackage&quot; is a macro setup by the earlier include statements. BuildPackage only takes one argument directly -- the name of the package to be built, in this case &quot;bridge&quot;. All other information is taken from the define blocks. This is a way of providing a level of verbosity, it&#039;s inherently clear what the DESCRIPTION variable in Package/bridge is, which wouldn&#039;t be the case if we passed this information directly as the Nth argument to BuildPackage.</p><p>BuildPackage uses the following defines:</p><p> Package/&lt;name&gt;<br />&nbsp; &nbsp;&lt;name&gt; matches the argument passed to buildroot, this describes the package<br />&nbsp; &nbsp;the menuconfig and ipkg entries. Within Package/&lt;name&gt; you can define the<br />&nbsp; &nbsp;following variables:</p><p>&nbsp; &nbsp;SECTION&nbsp; &nbsp; &nbsp;- The type of package (currently unused)<br />&nbsp; &nbsp;CATEGORY&nbsp; &nbsp; - Which menu it appears in menuconfig<br />&nbsp; &nbsp;TITLE&nbsp; &nbsp; &nbsp; &nbsp;- A short description of the package<br />&nbsp; &nbsp;DESCRIPTION - A long description of the package<br />&nbsp; &nbsp;URL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;- Where to find the original software<br />&nbsp; &nbsp;MAINTAINER&nbsp; - (optional) Who to contact concerning the package<br />&nbsp; &nbsp;DEPENDS&nbsp; &nbsp; &nbsp;- (optional) Which packages must be built/installed before this package</p><p> Package/&lt;name&gt;/conffiles (optional)<br />&nbsp; &nbsp;A list of config files installed by this package, one file per line.<br />&nbsp; <br /> Build/Prepare (optional)<br />&nbsp; &nbsp;A set of commands to unpack and patch the sources. You may safely leave this<br />&nbsp; &nbsp;undefined.</p><p> Build/Configure (optional)<br />&nbsp; &nbsp;You can leave this undefined if the source doesn&#039;t use configure or has a<br />&nbsp; &nbsp;normal config script, otherwise you can put your own commands here or use<br />&nbsp; &nbsp;&quot;$(call Build/Configure/Default,&lt;args&gt;)&quot; as above to pass in additional<br />&nbsp; &nbsp;arguments for a standard configure script.</p><p> Build/Compile (optional)<br />&nbsp; &nbsp;How to compile the source; in most cases you should leave this undefined.</p><p> Package/&lt;name&gt;/install<br />&nbsp; &nbsp;A set of commands to copy files out of the compiled source and into the ipkg<br />&nbsp; &nbsp;which is represented by the $(1) directory.<br />&nbsp; &nbsp;<br />The reason that some of the defines are prefixed by &quot;Package/&lt;name&gt;&quot; and others are simply &quot;Build&quot; is because of the possibility of generating multiple packages from a single source. OpenWrt works under the assumption of one source per package makefile, but you can split that source into as many packages as<br />desired. Since you only need to compile the sources once, there&#039;s one global set of &quot;Build&quot; defines, but you can add as many &quot;Package/&lt;name&gt;&quot; defines as you want by adding extra calls to BuildPackage -- see the dropbear package for an example.</p><p>After you&#039;ve created your package/&lt;name&gt;/Makefile, the new package will automatically show in the menu the next time you run &quot;make menuconfig&quot; and if selected will be built automatically the next time &quot;make&quot; is run.</p><p><strong>Troubleshooting</strong></p><p>If you find your package doesn&#039;t show up in menuconfig, try the following command to see if you get the correct description:</p><p>&nbsp; TOPDIR=$PWD make -C package/&lt;name&gt; DUMP=1 V=99</p><p>If you&#039;re just having trouble getting your package to compile, there&#039;s a few shortcuts you can take. Instead of waiting for make to get to your package, you can run one of the following: </p><p>&nbsp; make package/&lt;name&gt;-clean V=99<br />&nbsp; make package/&lt;name&gt;-install V=99</p><p>Another nice trick is that if the source directory under build_&lt;arch&gt; is newer than the package directory, it won&#039;t clobber it by unpacking the sources again. If you were working on a patch you could simply edit the sources under build_&lt;arch&gt;/&lt;source&gt; and run the install command above, when satisfied, copy the patched sources elsewhere and diff them with the unpatched sources. A warning though - if you go modify anything under package/&lt;name&gt; it will remove the old sources and unpack a fresh copy.</p><p><strong>Final notes</strong></p><p>I&#039;m always interested to hear about people&#039;s experience with OpenWrt or answer questions about it so please don&#039;t hesitate to contact me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p31806">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">greve</div>
					<div class="post-datetime">
						9 Aug 2006, 14:29					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much for this documentation!</p><p>I think it is very useful and should also go on the Wiki as soon as possible. So if someone has the chance to do that, it would be a very useful thing to do.</p><p>I tried to use this documentation to solve my problems with the CLASSIFY target for iptables (see <a href="http://forum.openwrt.org/viewtopic.php?id=6776)">http://forum.openwrt.org/viewtopic.php?id=6776)</a>. No full succes so far.</p><p>There was no problem putting the necessary patch into target/linux/generic-2.4/patches as 619-netfilter_classify.patch and it definitely gets applied -- the kernel config hangs at the CLASSIFY question, and when answered &quot;m&quot; the kernel builds without errors -- and build_mipsel/linux/net/ipv4/netfilter contains the ipt_CLASSIFY.o along with the other modules.</p><p>There is also no need to patch iptables, as iptables 1.3.3 and 1.3.5 (which were the versions in question during my experiments) both come with CLASSIFY support in their extension section, and seem to build the CLASSIFY target by default. In fact: libipt_CLASSIFY.so exists in the iptables build directory after the build.</p><p>So theoretically I guess I could now grab the binaries directly and copy them into the right places and that ought to work, but I want to solve this issue correctly and get proper packages for OpenWRT.</p><p>So let me continue, because this is where my problem starts: Even though I tried to edit the configuration files as best I could to make a kmod-ipt-classify and iptables-mod-classify, only the iptables-mod-classify_1.3.5-1_mipsel.ipk is afterwards found in bin/packages -- and it is empty, so useless.</p><p>Also the kmod-ipt-classify does not exist, at all.</p><p>So this is where the documentation could still be improved I think:<br /> * Which are the relevant files to add a kernel patch and afterwards have the module be built and packaged into an additional ipkg?<br /> * Which are the relevant files to add to iptables (or some other pre-existing package) to actually package files that are included in the default (or a patched) compile, but are not packaged for OpenWRT by default?</p><p>Regards,<br />Georg</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36302">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Hydra</div>
					<div class="post-datetime">
						31 Oct 2006, 00:31					</div>
				</div>
				<div class="post-content content">
					<p>a quick note, after checking out /trunk, you should probably checkout /packages from svn too.</p><p>after you&#039;ve check them both out to the same folder (so you have trunk and packages as directories) you can then make symlinks from trunk/package that point to the folders in packages/*</p><p>e.g.</p><p>hydra@hydra02:~/openwrt/svn$ cd trunk/package<br />hydra@hydra02:~/openwrt/svn/trunk/package$ ln -s ../../packages/utils/vim vim<br />hydra@hydra02:~/openwrt/svn/trunk/package$ ls -al v*<br />lrwxrwxrwx 1 hydra hydra 24 2006-10-30 22:19 vim -&gt; ../../packages/utils/vim</p><p>after you&#039;ve created symlinks you can then run &quot;make .pkginfo&quot; in trunk and then grep &quot;.pkginfo&quot; (also in trunk) to check the packages were found correctly.</p><p>after that run make menuconfig and the packages will show up in the menus</p><p>Hope this helps</p>											<p class="post-edited">(Last edited by <strong>Hydra</strong> on 31 Oct 2006, 00:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p36584">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">banane</div>
					<div class="post-datetime">
						5 Nov 2006, 01:11					</div>
				</div>
				<div class="post-content content">
					<p>Hi MBM!</p><p>I want to access my DVD-Drive via USB and made a kernel module and package for isofs (UDF should follow) with OpenWRT&#039;s great buildroot. I was astonished, it is really cool!</p><p>But my module doesn&#039;t work till now and I don&#039;t know/understand why.</p><p>Nevertheless I have some notes and suggestions for buildroot and its documentation:</p><p>* As far as I understand the makefiles download and build many files after subversion<br />checkout. Some of those files are symbolic links, e.g. build_mipsel/linux<br />and seem to be generated, too. But those symbolic links arent&#039;t relativ, therefore they don&#039;t work anymore,<br />if the main directory is copied or moved to another. Wouldn&#039;t it be possible<br />to create them relative?</p><p>* There seems one error in the buildroot documentation:<br />And copy it, so your changes are not getting lost, when doing a &#039;make<br />dirclean&#039;. Here we assume that you are compiling for Broadcom chipset based<br />devices: <br /> $ cp .config ../../../target/linux/linux-2.4/config/brcm </p><p>Seems as it should be:<br /> $ cp .config ../../target/linux/linux-2.4/config/brcm <br />(Only two levels higher not three?)</p><p>* It seems that the buildroot-documentation is missing some important information about some<br />parameters. </p><p>In buildroot documentation you can find:</p><p>Define the binary files for the kernel module<br />Define the binary files for the kernel module by modifying/inserting into<br />target/linux/linux-2.4/Makefile, e.g. <br />$(eval $(call KMOD_template,USB_KEYBOARD,usb-kbd,\<br />&nbsp; &nbsp; &nbsp; &nbsp; $(MODULES_DIR)/kernel/drivers/input/input.o \<br />&nbsp; &nbsp; &nbsp; &nbsp; $(MODULES_DIR)/kernel/drivers/input/keybdev.o \<br />&nbsp; &nbsp; &nbsp; &nbsp; $(MODULES_DIR)/kernel/drivers/usb/usbkbd.o \<br />,CONFIG_USB_KEYB,kmod-usb-core,60,input keybdev usbkbd))</p><p> Where CONFIG_USB_KEYB is the kernel option, USB_KEYBOARD is the last part<br />of BR2_PACKAGE_KMOD_USB_KEYBOARD and usb-kbd is part of the filename of the<br />created ipkg.</p><p>But what is kmod-usb-core,60,input keybdev usbkbd? And which .o-files must be selected for other modules?</p><p>I assume, that the parameter &quot;kmod-usb-core&quot; is a dependency.<br />O.k., I already found that the parameter with value &quot;60&quot; determines the order of execution in the boot process in /etc/modules.d directory.<br />&quot;input keybdev usbkbd&quot; seems to be the filenames without extension that have been selected.<br />A hint which files must be included would be helpful. For the module isofs it seems that only 1 of 7 is relevant (isofs.o).</p><p>* As far as I can see, allthough my module/package was build correctly, it is still not the same as other modules/packages.<br />Allthough I possibly did not understand everything, I currently assume, I did everything right.<br />I looked at the parameters for vfat and ext2 and so on and did it the same:<br />$(eval $(call KMOD_template,ISOFS,isofs,\<br />&nbsp; &nbsp; &nbsp; &nbsp; $(MODULES_DIR)/kernel/fs/isofs/isofs.o \<br />,CONFIG_ISO9660_FS,,30,isofs))</p><p>After installation I executed ipkg status (dumps status for all packages) and found:<br />Package: kmod-isofs<br />Version: 2.4.30-brcm-4<br />Depends: kernel (2.4.30-brcm-4)<br />Status: install user installed<br />Architecture: mipsel<br />Installed-Time: 946685499</p><p>But the other modules show something like:<br />Package: kmod-vfat<br />Version: 2.4.30-brcm-3<br />Depends: kernel (2.4.30-brcm-3)<br />Status: install user installed<br />Section: sys<br />Architecture: mipsel<br />maintainer: OpenWrt Developers Team &lt;openwrt-devel@openwrt.org&gt;<br />MD5Sum: 1ca7867fa6bc38780c38a3d99a28cf91<br />Size: 32021<br />Filename: kmod-vfat_2.4.30-brcm-3_mipsel.ipk<br />Source: <a href="http://svn.openwrt.org/openwrt/branches/whiterussian/openwrt/target/linux/linux-2.4">http://svn.openwrt.org/openwrt/branches … /linux-2.4</a><br />Description: Kernel modules for VFAT filesystem support</p><p>Apparent differences:<br />sys section (my modules seems not to be in sys section allthough configured like written in buildroot documentation!)<br />version (my module has brcm-4, the standard package for vfat and others have brcm-3!)</p><p>* At least I don&#039;t know whether the differences between standard packages and my package that I detected above are the cause for my problems or if I did something different wrong. If I can solve my problems, I can donate the module/package(s), if appreciated.</p><p>Well, these are some hints, where the buildroot and its documentation can be updated and perhaps you can even help me solve my CD/DVD-access.<br />I already followed USB-Howto. My two devices are already detected correctly, e.g. dmesg currently says:<br />hub.c: 4 ports detected<br />hub.c: new USB device 01:03.2-1, assigned address 2<br />scsi0 : SCSI emulation for USB Mass Storage devices<br />&nbsp; Vendor: HP&nbsp; &nbsp; &nbsp; &nbsp; Model: CD-Writer+ 8100&nbsp; &nbsp;Rev: 1.0g<br />&nbsp; Type:&nbsp; &nbsp;CD-ROM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ANSI SCSI revision: 02<br />WARNING: USB Mass Storage data integrity not assured<br />USB Mass Storage device found at 2</p><p>best regards</p><p>Thorsten</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38519">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">lschweiss</div>
					<div class="post-datetime">
						7 Dec 2006, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>While attempting to make changes to kernel setting that are not handled by the OpenWRT config, I&#039;m struggling with getting the kernel to recompile.&nbsp; Is there a simple way to do this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38520">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						7 Dec 2006, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>Edit the target/linux/&lt;platform&gt;/config file and run make. It&#039;ll recompile the kernel...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p38533">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">lschweiss</div>
					<div class="post-datetime">
						7 Dec 2006, 23:39					</div>
				</div>
				<div class="post-content content">
					<p>That did it.&nbsp; </p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p39510">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">peng</div>
					<div class="post-datetime">
						23 Dec 2006, 14:16					</div>
				</div>
				<div class="post-content content">
					<p>HI MBM and NBD and other guys,</p><p>Would that be possible to set up an regular training class in a convenient location , maybe, for one week, teaching us how to use all these tools?</p><p>These would cover many howtoes, including set up development environment on linux pc, difference of tools (SDk, imagebuilder, Buildroot). live example of compiling image and package, (e.g. Asterisk). how to help port updated/new softwares to openwrt, etc.?</p><p>Hope it&#039;s also a good opportunity for us to get together and no expenshive training like other vendor offers. </p><p>tks<br />peng</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48700">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ggp81</div>
					<div class="post-datetime">
						18 May 2007, 14:13					</div>
				</div>
				<div class="post-content content">
					<p>I had a problem with a Makefile, and some minutes ago I fixed it.<br />When I typed &quot;make menuconfig&quot;, buildroot blocked itself on script/metadata.pl. That because it was an error on the dependencies, there were some recursive dependencies. SDK doesn&#039;t care about that, but Buildroot needs to know the dependencies to build its menu.<br />I updated <a href="http://wiki.openwrt.org/BuildRoot">http://wiki.openwrt.org/BuildRoot</a> page, to avoid someone else to waste time as I did <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p50950">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">heha</div>
					<div class="post-datetime">
						21 Jun 2007, 08:35					</div>
				</div>
				<div class="post-content content">
					<p>Dear MBM,</p><p>I think Buildroot of OpenWRT is very similar with OpenEmbedded(). But Buildroot is easy to install and use, OE is hard. So, what do you think Buildroot compared with OE? Any comments? Thanks.</p><p>Regards,<br />heha</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56425">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">ds18s20</div>
					<div class="post-datetime">
						25 Sep 2007, 01:02					</div>
				</div>
				<div class="post-content content">
					<p>Is there a really simple doc that describes the procedure of writing your own code and then compiling it as binary and running it on the embedded linux platform. For example, I would like to write a simple xxx.cpp file then compile it and then run it on my wrt54g box?</p><p>how do I go by doing this? Using simple printf... etc c++ source?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p61580">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">crespowu</div>
					<div class="post-datetime">
						11 Jan 2008, 10:35					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s efficient to develop program for embedded devices under Openwrt environment.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73671">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">framos</div>
					<div class="post-datetime">
						22 Sep 2008, 15:23					</div>
				</div>
				<div class="post-content content">
					<p>hello,</p><p>How to add two ip addresses to a router with whiterussian?<br />Is there a configuration file? if so, where is it? How can I change it?</p><p>thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92057">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">fahmouch</div>
					<div class="post-datetime">
						29 Jul 2009, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>Thank you very much for this documentation!</p><p>please feel free to review my to websites:</p><p><a href="http://www.taraji-online.com">http://www.taraji-online.com</a></p><p><a href="http://www.ghar-elmelh.com">http://www.ghar-elmelh.com</a></p>											<p class="post-edited">(Last edited by <strong>fahmouch</strong> on 29 Jul 2009, 21:02)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p92117">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">n3wwn</div>
					<div class="post-datetime">
						30 Jul 2009, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m just coming up to speed with compiling, adding packages, etc and this documentation is great!</p><p>Adding packages is no longer cumbersome and works as described!&nbsp; &nbsp;Thank you!</p><p>Now for my question:</p><p>One thing that I&#039;m working on now requires recompiling drivers built into the kernel.&nbsp; </p><p>Is there a way to only compile the kernel and have buildroot-ng skip everything else, like the packages (at least) and kernel modules (perhaps) but still build the final image?&nbsp; </p><p>I fear that the make process is spending much more time than I would like spanning the depths of all of the modules and packages when I know the only thing that has changed is one file for a built-in kernel driver.</p><p>Thanks!</p><p>-Rich</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93249">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">soni1877</div>
					<div class="post-datetime">
						27 Aug 2009, 16:19					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />i have installed kamikaze_8.09 on my machine.<br />now i want to install the firmware on qemu(emulator).<br />can you suggest which file is the image after building kamikaze and where it is and how i can make it boot-able so that it can run on qemu safely?<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p93704">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Krystal</div>
					<div class="post-datetime">
						4 Sep 2009, 08:26					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for this thread guys.</p><p>I am new with using openwrt and also new in this forum.</p><p>This thread is very informative and very helpful.</p><p>Thanks a lot.</p><br /><br /><br /><br /><br /><p><a href="http://emoquiz.net">Emo Quiz</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p94553">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">rtoledo2002</div>
					<div class="post-datetime">
						18 Sep 2009, 00:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>mbm wrote:</cite><blockquote><p><strong>The OpenWrt build environment</strong></p><p>One of the biggest challenges to getting started with embedded devices is that you just can&#039;t install a copy of Linux and expect to be able to compile a firmware. Even if you did remember to install a compiler and every development tool offered, you still wouldn&#039;t have the basic set of tools needed to produce a firmware image. The embedded device represents an entirely new hardware platform, which is incompatible with the hardware on your development machine, so in a process called cross compiling you need to produce a new compiler capable of generating code for your embedded platform, and then use it to compile a basic Linux distribution to run on your device.</p><p>The process of creating a cross compiler can be tricky, it&#039;s not something that&#039;s regularly attempted and so the there&#039;s a certain amount of mystery and black magic associated with it. In many cases when you&#039;re dealing with embedded devices you&#039;ll be provided with a binary copy of a compiler and basic libraries rather than instructions for creating your own -- it&#039;s a time saving step but at the same time often means you&#039;ll be using a rather dated set. Likewise, it&#039;s also common to be provided with a patched copy of the Linux kernel from the board or chip vendor, but this is also dated and it can be difficult to spot exactly what has been changed to make the kernel run on the embedded platform.</p><p>(Article continues below)</p></blockquote></div><p>MBM&nbsp; &nbsp;thank you so much for this introduction. I&#039;m compiling my 1st Open-WRT&nbsp; ever, hope to keep learning and doing more.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95143">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">fullstop</div>
					<div class="post-datetime">
						30 Sep 2009, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>If you build over NFS, you might have to do the following:</p><p>In ~/.autom4te.cfg.. add<br /></p><div class="codebox"><pre><code>begin-language: &quot;Autoconf-without-aclocal-m4&quot;
args: --no-cache
end-language: &quot;Autoconf-without-aclocal-m4&quot;</code></pre></div><p>Otherwise autoconf fails to configure.&nbsp; It looks like it hangs forever without disabling the cache.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p95668">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">michelbrown</div>
					<div class="post-datetime">
						10 Oct 2009, 11:58					</div>
				</div>
				<div class="post-content content">
					<p>hello MBM !<br />Thanking you for this documentation.<br />I am Michel and I&#039;m new for openwrt and also new in this forum.<br />This documentation may very useful and helpful for many of us.<br />You did such a great job. <br />Thanks once again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129322">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">kukodajanos</div>
					<div class="post-datetime">
						23 Feb 2011, 19:48					</div>
				</div>
				<div class="post-content content">
					<p>Hey!</p><p>In make menuconfig, during configuration which option i need to check? </p><p>- build OpenWRT Image<br />- build OpenWRT SDK<br />- build OpenWRT Toolchain</p><p>I want to make my own image, so i wait finally an ipg file. But i am not sure, cause all the three do something similar.</p><p>Cheers, János</p>											<p class="post-edited">(Last edited by <strong>kukodajanos</strong> on 24 Feb 2011, 09:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129323">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						23 Feb 2011, 19:53					</div>
				</div>
				<div class="post-content content">
					<p>A simple &quot;make&quot; should suffice. This will compile the toolchain, and the toolchain will then crosscompile the sources into binaries. Then packages will be built. And then the firmware will be built out of the packages. So, as long as you do not already have a current toolchain, let him compile one.</p><p><a href="http://wiki.openwrt.org/doc/howto/firmware.compile">http://wiki.openwrt.org/doc/howto/firmware.compile</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129346">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">LinkZ</div>
					<div class="post-datetime">
						24 Feb 2011, 01:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Orca wrote:</cite><blockquote><p><a href="http://wiki.openwrt.org/doc/howto/firmware.compile">http://wiki.openwrt.org/doc/howto/firmware.compile</a></p></blockquote></div><p>Orca - Nice work with this wiki page!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p129395">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">kenjiru</div>
					<div class="post-datetime">
						24 Feb 2011, 19:33					</div>
				</div>
				<div class="post-content content">
					<p>Well, nice work for the entire wiki.</p><p>Cheers!</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 2</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=6809&amp;p=2.html">2</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>