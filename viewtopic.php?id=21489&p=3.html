<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Thomson TG585v7</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Feb 2018 and 20 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=21489&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=21489&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=21489&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=21489&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=21489&amp;p=6.html">6</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p112838">
				<div class="post-metadata">
					<div class="post-num">Post #51</div>
					<div class="post-author">routednbooted</div>
					<div class="post-datetime">
						10 Jul 2010, 11:05					</div>
				</div>
				<div class="post-content content">
					<p>actually wireless is working, i was testing from a ps3 just a room away before and now im using a pci card about 6 inches from the router i see beacons and i&#039;ve associated.</p><p>going mess with some registers</p><p>tx power, antenna, etc, etc.</p><p>so thats linux, dsl, wifi, ethernet all on 585v7 <img src="https://forum.openwrt.org/img/smilies/cool.png" width="15" height="15" alt="cool"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112850">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">s0l1dsnak3123</div>
					<div class="post-datetime">
						10 Jul 2010, 15:53					</div>
				</div>
				<div class="post-content content">
					<p>Hey there, I got one of these in the post from my new ISP yesterday. I&#039;d quite like to put openWRT on it, as the router I normally use (linksys wag325n) isn&#039;t supported by any alternative firmware, and I love the idea of a completely linux-based (and configurable) network in my house <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> As a complete newbie, do you package the firmware into an update and then force the router to read it, or do you flash it with a serial, or something? Basically, how do I get it working like you have ^_^</p><p>Thanks,<br/>John <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112870">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">routednbooted</div>
					<div class="post-datetime">
						10 Jul 2010, 21:15					</div>
				</div>
				<div class="post-content content">
					<p>not-so-mini tut</p><p>first off<br/>we all know you might break your device doing this so take the usual warnings and precautions and dont blame me if something goes wrong<br/>You will need a computer runining linux. Redhat is reccomended but i use debian personally, with the rpm package installed.<br/>a tftp server<br/>a soldering iron<br/>25 pin d sub male connector (thats the printer one)<br/>4 100ohm resistors (brown black brown)<br/>some sort of serial level shifter you could use a max232 or a pl2303 google for them you will need one.&nbsp; -Tip- i use a pl2303 from an old mobile phone datacable.<br/>tjtag - <a href="http://www.tiaowiki.com/download//file.php?id=24">http://www.tiaowiki.com/download//file.php?id=24</a><br/>refer to ali1234&#039;s pic here, <a href="https://forum.openwrt.org/viewtopic.php?pid=105535#p105535">https://forum.openwrt.org/viewtopic.php … 35#p105535</a></p><p>you only need to bridge r91 and r98 for the serial (bottom pic)<br/>its up to you if you want to make some sort of header like ali did (top pic). it is better because you can just unplug it and use it again later.</p><p>use the diagram posted by alromh87 here, <a href="https://forum.openwrt.org/viewtopic.php?pid=101182#p101182">https://forum.openwrt.org/viewtopic.php … 82#p101182</a> to build your jtag cable, keep it shorter than about 6 inches<br/>dont worry about the 5th resistor to the serial port.<br/>the parellel port is pictured as if your&#039;e looking into the pc printer port and the jtag one like looking at the chip side of the board with the ethernet connectors at the bottom, like ali&#039;s pic.</p><p>connect the level shifter between the pc and routers serial port</p><p>cd to wherever tjtag lives</p><p>plug in your jtag cable.<br/>test it</p><p>tjtag -probeonly /fc:85</p><p>did it say:<br/>Failed to open /dev/parport0: No such file or directory?</p><p>do this:</p><p>rmmod lp<br/>modprobe parport<br/>mknod /dev/parport0 c 99 0 -m 666</p><p>while your at it, if you have the pl2303</p><p>modprobe pl2303<br/>mknod /dev/ttyUSB0 c 188 0 -m 666</p><p>test again,<br/>tjtag -probeonly /fc:85</p><p>should say,</p><br/><p>==============================================<br/> EJTAG Debrick Utility v3.0.1 Tornado-MOD<br/>==============================================</p><p>Probing bus ... Done</p><p>Instruction Length set to 5</p><p>CPU Chip ID: 00000110001100111000000101111111 (0633817F)<br/>*** Found a Broadcom BCM6338 Rev 1 CPU chip ***</p><p>&nbsp; &nbsp; - EJTAG IMPCODE ....... : 00000000100000000000100100000100 (00800904)<br/>&nbsp; &nbsp; - EJTAG Version ....... : 1 or 2.0<br/>&nbsp; &nbsp; - EJTAG DMA Support ... : Yes<br/>&nbsp; &nbsp; - EJTAG Implementation flags: R4k MIPS32</p><p>Issuing Processor / Peripheral Reset ... Done<br/>Enabling Memory Writes ... Done<br/>Halting Processor ... &lt;Processor Entered Debug Mode!&gt; ... Done<br/>Clearing Watchdog ... Done</p><p>Manual Flash Selection ... Done</p><p>Flash Vendor ID: 00000000000000000000000101111110 (0000017E)<br/>Flash Device ID: 00000000000000000001101000000000 (00001A00)<br/>*** Manually Selected a Spansion S29GL032M BotB&nbsp; &nbsp; (4MB) Flash Chip ***</p><p>&nbsp; &nbsp; - Flash Chip Window Start .... : 1fc00000<br/>&nbsp; &nbsp; - Flash Chip Window Length ... : 00400000<br/>&nbsp; &nbsp; - Selected Area Start ........ : 00000000<br/>&nbsp; &nbsp; - Selected Area Length ....... : 00000000</p><br/><br/><p> *** REQUESTED OPERATION IS COMPLETE ***</p><br/><p>crack open your favourite terminal emulator - speed 9600 and have a last look at what you cant do with thomsonware<br/>(you have to reboot your router as the jtag command will have froze it)</p><p>get the source - </p><p><a href="ftp://ftp.dlink.ru/pub/ADSL/GPL_source_code/DSL-2600U_BRU_C/THT-0K-003_new_consumer_release.tar.gz">ftp://ftp.dlink.ru/pub/ADSL/GPL_source_ … ase.tar.gz</a></p><p>untar it in /opt you should get 3 files:</p><p>bcm963xx_3.12L.01_consumer.tar.gz<br/>bcm963xx_uclibc_crosstools_3.4.2_0.9.27.tar.gz<br/>consumer_install</p><p>if you dont have Redhat linux you might need to change the line in consumer_install that says</p><p>rpm -ivh --force uclibc-crosstools*.rpm</p><p>to</p><p>rpm -ivh --nodeps uclibc-crosstools*.rpm</p><p>now run ./consumer_install<br/>do the obvious</p><p>you should get in /opt, two directories -<br/>toolchains - this is the cross compiler, tools and libraries, you shouldnt need to touch this<br/>bcm963xx_router - this is the source for the firmware - you can change pretty much everything in here apart from broadcoms proprietary stuff</p><p>so,<br/>cd /opt/bcm963xx_router</p><p>to build a straight firmware type,<br/>make PROFILE=96338GWS</p><p>This might take a while so, in the meantime,</p><p>open another terminal<br/>cd to tjtag</p><p>you really want to be making a backup of your current firmware</p><p>tjtag3 -backup:wholeflash /fc:85 /bypass /st5<br/>the /bypass /st5 are needed on either read or write but im not sure which or if its both so use them anyway</p><p>this will take short while </p><p>then</p><p>you will need this cfe <a href="http://rapidshare.com/files/406151637/cfe.bin.zip">http://rapidshare.com/files/406151637/cfe.bin.zip</a><br/>extract it into the tjtag folder</p><p>and only if you&#039;re ready to blow the thomsonware away,</p><p>./tjtag3 -flash:cfe /fc:85 /bypass /st5</p><p>that wont take long</p><br/><p>when its finished reboot the router</p><p>watch the terminal - you might need to change your terminal program&#039;s settings to 115200 8N1</p><p>now you should have a menu,<br/>for the board choose 0<br/>set the amount of mac addresses you want <br/>and the base mac address</p><p>and i think the board resets here</p><p>when it comes back type,<br/>c<br/>set your ip address <br/>set your pc address<br/>leave gateway<br/>just leave defaults for everything else, im going on memory so i might not have this in the right order.</p><p>now the router should be waiting for a firmware</p><p>if your firmware has finished building find the firmware image in /opt/bcm963xx_router/images</p><p>transfer this to your tftp server and type into the router terminal</p><p>flashimage address.of.tftp.server:firmware_image_name</p><p>let it flash and reboot</p><p>user: admin<br/>password: admin</p><p>notice how the eth0 interface downed ive fixed mine by commenting out the brooadcom configuration manager &#039;cfm&#039; lines from /opt/bcm963xx_router/targets/96338GWS/96338GWS and<br/>creating my own startup in place of /opt/bcm963xx_router/targets/fs.src/etc/profile - be careful of this one you need to keep the &#039;if&#039; loop or everytime the shell times out the router will think its just booted.</p><p>a few other things,</p><p>never do a straight make clean on the source, it will break it. use make PROFILE=96338GWS clean</p><p>busybox can be configured,<br/>cd /opt/bcm963xx_router/userapps/opensource/busybox<br/>make menuconfig<br/>load an alternate configuration file<br/>brcm.config<br/>remember to save alternate config file to the same file after configuring</p><p>take this bit with a pinch of salt -<br/>you can configure the kernel via make menuconfig but that seems to break things,<br/>instead theres a file /opt/bcm963xx_router/hostTools/scripts/defconfig-bcm.template you have to edit this manually, however,<br/>theres another /opt/bcm963xx_router/targets/96338GWS/96338GWS settings in here override the ones in the first file.<br/>also theres a script at/opt/bcm963xx_router/hostTools/scripts/gendefconfig that changes the kernel config.<br/>all these together get mangled up and turned into the kernel .config</p><br/><p>i dont think this should go on the wiki yet,<br/> at least until we have a better understanding of the device.</p><p>theres gpio definitions in /opt/bcm963xx_router/shared/opensource/boardparms/bcm963xx/boardparms.c - search for 96338W theyre under there</p><p>the wlan doesn&#039;t seem to be transmitting at a propper level - i havn&#039;t got around to checking registers and srom yet though.<br/>id like to&nbsp; make use of the led on the front button, it is connected directly to the wifi chip.</p><p>a few gpios - i might not be entirely right on these<br/>2L ethernet green<br/>2H broadband<br/>4H internet red<br/>5H internet green</p><p>wifi is hardwired - green on, red data</p><p>Any questions or suggestions? Feel free to pm me.</p><p>Thanks</p>											<p class="post-edited">(Last edited by <strong>routednbooted</strong> on 12 Jul 2010, 08:05)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112878">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">s0l1dsnak3123</div>
					<div class="post-datetime">
						10 Jul 2010, 23:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>routednbooted wrote:</cite><blockquote><p>not-so-mini tut</p><p>first off<br/>we all know you might break your device doing this so take the usual warnings and precautions and dont blame me if something goes wrong<br/>You will need a computer runining linux. Redhat is reccomended but i use debian personally, with the rpm package installed.<br/>a tftp server<br/>a soldering iron<br/>25 pin d sub male connector (thats the printer one)<br/>4 100ohm resistors (brown black brown)<br/>some sort of serial level shifter you could use a max232 or a pl2303 google for them you will need one.&nbsp; -Tip- i use a pl2303 from an old mobile phone datacable.<br/>tjtag - <a href="http://www.tiaowiki.com/download//file.php?id=24">http://www.tiaowiki.com/download//file.php?id=24</a><br/>refer to ali1234&#039;s pic here, <a href="https://forum.openwrt.org/viewtopic.php?pid=105535#p105535">https://forum.openwrt.org/viewtopic.php … 35#p105535</a></p><p>you only need to bridge r91 and r98 for the serial (bottom pic)<br/>its up to you if you want to make some sort of header like ali did (top pic). it is better because you can just unplug it and use it again later.</p></blockquote></div><p>Thanks a lot for such a detailed tutorial! I actually already have a max232 (my dad uses it for his special weighing kit he has at work).<br/>I bought a &quot;25-Pin D Connector Plus Shell Housing&quot;, &quot;100 x 100 Ohm 0.25w Carbon Resistors 1/4w Resistor 100R.&quot;, &quot;1 Metre Black Heat Shrink Tubing 1.6 mm tube sleeving.&quot;, and &quot;KYNAR WIRE 5M Yellow - XBOX PS3 WII MODS 5 Metre 15Feet&quot; from ebay in order to do this <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p><p>I have a soldering iron already, I have ubuntu linux on my machine already (I hate windows), which as you probably know is DEB based, but I should be able to install it without using RPM. If I come across any problems, I&#039;ll let you know <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p><p>Again, thanks for such a detailed tut!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112894">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						11 Jul 2010, 12:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>routednbooted wrote:</cite><blockquote><p>not-so-mini tut<br/>a few gpios - i might not be entirely right on these<br/>2L ethernet green<br/>2H broadband<br/>4H internet red<br/>5H internet green</p><p>wifi is hardwired - green on, red data</p></blockquote></div><p>You can have a look at ali&#039;s and my patches above for the GPIO defs, they&#039;re in the patch. <br/>Right now I&#039;m compiling the firmware, let&#039;s see <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p><p>Thanks for you tutorial!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112899">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						11 Jul 2010, 13:58					</div>
				</div>
				<div class="post-content content">
					<p>It boots properly, WiFi and ethernet are working, I did not test DSL.</p><p>If you issue &quot;ifconfig eth0 up&quot; after running &quot;cfm&quot;, ethernet is working!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p112905">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">routednbooted</div>
					<div class="post-datetime">
						11 Jul 2010, 14:38					</div>
				</div>
				<div class="post-content content">
					<p>excellent..</p><div class="quotebox"><blockquote><p>If you issue &quot;ifconfig eth0 up&quot; after running &quot;cfm&quot;, ethernet is working!</p></blockquote></div><p>But does it come back up after a reboot?</p><p>if it doesn&#039;t, when you&#039;re not connected via serial that will be a problem.</p><p>where im at so far,</p><div class="codebox"><pre><code>CFE version 1.0.37-6.5.17 for BCM96338 (32bit,SP,BE)
Copyright (C) 2000-2005 Broadcom Corporation.

Boot Address 0xbfc00000

Initializing Arena.
Initializing Devices.
Parallel flash device: name AM29LV320MB, id 0x2200, size 4096KB
Auto-negotiation timed-out
10 MB Half-Duplex (assumed)
CPU type 0x29010: 240MHz
Total memory: 16777216 bytes (16MB)

Total memory used by CFE:  0x80401000 - 0x805283F0 (1209328)
Initialized Data:          0x8041D7F0 - 0x8041FA50 (8800)
BSS Area:                  0x8041FA50 - 0x804263F0 (27040)
Local Heap:                0x804263F0 - 0x805263F0 (1048576)
Stack Area:                0x805263F0 - 0x805283F0 (8192)
Text (code) segment:       0x80401000 - 0x8041D7E8 (116712)
Boot area (physical):      0x00529000 - 0x00569000
Relocation Factor:         I:00000000 - D:00000000

Board IP address                  : 192.168.0.1
Host IP address                   : 192.168.0.33
Gateway IP address                :
Run from flash/host (f/h)         : f
Default host run file name        : vmlinux
Default host flash file name      : bcm963xx_fs_kernel
Boot delay (0-9 seconds)          : 3
Board Id Name                     : 96338W
Psi size in KB                    : 24
Number of MAC Addresses (1-32)    : 6
Base MAC Address                  : 00:34:45:56:67:78
Ethernet PHY Type                 : External
Memory size in MB                 : 16
CMT Thread Number                 : 0
Dying Gasp Enable (0:Disable 1:Enable)  : 1

*** Press Enter to stop auto run (3 seconds) ***
Auto run second count down: 0
Code Address: 0x80010000, Entry Address: 0x801b7018
Decompression OK!
Entry at 0x801b7018
Closing network.
Starting program at 0x801b7018
Linux version 2.6.8.1 (person@localhost) (gcc version 3.4.2) #7 Sun Jul 11 13:17:41 0
Parallel flash device: name AM29LV320MB, id 0x2200, size 4096KB
96338W prom init
CPU revision is: 00029010
Determined physical RAM map:
 memory: 00fa0000 @ 00000000 (usable)
On node 0 totalpages: 4000
  DMA zone: 4000 pages, LIFO batch:1
  Normal zone: 0 pages, LIFO batch:1
  HighMem zone: 0 pages, LIFO batch:1
Built 1 zonelists
Kernel command line: root=31:0 ro noinitrd console=ttyS0,115200
brcm mips: enabling icache and dcache...
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.
Primary data cache 8kB 2-way, linesize 16 bytes.
PID hash table entries: 64 (order 6: 512 bytes)
Using 120.000 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 13884k/16000k available (1463k kernel code, 2096k reserved, 225k data, )
KLOB Pool 1 Initialized: 1048576 bytes &lt;0x80e00000 ... 0x80f00000&gt;
Calibrating delay loop... 239.20 BogoMIPS
Mount-cache hash table entries: 512 (order: 0, 4096 bytes)
Checking for &#039;wait&#039; instruction...  unavailable.
NET: Registered protocol family 16
Total Flash size: 4096K with 71 sectors
File system address: 0xbfc10100
Blk# BlkOff Blks  MemLen Partition Name
   0   1408    1    1024 NVRAM
  69  40960    1   24576 Config 2
  70  32768    1    8192 Scratch PAD
  70  40960    1   24576 Config 1
Can&#039;t analyze prologue code at 8017c564
Initializing Cryptographic API
PPP generic driver version 2.4.2
PPP Deflate Compression module registered
PPP BSD Compression module registered
MPPE/MPPC encryption/compression module registered
NET: Registered protocol family 24
Using noop io scheduler
bcm963xx_mtd driver v1.0
brcmboard: brcm_board_init entry
SES: Button Interrupt 0x0 is enabled
SES: LED GPIO 0x8005 is enabled
Serial: BCM63XX driver $Revision: 3.00 $
ttyS0 at MMIO 0xfffe0300 (irq = 10) is a BCM63XX
NET: Registered protocol family 2
IP: routing cache hash table of 512 buckets, 4Kbytes
TCP: Hash tables configured (established 512 bind 1024)
Initializing IPsec netlink socket
NET: Registered protocol family 1
NET: Registered protocol family 17
NET: Registered protocol family 15
Ebtables v2.0 registered
NET: Registered protocol family 8
NET: Registered protocol family 20
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly.
Freeing unused kernel memory: 68k freed
init started:  BusyBox v1.00 (2010.07.10-22:08+0000) multi-call binary
Algorithmics/MIPS FPU Emulator v1.5


BusyBox v1.00 (2010.07.10-22:08+0000) Built-in shell (msh)
Enter &#039;help&#039; for a list of built-in commands.


Loading drivers and kernel modules...

atmapi: module license &#039;Proprietary&#039; taints kernel.
adsl: adsl_init entry
blaadd: blaa_detect entry
Broadcom BCMPROCFS v1.0 initialized
Broadcom BCM6338A2 Ethernet Network Device v0.3 Apr 10 2009 20:28:04
Config Ethernet Switch Through MDIO Pseudo PHY Interface
ethsw: found bcm5325m!
dgasp: kerSysRegisterDyingGaspHandler: eth0 registered
eth0: MAC Address: 00:34:45:56:67:78
SDIOH mode switch from 1 to 2
available commands: sdio sdioh

---SDIO init SUCCEEDED--- sromless

chipid 0x4024318
bcmsdh_attach, sdioh_attach successful, bcmsdh-&gt;sdioh 0x80e97310
wl0: wlc_attach: use mac addr from the system pool by id: 0x776c0000
wl0: MAC Address: 00:34:45:56:67:79
wl0: Broadcom BCM4318 802.11 Wireless Controller 3.131.35.6.cpe1.0a.sd-e1
dgasp: kerSysRegisterDyingGaspHandler: wl0 registered
Trying to free free IRQ25

# we dont need no stinkin # cfm.
# this is a good place to start networking.
# todo: some way to get these addresses to and from nvram.
# todo: user and password too.

host_name=585v7
host_ip=192.168.0.1
netmask=255.255.255.0
broadcast=192.168.0.255
gateway_ip=

Configuring network...
device eth0 entered promiscuous mode
device wl0 entered promiscuous mode
# i think it would be a good idea to start the firewall here
# just need to set some rules up. do that later.
/sbin/udhcpc # these need
/usr/sbin/udhcpd # configuring.
/usr/sbin/httpd #
# need a sshd
Bring up network...
br0: port 1(eth0) entering learning state
# dont enable wl0 just yet because we have an open network.
# ifconfig wl0 up

# say something informative.
# give more info.
# etc.

#
br0: topology change detected, propagating
br0: port 1(eth0) entering forwarding state</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113157">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">ali1234</div>
					<div class="post-datetime">
						15 Jul 2010, 15:44					</div>
				</div>
				<div class="post-content content">
					<p>Good work.</p><p>CANT-P is a specific board identifier for Thomson, no other vendor kernel will recognise it, that&#039;s why you needed the patch.</p><p>Can you trace the wifi module to find SDIO registers so we can make a new driver for it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113171">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">routednbooted</div>
					<div class="post-datetime">
						15 Jul 2010, 19:39					</div>
				</div>
				<div class="post-content content">
					<p>im on thomson at the moment but i did notice</p><p>in the broadcom binary driver<br/>a0itssit<br/>pa0b0<br/>pa0b1<br/>pa0b2<br/>pa0maxpwr<br/>were all insane looking values but the srom map was very different from a normal 43xx. endieness, size, all different. so i didnt know what to change</p><p>the b43 driver can support sdio. i dont know if it has already been included in the realease. <a href="http://www.gc-linux.com/wiki/Wii:WLAN">http://www.gc-linux.com/wiki/Wii:WLAN</a><br/>and we&#039;ll need a different firmware. i dont know if the wii one is compatible.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p113953">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">Haros</div>
					<div class="post-datetime">
						29 Jul 2010, 03:18					</div>
				</div>
				<div class="post-content content">
					<p>I am interested in flashing my thomson with openwrt.</p><p>I read that you have aldo managed to set up wifi too.</p><p>So, is everything working fine with openwrt on Thomson? What are the problems that need to be fixed?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114067">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">mauritzius</div>
					<div class="post-datetime">
						30 Jul 2010, 09:49					</div>
				</div>
				<div class="post-content content">
					<p>Haros, please read thoroughly through the whole thread. Currently, there is NO fully working openwrt for the TG585v7. All your questions are answered within the thread. </p><p>To sum up:<br/>With OpenWrt, wireless and DSL are not working, because those features rely on binary-only drivers that are only available for Linux 2.6.8.1. AFAIK, ali1234 is working on WiFi.</p><p>The other option is what routednbooted is trying to accomplish: boost a D-Link supplied firmware that runs Linux 2.6.8.1 and the binary-drivers with certain features.</p><p>Both approaches require you to solder some parts to the PCB, build serial and JTAG cables and re-flash the CFE with a patched version.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114086">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">Haros</div>
					<div class="post-datetime">
						30 Jul 2010, 17:21					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the feedback. I was just asking to see if any progress was made.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p114969">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">francisuk</div>
					<div class="post-datetime">
						11 Aug 2010, 15:14					</div>
				</div>
				<div class="post-content content">
					<p>Has anyone got a image fille so i can tftp the image?</p><p>Not bothed about the ADSL drivers.</p><p>Cheers</p>											<p class="post-edited">(Last edited by <strong>francisuk</strong> on 11 Aug 2010, 15:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116177">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">alromh87</div>
					<div class="post-datetime">
						30 Aug 2010, 21:08					</div>
				</div>
				<div class="post-content content">
					<p>Hi i am trying to use gcl wireless dirver on OpenWrt, I have build my kernel with spi and mmc-spi but i dont get any message about mmc iopenwrt so no sdio.<br/>does anyone have any idea on how to enable mmc in orther to get sdio</p><p>thnaks<br/></p><div class="codebox"><pre><code>dmesg | egrep &quot;b43|mmc|phy|sdio|wlan|spi&quot;
bcm63xx-spi bcm63xx-spi.0:  at 0xfffe0c00 (irq 9, FIFOs size 63) v0.1.2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116237">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">alromh87</div>
					<div class="post-datetime">
						1 Sep 2010, 05:28					</div>
				</div>
				<div class="post-content content">
					<p>Ok after some hacking in the code i am here</p><div class="codebox"><pre><code>dmesg | egrep &quot;b43|mmc|phy|sdio|wlan|spi&quot;
bcm63xx-spi bcm63xx-spi.0:  at 0xfffe0c00 (irq 9, FIFOs size 63) v0.1.2
mmc_spi spi0.0: ASSUMING SPI bus stays unshared!
mmc_spi spi0.0: SD/MMC host mmc0, no DMA, no WP, no poweroff
mmc_spi spi0.0: mmc_spi: power up (21)
mmc_spi spi0.0: mmc_spi: power on (21)
mmc_spi spi0.0: bcm63xx_spi_setup_transfer, unsupported bits_per_word=0</code></pre></div><p>Normally it gets stuck at last message but I edited some kernel files to continue loading now I will try to get sdio and se what happends</p>											<p class="post-edited">(Last edited by <strong>alromh87</strong> on 1 Sep 2010, 05:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116760">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">alromh87</div>
					<div class="post-datetime">
						9 Sep 2010, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>I took out the heat-sink that was over the wireless chip and there are some test point so I will try to see what i cant get from there on the original firmware after fixing the components that I moved during the processes. oops</p><p>Interesting TP:<br/>TP_WLAN<br/>TP_TDO<br/>TP_TDI<br/>TP_TCK<br/>TP_TMS<br/>TP_TRS</p><p>but I don&#039;t see any SDIO TP does anyone have the BCM4318KFBG datasheet?</p><p><a href="http://picasaweb.google.com/lh/photo/ZtkjjXeT7GrE9hGWRB9np9JF2YHN6EWloV_ClMVO72o?feat=directlink"><span class="postimg"><img src="http://lh4.ggpht.com/_5ilWZh6k0Wk/TIj_WH4DyvI/AAAAAAAAAHw/OtZW68sBxaQ/s288/Wlan.JPG" alt="http://lh4.ggpht.com/_5ilWZh6k0Wk/TIj_WH4DyvI/AAAAAAAAAHw/OtZW68sBxaQ/s288/Wlan.JPG"/></span></a></p>											<p class="post-edited">(Last edited by <strong>alromh87</strong> on 9 Sep 2010, 19:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p116785">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">speedytouch</div>
					<div class="post-datetime">
						9 Sep 2010, 22:37					</div>
				</div>
				<div class="post-content content">
					<p>here the link : <a href="http://pdf1.alldatasheet.com/datasheet-pdf/view/175084/BOARDCOM/BCM4318.html">http://pdf1.alldatasheet.com/datasheet- … M4318.html</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117685">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">itra</div>
					<div class="post-datetime">
						22 Sep 2010, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>&quot;&quot;&quot;<br/>you will need this cfe <a href="http://rapidshare.com/files/406151637/cfe.bin.zip">http://rapidshare.com/files/406151637/cfe.bin.zip</a><br/>&quot;&quot;&quot;<br/>link is broken</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117689">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">routednbooted</div>
					<div class="post-datetime">
						22 Sep 2010, 13:58					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://rapidshare.com/files/420538739/cfe.bin.zip">http://rapidshare.com/files/420538739/cfe.bin.zip</a></p><p>re-up it somewhere it wont get deleted if you want</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117743">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">itra</div>
					<div class="post-datetime">
						23 Sep 2010, 15:21					</div>
				</div>
				<div class="post-content content">
					<p>tnx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117864">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">tefirrik</div>
					<div class="post-datetime">
						25 Sep 2010, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>I am watching this thread with interest.</p><p>Does<br/><a href="http://www.psidoc.com/forum/viewthread.php?thread_id=158">http://www.psidoc.com/forum/viewthread. … ead_id=158</a><br/>help at all? The BT Homehub is a Thomson Speedtouch with takes similar firmwares to the Thomson Gateways.</p><p>Updated: Discussion also at <a href="https://forum.openwrt.org/viewtopic.php?id=26639">https://forum.openwrt.org/viewtopic.php?id=26639</a></p>											<p class="post-edited">(Last edited by <strong>tefirrik</strong> on 25 Sep 2010, 21:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117870">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">routednbooted</div>
					<div class="post-datetime">
						25 Sep 2010, 22:18					</div>
				</div>
				<div class="post-content content">
					<p>Thats actually something i had a lot to do with. What part do you mean?</p><p>As a whole, the TG585v7 has no usb. so you cant do the telnet thing to get a command shell.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p117874">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">tefirrik</div>
					<div class="post-datetime">
						25 Sep 2010, 23:31					</div>
				</div>
				<div class="post-content content">
					<p>You are right, I missed the part that you need to mount the USB stick in order to copy the data. Sorry for the off-topic.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118523">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">gordan</div>
					<div class="post-datetime">
						5 Oct 2010, 18:14					</div>
				</div>
				<div class="post-content content">
					<p>What, exactly, is the problem with running on 2.6.8.1 kernel so the binary drivers work? Is there a particular reason why this is not suitable for some of the other openwrt features? I have a SpeedTouch 585 (I think it&#039;s a v6) and am most interested in having a more sane firmware in it than what is provided as standard.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p118527">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">routednbooted</div>
					<div class="post-datetime">
						5 Oct 2010, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>If you want to do that its completely up to you. Personally i wouldn&#039;t want to be stuck at one version, sooner or later im going to find somthing that wants a different kernel or compiler version.<br/>I think the V6 is a bcm6348 so anything in this thread would probably kill it.</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 76 to 75 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 6</div><nav><ul><li><a href="viewtopic.php%3Fid=21489&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=21489&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=21489&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=21489&amp;p=5.html">5</a></li><li><a href="viewtopic.php%3Fid=21489&amp;p=6.html">6</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>