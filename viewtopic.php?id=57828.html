<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Moving packages to Github</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p279178">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						7 Jun 2015, 11:40					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m looking for a way to move packages from e.g. oldpackages feed to the new Github packages feed.</p><p>Is this already documentet somewhere? If not, please help me here. Thanks.</p><p>EDIT: I remember that I have to do a pull request somehow, but I can&#039;t remember the commands..</p>											<p class="post-edited">(Last edited by <strong>written_direcon</strong> on 7 Jun 2015, 12:17)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279180">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						7 Jun 2015, 12:49					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://github.com/openwrt/packages/blob/master/CONTRIBUTING.md">https://github.com/openwrt/packages/blo … IBUTING.md</a></p><p>Pull request should be created at github. examples at <a href="https://github.com/openwrt/packages/pulls">https://github.com/openwrt/packages/pulls</a></p><p>In practice you need your own copy (fork) of the github packages repo.<br />The best practice is to create a new feature branch at your github fork, do changes at the local clone of it and commit the changes, push commits to your new github fork, and then when you go into github GUI, it offers a possibility to create a pull request based on your fork&#039;s changes.</p><p>One additional hint:<br />I have found it easiest to have a separate clone of my packages fork in my build system. I usually test the changes first at the &quot;real&quot; build system (clone of openwrt packages), and if the changes work, I copy the modifies files to the local clone of my fork, from which I push the changes into github. That creates a bit additional work, but makes git working a bit safer/easier, as the main build system knows nothing about my own fork.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 7 Jun 2015, 12:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279181">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						7 Jun 2015, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, hnyman. But what in case of oldpackages feed?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279183">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						7 Jun 2015, 13:21					</div>
				</div>
				<div class="post-content content">
					<p>The goal is to move packages from oldpackages to new &quot;packages&quot;.<br />You just create a new corresponding package at the new fork (copying the old sources from oldpackages).<br />And then you update the package at the new location, push it and create a PR.</p><p>After accepting the new package, the devs will then do cleanup and will remove it from oldpackages.</p><p>When I have imported packages from oldpackages, I have tried to keep things really clear, so I have usually used two commits: one to import the old sources unchanged, the second to update/edit sources. E.g. <a href="https://github.com/openwrt/packages/pull/113">https://github.com/openwrt/packages/pull/113</a> contains two commits.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 7 Jun 2015, 13:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279184">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						7 Jun 2015, 13:24					</div>
				</div>
				<div class="post-content content">
					<p>Okay, will give it a try later today..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279186">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						7 Jun 2015, 13:41					</div>
				</div>
				<div class="post-content content">
					<p>I have several patches that try to fix &quot;common&quot; issues* for oldpackages packages<br />have a look at:</p><p><a href="https://github.com/plntyk/openwrt-patches/tree/master/feed_oldpackages">https://github.com/plntyk/openwrt-patch … ldpackages</a></p><p>feel free to use them </p><br /><p>* meaning: format-security, hardened buildflags and some times musl &amp; exotic arch build tested</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p279219">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						7 Jun 2015, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>Done. Thanks :-)</p><p><a href="https://github.com/openwrt/packages/pull/1352">https://github.com/openwrt/packages/pull/1352</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>