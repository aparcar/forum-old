<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to mount SMB?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p178527">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						17 Sep 2012, 20:03					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,</p><p>I&#039;ve been trying unsuccessfully to mount my unRaid server onto the OpenWrt router so it can access the music.</p><p>I believe the command below is well formatted but isn&#039;t working, what am I doing wrong?<br />The unRaid server mounts fine onto windows.</p><p>Password has been obscured deliberately with ****</p><p>root@OpenWrt:/# mount -t cifs -o username=root,password=******* //192.168.0.98 /mnt<br />root@OpenWrt:/# mount<br />rootfs on / type rootfs (rw)<br />/dev/root on /rom type squashfs (ro)<br />none on /dev type devfs (rw)<br />proc on /proc type proc (rw)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev)<br />devpts on /dev/pts type devpts (rw)<br />/dev/mtdblock/4 on /jffs type jffs2 (rw)<br />mini_fo:/jffs on / type mini_fo (rw)<br />none on /proc/bus/usb type usbfs (rw)<br />root@OpenWrt:/#</p><p>Thanks,<br />Danny</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178600">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						18 Sep 2012, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>Bump....</p><p>Anyone?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178608">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						18 Sep 2012, 14:22					</div>
				</div>
				<div class="post-content content">
					<p>check dmesg</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178609">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						18 Sep 2012, 14:27					</div>
				</div>
				<div class="post-content content">
					<p>Thanks jow, but unfortunately dmesg doesn&#039;t seem to change, see extract below which is directly after I ran the mount command:</p><br /><p>USB20H fcr: 0x64<br />USB20H shim cr: 0x8f7<br />PCI: Setting latency timer of device 00:03.0 to 64<br />usb-ohci.c: USB OHCI at membase 0xb8003000, IRQ 6<br />usb-ohci.c: usb-00:03.0, PCI device 14e4:471a<br />usb.c: new USB bus registered, assigned bus number 1<br />hub.c: USB hub found<br />hub.c: 2 ports detected<br />usb.c: registered new driver audio<br />audio.c: v1.0.0:USB Audio Class driver<br />hub.c: new USB device 00:03.0-1, assigned address 2<br />usbaudio: device 2 audiocontrol interface 0 has 1 input and 1 output AudioStreaming interfaces<br />usbaudio: device 2 interface 2 altsetting 1 channels 1 framesize 2 configured<br />usbaudio: valid input sample rate 48000<br />usbaudio: valid input sample rate 44100<br />usbaudio: device 2 interface 2 altsetting 1: format 0x00000010 sratelo 44100 sratehi 48000 attributes 0x01<br />usbaudio: device 2 interface 1 altsetting 0 does not have an endpoint<br />usbaudio: device 2 interface 1 altsetting 1 channels 2 framesize 2 configured<br />usbaudio: valid output sample rate 48000<br />usbaudio: valid output sample rate 44100<br />usbaudio: device 2 interface 1 altsetting 1: format 0x01000010 sratelo 44100 sratehi 48000 attributes 0x01<br />usbaudio: registered dsp 14,3<br />usbaudio: constructing mixer for Terminal 6 type 0x0301<br />usbaudio: warning: found 1 of 2 logical channels.<br />usbaudio: assuming that a stereo channel connected directly to a mixer is missing in search (got Labtec headset?). Should be fine.<br />usbaudio: registered mixer 14,0<br />usbaudio: constructing mixer for Terminal 7 type 0x0101<br />usbaudio: registered mixer 14,16<br />usb_audio_parsecontrol: usb_audio_state at 80b6ac20<br />device wl0 entered promiscuous mode<br />wl0: attempt to add interface with same source address.<br />br-lan: port 2(wl0) entering learning state<br />br-lan: port 2(wl0) entering forwarding state<br />br-lan: topology change detected, propagating<br />Data bus error, epc == 80096a9c, ra == 80037be4<br />Oops in traps.c::do_be, line 385:<br />$0 : 00000000 1000fc00 a8000000 00000000 00000000 7fff6cf0 00000fff 8017aa40<br />$8 : 7fff6cf0 0000ffff ffffffff a8000000 8017aa20 00000000 00000001 2ab982f8<br />$16: 8017aa40 8017aa20 ffffffea 00001000 7fff6cf0 00000000 00000001 00000003<br />$24: 2ab93598 2ab9f500&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;80564000 80565f08 004091ac 80037be4<br />Hi : 0000025b<br />Lo : 000001df<br />epc&nbsp; &nbsp;: 80096a9c&nbsp; &nbsp; Tainted: P<br />Status: 1000fc03<br />Cause : 0000001c<br />PrId&nbsp; : 00029029<br />Process cat (pid: 834, stackpage=80564000)<br />Stack:&nbsp; &nbsp; 80bd9200 8003763c 00001000 7fff6cf0 00001000 7fff6cf0 00000003<br /> 00000001 00000000 80008a60 004cb044 004cb00c 004cb01c 004cca49 ffffffff<br /> 00000000 00000000 1000fc00 00000fa3 00000030 00000003 7fff6cf0 00001000<br /> 00000000 0000e500 004053e7 2aaad380 2ab95b68 0000025d 00078b74 00000001<br /> 2ab982f8 00001000 7fff6cf0 00000003 00000001 00000000 00000000 00000001<br /> 00000003 ...<br />Call Trace:&nbsp; &nbsp;[&lt;8003763c&gt;] [&lt;80008a60&gt;] [&lt;8005bb0c&gt;]</p><p>Code: 240affff&nbsp; 3409ffff&nbsp; 01641021 &lt;90420000&gt; 00001821&nbsp; 00021600&nbsp; 00021603&nbsp; a1020000&nbsp; 0460ffec<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />eth0.0: received packet with&nbsp; own address as source address<br />NET: 180 messages suppressed.<br />eth0.0: received packet with&nbsp; own address as source address<br />NET: 187 messages suppressed.<br />eth0.0: received packet with&nbsp; own address as source address</p>											<p class="post-edited">(Last edited by <strong>wozzer</strong> on 18 Sep 2012, 14:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178870">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						20 Sep 2012, 16:10					</div>
				</div>
				<div class="post-content content">
					<p>Bump....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178874">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">johan666</div>
					<div class="post-datetime">
						20 Sep 2012, 17:03					</div>
				</div>
				<div class="post-content content">
					<p>I just did that, nothing else.</p><div class="codebox"><pre><code>root@MR3020:/tmp# mount //windows.lan/folder /tmp/smb -o username=user,password=*****
root@MR3020:/tmp# df -h
Filesystem           1K-blocks      Used Available Use% Mounted on
//windows.lan            18.4G      8.7G      9.8G  47% /tmp/smb
root@MR3020:/tmp# dmesg
[    0.000000] Linux version 3.3.8 (root@unix64) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #2 Thu Sep 20 16:59:38
[  749.370000] CIFS VFS: default security mechanism requested.  The default security mechanism will be upgraded from ntlm to ntlmv2 in kernel release 3.3</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178875">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">eleon216</div>
					<div class="post-datetime">
						20 Sep 2012, 17:11					</div>
				</div>
				<div class="post-content content">
					<p>the OP didn&#039;t specify a share, just the ip of the samba-server, I guess that&#039;s the problem</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178877">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						20 Sep 2012, 17:34					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the replies guys, here are the unsuccessul results of further attempts:</p><br /><p>root@OpenWrt:~# mount //tower/Music /tmp/smb -o username=root,password=*****<br />mount: mounting \\192.168.0.98\Music on /tmp/smb failed: No such file or directory<br />root@OpenWrt:~# mount //tower/Music/ /tmp/smb -o username=root,password=*****<br />mount: bad address &#039;tower\Music&#039;<br />root@OpenWrt:~# mount //tower/ /tmp/smb -o username=root,password=*****<br />mount: mounting \\192.168.0.98\ on /tmp/smb failed: No such file or directory<br />root@OpenWrt:~# mount //tower/ /tmp/smb -o username=user,password=*****<br />mount: mounting \\192.168.0.98\ on /tmp/smb failed: No such file or directory<br />root@OpenWrt:~# mount //tower/Music /tmp/smb -o username=user,password=*****<br />mount: mounting \\192.168.0.98\Music on /tmp/smb failed: No such file or directory<br />root@OpenWrt:~#<br />rootfs on / type rootfs (rw)<br />/dev/root on /rom type squashfs (ro)<br />none on /dev type devfs (rw)<br />proc on /proc type proc (rw)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev)<br />devpts on /dev/pts type devpts (rw)<br />/dev/mtdblock/4 on /jffs type jffs2 (rw)<br />mini_fo:/jffs on / type mini_fo (rw)<br />none on /proc/bus/usb type usbfs (rw)<br />root@OpenWrt:~#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178879">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">eleon216</div>
					<div class="post-datetime">
						20 Sep 2012, 18:10					</div>
				</div>
				<div class="post-content content">
					<p>check <a href="http://wiki.openwrt.org/doc/howto/cifs.client?">this</a> for more info, and make sure you have all needed packages for cifs-client installed.</p><p>and btw. &quot;mount: mounting \\192.168.0.98\Music on /tmp/smb failed: No such file or directory&quot; indicates that mountpoint /tmp/smb doesn&#039;t exist! so create it before trying to mount something to this mountpoint</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178880">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						20 Sep 2012, 18:23					</div>
				</div>
				<div class="post-content content">
					<p>Thanks eleon216, I&#039;ll have a read through that page.</p><p>I did notice that and made the directory, but unfortunately still no luck:<br />root@OpenWrt:/tmp# mount //tower/Music /tmp/smb -o username=root,password=*****<br />mount: mounting \\192.168.0.98\Music on /tmp/smb failed: No such device<br />root@OpenWrt:/tmp# mount //tower/Music /tmp/smb -o username=user,password=*****<br />mount: mounting \\192.168.0.98\Music on /tmp/smb failed: No such device<br />root@OpenWrt:/tmp# ls smb/<br />root@OpenWrt:/tmp# cd smb/<br />root@OpenWrt:/tmp/smb#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178881">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						20 Sep 2012, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>Tried to install cifs as per that link but it can&#039;t find the package:</p><p>root@OpenWrt:/tmp/smb# opkg install kmod-fs-cifs<br />Collected errors:<br /> * Cannot find package kmod-fs-cifs.<br />root@OpenWrt:/tmp/smb# opkg update<br />Downloading <a href="http://mightyohm.com/files/kamikaze-2.4/packages/mipsel/Packages.gz">http://mightyohm.com/files/kamikaze-2.4 … ackages.gz</a><br />Connecting to mightyohm.com (108.59.4.231:80)<br />Packages.gz&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 100% |****************************************************************************************************************************************************|&nbsp; 8516&nbsp; --:--:-- ETA<br />Inflating <a href="http://mightyohm.com/files/kamikaze-2.4/packages/mipsel/Packages.gz">http://mightyohm.com/files/kamikaze-2.4 … ackages.gz</a><br />Updated list of available packages in /var/opkg-lists/snapshots<br />Signiture check for snapshots skipped because GPG support was not enabled in this build<br />root@OpenWrt:/tmp/smb# opkg install kmod-fs-cifs<br />Collected errors:<br /> * Cannot find package kmod-fs-cifs.<br />root@OpenWrt:/tmp/smb#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178890">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">eleon216</div>
					<div class="post-datetime">
						20 Sep 2012, 19:59					</div>
				</div>
				<div class="post-content content">
					<p>what is mightyohm? <br />and it seems like they haven&#039;t build this kernel-module. <br />So maybe you will get help there, or you switch to a offical openwrt-release. (but if you switch you have to get everything from the offical repository, don&#039;t mix revisions! especially with kernelmodules)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p178965">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">wozzer</div>
					<div class="post-datetime">
						21 Sep 2012, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>I think Mightyohm is some kind of custom software/package repository.</p><p>I used it as I following this guide on how to turn my router into a wifi radio:<br /><a href="http://www.youtube.com/watch?v=Bp26xFBwrJs">http://www.youtube.com/watch?v=Bp26xFBwrJs</a></p><p>And that guide specified I use mightyohm.</p><p>Unfortunately I’m not too familiar with linux based package management so not too sure what to do now.</p><p>I’m worried that if I start from scratch I won’t be able to find compatible packages to make the router into a wifi radio.<br />And the reason I wanted to make this smb mount was so the wifi radio part of the router could stream music from my storage server.</p><p>Maybe there is another type of mount I can try, NFS or something that is already built into it?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>