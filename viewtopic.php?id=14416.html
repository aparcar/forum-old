<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Hostapd 802.1x PEAP wired driver</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p62937">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Gig_tmb</div>
					<div class="post-datetime">
						6 Feb 2008, 12:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi All!</p><p>I can&#039;t get start hostapd with 802.1x auth support on wired interface + windows xp!!!<br />do this:</p><p>interface=eth0.17<br />driver=wired<br />ssid=test<br />auth_algs=1<br />ieee8021x=1<br />eapol_key_index_workaround=0<br />eap_server=1<br />eap_user_file=/etc/hostapd/hostapd.eap_user<br />ca_cert=/etc/hostapd/cert/ca.pem<br />server_cert=/etc/hostapd/cert/server.crt<br />private_key=/etc/hostapd/cert/server.key<br />private_key_passwd=whatever</p><p>log:<br />db:/netup/utm5# hostapd -ddKt -P /var/run/host.pid /etc/hostapd/hostapd.conf <br />Configuration file: /etc/hostapd/hostapd.conf <br />1202053482.203788: eapol_version=2 <br />Opening raw packet socket for ifindex 21 <br />BSS count 1, BSSID mask ff:ff:ff:ff:ff:ff (0 bits) <br />1202053482.220253: eth0.17: IEEE 802.11 Fetching hardware channel/rate support not supported. <br />1202053482.220278: Flushing old station entries <br />1202053482.220288: Deauthenticate all stations <br />Using interface eth0.17 with hwaddr 00:14:5e:2b:04:1e and ssid &#039;test&#039; </p><p>&amp; nothing all<br />in xp use in wired ethernet connection with 802.1x &amp; PEAP auth<br />but in logs nothing cant see</p><p>tracing eapol in xp show this!!!</p><p>[1412] 13:34:58:071: FSMConnecting entered for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[1412] 13:34:58:071: TIMER: Restart PCB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; Time: 60<br />[1412] 13:34:58:071: Setting state CONNECTING for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[1412] 13:34:58:071: FSMConnecting completed for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[1412] 13:34:58:071: ElEnumAndOpenInterfaces: CreatePort successful<br />[1412] 13:34:58:071: ElEnumAndOpenInterfaces: PCB already existed, skipping Interface hash table addition<br />[1412] 13:34:58:071: ElEnumAndOpenInterfaces: Completed with retcode = 0<br />[1412] 13:34:58:071: ElProcessEapConfigChange: Finished with error 0<br />[13260] 13:34:59:713: EAPOLQueryGUIDNCSState: 802.1X Port Inexistant. Returning S_OK<br />[13100] 13:34:59:723: EAPOLQueryGUIDNCSState: 802.1X Port Inexistant. Returning S_OK<br />[13204] 13:35:00:544: ElGetInterfaceParams:&nbsp; SsidLength=&lt;32&gt;, Found EapTypeId=&lt;25&gt;, SSIDLen=&lt;32&gt;<br />[13204] 13:35:00:544: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;13&gt;, Offset=&lt;52/172&gt;, dwAuthData=&lt;42&gt;<br />[3560] 13:35:00:544: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;13&gt;, Offset=&lt;52/172&gt;, dwAuthData=&lt;42&gt;<br />[6564] 13:35:00:544: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;25&gt;, Offset=&lt;52/172&gt;, dwAuthData=&lt;54&gt;<br />[13204] 13:35:00:554: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;25&gt;, Offset=&lt;52/172&gt;, dwAuthData=&lt;54&gt;<br />[3560] 13:35:00:554: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;4&gt;, Offset=&lt;52/172&gt;, dwAuthData=&lt;0&gt;<br />[3560] 13:35:13:893: ElGetInterfaceParams:&nbsp; SsidLength=&lt;32&gt;, Found EapTypeId=&lt;25&gt;, SSIDLen=&lt;32&gt;<br />[3560] 13:35:13:893: ElSetCustomAuthData: EapTypeId=&lt;13&gt;, SSIDLength=&lt;32&gt;, InfoLength=&lt;42&gt;<br />[3560] 13:35:13:893: ElSetCustomAuthData: Set value succeeded, fFound=&lt;1&gt;, dwEapBlob=&lt;172&gt;, dwSizeOfSSID=&lt;32&gt;<br />[13204] 13:35:13:893: ElSetCustomAuthData: EapTypeId=&lt;25&gt;, SSIDLength=&lt;32&gt;, InfoLength=&lt;62&gt;<br />[13204] 13:35:13:893: ElSetCustomAuthData: Set value succeeded, fFound=&lt;1&gt;, dwEapBlob=&lt;180&gt;, dwSizeOfSSID=&lt;32&gt;<br />[6564] 13:35:13:893: ElSetCustomAuthData: EapTypeId=&lt;4&gt;, SSIDLength=&lt;32&gt;, InfoLength=&lt;0&gt;<br />[6564] 13:35:13:893: ElSetCustomAuthData: Set value succeeded, fFound=&lt;1&gt;, dwEapBlob=&lt;180&gt;, dwSizeOfSSID=&lt;32&gt;<br />[3560] 13:35:13:893: ElSetInterfaceParams:&nbsp; EapTypeId=&lt;25&gt; SSIDLen=&lt;32&gt;<br />[3560] 13:35:13:893: Setting stuff in registry for {87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5}<br />[3560] 13:35:13:893: ElSetInterfaceParams: Succeeded,&nbsp; EapTypeId=&lt;25&gt; fFound=&lt;1&gt;, SSIDLen=&lt;32&gt;<br />[3560] 13:35:13:893: ElPostEapConfigChanged: SSIDLength=&lt;32&gt;<br />[460] 13:35:13:923: ElGetInterfaceParams:&nbsp; SsidLength=&lt;32&gt;, Found EapTypeId=&lt;25&gt;, SSIDLen=&lt;32&gt;<br />[460] 13:35:13:923: ElProcessEapConfigChange: PCB ref and enabled, continue check<br />[460] 13:35:13:923: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;25&gt;, Offset=&lt;52/180&gt;, dwAuthData=&lt;62&gt;<br />[460] 13:35:13:923: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;25&gt;, Offset=&lt;52/180&gt;, dwAuthData=&lt;62&gt;<br />[460] 13:35:13:923: ElZeroConfigNotify: Handle=(0), failcount=(0), lastauthtype=(0)<br />[460] 13:35:13:923: ElZeroConfigNotify: RpcCmdInterface failed with error 2<br />[460] 13:35:13:923: ElProcessEapConfigChange: ElZeroConfigNotify failed with error 2<br />[460] 13:35:13:923: ElEnumAndOpenInterfaces: DeviceDesc = , GUID = {87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5}<br />[460] 13:35:13:923: ElNdisuioEnumerateInterfaces: Opening handle<br />[460] 13:35:13:923: NdisuioEnumerateInterfaces: NDISUIO bound to: (0) \DEVICE\{BB9F7841-DE46-4238-AEBE-3B87A16453C6}<br />&nbsp; &nbsp; &nbsp;- Atheros AR5006X Wireless Network Adapter - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚</p><p>[460] 13:35:13:923: NdisuioEnumerateInterfaces: NDISUIO bound to: (1) \DEVICE\{87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5}<br />&nbsp; &nbsp; &nbsp;- Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚</p><p>[460] 13:35:13:923: ElNdisuioEnumerateInterfaces: DeviceIoControl IOCTL_NDISUIO_QUERY_BINDING has no more entries<br />[460] 13:35:13:923: Device: \DEVICE\{BB9F7841-DE46-4238-AEBE-3B87A16453C6}<br />[460] 13:35:13:923: Description: Atheros AR5006X Wireless Network Adapter - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:35:13:923: Device: \DEVICE\{87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5}<br />[460] 13:35:13:923: Description: Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:35:13:923: ElEnumAndOpenInterfaces: Found interface after enumeration \DEVICE\{87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5}<br />[460] 13:35:13:923: ElEnumAndOpenInterfaces: Found PCB already existing for interface<br />[460] 13:35:13:923: ElCreatePort: Entered for Handle=(000013BC), GUID=({87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5}), Name=(Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚), ZCId=(0), UserData=(00000000) Notification=&lt;3&gt;<br />[460] 13:35:13:923: ElGetInterfaceNdisStatistics: pwszDeviceInterfaceName = (\Device\{87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5})<br />[460] 13:35:13:923: ElCreatePort: PCB found for {87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5}<br />[460] 13:35:13:923: ElReStartPort: Entered: pPCB=&lt;091A5C10&gt;, pZCConnectInfo=&lt;00000000&gt;, Refcnt=&lt;3&gt;, EapFlags=&lt;c0000000&gt;, Notification=&lt;3&gt;<br />[460] 13:35:13:923: ElGetInterfaceNdisStatistics: pwszDeviceInterfaceName = (\Device\{87D52AD8-8EB7-4A66-BB0D-6B835C7A4AC5})<br />[460] 13:35:13:933: ElGetInterfaceParams:&nbsp; SsidLength=&lt;32&gt;, Found EapTypeId=&lt;25&gt;, SSIDLen=&lt;32&gt;<br />[460] 13:35:13:933: ElReadPerPortRegistryParams: Setting dwEapFlags=&lt;c0000000&gt;<br />[460] 13:35:13:933: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;25&gt;, Offset=&lt;52/180&gt;, dwAuthData=&lt;62&gt;<br />[460] 13:35:13:933: ElGetCustomAuthData: SSIDLen=&lt;32&gt;, EapTypeId=&lt;25&gt;, Offset=&lt;52/180&gt;, dwAuthData=&lt;62&gt;<br />[460] 13:35:13:933: ElReadPerPortRegistryParams: dwTotalMaxAuthFailCount = (3)<br />[460] 13:35:13:933: FSMConnecting entered for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:35:13:933: TIMER: Restart PCB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; Time: 60<br />[460] 13:35:13:933: Setting state CONNECTING for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:35:13:933: FSMConnecting completed for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:35:13:933: ElEnumAndOpenInterfaces: CreatePort successful<br />[460] 13:35:13:933: ElEnumAndOpenInterfaces: PCB already existed, skipping Interface hash table addition<br />[460] 13:35:13:933: ElEnumAndOpenInterfaces: Completed with retcode = 0<br />[460] 13:35:13:933: ElProcessEapConfigChange: Finished with error 0<br />[460] 13:35:30:547: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[460] 13:35:30:547: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[460] 13:35:30:547: ElMediaSpecificEventHandler: Entered<br />[460] 13:35:30:547: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[460] 13:35:30:547: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[460] 13:35:30:547: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[460] 13:35:30:547: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[460] 13:35:30:547: ElMediaSpecificEventHandler: Entered<br />[460] 13:35:30:547: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[460] 13:35:30:547: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[460] 13:35:30:547: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[460] 13:35:30:547: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[460] 13:35:30:547: ElMediaSpecificEventHandler: Entered<br />[460] 13:35:30:547: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[460] 13:35:30:547: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[460] 13:36:13:970: ElTimeoutCallbackRoutine entered<br />[460] 13:36:13:970: FSMConnecting entered for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:36:13:970: TIMER: Restart PCB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; Time: 60<br />[460] 13:36:13:970: Setting state CONNECTING for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:36:13:970: FSMConnecting completed for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[460] 13:36:13:970: ElTimeoutCallbackRoutine completed<br />[1412] 13:37:09:389: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[1412] 13:37:09:389: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[1412] 13:37:09:389: ElMediaSpecificEventHandler: Entered<br />[1412] 13:37:09:389: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[1412] 13:37:09:389: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[1412] 13:37:09:389: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[1412] 13:37:09:389: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[1412] 13:37:09:389: ElMediaSpecificEventHandler: Entered<br />[1412] 13:37:09:389: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[1412] 13:37:09:389: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[1412] 13:37:09:389: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[1412] 13:37:09:389: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[1412] 13:37:09:389: ElMediaSpecificEventHandler: Entered<br />[1412] 13:37:09:389: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[1412] 13:37:09:389: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[10484] 13:37:13:996: ElTimeoutCallbackRoutine entered<br />[10484] 13:37:13:996: FSMConnecting entered for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:37:13:996: TIMER: Restart PCB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; Time: 60<br />[10484] 13:37:13:996: Setting state CONNECTING for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:37:13:996: FSMConnecting completed for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:37:13:996: ElTimeoutCallbackRoutine completed<br />[11628] 13:37:36:628: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[11628] 13:37:36:628: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[11628] 13:37:36:628: ElMediaSpecificEventHandler: Entered<br />[11628] 13:37:36:628: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[11628] 13:37:36:628: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[11628] 13:37:36:628: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[11628] 13:37:36:628: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[11628] 13:37:36:628: ElMediaSpecificEventHandler: Entered<br />[11628] 13:37:36:628: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[11628] 13:37:36:628: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[11628] 13:37:36:628: ElMediaEventsHandler entered -- EventType=&lt;8&gt;<br />[11628] 13:37:36:628: ElMediaEventsHandler: Calling ElMediaSpecificHandler <br />[11628] 13:37:36:628: ElMediaSpecificEventHandler: Entered<br />[11628] 13:37:36:628: ElMediaSenseCallbackWorker: Callback for media-specific event<br />[11628] 13:37:36:628: ElMediaSpecificEventHandler: Bad StatusType=&lt;2:0&gt;<br />[10484] 13:38:14:022: ElTimeoutCallbackRoutine entered<br />[10484] 13:38:14:022: FSMConnecting entered for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:38:14:022: TIMER: Restart PCB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; Time: 2097148<br />[10484] 13:38:14:022: FSMConnecting: Sent out maxStart with no response, Setting AUTHENTICATED state<br />[10484] 13:38:14:022: FSMAuthenticated entered for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:38:14:022: ElEapEnd entered<br />[10484] 13:38:14:022: Setting state AUTHENTICATED for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:38:14:022: FSMAuthenticated completed for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:38:14:022: FSMConnecting completed for port Broadcom 440x 10/100 Integrated Controller - â• ÑˆÑ ÑˆÑ ÑŽÐ Ð„ Ñ Ñ‹Ñ€Ñ ÑˆÐ ÑŽÑ‚âˆ™ÑˆÑŠÑ€ Ñ Ñ€ÑŠÑ…Ð„ÑŽÑ‚<br />[10484] 13:38:14:022: ElTimeoutCallbackRoutine completed</p><p>may bee anyone know anything?<br />With my regards, Dmitry!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62938">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Gig_tmb</div>
					<div class="post-datetime">
						6 Feb 2008, 12:34					</div>
				</div>
				<div class="post-content content">
					<p>do it with freeradius</p><p>hostapd(0.5.3 Ð¸ 0.5.9) <br />ÐšÐ¾Ð´: <br />interface=eth0.2 <br />driver=wired <br />logger_syslog=-1 <br />logger_syslog_level=2 <br />logger_stdout=-1 <br />logger_stdout_level=2 </p><p>debug=4 <br />dump_file=/tmp/hostapd.dump <br />ctrl_interface=/var/run/hostapd <br />ctrl_interface_group=0 </p><p>ssid=test <br />auth_algs=3 </p><p>##### IEEE 802.1X-2004 related configuration ################################## <br />ieee8021x=1 <br />#eapol_version=2 <br />#eap_message=hello <br />#wep_key_len_broadcast=5 <br />#wep_key_len_unicast=5 <br />#wep_rekey_period=300 <br />#eapol_key_index_workaround=0 <br />#eap_reauth_period=3600 <br />#use_pae_group_addr=1 </p><p>eap_server=0 </p><p># The own IP address of the access point (used as NAS-IP-Address) <br />own_ip_addr=10.0.1.100 <br />#nas_identifier=localhost1 </p><p><strong># RADIUS authentication server <br />auth_server_addr=127.0.0.1 <br />auth_server_port=1812 <br />auth_server_shared_secret=secret </strong></p><p><strong># RADIUS accounting server <br />acct_server_addr=127.0.0.1 <br />acct_server_port=1813 <br />acct_server_shared_secret=secret</strong> </p><p>radius_retry_primary_interval=600 <br />radius_acct_interim_interval=600 </p><p>wpa=1 <br />wpa_key_mgmt=WPA-EAP <br />wpa_pairwise=TKIP <br />rsn_preauth=1 </p><p>freeradius Ð¿Ð¸Ñ Ð°Ð»(Ð°): <br />db:/usr# freeradius -X <br />Starting - reading configuration files ... <br />reread_config: reading radiusd.conf <br />Config: including file: /etc/freeradius/clients.conf <br />Config: including file: /etc/freeradius/eap.conf <br />Config: including file: /etc/freeradius/sql.conf <br />main: prefix = &quot;/usr&quot; <br />main: localstatedir = &quot;/var&quot; <br />main: logdir = &quot;/var/log/freeradius&quot; <br />main: libdir = &quot;/usr/lib/freeradius&quot; <br />main: radacctdir = &quot;/var/log/freeradius/radacct&quot; <br />main: hostname_lookups = no <br />main: bind_address = 127.0.0.1 IP address [127.0.0.1] <br />main: user = &quot;freerad&quot; <br />main: group = &quot;freerad&quot; </p><p>read_config_files: reading dictionary <br />read_config_files: reading naslist <br />Using deprecated naslist file. Support for this will go away soon. <br />read_config_files: reading clients <br />read_config_files: reading realms <br />radiusd: entering modules setup <br />Module: Library search path is /usr/lib/freeradius <br />Module: Loaded MS-CHAP <br />mschap: use_mppe = yes <br />mschap: require_encryption = yes <br />mschap: require_strong = yes <br />mschap: with_ntdomain_hack = yes <br />mschap: passwd = &quot;(null)&quot; <br />mschap: ntlm_auth = &quot;(null)&quot; <br />Module: Instantiated mschap (mschap) <br />Module: Loaded eap <br />eap: default_eap_type = &quot;md5&quot; <br />eap: timer_expire = 100 <br />eap: ignore_unknown_eap_types = no <br />eap: cisco_accounting_username_bug = no <br />rlm_eap: Loaded and initialized type md5 <br />mschapv2: with_ntdomain_hack = no <br />rlm_eap: Loaded and initialized type mschapv2 <br />Module: Instantiated eap (eap) <br />Module: Loaded SQL <br />sql: driver = &quot;rlm_sql_mysql&quot; <br />sql: server = &quot;localhost&quot; <br />sql: port = &quot;&quot; <br />sql: nas_table = &quot;nas_info&quot; <br />sql: sqltrace = no <br />sql: sqltracefile = &quot;/var/log/freeradius/sqltrace.sql&quot; <br />sql: readclients = yes <br />sql: deletestalesessions = yes <br />sql: num_sql_socks = 1 <br />sql: sql_user_name = &quot;%{User-Name}&quot; <br />sql: default_user_profile = &quot;&quot; <br />sql: query_on_not_found = no <br />sql: authorize_check_query = ............................... <br />sql: authorize_group_check_query = &quot;&quot; <br />sql: authorize_group_reply_query = &quot;&quot; <br />sql: accounting_onoff_query = &quot;&quot; <br />sql: accounting_update_query = &quot;&quot; <br />sql: accounting_update_query_alt = &quot;&quot; <br />sql: accounting_start_query = &quot;&quot; <br />sql: accounting_start_query_alt = &quot;&quot; <br />sql: accounting_stop_query =..................... <br />sql: accounting_stop_query_alt = &quot;&quot; <br />sql: group_membership_query = &quot;&quot; <br />sql: connect_failure_retry_delay = 60 <br />sql: simul_count_query = &quot;&quot; <br />sql: simul_verify_query = &quot;&quot; <br />sql: postauth_query = &quot;&quot; <br />........................ <br />rlm_sql (sql): Driver rlm_sql_mysql (module rlm_sql_mysql) loaded and linked <br />rlm_sql (sql): Attempting to connect to root@localhost:/billing <br />rlm_sql (sql): starting 0 <br />rlm_sql (sql): Attempting to connect rlm_sql_mysql #0 <br />rlm_sql_mysql: Starting connect to MySQL server for #0 <br />rlm_sql (sql): Connected new DB handle, #0 <br />rlm_sql (sql): - generate_sql_clients <br />rlm_sql (sql): Query: SELECT * FROM nas_info <br />rlm_sql (sql): Reserving sql socket id: 0 <br />rlm_sql (sql): Read entry nasname=127.0.0.1,shortname=secret,secret=0 <br />rlm_sql (sql): Adding client 127.0.0.1 (secret) to clients list <br />rlm_sql (sql): Read entry nasname=localhost,shortname=secret,secret=0 <br />rlm_sql (sql): Adding client 127.0.0.1 (secret) to clients list <br />rlm_sql (sql): Released sql socket id: 0 <br />Module: Instantiated sql (sql) <br />Listening on authentication 127.0.0.1:1812 <br />Listening on accounting 127.0.0.1:1813 <br />Ready to process requests. <br />rad_recv: Accounting-Request packet from host 127.0.0.1:32858, id=0, length=79 <br />Acct-Status-Type = Accounting-On <br />Acct-Authentic = RADIUS <br />NAS-IP-Address = 127.0.0.1 <br />NAS-Identifier = &quot;localhost&quot; <br />Called-Station-Id = &quot;00-14-5E-2B-04-1E:test&quot; <br />Acct-Terminate-Cause = NAS-Reboot <br />Processing the accounting section of radiusd.conf <br />modcall: entering group accounting for request 0 <br />rlm_sql (sql): received Acct On/Off packet <br />radius_xlat: &#039;&#039; <br />rlm_sql (sql): Reserving sql socket id: 0 <br />rlm_sql (sql): Released sql socket id: 0 <br />modcall[accounting]: module &quot;sql&quot; returns ok for request 0 <br />modcall: leaving group accounting (returns ok) for request 0 <br />Sending Accounting-Response of id 0 to 127.0.0.1 port 32858 <br />Finished request 0 <br />Going to the next request <br />--- Walking the entire request list --- <br />Cleaning up request 0 ID 0 with timestamp 47a5e0e8 <br />Nothing to do. Sleeping until we see a request. </p><br /><br /><p>hostapd Ð¿Ð¸Ñ Ð°Ð»(Ð°): <br />db:/netup/utm5# hostapd -ddKt -P /var/run/host.pid /etc/hostapd/hostapd.conf <br />Configuration file: /etc/hostapd/hostapd.conf <br />1202053482.203788: eapol_version=2 <br />Opening raw packet socket for ifindex 21 <br />BSS count 1, BSSID mask ff:ff:ff:ff:ff:ff (0 bits) <br />1202053482.220253: eth0.17: IEEE 802.11 Fetching hardware channel/rate support not supported. <br />1202053482.220278: Flushing old station entries <br />1202053482.220288: Deauthenticate all stations <br />Using interface eth0.17 with hwaddr 00:14:5e:2b:04:1e and ssid &#039;test&#039; <br />1202053482.220347: eth0.17: RADIUS Authentication server 127.0.0.1:1812 <br />1202053482.220506: eth0.17: RADIUS Accounting server 127.0.0.1:1813 <br />1202053482.220613: eth0.17: RADIUS Sending RADIUS message to accounting server <br />1202053482.221222: eth0.17: RADIUS Next RADIUS client retransmit in 3 seconds </p><p>1202053482.221318: eth0.17: Setup of interface done. <br />1202053482.221372: eth0.17: RADIUS Received 20 bytes from RADIUS server <br />1202053482.221404: eth0.17: RADIUS Received RADIUS message <br />1202053482.221450: eth0.17: STA 00:00:00:00:00:00 RADIUS: Received RADIUS packet matched with a pending request, round trip time 0.00 sec </p><p>&amp; nothing got too!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64687">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Gig_tmb</div>
					<div class="post-datetime">
						6 Mar 2008, 12:26					</div>
				</div>
				<div class="post-content content">
					<p>For windows xp:</p><p>Modify the clientâ€™s Registry: <br />Run regedit.exe from the Run box. <br />Navigate to HEY_LocalMachine\Software\Microsoft\EAPOL\Parameters\General\Global. <br />Right click on Global and select New and the DWORD value. <br />Name it SupplicantMode. <br />After it is created, double-click it and set its value to a 3. <br />You must reboot the PC before the new registry value takes effect.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>