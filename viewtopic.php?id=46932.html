<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Diff on different versions of .config file</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p215449">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Floh1111</div>
					<div class="post-datetime">
						22 Oct 2013, 23:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>on Freifunk Oldenburg we use to build our stable firmware on fixed revisions of openwrt with a fixed .config file which we commit to our repository. Some days ago we released our latest stable firmware and want to update the openwrt revision now to prepare for our upcomming firmware relase. But preparing a new .config file based on a newer openwrt revision is kind of tricky because the lines in the file&nbsp; are in a completely different order after executing make menuconfig. Seems like there are a lot of changes to the file between each revision.</p><p>We had this problem before but didnÂ´t care. Now we want to execute a diff on both version of the .config file to see if the buildroot disabled some options we need or enabled some options we dont need but the whole thing is totaly scrambled and reading the diff seems to be a job that cant be done by humans.</p><p>Is there some trigger or something like that we missed so that the buildroot puts the options in the .config file always in the same order so that a diff on different versions would be possible and readyble by humans? Or is there any other way we can accomplish this goal?</p><p>Kind regards<br />Floh1111</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215452">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Oct 2013, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>You might compare the output of scripts/diffconfig.sh<br />That only displays &quot;your changes&quot; to the plain default.</p><p>But you are right, items in .config are not in stable order. You might also first &quot;sort&quot; .config and then compare the two versions.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215453">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						22 Oct 2013, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t think there is an option for that.</p><p>But how about tossing the # lines and sorting it? then diffing it should work.<br />sed &#039;s/#.*$//;/^$/d&#039; .config | sort &gt; .config2</p><p>edit: should have pressed submit a bit faster <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /></p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 23 Oct 2013, 00:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215505">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Floh1111</div>
					<div class="post-datetime">
						23 Oct 2013, 17:28					</div>
				</div>
				<div class="post-content content">
					<p>Okay sorting would be a way to do it.</p><p>Thank You!<br />Floh1111</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>