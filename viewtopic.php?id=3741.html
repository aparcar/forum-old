<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> how to check bandwidth usage?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p17451">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mangoo</div>
					<div class="post-datetime">
						19 Dec 2005, 12:15					</div>
				</div>
				<div class="post-content content">
					<p>What software do you use to check bandwidth usage on your WRT routers?</p><p>Something like below would be sufficient for me (with output every second etc):</p><p># bandwidth -i ppp0<br />in 6 KB/s out 14 KB/s<br />in 4 KB/s out 9 KB/s<br />in 10 KB/s out 10 KB/s</p><br /><p>Other nice thing would be to measure bandwidth of a certain client:</p><p># bandwidth -i vlan0 --ip 192.168.1.6<br />in 6 KB/s out 14 KB/s<br />in 4 KB/s out 9 KB/s<br />in 10 KB/s out 10 KB/s</p><p>Do you have some tool in mind?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17483">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Duffin444</div>
					<div class="post-datetime">
						19 Dec 2005, 19:08					</div>
				</div>
				<div class="post-content content">
					<p>might want to checkout iftop.</p><p>-Duffin</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17510">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sublime</div>
					<div class="post-datetime">
						19 Dec 2005, 23:45					</div>
				</div>
				<div class="post-content content">
					<p>I run gkrellmd on my wrt54g&#039;s. It has bandwidth, cpu, disk, etc, etc, etc stats for your router<br />Get the binary at my website:<br /><a href="http://chrisspot.com/software/gkrellm/wrt54g/">http://chrisspot.com/software/gkrellm/wrt54g/</a></p>											<p class="post-edited">(Last edited by <strong>sublime</strong> on 19 Dec 2005, 23:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17550">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">sioux</div>
					<div class="post-datetime">
						20 Dec 2005, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>I suggest using iftop-banggless package</p><p>install:<br />rm /etc/ipkg.conf<br />cp /rom/etc/ipkg.conf /etc/ipkg.conf<br />echo &quot;src timfreeman <a href="http://www.fungible.com/openwrt/packages\">http://www.fungible.com/openwrt/packages&quot;</a> &gt; /etc/ipkg.conf<br />ipkg update<br />ipkg install iftop-bangless<br />rm /etc/init.d/S50telnet<br />cp /rom/etc/init.d/S50telnet /etc/init.d/S50telnet<br />vi /etc/init.d/S50telnet (change &quot;telnetd -l /bin/login&quot; in to &quot;telnetd -l /usr/bin/iftop-bangless&quot;)</p><p>DON&#039;T FORGET ACTIVATE SSH ACCESS !!</p><p>reboot</p><p>telnet to your router <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>you should see something like this</p><div class="codebox"><pre><code>                12.5Kb          25.0Kb          37.5Kb          50.0Kb    62.5Kb
????????????????????????????????????????????????????????????????????????????????
192.168.10.1               =&gt; 192.168.10.201             1.99Kb  2.08Kb  2.08Kb
                           &lt;=                             320b    320b    320b
217.17.41.93               =&gt; 192.168.10.201              248b    124b    124b
                           &lt;=                             160b     80b     80b
193.17.41.53               =&gt; 192.168.10.201                0b     80b     80b
                           &lt;=                               0b     82b     82b












????????????????????????????????????????????????????????????????????????????????
TX:             cumm:  1.14KB   peak:   2.34Kb  rates:   2.23Kb  2.28Kb  2.28Kb
RX:                     241B             480b             480b    482b    482b
TOTAL:                 1.38KB           2.80Kb           2.70Kb  2.75Kb  2.75Kb</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17586">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jwolf</div>
					<div class="post-datetime">
						21 Dec 2005, 03:56					</div>
				</div>
				<div class="post-content content">
					<p>I use snmp to monitor my bandwidth usage and use rrdtool to make pretty graphs of said usage.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22393">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">kaksi</div>
					<div class="post-datetime">
						8 Mar 2006, 23:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jwolf wrote:</cite><blockquote><p>I use snmp to monitor my bandwidth usage and use rrdtool to make pretty graphs of said usage.</p></blockquote></div><p>Could you give a quick howto on how you setup snmp and how you generate your graphs? Screenshots?</p><p>I&#039;m looking for a way to generate graphs over my bandwidth usage. I&#039;m looking for something that can display by protcol so I can se where the most traffic usage comes from.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22412">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">arantius</div>
					<div class="post-datetime">
						9 Mar 2006, 07:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>I&#039;m looking for a way to generate graphs over my bandwidth usage.</p></blockquote></div><p>It&#039;s simple, but it works:<br /><a href="http://forum.openwrt.org/viewtopic.php?pid=20345#p20345">http://forum.openwrt.org/viewtopic.php?pid=20345#p20345</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22421">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">kaksi</div>
					<div class="post-datetime">
						9 Mar 2006, 10:14					</div>
				</div>
				<div class="post-content content">
					<p>Yes, actually I already hav those. But I&#039;m looking for a way to generate non realtime graphs so I can see the bandwidth usage the last 24H, 7 days, month... etc.</p><p>I have a server on the inside that can store the data and do the calculations.... but I need to get the data somehow from the router. I guess I&#039;ll have to write some l7-filter matcher to match packages to services and the count the data over each service and send this to the server... or something...</p><p>Anyone that has a solution like this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22423">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Weedy</div>
					<div class="post-datetime">
						9 Mar 2006, 10:30					</div>
				</div>
				<div class="post-content content">
					<p>get cacti on your server and snmpd on the router</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24156">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">netddos</div>
					<div class="post-datetime">
						1 Apr 2006, 14:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kaksi wrote:</cite><blockquote><div class="quotebox"><cite>jwolf wrote:</cite><blockquote><p>I use snmp to monitor my bandwidth usage and use rrdtool to make pretty graphs of said usage.</p></blockquote></div><p>Could you give a quick howto on how you setup snmp and how you generate your graphs? Screenshots?</p><p>I&#039;m looking for a way to generate graphs over my bandwidth usage. I&#039;m looking for something that can display by protcol so I can se where the most traffic usage comes from.</p></blockquote></div><p>yea second that..any HOWTOs?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24177">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">jwolf</div>
					<div class="post-datetime">
						1 Apr 2006, 19:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>netddos wrote:</cite><blockquote><div class="quotebox"><cite>kaksi wrote:</cite><blockquote><div class="quotebox"><cite>jwolf wrote:</cite><blockquote><p>I use snmp to monitor my bandwidth usage and use rrdtool to make pretty graphs of said usage.</p></blockquote></div><p>Could you give a quick howto on how you setup snmp and how you generate your graphs? Screenshots?</p><p>I&#039;m looking for a way to generate graphs over my bandwidth usage. I&#039;m looking for something that can display by protcol so I can se where the most traffic usage comes from.</p></blockquote></div><p>yea second that..any HOWTOs?</p></blockquote></div><p>I&#039;m busy this weekend but I will see what I can cook up next weekend. I&#039;ll be sure to add it to the Wiki. </p><p>As far as graphing by protocol, I&#039;m not sure that&#039;s possible (due to the somewhat limited data being reported by SNMP). It is possible, however, to graph traffic by interface. Perhaps someone with more experience with SNMP and rrdtool can bring some light to this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24262">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">kaksi</div>
					<div class="post-datetime">
						2 Apr 2006, 11:39					</div>
				</div>
				<div class="post-content content">
					<p>I solved it like this:</p><p>I created itables rules to identify the different protocols with l7-filter. The I created a script that listed the throughput of each protocol and put it on the webserver of the openwrt router. On my second server I the wget the output of the script, grepped for the right data and then put it in an rrd database and genereted graphs from this. The result: <a href="http://graphs.densnygge.se/network-day.png">http://graphs.densnygge.se/network-day.png</a> <a href="http://graphs.densnygge.se">http://graphs.densnygge.se</a>/</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24265">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">dino</div>
					<div class="post-datetime">
						2 Apr 2006, 12:24					</div>
				</div>
				<div class="post-content content">
					<p>kaksi, can you share your scripts and rules <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />?</p><p>Regards,<br />Dino</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24266">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">netddos</div>
					<div class="post-datetime">
						2 Apr 2006, 13:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jwolf wrote:</cite><blockquote><div class="quotebox"><cite>netddos wrote:</cite><blockquote><div class="quotebox"><cite>kaksi wrote:</cite><blockquote><p>Could you give a quick howto on how you setup snmp and how you generate your graphs? Screenshots?</p><p>I&#039;m looking for a way to generate graphs over my bandwidth usage. I&#039;m looking for something that can display by protcol so I can se where the most traffic usage comes from.</p></blockquote></div><p>yea second that..any HOWTOs?</p></blockquote></div><p>I&#039;m busy this weekend but I will see what I can cook up next weekend. I&#039;ll be sure to add it to the Wiki. </p><p>As far as graphing by protocol, I&#039;m not sure that&#039;s possible (due to the somewhat limited data being reported by SNMP). It is possible, however, to graph traffic by interface. Perhaps someone with more experience with SNMP and rrdtool can bring some light to this.</p></blockquote></div><p>thanks!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24270">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">kaksi</div>
					<div class="post-datetime">
						2 Apr 2006, 13:49					</div>
				</div>
				<div class="post-content content">
					<p>I will upload the scripts soon... I&#039;m not at home right now</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24337">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">kaksi</div>
					<div class="post-datetime">
						3 Apr 2006, 10:34					</div>
				</div>
				<div class="post-content content">
					<p>My iptabbles rules:</p><div class="codebox"><pre><code>iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto bittorrent -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto bittorrent -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto ftp -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto ftp -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto ssh -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto ssh -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto pop3 -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto pop3 -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto smtp -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto smtp -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto imap -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto imap -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto directconnect -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto directconnect -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto http -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto http -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto rdp -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto rdp -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto smb -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto smb -j MARK --set-mark 3

iptables -t mangle -A POSTROUTING -o vlan1 -m layer7 --l7proto ventrilo -j MARK --set-mark 3
iptables -t mangle -A PREROUTING -i vlan1 -m layer7 --l7proto ventrilo -j MARK --set-mark 3

#All unmarked
iptables -t mangle -A POSTROUTING -o $WAN -m mark --mark 0 -j MARK --set-mark 100
iptables -t mangle -A PREROUTING -i $WAN -m mark --mark 0 -j MARK --set-mark 101</code></pre></div><p>The sscripts on the webserver:</p><div class="codebox"><pre><code>#!/bin/sh
iptables -L -v -t mangle --exact</code></pre></div><p>Create the rrd database&nbsp; (really ugly code, shame on me):</p><div class="codebox"><pre><code>#!/usr/bin/perl -w
#

use RRDs;

# define location of rrdtool databases
my $rrd = &#039;/var/lib/rrd&#039;;

system(&quot;rm siptables.sh&quot;);
system(&quot;rm snet_in.sh&quot;);
system(&quot;rm snet_out.sh&quot;);
system(&quot;wget -q http://192.168.1.1:3000/cgi-bin/iptables.sh -O siptables.sh&quot;);
system(&quot;wget -q http://192.168.1.1:3000/cgi-bin/net_in.sh -O snet_in.sh&quot;);
system(&quot;wget -q http://192.168.1.1:3000/cgi-bin/net_out.sh -O snet_out.sh&quot;);


if (! -e &quot;$rrd/service_graphs.rrd&quot;)
{
        print &quot;creating rrd database for network...\n&quot;;
        RRDs::create &quot;$rrd/service_graphs.rrd&quot;,
                &quot;-s 300&quot;,
                &quot;DS:in_total:COUNTER:600:0:12500000&quot;,
                &quot;DS:out_total:COUNTER:600:0:12500000&quot;,
                &quot;DS:ftp_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:ftp_out:COUNTER:600:0:12500000&quot;,
                &quot;DS:ssh_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:ssh_out:COUNTER:600:0:12500000&quot;,
                &quot;DS:http_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:http_out:COUNTER:600:0:12500000&quot;,
                &quot;DS:mail_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:mail_out:COUNTER:600:0:12500000&quot;,
                &quot;DS:ventrilo_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:ventrilo_out:COUNTER:600:0:12500000&quot;,
                #&quot;DS:hlstats_in:COUNTER:600:0:12500000&quot;,
                #&quot;DS:hlstats_out:COUNTER:600:0:12500000&quot;,
                &quot;DS:warez_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:warez_out:COUNTER:600:0:12500000&quot;,
                &quot;DS:games_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:games_out:COUNTER:600:0:12500000&quot;,
                &quot;DS:other_in:COUNTER:600:0:12500000&quot;,
                &quot;DS:other_out:COUNTER:600:0:12500000&quot;,
                &quot;RRA:AVERAGE:0.5:1:576&quot;,
                &quot;RRA:AVERAGE:0.5:6:672&quot;,
                &quot;RRA:AVERAGE:0.5:24:732&quot;,
                &quot;RRA:AVERAGE:0.5:144:1460&quot;;
        if ($ERROR = RRDs::error) { print &quot;unable to generate database: $ERROR\n&quot;; }
}

sleep 2;

my $in_total =  `cat snet_in.sh`  *1;
my $out_total =  `cat snet_out.sh`  *1;

#my $ftp_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spts:20:21&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ftp_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpts:20:21&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ftp_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spts:20:21&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ftp_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpts:20:21&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ftp_in = $ftp_in1 + $ftp_in2;
#my $ftp_out = $ftp_out1 + $ftp_out2;
my $ftp_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto ftp&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $ftp_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto ftp&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $ssh_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpt:22 M&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ssh_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spt:22 M&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ssh_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpt:22 M&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ssh_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spt:22 M&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ssh_in = $ssh_in1 + $ssh_in2;
#my $ssh_out = $ssh_out1 + $ssh_out2;

my $ssh_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto ssh&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $ssh_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto ssh&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $http_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpts:80:8080&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $http_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spts:80:8080&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $http_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpts:80:8080&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $http_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spts:80:8080&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $https_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpt:443&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $https_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spt:443&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $https_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpt:443&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $https_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spt:443&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $http_in = $http_in1 + $http_in2 + $https_in1 + $https_in2;
#my $http_out = $http_out1 + $http_out2 + $https_out1 + $https_out2;

my $http_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto http&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $http_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto http&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $smtp_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpts:25:465&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $smtp_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spts:25:465&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $smtp_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpts:25:465&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $smtp_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spts:25:465&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $pop3_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpts:110:995&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $pop3_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spts:110:995&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $pop3_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpts:110:995&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $pop3_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spts:110:995&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $imap_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpts:143:993&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $imap_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spts:143:993&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $imap_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpts:143:993&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $imap_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spts:143:993&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $mail_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpts:389:689&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $mail_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spts:389:689&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $mail_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpts:389:689&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $mail_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spts:389:689&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $mail_in = $smtp_in1 + $smtp_in1 + $pop3_in1 + $pop3_in2 + $imap_in1 + $imap_in2 + $mail_in1 + $mail_in2;
#my $mail_out = $smtp_out1 + $smtp_out2 + $pop3_out1 + $pop3_out2 + $imap_out1 + $imap_out2 + $mail_out1 + $mail_out2;

my $smtp_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto smtp&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $smtp_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto smtp&#039;|gawk &#039;{print \$2}&#039;` * 1;

my $pop3_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto pop3&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $pop3_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto pop3&#039;|gawk &#039;{print \$2}&#039;` * 1;

my $imap_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto imap&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $imap_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto imap&#039;|gawk &#039;{print \$2}&#039;` * 1;

my $mail_in = $smtp_in + $pop3_in + $imap_in;
my $mail_out = $smtp_out + $pop3_out + $imap_out;

#my $ventrilo_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpt:3784&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ventrilo_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spt:3784&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ventrilo_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpt:3784&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $ventrilo_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spt:3784&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $ventrilo_in = $ventrilo_in1 + $ventrilo_in2;
#my $ventrilo_out = $ventrilo_out1 + $ventrilo_out2;

my $ventrilo_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto ventrilo&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $ventrilo_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto ventrilo&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $hlstats_in1 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;dpt:27500&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $hlstats_in2 = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;spt:27500&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $hlstats_out1 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;dpt:27500&#039;|gawk &#039;{print \$2}&#039;` * 1;
#my $hlstats_out2 = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;spt:27500&#039;|gawk &#039;{print \$2}&#039;` * 1;

#my $hlstats_in = $hlstats_in1 + $hlstats_in2;
#my $hlstats_out = $hlstats_out1 + $hlstats_out2;

my $directconnect_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto directconnect&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $directconnect_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto directconnect&#039;|gawk &#039;{print \$2}&#039;` * 1;

my $bittorrent_in = `cat siptables.sh|grep &#039;vlan1  any&#039;|grep &#039;l7proto bittorrent&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $bittorrent_out = `cat siptables.sh|grep &#039;ny    vlan1&#039;|grep &#039;l7proto bittorrent&#039;|gawk &#039;{print \$2}&#039;` * 1;

my $warez_in = $directconnect_in + $bittorrent_in;
my $warez_out = $directconnect_out + $bittorrent_out;

my $games_in = 0 * 1;
my $games_out = 0 * 1;

my $other_in = `cat siptables.sh|grep &#039;MARK match 0x0 MARK set 0x65&#039;|gawk &#039;{print \$2}&#039;` * 1;
my $other_out = `cat siptables.sh|grep &#039;MARK match 0x0 MARK set 0x64&#039;|gawk &#039;{print \$2}&#039;` * 1;

my $uptime = `cut -d&quot; &quot; -f1 /proc/uptime` *1;
if ($uptime &gt; 600) {
# insert values into rrd
RRDs::update &quot;$rrd/service_graphs.rrd&quot;,
        &quot;-t&quot;,
&quot;in_total:out_total:ftp_in:ftp_out:http_in:http_out:mail_in:mail_out:ventrilo_in:ventrilo_out:warez_in:warez_out:games_in:games_out:other_in:other_out&quot;,
&quot;N:$in_total:$out_total:$ftp_in:$ftp_out:$http_in:$http_out:$mail_in:$mail_out:$ventrilo_in:$ventrilo_out:$warez_in:$warez_out:$games_in:$games_out:$other_in:$other_out&quot;;



if ($ERROR = RRDs::error) { print &quot;unable to update: $ERROR\n&quot;; }
}</code></pre></div><p>Generate graphs:</p><div class="codebox"><pre><code>#!/bin/bash


# Full path to your rrdtool binary
RRDTOOL=/usr/bin/rrdtool

# Full path to your rrd datase
RRD=/var/lib/rrd/service_graphs.rrd

# The title of your graph
TITLE=&#039;traffic on vlan0 :: Mokey (Internet Gateway) Port Specific&#039;

# Output path where your graphs will end up
OPATH=/home/magnus/www/graphs/

# Date command, add date formating if you would like so (man date)
DATECMD=&#039;/bin/date&#039;

#
# End of configuration
#

for i in 1 2 3 4 5;
  do
    if [ &quot;$i&quot; == &quot;1&quot; ]; then
      START=&quot;12h&quot;
      FILENAME=&quot;network-12h.png&quot;
    fi
    if [ &quot;$i&quot; == &quot;2&quot; ]; then
      START=&quot;24h&quot;
      FILENAME=&quot;network-day.png&quot;
    fi
    if [ &quot;$i&quot; == &quot;3&quot; ]; then
      START=604800
      FILENAME=&quot;network-week.png&quot;
    fi
    if [ &quot;$i&quot; == &quot;4&quot; ]; then
      START=2419200
      FILENAME=&quot;network-month.png&quot;
    fi
    if [ &quot;$i&quot; == &quot;5&quot; ]; then
      START=31536000
      FILENAME=&quot;network-year.png&quot;
    fi
DATE=`$DATECMD`

$RRDTOOL graph $OPATH/$FILENAME \
--start -$START \
--title &quot;$TITLE&quot; \
--vertical-label &#039;Bytes per second&#039; \
-w 800 \
-h 200 \
-l 0 \
-Y \
-M \
-E \
-i \
DEF:in_total=$RRD:in_total:AVERAGE \
DEF:out_total=$RRD:out_total:AVERAGE \
DEF:ftp_in=$RRD:ftp_in:AVERAGE \
DEF:ftp_out=$RRD:ftp_out:AVERAGE \
DEF:http_in=$RRD:http_in:AVERAGE \
DEF:http_out=$RRD:http_out:AVERAGE \
DEF:ssh_in=$RRD:ssh_in:AVERAGE \
DEF:ssh_out=$RRD:ssh_out:AVERAGE \
DEF:mail_in=$RRD:mail_in:AVERAGE \
DEF:mail_out=$RRD:mail_out:AVERAGE \
DEF:ventrilo_in=$RRD:ventrilo_in:AVERAGE \
DEF:ventrilo_out=$RRD:ventrilo_out:AVERAGE \
DEF:warez_in=$RRD:warez_in:AVERAGE \
DEF:warez_out=$RRD:warez_out:AVERAGE \
DEF:games_in=$RRD:games_in:AVERAGE \
DEF:games_out=$RRD:games_out:AVERAGE \
DEF:other_in=$RRD:other_in:AVERAGE \
DEF:other_out=$RRD:other_out:AVERAGE \
 &quot;CDEF:neg_out_total=out_total,-1,*&quot;    \
 &quot;CDEF:neg_ftp_out=ftp_out,-1,*&quot;    \
 &quot;CDEF:neg_ssh_out=ssh_out,-1,*&quot;    \
 &quot;CDEF:neg_http_out=http_out,-1,*&quot;    \
 &quot;CDEF:neg_mail_out=mail_out,-1,*&quot;    \
 &quot;CDEF:neg_ventrilo_out=ventrilo_out,-1,*&quot;    \
 &quot;CDEF:neg_warez_out=warez_out,-1,*&quot;    \
 &quot;CDEF:neg_games_out=games_out,-1,*&quot;    \
 &quot;CDEF:neg_other_out=other_out,-1,*&quot;    \
&quot;COMMENT:                                     IN                                                                            OUT\N&quot; \
&quot;COMMENT:                       MAX         AVERAGE             CURRENT                                 MAX         AVERAGE     CURRENT\n&quot; \
 LINE1:in_total#FF0000:&#039;TOTAL   &#039; \
&quot;GPRINT:in_total:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:in_total:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:in_total:LAST:%5.1lf %sB/s                              &quot; \
&quot;GPRINT:out_total:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:out_total:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:out_total:LAST:%5.1lf %sB/s\n&quot; \
LINE1:ftp_in#ff00ea:&#039;FTP     &#039; \
&quot;GPRINT:ftp_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ftp_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ftp_in:LAST:%5.1lf %sB/s                                &quot; \
&quot;GPRINT:ftp_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ftp_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ftp_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:ssh_in#ff00ea:&#039;SSH     &#039; \
&quot;GPRINT:ssh_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ssh_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ssh_in:LAST:%5.1lf %sB/s                                &quot; \
&quot;GPRINT:ssh_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ssh_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ssh_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:http_in#a200ff:&#039;HTTP    &#039; \
&quot;GPRINT:http_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:http_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:http_in:LAST:%5.1lf %sB/s                               &quot; \
&quot;GPRINT:http_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:http_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:http_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:mail_in#3c00ff:&#039;MAIL    &#039; \
&quot;GPRINT:mail_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:mail_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:mail_in:LAST:%5.1lf %sB/s                               &quot; \
&quot;GPRINT:mail_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:mail_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:mail_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:ventrilo_in#0072ff:&#039;VENTRILO&#039; \
&quot;GPRINT:ventrilo_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ventrilo_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ventrilo_in:LAST:%5.1lf %sB/s                           &quot; \
&quot;GPRINT:ventrilo_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ventrilo_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:ventrilo_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:warez_in#00ff84:&#039;WAREZ   &#039; \
&quot;GPRINT:warez_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:warez_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:warez_in:LAST:%5.1lf %sB/s                              &quot; \
&quot;GPRINT:warez_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:warez_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:warez_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:games_in#00ff18:&#039;GAMES   &#039; \
&quot;GPRINT:games_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:games_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:games_in:LAST:%5.1lf %sB/s                              &quot; \
&quot;GPRINT:games_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:games_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:games_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:other_in#a8ff00:&#039;OTHER   &#039; \
&quot;GPRINT:other_in:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:other_in:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:other_in:LAST:%5.1lf %sB/s                              &quot; \
&quot;GPRINT:other_out:MAX:%5.1lf %sB/s&quot;, \
&quot;GPRINT:other_out:AVERAGE:%5.1lf %sB/s&quot;, \
&quot;GPRINT:other_out:LAST:%5.1lf %sB/s\n&quot; \
LINE1:neg_ftp_out#ff00ea \
LINE1:neg_ssh_out#a200ff \
LINE1:neg_http_out#3c00ff \
LINE1:neg_mail_out#0072ff \
LINE1:neg_ventrilo_out#00fffc \
LINE1:neg_warez_out#00ff18 \
LINE1:neg_games_out#a8ff00 \
LINE1:neg_other_out#fcff00 \
COMMENT:&quot;!\r&quot; #date

done</code></pre></div><p>And there it is....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24712">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						7 Apr 2006, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>Would any of this allow me to monitor the bandwidth coming from specific device on the network? I want to see how much bandwidth my VoIP adapter is getting in different conditions (no activity, P2P going on, active FTP session, etc.). I don&#039;t need historical recording at this moment, but I am sure if I get real time data - I would want to have the log as well. </p><p>Thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24713">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">SeDkY</div>
					<div class="post-datetime">
						7 Apr 2006, 22:39					</div>
				</div>
				<div class="post-content content">
					<p>Actually i am writing a script for graph and data logging, i will post it in some days.<br />For graph for qos, i use the iptables directly, so its work with all qos script</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24735">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						8 Apr 2006, 05:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sioux wrote:</cite><blockquote><p>I suggest using iftop-banggless package</p></blockquote></div><p>sioux,</p><p>is it possible to rebuild the package to depend on libpcap 0.9; not 0.8? When I am telneting to iftop-bangless, I am getting /usr/bin/iftop-bangless: can&#039;t load library &#039;libpcap.so.0.8&#039;; probably because I have /usr/lib/libpcap.so.0.9.4 and /usr/lib/libpcap.so.0.9</p><p>Thanks in advance - I think that this the exact information that I am looking for!<br />Felix</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24739">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">eatnumber1</div>
					<div class="post-datetime">
						8 Apr 2006, 07:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ymhee_bcex wrote:</cite><blockquote><p>is it possible to rebuild the package to depend on libpcap 0.9; not 0.8? When I am telneting to iftop-bangless, I am getting /usr/bin/iftop-bangless: can&#039;t load library &#039;libpcap.so.0.8&#039;; probably because I have /usr/lib/libpcap.so.0.9.4 and /usr/lib/libpcap.so.0.9<br />Felix</p></blockquote></div><p>just make a symbolic link to the file (ln -s libpcap.so.0.9.4 libpcap.so.0.8)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24779">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						9 Apr 2006, 00:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eatnumber1 wrote:</cite><blockquote><p>just make a symbolic link to the file (ln -s libpcap.so.0.9.4 libpcap.so.0.8)</p></blockquote></div><p>indeed! haven&#039;t thought about it <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> Thanks a lot. This seems exactly what I was looking for</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24783">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						9 Apr 2006, 01:25					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://voidmain.is-a-geek.net/cacti/graph_view.php?action=tree&amp;tree_id=1&amp;leaf_id=9">http://voidmain.is-a-geek.net/cacti/gra … ;leaf_id=9</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p24787">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						9 Apr 2006, 04:58					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kaksi wrote:</cite><blockquote><p>I solved it like this:</p><p>I created itables rules to identify the different protocols with l7-filter. The I created a script that listed the throughput of each protocol and put it on the webserver of the openwrt router. On my second server I the wget the output of the script, grepped for the right data and then put it in an rrd database and genereted graphs from this. The result: <a href="http://graphs.densnygge.se/network-day.png">http://graphs.densnygge.se/network-day.png</a> <a href="http://graphs.densnygge.se">http://graphs.densnygge.se</a>/</p></blockquote></div><p>That&#039;s pretty cool. Another thing you might consider is to install the fprobe ipkg which generates netflows. You could run ntop on another server and point your fprobe collector to it. ntop creates all kinds of neat protocol breakdowns and graphs based on that NetFlow data. It&#039;s very simple to set up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25301">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">ymhee_bcex</div>
					<div class="post-datetime">
						15 Apr 2006, 02:46					</div>
				</div>
				<div class="post-content content">
					<p>so, I&#039;ve been running iftop-bangless package for a week - and I love it! It does exactly what I want. </p><p>Two questions, though, on customization:<br />First, is it possible to <em>not</em> truncate the external host name. Some of the host names are quite long; so I would prefer to either wrap onto the second line (esp. in two-line mode), or just to push lan addresses to the right... Of course, I can switch to IP addresses, and then run hostname from command line. But it&#039;s such a kluge <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Second, I see the options for &quot;set filter&quot; and &quot;screen filter&quot;. What is the syntax for these options. For example, if I want to exclude one of the servers on the lan from monitoring, or something like that - how would I do it?</p><p>The program says that it&#039;s &quot;top for network monitoring&quot; - but I didn&#039;t see the filtering in top.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25652">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">kaksi</div>
					<div class="post-datetime">
						20 Apr 2006, 16:06					</div>
				</div>
				<div class="post-content content">
					<p>Started coding a new way of generating graphs since rrdtool is so complicated. I use a the jpgraph php package. I generated this graph: <a href="http://graphs.densnygge.se/bar2scalesex1.php">http://graphs.densnygge.se/bar2scalesex1.php</a></p><p>Each bar represents the ammount of data passed though my router during three hours... As soon as I have enough ammount of data each bar will represent 24hours. I will also create a script that generates a line graph with the throughput.</p><p>As soons as I have completed the scripts I will post them here...</p><p>Until then, what do you think?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>