<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 57 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=55.html">55</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=56.html">56</a></li><li class="pagination-current"><span>57</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=58.html">58</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=59.html">59</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p316201">
				<div class="post-metadata">
					<div class="post-num">Post #1401</div>
					<div class="post-author">luisd</div>
					<div class="post-datetime">
						22 Mar 2016, 23:09					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman</p><p>Hi, I am looking for a good OpenWrt build for the WNDR3700v3 ...</p><p>Is anyone creating a distribution for this unfortunate beast?</p><p>Any guidance/pointers/ideas on how to get a good OpenWrt build for WNDR3700v3?</p><p>Thanks!</p><p>Luis</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p316203">
				<div class="post-metadata">
					<div class="post-num">Post #1402</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						22 Mar 2016, 23:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>luisd wrote:</cite><blockquote><p>@hnyman<br />Hi, I am looking for a good OpenWrt build for the WNDR3700v3 ...<br />Is anyone creating a distribution for this unfortunate beast?<br />Any guidance/pointers/ideas on how to get a good OpenWrt build for WNDR3700v3?</p></blockquote></div><p>I have no advice for you. <br />3700v3 is a completely different device than 3700v1/v2/3800, as you have already found out (based on your message on Arokh&#039;s thread). </p><p>I guess the trunk snapshot is the best thing you can find for the v3. I have not seen much discussion about it in the forum.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319968">
				<div class="post-metadata">
					<div class="post-num">Post #1403</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						16 Apr 2016, 16:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi Hnyman,</p><p>I am having trouble with WDS.&nbsp; New WDS clients cannot connect.&nbsp; I have to reboot the wds server to connect.&nbsp; This is a hassle because if any client disconnects for any reason, it stays disconnected until I reboot the server.&nbsp; Any suggestions?</p><p>By the way, I am using a build based on your build, but not your build.&nbsp; Thanks for providing the base to make it easy for me to make slight customizations (nfs client and usb printer support).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319971">
				<div class="post-metadata">
					<div class="post-num">Post #1404</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Apr 2016, 17:13					</div>
				</div>
				<div class="post-content content">
					<p>I have not used WDS for some time, so I have no recent experience on that. But I might test it.</p><p>Two questions for clarification: <br />You have WDS master server (ap), WDS slave server (sta) and then the client devices. And it is the clients that lose connectivity?</p><p>How have you configured the 2.4 / 5 GHz connectivity? Are both radios in WDS mode?</p><p>(When I used WDS, I used only the 5GHz radio1 for WDS traffic between the routers )</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 Apr 2016, 17:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319972">
				<div class="post-metadata">
					<div class="post-num">Post #1405</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						16 Apr 2016, 17:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>You have WDS master server (ap), WDS slave server (sta) and then the client devices. And it is the clients that lose connectivity?</p></blockquote></div><p>I have a few WNDR3800&#039;s.&nbsp; One &quot;ap&quot; and a few &quot;sta&quot;.&nbsp; It is the &quot;sta&quot; slaves that lose connectivity, so I have to reboot the &quot;ap&quot; and then all &quot;sta&quot; are immediately able to reconnect.</p><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>How have you configured the 2.4 / 5 GHz connectivity? <br />(When I used WDS, I dedicated the 5GHz radio1 for WDS traffic between the routers and allowed the clients to connect to either router only with the 2.4 GHz radio0)</p></blockquote></div><p>Mine is the same, except I also allow clients to connect on 5 GHz.&nbsp; Those clients can only connect to the &quot;sta&quot;.</p>											<p class="post-edited">(Last edited by <strong>johnthomas00</strong> on 16 Apr 2016, 17:25)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319973">
				<div class="post-metadata">
					<div class="post-num">Post #1406</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Apr 2016, 17:22					</div>
				</div>
				<div class="post-content content">
					<p>if I remember correctly, there was something regarding dual radios and WDS, which led me to use just one of them for WDS.<br />dd-wrt forum has this advice: <a href="https://www.dd-wrt.com/wiki/index.php/WDS_Linked_router_network#General_FAQ">https://www.dd-wrt.com/wiki/index.php/W … eneral_FAQ</a></p><p>EDIT: Sorry, I had the sta/ap wrong first. You might check your message again.<br />ap is the WDS master<br />sta is the slave server</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 16 Apr 2016, 17:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p319975">
				<div class="post-metadata">
					<div class="post-num">Post #1407</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						16 Apr 2016, 17:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>if I remember correctly, there was something regarding dual radios and WDS, which led me to use just one of them for WDS.<br />dd-wrt forum has this advice: <a href="https://www.dd-wrt.com/wiki/index.php/WDS_Linked_router_network#General_FAQ">https://www.dd-wrt.com/wiki/index.php/W … eneral_FAQ</a></p></blockquote></div><p>I will try, thanks</p><div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>EDIT: Sorry, I had the sta/ap wrong first. You might check your message again.<br />ap is the WDS master<br />sta is the slave server</p></blockquote></div><p>Fixed, thanks again.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320016">
				<div class="post-metadata">
					<div class="post-num">Post #1408</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						16 Apr 2016, 21:11					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m experiencing a similar (probably the same) issue with a TP-Link TL-WDR4300 as AP (only the 2.4 GHz radio configured for WDS) and an old TP-Link TL-WR941NDv1 as STA (with a wired client behind it), both running self built trunk snapshots (r49065). It varies quite a bit how long the connection survives, sometimes just a few minutes, sometimes several days, but once it goes down, it won&#039;t recover. Rebooting the STA rarely helps, rebooting the WDS AP always helps - even when the STA is definately dead, the connection is still listed as active on the AP, while both the STA (TL-WR941NDv1) and the client behind it remain inaccessible from the AP side of the network.</p><p>Trunk snapshots from late last year were reliable (I think, the STA isn&#039;t in use every day, so it took a while to notice and the time to failure varies a lot), snapshots since (around~) early this year trigger the problem for me (not just with r49065, but also several before that one). My current suspicion is the hostapd/ wpa_supplicant/ wpad update from v2.3 (2015-03-25 plus security fixes) to 2016-01-15, as I&#039;ve been running r48185 for quite a while, without remembering any related issues. I did replace package/network/services/hostapd/ with the version from r48345 (transplanted into r49166) on the STA (TL-WR941NDv1) for testing (no improvement), my next approach will be doing the same on the AP side (TL-WDR4300).</p>											<p class="post-edited">(Last edited by <strong>slh</strong> on 16 Apr 2016, 22:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320017">
				<div class="post-metadata">
					<div class="post-num">Post #1409</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						16 Apr 2016, 21:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>slh wrote:</cite><blockquote><p>I&#039;m experiencing a similar (probably the same) issue . . .</p></blockquote></div><p>Sounds the same to me.&nbsp; I don&#039;t monitor as closely as you do so was not confident enough to make some claims (e.g. still listed as active on the AP).&nbsp; I also agree with prior stability.&nbsp; I may try to find an old stable version.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320120">
				<div class="post-metadata">
					<div class="post-num">Post #1410</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						17 Apr 2016, 19:39					</div>
				</div>
				<div class="post-content content">
					<p>Hnyman, the dual radio solution did not work.&nbsp; I no longer allow clients (except WDS clients) to connect on the 5 Ghz channel and I still experience the issue.&nbsp; My temporary solution is a python script which reboots the WDS server if a WDS client is down for a few times in a row.</p><p>I filed a bug report here (let&#039;s continue the conversation there until there is a solution):&nbsp; <br /><a href="https://dev.openwrt.org/ticket/22228">https://dev.openwrt.org/ticket/22228</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320121">
				<div class="post-metadata">
					<div class="post-num">Post #1411</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						17 Apr 2016, 19:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnthomas00 wrote:</cite><blockquote><p>I filed a bug report here (let&#039;s continue the conversation there until there is a solution):&nbsp; <br /><a href="https://dev.openwrt.org/ticket/22228">https://dev.openwrt.org/ticket/22228</a></p></blockquote></div><p>That is good. My build has just the standard radio components, so there should be nothing build-specific. Better to have a generic bug about it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320123">
				<div class="post-metadata">
					<div class="post-num">Post #1412</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						17 Apr 2016, 19:55					</div>
				</div>
				<div class="post-content content">
					<p>Just a very first impression, as it&#039;s too early to confirm it for sure, I have reverted to wpad v2.3 on the WDS AP (TL-WDR4300, trunk r49065, wpad 2015-03-25-2) about 20h ago and the WDS connection to the TL-WR941NDv1 (trunk r49166, wpad-mini 2015-03-25-2) is still working so far (normal STAs and this single WDS STA are connecting to the WDS AP).</p>											<p class="post-edited">(Last edited by <strong>slh</strong> on 17 Apr 2016, 22:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p320125">
				<div class="post-metadata">
					<div class="post-num">Post #1413</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						17 Apr 2016, 20:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>slh wrote:</cite><blockquote><p>Just a very first impression, as it&#039;s too early to confirm it for sure, I have reverted to wpad v2.3 on the WDS AP (TL-WDR4300, trunk r49065, wpad 2015-03-25-2) about 20h ago and the WDS connection to the TL-WR941NDv1 (trunk r49065, wpad-mini 2015-03-25-2) is still working so far (normal STAs and this single WDS STA are connecting to the WDS AP).</p></blockquote></div><p>If possible, could you report this on the ticket?<br /><a href="https://dev.openwrt.org/ticket/22228">https://dev.openwrt.org/ticket/22228</a><br />You sound much more credible and specific than I do and that would likely help the developers fix this in trunk.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321020">
				<div class="post-metadata">
					<div class="post-num">Post #1414</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						24 Apr 2016, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>johnthomas00, did you have a chance to test or confirm this by reverting to wpad/ wpad-mini 2015-03-25-2 on your systems? </p><p>With wpad reverted to 2015-03-25-2 on the WDS-AP, my WDS link has now been reliable for a full week.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321063">
				<div class="post-metadata">
					<div class="post-num">Post #1415</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						24 Apr 2016, 14:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>slh wrote:</cite><blockquote><p>johnthomas00, did you have a chance to test or confirm this by reverting to wpad/ wpad-mini 2015-03-25-2 on your systems? With wpad reverted to 2015-03-25-2 on the WDS-AP, my WDS link has now been reliable for a full week.</p></blockquote></div><p>Thanks, I have not.&nbsp; How do I revert wpad like that?&nbsp; Do I change a setting in .config?&nbsp; Do I run a git command?</p><p>By the way, I am having some success with pinging each STA and the AP every two minutes.&nbsp; I am still testing.&nbsp; I built a python script to reboot the AP if one was down for 15 minutes.&nbsp; The script tests every two minutes.&nbsp; Funny thing is, now the STAs are not going down.&nbsp; It is still too soon for me to be confident.&nbsp; I&#039;ll report back if I can get them all to stay up for 5 or more days.</p><p>I&#039;ll revert wpad if this does not work and I would like to learn, so if easy, please do share how to revert please.</p><p>Thanks slh!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321147">
				<div class="post-metadata">
					<div class="post-num">Post #1416</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						25 Apr 2016, 03:28					</div>
				</div>
				<div class="post-content content">
					<p>Following <a href="https://wiki.openwrt.org/doc/howto/buildroot.exigence">buildroot.exigence</a>, the following should happen after step 3 and before 4 of the afforementioned howto.</p><p>Just make a copy of your git clone (cp -a openwrt openwrt-old), change into that directory (cd openwrt-old) and reset it to r48345 (git checkout f8f3907e6f5174ce651a835687ffdee99f0e46a1); &quot;head -n12 package/network/services/hostapd/Makefile&quot; should now confirm &quot;PKG_VERSION:=2015-03-25&quot; and &quot;PKG_REV:=8278138e679174b1ec8af7f169c2810a8888e202&quot;.</p><p>Now you have your current trunk checkout under openwrt, and an older one (the last one with hostapd 2015-03-25, well, technically not the very last one, but the last change affecting hostapd 2015-03-25, before it got bumped to 2016-01-15) under openwrt-old.</p><p>Delete hostapd from your current trunk/ HEAD (rm -r openwrt/package/network/services/hostapd/) and copy the older hostapd version (the whole hostapd directory) into your trunk/ HEAD checkout (cp -a openwrt-old/package/network/services/hostapd openwrt/package/network/services/).</p><p>Assuming you&#039;re running a relatively recent (~this year) of hnyman&#039;s builds for the WNDR3700/WNDR3800, it&#039;s probably best to borrow his build config from <a href="https://www.dropbox.com/sh/t52c02rm20y8x9p/khFGAJu3gc">https://www.dropbox.com/sh/t52c02rm20y8x9p/khFGAJu3gc</a> (if you apply his device specific patches would be a matter of preference, they&#039;re not relevant to this particular problem). Copy trunk-r49218-20160423/WNDR3700-trunk-r49218-20160423-1259.diffconfig to openwrt/.config (the top-level directory of your modified OpenWrt trunk, thereby renaming the file to &quot;.config&quot; (leading dot)). For the very purpose of this test, his WNDR3700/WNDR3800 specific patches aren&#039;t particularly relevant (especially as you don&#039;t even need to actually flash your self-built firmware, but only need the built wpad ipk package). Follow a slightly different procedure for step 4 of <a href="https://wiki.openwrt.org/doc/howto/buildroot.exigence">buildroot.exigence</a>, by just running &quot;make defconfig&quot; and &quot;make oldconfig&quot; before going straight to &quot;make prereq&quot; and &quot;make&quot; (or &quot;make -j$(($(getconf _NPROCESSORS_ONLN) * 2))&quot; to get leverage of all your CPU cores). </p><p>While you could install the freshly built firmware snapshot, you could also just replace the wpad package of your currently running firmware (wpad is a relatively standalone binary, so this has a rather high chance of success - if your snapshot isn&#039;t too old; technically wpad from more or less any relatively current ar71xx build should do) as this would be safer (but this needs roughly 650-700 KB free space on your flash). For this, you&#039;d just copy (scp) the freshly built bin/ar71xx/packages/base/wpad_2015-03-25-2_ar71xx.ipk to /tmp/ of your router and use opkg to install it - this has the advantage that there is a lower risk of bricking your router (at worst wlan wouldn&#039;t work) and that you can get rid of this patched wpad package via firstboot (factory reset).</p><p>While this short guide should cover all relevant steps, it does assume you being roughly familiar with building OpenWrt. <br />&lt;insert $disclaimer about $no_warranties&gt;, not tested on a Netgear WNDR3700/WNDR3800 or this particular firmware build, but unpatched OpenWrt trunk (r49199) on a TP-Link TL-WDR4300v1, TL-WDR3600v1, TL-WR1043NDv1 and TL-WR941NDv1 with my own, targetted to my needs, config instead.<br />Yes, there are more elegant ways to use git - but I&#039;m describing it in an easy and (hopefully) fail-safe way here (openwrt-old is only used as source for the older hostapd directory, it can be deleted after you copied it).</p>											<p class="post-edited">(Last edited by <strong>slh</strong> on 25 Apr 2016, 03:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321455">
				<div class="post-metadata">
					<div class="post-num">Post #1417</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						27 Apr 2016, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>Heads up in advance: r49252 breaks things in a nasty way for anybody who does trunk sysupgrade with settings preserved.</p><p>Bug report: <a href="https://dev.openwrt.org/ticket/22271">https://dev.openwrt.org/ticket/22271</a></p><p>r49252 breaks things in a major way in a sysupgrade with settings preserved, as dnsmasq does not start and thus DNS and DHCP do not work.</p><p>If a router is flashed with a new firmware with revision &gt;= 49252, it will expect to find user &quot;dnsmasq&quot; in /etc/password and /etc/shadow as well as group &quot;dnsmasq&quot; in /etc/group. If those are not found, dnsmasq does not start and all connectivity breaks down.<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# logread | grep dnsm
Wed Apr 27 11:27:52 2016 daemon.crit dnsmasq[2753]: unknown user or group: dnsmasq
Wed Apr 27 11:27:52 2016 daemon.crit dnsmasq[2753]: FAILED to start up
...
Wed Apr 27 11:28:11 2016 daemon.info procd: Instance dnsmasq::instance1 s in a crash loop 6 crashes, 0 seconds since last crash</code></pre></div><p>I fixed my own router by manually copying /rom/etc/passwd, /rom/etc/shadow and /rom/etc/group to /etc</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 27 Apr 2016, 12:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321816">
				<div class="post-metadata">
					<div class="post-num">Post #1418</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						29 Apr 2016, 16:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>slh wrote:</cite><blockquote><p>Following <a href="https://wiki.openwrt.org/doc/howto/buildroot.exigence">buildroot.exigence</a>, the following should happen after step 3 and before 4 of the afforementioned howto.<br />&lt;snip&gt;</p></blockquote></div><p>SLH, thank you kindly for the detail guidance.&nbsp; I may do this.</p><p>I am having good success with pinging each STA and the AP every two minutes.&nbsp; I built a python script to reboot the AP if any was down for 15 minutes.&nbsp; The script tests every two minutes.&nbsp; Funny thing is, now the STAs are not going down.&nbsp; The AP has been up for almost 6 days and everything is connecting fine.</p><p>This is obviously a hack, not a solution.&nbsp; Hopefully the developers will have some time to look at this at some point.&nbsp; I am happy to test.&nbsp; </p><p>I believe hnyman&#039;s instructions show how to build Chaos Calmer.&nbsp; I may do that.&nbsp; Calmer sounds good at the moment. </p><p>Thanks again!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p321890">
				<div class="post-metadata">
					<div class="post-num">Post #1419</div>
					<div class="post-author">moeller0</div>
					<div class="post-datetime">
						30 Apr 2016, 01:10					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Heads up in advance: r49252 breaks things in a nasty way for anybody who does trunk sysupgrade with settings preserved.</p><p>Bug report: <a href="https://dev.openwrt.org/ticket/22271">https://dev.openwrt.org/ticket/22271</a></p><p>r49252 breaks things in a major way in a sysupgrade with settings preserved, as dnsmasq does not start and thus DNS and DHCP do not work.</p><p>If a router is flashed with a new firmware with revision &gt;= 49252, it will expect to find user &quot;dnsmasq&quot; in /etc/password and /etc/shadow as well as group &quot;dnsmasq&quot; in /etc/group. If those are not found, dnsmasq does not start and all connectivity breaks down.<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# logread | grep dnsm
Wed Apr 27 11:27:52 2016 daemon.crit dnsmasq[2753]: unknown user or group: dnsmasq
Wed Apr 27 11:27:52 2016 daemon.crit dnsmasq[2753]: FAILED to start up
...
Wed Apr 27 11:28:11 2016 daemon.info procd: Instance dnsmasq::instance1 s in a crash loop 6 crashes, 0 seconds since last crash</code></pre></div><p>I fixed my own router by manually copying /rom/etc/passwd, /rom/etc/shadow and /rom/etc/group to /etc</p></blockquote></div><p>I added the following to /etc/rc.local :</p><p># fix for r &gt;= 49252 breakage (dnsmasq gets own group)<br />cp /rom/etc/passwd /etc/passwd<br />cp /rom/etc/shadow /etc/shadow<br />cp /rom/etc/group /etc/group</p><p>just before issuing &quot;sysupdate -v ./MY_IMAGE_FILE&quot; and deleted them after the reboot, which seems to have worked (as LUCI complaint about the root password not being set yet). This might be a bit easier on newbies like me...</p><p>Best Regards &amp; many thanks<br />&nbsp; &nbsp; &nbsp; &nbsp; M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322046">
				<div class="post-metadata">
					<div class="post-num">Post #1420</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						1 May 2016, 12:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hnyman wrote:</cite><blockquote><p>Heads up in advance: r49252 breaks things in a nasty way for anybody who does trunk sysupgrade with settings preserved.</p><p>Bug report: <a href="https://dev.openwrt.org/ticket/22271">https://dev.openwrt.org/ticket/22271</a></p></blockquote></div><p>The bug has been fixed by r49276. <br />Sysupgrade should again work normally.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 1 May 2016, 12:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322686">
				<div class="post-metadata">
					<div class="post-num">Post #1421</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						5 May 2016, 21:41					</div>
				</div>
				<div class="post-content content">
					<p>FYI, I am unable to duplicate the WDS bug in Chaos Calmer.&nbsp; Also, I was able to &quot;upgrade&quot; to Chaos Calmer from Trunk with the same settings files without issue (note: I use access point features only, not router functions).</p><p>Also, Hnyman, please let us know if you start an <a href="https://www.lede-project.org/">https://www.lede-project.org/</a> based setup similar to this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p322720">
				<div class="post-metadata">
					<div class="post-num">Post #1422</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						6 May 2016, 10:06					</div>
				</div>
				<div class="post-content content">
					<p>CC and trunk are practically identical for settings. Switching between them is easy.<br /></p><div class="quotebox"><cite>johnthomas00 wrote:</cite><blockquote><p>Also, Hnyman, please let us know if you start an <a href="https://www.lede-project.org/">https://www.lede-project.org/</a> based setup similar to this.</p></blockquote></div><p>Most likely I will start publishing LEDE builds soon, as I already have the build. My own router is already running a LEDE build, but there were problems with package source repos, so I did not upload the build. Those problems should be fixed already by Jow. I will likely upload the build next week.</p><p>As far as I see, a large part of the active Openwrt core developers splitted off to be LEDE, so I guess that it will get more development activity than the traditional Openwrt.</p><p>EDIT: LEDE build r98 uploaded.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 8 May 2016, 21:45)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323166">
				<div class="post-metadata">
					<div class="post-num">Post #1423</div>
					<div class="post-author">wrtboy</div>
					<div class="post-datetime">
						10 May 2016, 01:06					</div>
				</div>
				<div class="post-content content">
					<p>hi hnyman, does one simply perform a sysupgrade from openwrt to lede?&nbsp; is it safe to keep openwrt setting sysupgrade?&nbsp; or start fresh?&nbsp; thanks for confirming.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323191">
				<div class="post-metadata">
					<div class="post-num">Post #1424</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						10 May 2016, 08:18					</div>
				</div>
				<div class="post-content content">
					<p>Currently the LEDE spin-off is practically identical to DD trunk. Same settings etc. You can use normally sysupgrade to switch between builds.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p323317">
				<div class="post-metadata">
					<div class="post-num">Post #1425</div>
					<div class="post-author">GethroC</div>
					<div class="post-datetime">
						11 May 2016, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>Hello hnymn:<br />Thank you for the rock steady build!!!<br />I&#039;m having a bit of trouble with the adblock script, and receive the following error:<br /></p><div class="codebox"><pre><code>Wed May 11 04:18:45 2016 user.notice adblock[3719] info : adblock service started due to &#039;ifup&#039; of &#039;wan&#039; interface
Wed May 11 04:18:46 2016 user.notice adblock[4359] error: outdated adblock configuration found, please use latest version from &#039;/etc/adblock/adblock.conf.default&#039;, rc: 125
Wed May 11 04:18:46 2016 user.notice adblock[4359] info : domain adblock processing failed (1.1.2, , 11.05.2016 04:18:46)</code></pre></div><p>I have a WNDR 3800 with LEDE Designated Driver r98. I was also experiencing this with WNDR3800-trunk-r49295 build.<br />Also, I could not find any discussion in this topic area about DNSSEC, have you considered adding this to the build?<br />Thank you,<br />GethroC</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 57 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=55.html">55</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=56.html">56</a></li><li class="pagination-current"><span>57</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=58.html">58</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=59.html">59</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>