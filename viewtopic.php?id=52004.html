<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ASUS RT-N12D1 will not accept firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 13 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p242655">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">DaAwesomeP</div>
					<div class="post-datetime">
						4 Aug 2014, 04:13					</div>
				</div>
				<div class="post-content content">
					<p><span class="bbu"><strong>UPDATE:</strong></span> I was able to install Bleeding Edge via the Firmware Restoration Tool, but I have no WiFI. I have tried uninstalling &quot;b43&quot; and &quot;b43-legacy&quot; to be replaced with &quot;kmod-brcm-wl&quot;, &quot;wl&quot;, and &quot;wlc&quot; and rebooting to no avail.</p><p>I&#039;ve tried both <a href="http://downloads.openwrt.org/snapshots/trunk/brcm47xx/openwrt-brcm47xx-generic-squashfs.trx">snapshots/trunk/brcm47xx/openwrt-brcm47xx-generic-squashfs.trx</a> and <a href="http://downloads.openwrt.org/attitude_adjustment/12.09/brcm47xx/generic/openwrt-brcm47xx-squashfs.trx">attitude_adjustment/12.09/brcm47xx/generic/openwrt-brcm47xx-squashfs.trx</a>, but the factory firmware rejects both saying &quot;Firmware upgrade unsuccessfully. It may result from incorrect image or error transmission. Please check the version of firmware and try again.&quot; I have tried uploading with both Opera and Firefox.</p><p>Here&#039;s what&#039;s in the System Log. It should give some specs:<br /></p><div class="codebox"><pre><code>Jan  1 00:00:07 syslogd started: BusyBox v1.17.4
Jan  1 00:00:07 kernel: klogd started: BusyBox v1.17.4 (2013-08-06 19:33:59 CST)
Jan  1 00:00:07 kernel: Linux version 2.6.22.19 (root@asus) (gcc version 4.2.4) #1 Tue Aug 6 19:37:06 CST 2013
Jan  1 00:00:07 kernel: CPU revision is: 00019749
Jan  1 00:00:07 kernel: Found an ST compatible serial flash with 128 64KB blocks; total size 8MB
Jan  1 00:00:07 kernel: Determined physical RAM map:
Jan  1 00:00:07 kernel:  memory: 02000000 @ 00000000 (usable)
Jan  1 00:00:07 kernel: Built 1 zonelists.  Total pages: 8128
Jan  1 00:00:07 kernel: Kernel command line: root=/dev/mtdblock2 noinitrd console=ttyS0,115200
Jan  1 00:00:07 kernel: Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Jan  1 00:00:07 kernel: Primary data cache 32kB, 4-way, linesize 32 bytes.
Jan  1 00:00:07 kernel: PID hash table entries: 128 (order: 7, 512 bytes)
Jan  1 00:00:07 kernel: CPU: BCM53572 rev 1 pkg 8 at 300 MHz
Jan  1 00:00:07 kernel: Using 150.000 MHz high precision timer.
Jan  1 00:00:07 kernel: Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Jan  1 00:00:07 kernel: Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Jan  1 00:00:07 kernel: Mount-cache hash table entries: 512
Jan  1 00:00:07 kernel: PCI: no core
Jan  1 00:00:07 kernel: PCI: no core
Jan  1 00:00:07 kernel: PCI: Fixing up bus 0
Jan  1 00:00:07 kernel: IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
Jan  1 00:00:07 kernel: TCP established hash table entries: 1024 (order: 1, 8192 bytes)
Jan  1 00:00:07 kernel: TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
Jan  1 00:00:07 kernel: pflash: found no supported devices
Jan  1 00:00:07 kernel: Creating 5 MTD partitions on &quot;sflash&quot;:
Jan  1 00:00:07 kernel: 0x00000000-0x00020000 : &quot;pmon&quot;
Jan  1 00:00:07 kernel: 0x00020000-0x007f0000 : &quot;linux&quot;
Jan  1 00:00:07 kernel: 0x0014855c-0x005e0000 : &quot;rootfs&quot;
Jan  1 00:00:07 kernel: 0x007f0000-0x00800000 : &quot;nvram&quot;
Jan  1 00:00:07 kernel: 0x007a0000-0x007f0000 : &quot;jffs2&quot;
Jan  1 00:00:07 kernel: dev_nvram_init: _nvram_init
Jan  1 00:00:07 kernel: _nvram_init: allocat header: 2151579648, size= 32768
Jan  1 00:00:07 kernel: u32 classifier
Jan  1 00:00:07 kernel:     OLD policer on 
Jan  1 00:00:07 kernel: Netfilter messages via NETLINK v0.30.
Jan  1 00:00:07 kernel: nf_conntrack version 0.5.0 (512 buckets, 4096 max)
Jan  1 00:00:07 kernel: ipt_time loading
Jan  1 00:00:07 kernel: ip_tables: (C) 2000-2006 Netfilter Core Team
Jan  1 00:00:07 kernel: net/ipv4/netfilter/tomato_ct.c [Aug  6 2013 19:36:11]
Jan  1 00:00:07 kernel: ip6_tables: (C) 2000-2006 Netfilter Core Team
Jan  1 00:00:07 kernel: VFS: Mounted root (squashfs filesystem) readonly.
Jan  1 00:00:07 kernel: Warning: unable to open an initial console.
Jan  1 00:00:07 kernel: ctf: module license &#039;Proprietary&#039; taints kernel.
Jan  1 00:00:07 kernel: et_module_init: passivemode set to 0x0
Jan  1 00:00:07 kernel: eth0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.110.27.20012
Jan  1 00:00:07 kernel: wl_module_init: passivemode set to 0x0
Jan  1 00:00:07 kernel: eth1: Broadcom BCM4347 802.11 Wireless Controller 5.110.27.20012
Jan  1 00:00:07 kernel: Algorithmics/MIPS FPU Emulator v1.5
Jan  1 00:00:09 stop_nat_rules: apply the redirect_rules!
Jan  1 00:00:09 WAN Connection: Ethernet link down.
Jan  1 00:00:10 RT-N12: start httpd
Jan  1 00:00:10 miniupnpd[210]: HTTP listening on port 40349
Jan  1 00:00:10 miniupnpd[210]: Listening for NAT-PMP traffic on port 5351</code></pre></div><p>Do I need to modify anything before uploading the firmware? The firmware is at near factory default; Ihad to type in a password, etc. to get to the main control panel and out of the setup wizard.</p>											<p class="post-edited">(Last edited by <strong>DaAwesomeP</strong> on 4 Aug 2014, 22:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242728">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">DaAwesomeP</div>
					<div class="post-datetime">
						4 Aug 2014, 19:43					</div>
				</div>
				<div class="post-content content">
					<p>Today I tried renaming the OpenWrt firmware to the same as the factory firmware I found online to no avail. I tried the real factory firmware and it worked fine, so the router is accepting some firmware at all.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242737">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						4 Aug 2014, 21:57					</div>
				</div>
				<div class="post-content content">
					<p>I started looking at it, it&#039;s a matter of some &quot;magic&quot; at the end of trx/SquashFS:</p><div class="codebox"><pre><code>&gt; hexdump -C RT-N12D1_3.0.0.4_374_5517-g302e4dc.trx | tail
005a2fc0  03 00 00 04 52 54 2d 4e  31 32 44 31 00 00 00 00  |....RT-N12D1....|
005a2fd0  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00  |................|
*
005a3000</code></pre></div><p>Asus GPL source handles this in src/router/mipsel-uclibc/Makefile with &quot;addver&quot;.</p><p>Still, it needs more investigation.</p>											<p class="post-edited">(Last edited by <strong>Zajec</strong> on 4 Aug 2014, 21:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242738">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">DaAwesomeP</div>
					<div class="post-datetime">
						4 Aug 2014, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>I was able to install the Bleeding Edge version with the Windows Firmware Restoration Utility.&nbsp; It sasked if I really wanted to install a non-ASUS firmware and then did it. When I tried to install the Attitude Adjustment version from both the Bleeding Edge OpenWRT and the Firmware Restoration Utility, it got a dead router (no response, DHCP, etc.). I was able to re-flash the Bleeding Edge version by puting it into rescue mode and using the Firmware Restoration Tool.</p><p>However, now I have another problem - I have no WiFi. I have tried uninstalling &quot;b43&quot; and &quot;b43-legacy&quot; and replacing it with &quot;kmod-brcm-wl&quot;, &quot;wl&quot;, and &quot;wlc&quot;, rebooting several times, but I still have no &quot;/etc/config/wireless&quot;. When I run &quot;wl -i wl0 chanspec -c 4 b 2 -w 40 -s -1&quot; I get &quot;wl: wl driver adapter not found.&quot;</p><p>Once I have it fully functional I&#039;ll add this router and images to the wiki and the steps it took to install and get up and running.</p>											<p class="post-edited">(Last edited by <strong>DaAwesomeP</strong> on 4 Aug 2014, 22:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242743">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						4 Aug 2014, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>WiFi on BCM5357C0 is still unsupported <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> There is work in progress, but I have a bit too much on my head.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p242745">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">DaAwesomeP</div>
					<div class="post-datetime">
						4 Aug 2014, 23:28					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s a bummer. <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm" /> I was going to use it as a WiFi repeater, but I wanted to use OpenWrt to add other things to my network (VPN, etc.). The factory firmware has a mode that does this, so a least it will do the minimum of what I want.</p><p>I wish I could help, but I don&#039;t think I&#039;d be much use. I am a Linux admin, but not a driver expert.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259262">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">DaAwesomeP</div>
					<div class="post-datetime">
						31 Dec 2014, 03:10					</div>
				</div>
				<div class="post-content content">
					<p>Is there any progress on the BCM5357C0 WiFi drivers? I&#039;m really itching to get OpenWRT on this router.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p262146">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">M3m3nt0</div>
					<div class="post-datetime">
						20 Jan 2015, 12:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>DaAwesomeP wrote:</cite><blockquote><p>Is there any progress on the BCM5357C0 WiFi drivers? I&#039;m really itching to get OpenWRT on this router.</p></blockquote></div><p>Could you please write a little how to to eventually be able to debrick this router?<br />-&gt; <a href="http://wiki.openwrt.org/toh/asus/rt-n12d1#debricking">http://wiki.openwrt.org/toh/asus/rt-n12d1#debricking</a></p><p>I too want try openwrt on this router but I don&#039;t want to brick it at the very first shot <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><br /><p>For Broadcom wifi drivers there is a chance to install/use proprietary ones like on major linux distributions?<br />(I&#039;m a newbie, so please forgive me for stupid questions <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> )</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p262148">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Zajec</div>
					<div class="post-datetime">
						20 Jan 2015, 12:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>M3m3nt0 wrote:</cite><blockquote><p>Could you please write a little how to to eventually be able to debrick this router?<br />-&gt; <a href="http://wiki.openwrt.org/toh/asus/rt-n12d1#debricking">http://wiki.openwrt.org/toh/asus/rt-n12d1#debricking</a></p><p>I too want try openwrt on this router but I don&#039;t want to brick it at the very first shot <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p></blockquote></div><p><a href="http://wiki.openwrt.org/doc/techref/bootloader/cfe">http://wiki.openwrt.org/doc/techref/bootloader/cfe</a></p><div class="quotebox"><cite>M3m3nt0 wrote:</cite><blockquote><p>For Broadcom wifi drivers there is a chance to install/use proprietary ones like on major linux distributions?<br />(I&#039;m a newbie, so please forgive me for stupid questions <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> )</p></blockquote></div><p><a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm47xx#broadcom-wl">http://wiki.openwrt.org/doc/hardware/so … roadcom-wl</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293570">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">M3m3nt0</div>
					<div class="post-datetime">
						26 Sep 2015, 19:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Zajec wrote:</cite><blockquote><div class="quotebox"><cite>M3m3nt0 wrote:</cite><blockquote><p>For Broadcom wifi drivers there is a chance to install/use proprietary ones like on major linux distributions?<br />(I&#039;m a newbie, so please forgive me for stupid questions <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> )</p></blockquote></div><p><a href="http://wiki.openwrt.org/doc/hardware/soc/soc.broadcom.bcm47xx#broadcom-wl">http://wiki.openwrt.org/doc/hardware/so … roadcom-wl</a></p></blockquote></div><p>In the changelog of Openwrt 15.05 Chaos Calmer there is:<br /></p><div class="codebox"><pre><code>...
    - New bcm53xx target for Broadcom ARM BCM47xx/53xx devices</code></pre></div><p>Does this means this router is now supported...?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p344768">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">OctaneZ</div>
					<div class="post-datetime">
						25 Nov 2016, 17:44					</div>
				</div>
				<div class="post-content content">
					<p>I was successfully able to flash </p><div class="codebox"><pre><code>openwrt-15.05-brcm47xx-mips74k-asus-rt-n12-d1-squashfs.trx</code></pre></div><p>Linked from the RT-N12 D1 Wiki Page </p><div class="codebox"><pre><code>wiki.openwrt.org/toh/asus/rt-n12d1</code></pre></div><p> (can&#039;t link URL)</p><p><strong>NOTE: 5GHz does not work</strong></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p347216">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">Anfas</div>
					<div class="post-datetime">
						20 Dec 2016, 16:15					</div>
				</div>
				<div class="post-content content">
					<p>Good Day.<br />Can You write a short man how did You flash Asus RT-N12D1?<br />Did You use TFTP and what client was that?<br />Thanks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>