<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wr740n v4 USB mod! [AR9331] [FW compiled for all wr740/741 versions!]</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Jun 2015 and 1 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=37368&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=37368&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=37368&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37368&amp;p=9.html">9</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p175357">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						20 Aug 2012, 12:28					</div>
				</div>
				<div class="post-content content">
					<p>Absolutely no idea, may have I been touched by some divine force? xD<br />It worked the first time for me... but still nobody has achieved it? Nobody?</p><p>I had to open the router to add a suction cup to put it on my window.<br />I also tried to take better pics, so there they are !<br />I edited the first post with the new pics, I hope you can understand better the connections.</p><p>I also added a firmware which works out-of-the-box, just flash and try the USB! <br />I have just attached my 320GB external HDD and it works too!!<br />I had to add an external power source of course, the router can&#039;t power such thing by itself <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /><br />Regards</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 20 Aug 2012, 22:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175375">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">fr4nk</div>
					<div class="post-datetime">
						20 Aug 2012, 19:59					</div>
				</div>
				<div class="post-content content">
					<p>Thanks dabyd64 for providing the firmware, unfortunately the problem persists.<br />USB Full Speed device (usb 1.1) works but non Hi-Speed (usb 2.0). Tested usb flash, hdd, wifi, only usb sound works.</p><p>Maybe it&#039;s very depending of the thin cable length of the data cables, mine is appr. 10 cm (4 inch)?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175382">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						20 Aug 2012, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>I had some problems when using too long thin wires, the USB had a strange behaviour, like if I was connecting and disconnecting it, dissapearing and reappearing a bit later, in fact I could see that it was happening in the logs.<br />After that, I cutted and used the thin wire just to join another thicker cables to end the connection with the usb socket.<br />Actually you can see that in my photos, maybe 2-3cm of thin wire, the rest is thick. At the moment everything is fine.<br />Can you post some photos of the setup? it would be nice and easier to check. That enumeration error could be a bad power source, not able to power correctly the usb device.<br />I mean, it may provide 5V when you check with the voltmeter, but if it isn&#039;t able to supply the current needed, it may go down and fail.<br />Try getting the 5V source from a phone charger or other adapter that can provide at least 500mA. Check the voltage first with the voltmeter!!<br />Sometimes they say 5V, and they put 7 or 8V easily.</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 20 Aug 2012, 22:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175449">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">fr4nk</div>
					<div class="post-datetime">
						21 Aug 2012, 18:07					</div>
				</div>
				<div class="post-content content">
					<p>SUCCESS</p><p>wire length (D- and D+) is most important keep them as short as possible.</p><p>Thanks guys especially dabyd64 for research on chinese websites <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Speed is great FTP/ext3 7,7 MB/s write 9,5 MB/s read.</p><p>Firmware and Hardware is wr741nd v4 with kernel usb patch, all working lan, wan etc.</p><p><a href="http://imageshack.us/photo/my-images/341/wr741ndusb.jpg/"><span class="postimg"><img src="http://img341.imageshack.us/img341/5928/wr741ndusb.th.jpg" alt="http://img341.imageshack.us/img341/5928/wr741ndusb.th.jpg" /></span></a><br /><a href="http://imageshack.us/photo/my-images/269/741ndusb.jpg/"><span class="postimg"><img src="http://img269.imageshack.us/img269/2780/741ndusb.th.jpg" alt="http://img269.imageshack.us/img269/2780/741ndusb.th.jpg" /></span></a></p>											<p class="post-edited">(Last edited by <strong>fr4nk</strong> on 21 Aug 2012, 18:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175471">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						21 Aug 2012, 22:43					</div>
				</div>
				<div class="post-content content">
					<p>Glad you succeed!! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>BTW I&#039;m trying to compile the FW to include all the modules, but I&#039;m getting lost <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /><br />Can you list the packages you installed? Thanks</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 22 Aug 2012, 17:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175529">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">fr4nk</div>
					<div class="post-datetime">
						22 Aug 2012, 19:36					</div>
				</div>
				<div class="post-content content">
					<p>Sure that&#039;s what I&#039;ve selected</p><p>base-files - 115-r33162<br />blkid - 2.21.2-1<br />block-mount - 0.2.0-8<br />busybox - 1.19.4-3<br />dnsmasq - 2.62-1<br />dropbear - 2011.54-2<br />e2fsprogs - 1.42.4-1<br />ethtool - 3.4.1-1<br />fdisk - 2.21.2-1<br />firewall - 2-53<br />hotplug2 - 1.0-beta-4<br />iptables - 1.4.10-4<br />iptables-mod-nat-extra - 1.4.10-4<br />iw - 3.3-1<br />jshn - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />kernel - 3.3.8-1-f49d4cd9ff8b3f899a9c973ed941069d<br />kmod-ath - 3.3.8+2012-07-16-1<br />kmod-ath9k - 3.3.8+2012-07-16-1<br />kmod-ath9k-common - 3.3.8+2012-07-16-1<br />kmod-cfg80211 - 3.3.8+2012-07-16-1<br />kmod-crypto-aes - 3.3.8-1<br />kmod-crypto-arc4 - 3.3.8-1<br />kmod-crypto-core - 3.3.8-1<br />kmod-fs-ext4 - 3.3.8-1<br />kmod-gpio-button-hotplug - 3.3.8-1<br />kmod-input-core - 3.3.8-1<br />kmod-ipt-conntrack - 3.3.8-1<br />kmod-ipt-core - 3.3.8-1<br />kmod-ipt-nat - 3.3.8-1<br />kmod-ipt-nat-extra - 3.3.8-1<br />kmod-ipt-nathelper - 3.3.8-1<br />kmod-leds-gpio - 3.3.8-1<br />kmod-ledtrig-default-on - 3.3.8-1<br />kmod-ledtrig-netdev - 3.3.8-1<br />kmod-ledtrig-timer - 3.3.8-1<br />kmod-lib-crc-ccitt - 3.3.8-1<br />kmod-lib-crc16 - 3.3.8-1<br />kmod-mac80211 - 3.3.8+2012-07-16-1<br />kmod-nls-base - 3.3.8-1<br />kmod-ppp - 3.3.8-1<br />kmod-pppoe - 3.3.8-1<br />kmod-pppox - 3.3.8-1<br />kmod-scsi-core - 3.3.8-1<br />kmod-scsi-generic - 3.3.8-1<br />kmod-sound-core - 3.3.8-1<br />kmod-usb-audio - 3.3.8-1<br />kmod-usb-core - 3.3.8-1<br />kmod-usb-storage - 3.3.8-1<br />kmod-usb-storage-extras - 3.3.8-1<br />kmod-usb2 - 3.3.8-1<br />kmod-wdt-ath79 - 3.3.8-1<br />libblkid - 2.21.2-1<br />libblobmsg-json - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />libc - 0.9.33.2-1<br />libcom_err - 1.42.4-1<br />libelf - 0.8.13-1<br />libext2fs - 1.42.4-1<br />libgcc - 4.6-linaro-1<br />libip4tc - 1.4.10-4<br />libjson - 0.9-2<br />libncurses - 5.7-5<br />libnl-tiny - 0.1-3<br />libpthread - 0.9.33.2-1<br />libubox - 2012-07-08-cca2ed6c8cdb3555fea43ff63ba1c9905dd7a164<br />libubus - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />libuci - 2012-03-28.1-1<br />libuuid - 2.21.2-1<br />libxtables - 1.4.10-4<br />minicom - 2.3-1<br />mtd - 18<br />netifd - 2012-08-11-9411d498c46fe3f1c4d79eb8fa0b7c97dd32a990<br />opkg - 618-2<br />ppp - 2.4.5-6<br />ppp-mod-pppoe - 2.4.5-6<br />pure-ftpd - 1.0.32-3<br />swap-utils - 2.21.2-1<br />swconfig - 10<br />terminfo - 5.7-5<br />uboot-envtools - 2012.04.01-1<br />ubus - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />ubusd - 2012-06-01-a62e2f8c15a65efb1a82404d8f31e3bfc1cbe7d9<br />uci - 2012-03-28.1-1<br />wireless-tools - 29-5<br />wpad-mini - 20120428-2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p175605">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						23 Aug 2012, 12:30					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>fr4nk wrote:</cite><blockquote><p>Sure that&#039;s what I&#039;ve selected<br />...<br />...</p></blockquote></div><div class="quotebox"><cite>DarkSky wrote:</cite><blockquote><p>I also have a tplink wr740n, version 4.21. I did the mod, I modified &quot;mach-tl-wr741nd-v4.c&quot; to enable USB, but devices aren&#039;t enumerated. I also force-flashed 703n&#039;s firmware, but the same happens. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /><br />To enable usb on 740n, just add #include &quot;dev-usb.h&quot; at the top of the file and ath79_register_usb(); before ath79_register_m25p80(&amp;tl_wr741ndv4_flash_data);. It also needs &quot;select ATH79_DEV_USB&quot; in Kconfig, under &quot;config ATH79_MACH_TL_WR741ND_V4&quot;. All these files are in &lt;linux source&gt;/arch/mips/ath79.</p></blockquote></div><p>Thanks a lot DarkSky and fr4nk!! I finally was able to compile it <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177347">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">CraXyOW3</div>
					<div class="post-datetime">
						8 Sep 2012, 02:17					</div>
				</div>
				<div class="post-content content">
					<p>Lovely updates!<br />Im gonna retry with shortening the wires. As for the power, i trialtested with a standard usb port from my laptop to power the usb.<br />Will update when finished.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p177352">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						8 Sep 2012, 02:40					</div>
				</div>
				<div class="post-content content">
					<p>I had to break my microscope toy and paste the lens to my phone, to take that awesome macros <img src="https://forum.openwrt.org/img/smilies/lol.png" width="15" height="15" alt="lol" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185518">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">theodoiq</div>
					<div class="post-datetime">
						8 Dec 2012, 06:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi fr4nk,</p><p>Please, I&#039;d like pics from your pins connections (closer). I have the same 741nd v4 and I need a USB connection too. And two questions:</p><p>1 - Does it works with a USB hub??</p><p>2 - Did you try a wifi radio (<a href="http://mightyohm.com/blog/2008/10/building-a-wifi-radio-part-1-introduction/">http://mightyohm.com/blog/2008/10/build … roduction/</a>)?? </p><p>Thanks in advance ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185534">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						8 Dec 2012, 15:07					</div>
				</div>
				<div class="post-content content">
					<p>Is that a joke? Did you see the first post on this thread?<br />there is a big and close pic of the usb pins!<br />The 740n v4 and 741n v4 are the same, the only difference is the detachable antenna.</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 8 Dec 2012, 15:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185670">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">theodoiq</div>
					<div class="post-datetime">
						10 Dec 2012, 11:09					</div>
				</div>
				<div class="post-content content">
					<p>dabyd64,</p><p>Sorry. I didn&#039;t that were the same. Thanks a lot ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185692">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						10 Dec 2012, 15:39					</div>
				</div>
				<div class="post-content content">
					<p>dabyd64, really great work, thanks!<br />A question about accessing pins/traces in the chip: Are the ones you used near the edge or on the inner set?<br />Does it make any difference?<br />I ask because I&#039;m wondering about accessing more pins/pads that aren&#039;t used.<br />And how - or should I say what tools did you use? Hand tools? &quot;Dremel&quot;?<br />Regards.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185801">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">ysf.zer</div>
					<div class="post-datetime">
						12 Dec 2012, 03:45					</div>
				</div>
				<div class="post-content content">
					<p>hi im new here i want to know can i use externale source of power for usb ?? and how to do it&nbsp; ??? can you plz make picture of wires links thx</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p185977">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						14 Dec 2012, 00:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>dabyd64, really great work, thanks!<br />A question about accessing pins/traces in the chip: Are the ones you used near the edge or on the inner set?<br />Does it make any difference?<br />I ask because I&#039;m wondering about accessing more pins/pads that aren&#039;t used.<br />And how - or should I say what tools did you use? Hand tools? &quot;Dremel&quot;?<br />Regards.</p></blockquote></div><p>Look at the photos, yeah they are on the edges. This is not a really BGA, it has pins only on the border.<br />Those tracks go from the border to inside of the AR9331, the processor.<br />I used a small screwdriver, scratching by hand. Slow and patienly, it only takes 5 minutes.<br />With the dremel it would take 2 seconds, but you will destroy the small copper tracks very easily.<br />The trick is to locate those pins and start scratching the corner from inside to outside, always with the flat side of the screwdriver or other tool.<br />The tracks are at about 1-1,5mm deep.<br />Once you see any copper, be careful and don&#039;t scratch that part again,&nbsp; only parts that are still covered.<br />You will end with a small furrow and the cooper tracks nicely seen.</p><p>Now you will need to solder on those 2 small tracks......its a bit hard, because they are so close, that once you achieved to solder one, when you solder the next it&#039;s very easy to touch the other, and you&#039;ll have to start again.</p><br /><p>@ysf.zer<br />Look at the photos...get a phone charger or something that puts 5v, MEASURE it vith a voltmeter before anything!<br />Valid values are between 4,5 and 5,5V.<br />Check the first post, I uploaded a new image <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 14 Dec 2012, 00:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p186240">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">ysf.zer</div>
					<div class="post-datetime">
						17 Dec 2012, 02:45					</div>
				</div>
				<div class="post-content content">
					<p>@dabyd64&nbsp; thank you very mush&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> now i know what i have to do <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198188">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">kowoc20</div>
					<div class="post-datetime">
						12 Apr 2013, 23:18					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have TL-WR740N 4.23 and made your mod dabyd64, but your link to <a href="http://minus.com/m1sq8QKn8">http://minus.com/m1sq8QKn8</a> doesn&#039;t run. Could you repair this link?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198206">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						13 Apr 2013, 03:00					</div>
				</div>
				<div class="post-content content">
					<p>Damn links,always dying.. sure,wait a bit.<br />Tomorrow I&#039;ll compile the latest trunk and upload the image.<br />Cheers!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198355">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">kowoc20</div>
					<div class="post-datetime">
						14 Apr 2013, 16:10					</div>
				</div>
				<div class="post-content content">
					<p>OK.<br />I will wait for new image from you.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p198489">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						15 Apr 2013, 23:33					</div>
				</div>
				<div class="post-content content">
					<p>Sorry for the waiting, got a lot of work and no free time but to eat and sleep <img src="https://forum.openwrt.org/img/smilies/lol.png" width="15" height="15" alt="lol" /> ...</p><p>*edit*<br />New firmware compiled and uploaded, see first post <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 17 Apr 2013, 01:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202636">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">pczolee</div>
					<div class="post-datetime">
						24 May 2013, 12:15					</div>
				</div>
				<div class="post-content content">
					<p>Hi.</p><p>Can you please help me, how can I make my own build with usb support (741nd v4)? I have just one problem with your build, that is, it&#039;s not based on Attitude Adjustment <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" />, and the free space, but it isn&#039;t a big problem. I found Attitude Adjustment better (more stable) than Barrier Breaker...</p><p>Thanks for your time.</p><div class="quotebox"><cite>dabyd64 wrote:</cite><blockquote><p>Sorry for the waiting, got a lot of work and no free time but to eat and sleep <img src="https://forum.openwrt.org/img/smilies/lol.png" width="15" height="15" alt="lol" /> ...</p><p>*edit*<br />New firmware compiled and uploaded, see first post <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202638">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						24 May 2013, 12:28					</div>
				</div>
				<div class="post-content content">
					<p>If I remember ok, the files that you have to modify are the same.<br />Check the first post, there it&#039;s explained how to do it yourself.</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 24 May 2013, 12:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202641">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">pczolee</div>
					<div class="post-datetime">
						24 May 2013, 12:57					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your fast reply, but of course I already tried everything from your first post, unfortunately without success.</p><p>I followed this:</p><p>Then go to build_dir/linux-ar71xx_generic/linux-3.3.8/arch/mips/ath79<br />Edit this files:</p><p><em>&nbsp; &nbsp; &nbsp; &nbsp; mach-tl-wr741nd-v4.c<br />add&nbsp; &nbsp; &nbsp; &nbsp; #include &quot;dev-usb.h&quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;at the top of the file<br />add&nbsp; &nbsp; &nbsp; &nbsp; ath79_register_usb();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; before ath79_register_m25p80(&amp;tl_wr741ndv4_flash_data)</em></p><p><em>&nbsp; &nbsp; &nbsp; &nbsp; Kconfig<br />add&nbsp; &nbsp; &nbsp; &nbsp; select ATH79_DEV_USB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;under &quot;config ATH79_MACH_TL_WR741ND_V4&quot;<br /></em></p><p>The problem, I found mach-tl-wr741nd-v4.c, but it is in /target/linux/ar71xx/files/arch/mips/ath79 directory (not in build_dir/linux-ar71xx_generic/linux-3.3.8/arch/mips/ath79), anyway, I made the modifications, but I can&#039;t find Kconfig with config ATH79_MACH_TL_WR741ND_V4, so I don&#039;t know how should I insert &quot;select ATH79_DEV_USB &quot;.</p><p>If you have time, please help me, or if you can (I&#039;ll be very grateful), build it for me, and others.</p><p>Thank you very much</p><br /><div class="quotebox"><cite>dabyd64 wrote:</cite><blockquote><p>If I remember ok, the files that you have to modify are the same.<br />Check the first post, there it&#039;s explained how to do it yourself.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202643">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">dabyd64</div>
					<div class="post-datetime">
						24 May 2013, 13:26					</div>
				</div>
				<div class="post-content content">
					<p>Did you compile first, BEFORE doing changes?<br />Otherwise that folder/files will not be generated<br />After the first compilation, modify and compile again</p>											<p class="post-edited">(Last edited by <strong>dabyd64</strong> on 24 May 2013, 13:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202645">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">pczolee</div>
					<div class="post-datetime">
						24 May 2013, 14:15					</div>
				</div>
				<div class="post-content content">
					<p>No I didn&#039;t :S. I think that was the problem, now it is building <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>Thanks again <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><div class="quotebox"><cite>dabyd64 wrote:</cite><blockquote><p>Did you compile first, BEFORE doing changes?<br />Otherwise that folder/files will not be generated<br />After the first compilation, modify and compile again</p></blockquote></div>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 9</div><nav><ul><li><a href="viewtopic.php%3Fid=37368&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=37368&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=37368&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=37368&amp;p=9.html">9</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>