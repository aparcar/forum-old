<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link MR3220 + OpenWRT + FOWSR + desperation!!!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p171421">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">&lt;Lork&gt;</div>
					<div class="post-datetime">
						3 Jul 2012, 13:31					</div>
				</div>
				<div class="post-content content">
					<p>Hi all guys</p><p>i&#039;ve done on big mistake when i bought TP-LINK MR3220 v 1.2</p><p>After big problems during installation of openwrt, network configuration and installing web gui, now i have the tp-link well connected to main house router via lan and i have my pc connected to tplink. The networks works very well and via Putty i can install every packet i want with opkg. OpenWRT is update to the new version (trunk) for this router.</p><p>The problem is:</p><p>i have installed all essential usb driver as explained here <a href="http://wiki.openwrt.org/doc/howto/usb.essentials">http://wiki.openwrt.org/doc/howto/usb.essentials</a></p><p>Then i have installed FOWSR because i want to use this tplink to transmit data from a weather station to wunderground.</p><p>Now if i connect to usb port the weather station FOWSR doesn&#039;t recognises it and don&#039;t work...</p><p><a href="http://imageshack.us/photo/my-images/14/fowsrw.jpg/"><span class="postimg"><img src="http://img14.imageshack.us/img14/5423/fowsrw.jpg" alt="http://img14.imageshack.us/img14/5423/fowsrw.jpg" /></span></a></p><p>Uploaded with <a href="http://imageshack.us">ImageShack.us</a></p><p>And this is what i recieve from dmesg</p><div class="codebox"><pre><code>root@OpenWrt:~# dmesg
[    0.000000] Linux version 3.3.8 (openwrt@msk-qdisc1.noc.yandex.net) (gcc version 4.6.3 20120201 (prerelease) (Linaro GCC 4.6-2012.02) ) #1 Tue Jul 3 06:05:27 MSK 2012
[    0.000000] MyLoader: sysp=f0f0f0f0, boardp=f0f0f0f0, parts=f0f0f0f0
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00019374 (MIPS 24Kc)
[    0.000000] SoC: Atheros AR7241 rev 1
[    0.000000] Clocks: CPU:400.000MHz, DDR:400.000MHz, AHB:200.000MHz, Ref:5.000MHz
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00002000
[    0.000000] Movable zone start PFN for each node
[    0.000000] Early memory PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00002000
[    0.000000] On node 0 totalpages: 8192
[    0.000000] free_area_init_node: node 0, pgdat 80316500, node_mem_map 81000000
[    0.000000]   Normal zone: 64 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 8128 pages, LIFO batch:0
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line:  board=TL-MR3220 console=ttyS0,115200 rootfstype=squashfs,jffs2 noinitrd
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 28988k/32768k available (2204k kernel code, 3780k reserved, 573k data, 204k init, 0k highmem)
[    0.000000] SLUB: Genslabs=9, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:48
[    0.000000] Calibrating delay loop... 265.42 BogoMIPS (lpj=1327104)
[    0.080000] pid_max: default: 32768 minimum: 301
[    0.080000] Mount-cache hash table entries: 512
[    0.090000] NET: Registered protocol family 16
[    0.090000] gpiochip_add: registered GPIOs 0 to 17 on device: ath79
[    0.100000] MIPS: machine is TP-LINK TL-MR3220
[    0.500000] registering PCI controller with io_map_base unset
[    0.540000] bio: create slab &lt;bio-0&gt; at 0
[    0.550000] PCI host bridge to bus 0000:00
[    0.550000] pci_bus 0000:00: root bus resource [mem 0x10000000-0x17ffffff]
[    0.560000] pci_bus 0000:00: root bus resource [io  0x0000]
[    0.560000] pci 0000:00:00.0: [168c:002b] type 0 class 0x000280
[    0.560000] pci 0000:00:00.0: fixup device configuration
[    0.570000] pci 0000:00:00.0: reg 10: [mem 0x10000000-0x1000ffff 64bit]
[    0.570000] pci 0000:00:00.0: supports D1
[    0.570000] pci 0000:00:00.0: PME# supported from D0 D1 D3hot
[    0.570000] pci 0000:00:00.0: BAR 0: assigned [mem 0x10000000-0x1000ffff 64bit]
[    0.570000] pci 0000:00:00.0: using irq 40 for pin 1
[    0.580000] Switching to clocksource MIPS
[    0.580000] NET: Registered protocol family 2
[    0.590000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.590000] TCP established hash table entries: 1024 (order: 1, 8192 bytes)
[    0.600000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.600000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.610000] TCP reno registered
[    0.610000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.620000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.630000] NET: Registered protocol family 1
[    0.630000] PCI: CLS 0 bytes, default 32
[    0.650000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.650000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.660000] msgmni has been set to 56
[    0.670000] io scheduler noop registered
[    0.670000] io scheduler deadline registered (default)
[    0.680000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.710000] serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
[    0.720000] console [ttyS0] enabled, bootconsole disabled
[    0.730000] m25p80 spi0.0: found en25f32, expected m25p80
[    0.740000] m25p80 spi0.0: en25f32 (4096 Kbytes)
[    0.740000] 5 tp-link partitions found on MTD device spi0.0
[    0.750000] Creating 5 MTD partitions on &quot;spi0.0&quot;:
[    0.750000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.760000] 0x000000020000-0x00000011d800 : &quot;kernel&quot;
[    0.760000] mtd: partition &quot;kernel&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.780000] 0x00000011d800-0x0000003f0000 : &quot;rootfs&quot;
[    0.780000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.800000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.800000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=290000, len=160000
[    0.810000] 0x000000290000-0x0000003f0000 : &quot;rootfs_data&quot;
[    0.820000] 0x0000003f0000-0x000000400000 : &quot;art&quot;
[    0.830000] 0x000000020000-0x0000003f0000 : &quot;firmware&quot;
[    1.080000] ag71xx_mdio: probed
[    1.080000] eth0: Atheros AG71xx at 0xba000000, irq 5
[    1.680000] eth0: Found an AR7240/AR9330 built-in switch
[    2.910000] eth1: Atheros AG71xx at 0xb9000000, irq 4
[    3.520000] ag71xx ag71xx.0: eth1: connected to PHY at ag71xx-mdio.1:04 [uid=004dd041, driver=Generic PHY]
[    3.530000] TCP cubic registered
[    3.530000] NET: Registered protocol family 17
[    3.530000] Bridge firewalling registered
[    3.540000] 8021q: 802.1Q VLAN Support v1.8
[    3.550000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    3.560000] Freeing unused kernel memory: 204k freed
[    6.830000] Registered led device: tp-link:green:system
[    6.830000] Registered led device: tp-link:green:qss
[    6.830000] Registered led device: tp-link:green:3g
[    7.500000] eth0: link up (1000Mbps/Full duplex)
[   10.160000] JFFS2 notice: (446) jffs2_build_xattr_subsystem: complete building xattr subsystem, 17 of xdatum (1 unchecked, 16 orphan) and 30 of xref (0 dead, 18 orphan) found.
[   10.370000] eth0: link down
[   11.700000] Compat-wireless backport release: compat-wireless-2012-06-14
[   11.700000] Backport based on wireless-testing.git master-2012-06-14
[   11.710000] compat.git: wireless-testing.git
[   11.870000] cfg80211: Calling CRDA to update world regulatory domain
[   11.880000] cfg80211: World regulatory domain updated:
[   11.890000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   11.890000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   11.900000] cfg80211:   (2457000 KHz - 2482000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   11.910000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (300 mBi, 2000 mBm)
[   11.920000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   11.920000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.130000] usbcore: registered new interface driver usbfs
[   12.130000] usbcore: registered new interface driver hub
[   12.140000] usbcore: registered new device driver usb
[   12.600000] PCI: Enabling device 0000:00:00.0 (0000 -&gt; 0002)
[   12.620000] ath: EEPROM regdomain: 0x0
[   12.620000] ath: EEPROM indicates default country code should be used
[   12.620000] ath: doing EEPROM country-&gt;regdmn map search
[   12.620000] ath: country maps to regdmn code: 0x3a
[   12.620000] ath: Country alpha2 being used: US
[   12.620000] ath: Regpair used: 0x3a
[   12.620000] ieee80211 phy0: Selected rate control algorithm &#039;minstrel_ht&#039;
[   12.620000] Registered led device: ath9k-phy0
[   12.620000] ieee80211 phy0: Atheros AR9285 Rev:2 mem=0xb0000000, irq=40
[   12.630000] cfg80211: Calling CRDA for country: US
[   12.640000] cfg80211: Regulatory domain changed to country: US
[   12.640000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   12.650000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (300 mBi, 2700 mBm)
[   12.660000] cfg80211:   (5170000 KHz - 5250000 KHz @ 40000 KHz), (300 mBi, 1700 mBm)
[   12.670000] cfg80211:   (5250000 KHz - 5330000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.670000] cfg80211:   (5490000 KHz - 5600000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.680000] cfg80211:   (5650000 KHz - 5710000 KHz @ 40000 KHz), (300 mBi, 2000 mBm)
[   12.690000] cfg80211:   (5735000 KHz - 5835000 KHz @ 40000 KHz), (300 mBi, 3000 mBm)
[   12.740000] PPP generic driver version 2.4.2
[   12.900000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   13.020000] NET: Registered protocol family 24
[   13.040000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[   13.050000] ehci-platform ehci-platform: Generic Platform EHCI Controller
[   13.050000] ehci-platform ehci-platform: new USB bus registered, assigned bus number 1
[   13.090000] ehci-platform ehci-platform: irq 3, io mem 0x1b000000
[   13.110000] ehci-platform ehci-platform: USB 2.0 started, EHCI 1.00
[   13.110000] hub 1-0:1.0: USB hub found
[   13.120000] hub 1-0:1.0: 1 port detected
[   13.140000] nf_conntrack version 0.5.0 (456 buckets, 1824 max)
[   13.480000] usb 1-1: new low-speed USB device number 2 using ehci-platform
[   18.420000] device eth0 entered promiscuous mode
[   19.120000] eth0: link up (1000Mbps/Full duplex)
[   19.120000] br-lan: port 1(eth0) entered forwarding state
[   19.130000] br-lan: port 1(eth0) entered forwarding state
[   21.130000] br-lan: port 1(eth0) entered forwarding state
[   21.300000] device wlan0 entered promiscuous mode
[   21.670000] br-lan: port 2(wlan0) entered forwarding state
[   21.680000] br-lan: port 2(wlan0) entered forwarding state
[   23.680000] br-lan: port 2(wlan0) entered forwarding state
[  229.080000] uhci_hcd: USB Universal Host Controller Interface driver
[  310.460000] ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver</code></pre></div><p>Please help me beacause i&#039;m a completely noob (and sorry for may bad english).<br />It&#039;s 3 days that i spend time on this problem and i don&#039;t know nothig about linux&amp;co.</p><p>Thanx to all!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171434">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">&lt;Lork&gt;</div>
					<div class="post-datetime">
						3 Jul 2012, 16:34					</div>
				</div>
				<div class="post-content content">
					<p>No one? please help!!! </p><p>Now i had just tried to reset the weather station but the problem seem to be other</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171498">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">&lt;Lork&gt;</div>
					<div class="post-datetime">
						4 Jul 2012, 09:59					</div>
				</div>
				<div class="post-content content">
					<p>Up</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p171564">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">ziomax66</div>
					<div class="post-datetime">
						5 Jul 2012, 00:04					</div>
				</div>
				<div class="post-content content">
					<p>Pazienta prima o poi qualcuno risponderà.<br /><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188786">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Zodiac69</div>
					<div class="post-datetime">
						13 Jan 2013, 16:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi LORK</p><p>Have you made any progress on this issue?<br />I have exactly the same issue....</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p202274">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">arnulf</div>
					<div class="post-datetime">
						20 May 2013, 00:35					</div>
				</div>
				<div class="post-content content">
					<p>I had the same problem with WR703N, seems <br />we have to use a hub to make it work.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>