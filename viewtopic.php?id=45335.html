<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> /etc/config/ipsec is missing</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p207517">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">farid21657</div>
					<div class="post-datetime">
						19 Jul 2013, 10:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,</p><p>I want to build an run ipsec tunnel&nbsp; on my machine running openwrt attitude (kernel 3.3.8). I am able to build and install all required packages&nbsp; including (strongswan-mod-uci - 5.0.4-1 plug in) but for some reason I can&#039;t see&nbsp; /etc/config/ipsec&nbsp; &nbsp;config file .&nbsp; I am wonder if I need to install something else. I am following&nbsp; <a href="http://wiki.openwrt.org/doc/howto/vpn.ipsec.basics.racoon">http://wiki.openwrt.org/doc/howto/vpn.i … ics.racoon</a></p><p>I appreciate if someone can help me with that.</p><br /><p>Cheers,<br />Farid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p207770">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">birnenschnitzel</div>
					<div class="post-datetime">
						22 Jul 2013, 16:36					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>welcome to the forum. First of all you have to decide if you go with racoon or with strongswan. Both &quot;products&quot; are covered in the wiki separately. Whatever solution you prefer you have to create an edit /etc/config/racoon or /etc/config/ipsec yourself.</p><p>Markus</p><p>P.S. strongswan-mod-uci plugin is something extra and not required by the wiki articles.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p207796">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">farid21657</div>
					<div class="post-datetime">
						22 Jul 2013, 22:50					</div>
				</div>
				<div class="post-content content">
					<p>Thank yo so much for your response.&nbsp; I am going with strongwan . So my thought was I should see automatically /etc/config/ipsec&nbsp; once I installed all required packages . So now what you are saying I need to create it myself.</p><p>My assumption is if I use&nbsp; /etc/config/ipsec config file I should be able to create an Ipsec tunnel without touching any other files ( like /etc/ipsec.conf&nbsp; &nbsp;or /etc/strongswan.con&quot;&nbsp; ) . Is this statement true?</p><p>Thanks again,<br />Farid</p><p>P.S would it be possible to point me to a proper link explaining openwrt/strongswan&nbsp; interface?(Including key generation)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p207885">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">birnenschnitzel</div>
					<div class="post-datetime">
						23 Jul 2013, 22:26					</div>
				</div>
				<div class="post-content content">
					<p>Close to it. If you follow the wiki, you need</p><p>- the scripts from there<br />- a file /etc/config/ipsec </p><p>The rest is generated automatically.</p><p>Markus</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p207900">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">farid21657</div>
					<div class="post-datetime">
						24 Jul 2013, 04:19					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot Markus for the&nbsp; response. <br /> I have copied the&nbsp; script&nbsp; (etc/init.d/ipsec) from the OpenWrt wiki&nbsp; &nbsp;and also created&nbsp; /etc/config/ipsec with the content copied from the wiki.&nbsp; When I start ipsec&nbsp; (etc/init.d/ipsec start)&nbsp; &nbsp;ipsec script will create empty files for ipsec.conf , ipsec.secrets ( only the first line is # generated by /etc/init.d/ipsec ).&nbsp; It seems&nbsp; ipsec script doesn&#039;t parse properly the&nbsp; /etc/config/ipsec.&nbsp; &nbsp;I used the&nbsp; &nbsp;/etc/config/ipsec&nbsp; from the wiki. How could I troubleshoot this?<br />If we add some sections that are not in ipsec file in wiki does the script work or break?</p><p>And next question is&nbsp; there any step by step user guide to show how to connect openwrt gateway to another gateway( could be openwrt too) including key creation for IKE? </p><p>Many thanks,<br />Farid</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p208222">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">birnenschnitzel</div>
					<div class="post-datetime">
						26 Jul 2013, 23:13					</div>
				</div>
				<div class="post-content content">
					<p>It is more or less simply <a href="http://wiki.openwrt.org/doc/howto/vpn.ipsec.site2site.racoon">http://wiki.openwrt.org/doc/howto/vpn.i … ite.racoon</a></p><p>Best regards.</p><p>Markus</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>