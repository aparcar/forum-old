<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Building Freewsitch packages</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p135524">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Ritmo2k</div>
					<div class="post-datetime">
						19 May 2011, 01:13					</div>
				</div>
				<div class="post-content content">
					<p>I have a Buffalo WZR-HP-G300NH running rc4 that I need to build newer freeswitch packages for.<br />Looking through the forum, I see whats needed to properly compile freeswitch and choose the modules needed, but is it possible to use the Imagebuilder for not only rc4, but for a recent checkout of freeswitch as well?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135528">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						19 May 2011, 03:21					</div>
				</div>
				<div class="post-content content">
					<p>Why not check out from SVN repository to build from scratch?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135529">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Ritmo2k</div>
					<div class="post-datetime">
						19 May 2011, 04:39					</div>
				</div>
				<div class="post-content content">
					<p>Hey Mazi,<br />I&#039;m not sure I follow you, in other words do not use Imagebuilder?<br />I had issues a while ago when I once attempted to build with my Fedora x64 wkst, so I thought the Imagebuilder would eliminate any guess work.</p><p>Also, openwrt rvn doesn&#039;t necessarily contain trunk for freeswitch, it still references the 1.0.6 tarball on the openwrt website, doesn&#039;t it?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135540">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						19 May 2011, 12:43					</div>
				</div>
				<div class="post-content content">
					<p>ImageBuilder is old name for ImageGenerator. This tool does not compile anything.</p><p>To build = compile/cross compile stuff you need to utilize gcc. And to make life simpler you should use the Toolchain. <a href="http://wiki.openwrt.org/doc/howto/user.advanced">http://wiki.openwrt.org/doc/howto/user.advanced</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135549">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Ritmo2k</div>
					<div class="post-datetime">
						19 May 2011, 13:21					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for clarifying that Orca, I&#039;ll hold off as the risk in making the unit non functional would be worse than accounting for a few quirks in the older freeswitch release.</p><p>How does one follow the status of packages, are there any automated means to know when the source used for a package gets updated, versus just the release of openwrt getting updated but using the same source for the specific package?</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135552">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						19 May 2011, 13:37					</div>
				</div>
				<div class="post-content content">
					<p>This contain only little information: <a href="http://wiki.openwrt.org/doc/howto/user.advanced">http://wiki.openwrt.org/doc/howto/user.advanced</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135576">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						19 May 2011, 16:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ritmo2k wrote:</cite><blockquote><p>Hey Mazi,<br />I&#039;m not sure I follow you, in other words do not use Imagebuilder?</p></blockquote></div><p>If you take a look at <a href="https://dev.openwrt.org/wiki/GetSource">OpenWrt source repository downloads</a> page, there are several SVN branches you can choose to download the whole source tree to compile from scratch, including building the GCC compilers to compile an OpenWRT firmware. (For me, I use the Development branch which is updated on a daily base.) There are many other ways to download from any OpenWRT SVN repositories. The way I did this is as follows:<br /></p><div class="codebox"><pre><code>1. Create and change into an empty directory, i.e. /opt/openwrt-svn-trunk
2. svn co svn://svn.openwrt.org/openwrt/trunk .
3. svn up
4. make package/symlinks
5. make defconfig
6. make menuconfig
7. make</code></pre></div><p>In item #1 above, you can create and name the directory anyway you want. Just make sure the partition that you will be using to create the directory to contain OpenWRT source tree for compilation is big. If you just want to compile an OpenWRT firmware with a single <a href="http://wiki.openwrt.org/doc/devel/env">build environment</a>, perhaps a 10+ GB space should be sufficient. In my case, it easily uses up my 40+ GB with at least four different build environments.</p><p>In Item #6, you can configure how to (parallel) build OpenWRT firmware. This includes what to add in the firmware as well as which compiler/libraries to use.</p><p>In item #7, if you enable <strong>Global build settings</strong> -&gt; <strong>Compile certain packages parallelized</strong> in <em>make menuconfig</em> (Item #6) and you have a multi-core computer system, you can make use of some (if not all) cores to speed up the build/compile of OpenWRT through the <em>-j</em> switch. In my case with an AMD64 PhantomII X3, I execute <em>ionice -c3 nice -n20 make -j10</em> to build an OpenWRT firmware from scratch. For more information on this, please read <a href="http://wiki.openwrt.org/doc/howto/build">Building OpenWrt</a> in section <em>Building Images</em>. Parallel option may break compilation!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135583">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Ritmo2k</div>
					<div class="post-datetime">
						19 May 2011, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>Mazi,<br />I appreciate your thorough response very much! I will give this a try. I noticed you were set as maintainer for the fs packages, and that it has been, or is going to be set to pull from trunk, nice. I take it since your response never indicated a known issue, <a href="https://dev.openwrt.org/ticket/9242">https://dev.openwrt.org/ticket/9242</a> is fixed?</p><p>Again, thank you *very* much!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p135602">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						19 May 2011, 19:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Ritmo2k wrote:</cite><blockquote><p>I take it since your response never indicated a known issue, <a href="https://dev.openwrt.org/ticket/9242">https://dev.openwrt.org/ticket/9242</a> is fixed?</p></blockquote></div><p>That ticket was assigned to someone else and I can&#039;t close it. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>