<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> help me cleanup a little on the router</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p64554">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ovizii</div>
					<div class="post-datetime">
						4 Mar 2008, 16:14					</div>
				</div>
				<div class="post-content content">
					<p>sorry to bother with such a dumb question, but the router wrt54g or gs cannot remember right now as its a remote router, has reached its space capacity :-( although you might consider my questions a little basic, I succeeded in doing a fairly complex install. its been done for a friend of mine, who needs to have vpn passthrough to connect to their office remotely.<br />I followed some how tos and ended up having not event the space left, to write a /etc/init.d/S95-custom-user-startup file :-(</p><p>I&#039;ll post some info here, together with the installed packages, maybe you can give me some hints what could be removed, but its highly problematic, as I cannot physically go to the router in case I break anything :-(</p><p>almost forgot: using X-Wrt with openwrt white russian.</p><p>status page says:</p><p>RAM Usage<br />Total: 14308 KiB&nbsp; &nbsp; <br />97%<br />Used: 13816 KiB (97%)</p><p>Mount Usage<br />/tmp<br />none&nbsp; &nbsp; <br />2%<br />156KiB of 7152KiB<br />/jffs<br />/dev/mtdblock/4&nbsp; &nbsp; <br />98%<br />2080KiB of 2112KiB<br />/<br />/jffs&nbsp; &nbsp; <br />100%<br />1152KiB of 1152KiB</p><p>Installed Packages</p><p>Action&nbsp; &nbsp; Package&nbsp; &nbsp; Version&nbsp; &nbsp; Description<br />Uninstall&nbsp; &nbsp; base-files&nbsp; &nbsp; 10&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; base-files-brcm&nbsp; &nbsp; 2&nbsp; &nbsp; Board/architecture specific files<br />Uninstall&nbsp; &nbsp; bridge&nbsp; &nbsp; 1.0.6-1&nbsp; &nbsp; Ethernet bridging tools<br />Uninstall&nbsp; &nbsp; busybox&nbsp; &nbsp; 1.4.2-1&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; dnsmasq&nbsp; &nbsp; 2.35-1&nbsp; &nbsp; A lightweight DNS and DHCP server<br />Uninstall&nbsp; &nbsp; dropbear&nbsp; &nbsp; 0.49-1&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; dsniff&nbsp; &nbsp; 2.4b1-2&nbsp; &nbsp; collection of tools for network auditing and penetration testing<br />Uninstall&nbsp; &nbsp; ez-ipupdate&nbsp; &nbsp; 3.0.11b8-4&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; haserl&nbsp; &nbsp; 0.8.0-1&nbsp; &nbsp; a CGI wrapper to embed shell scripts in HTML documents<br />Uninstall&nbsp; &nbsp; ipkg&nbsp; &nbsp; 0.99.149-2&nbsp; &nbsp; lightweight package management system<br />Uninstall&nbsp; &nbsp; ipkg-upgrade-fix&nbsp; &nbsp; 0.2-1&nbsp; &nbsp; Shows warning about &#039;ipkg upgrade&#039; when user tries to use it.<br />Uninstall&nbsp; &nbsp; iptables&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; The netfilter firewalling software for IPv4<br />Uninstall&nbsp; &nbsp; iptables-mod-conntrack&nbsp; &nbsp; 1.3.3-3&nbsp; &nbsp; Iptables (IPv4) extensions for connection tracking<br />Uninstall&nbsp; &nbsp; iwlib&nbsp; &nbsp; 29.pre10-1&nbsp; &nbsp; Library for setting up WiFi cards using the Wireless Extension<br />Uninstall&nbsp; &nbsp; kernel&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; kmod-brcm-wl&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Proprietary driver for Broadcom Wireless chipsets<br />Uninstall&nbsp; &nbsp; kmod-diag&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel modules for LEDs and buttons<br />Uninstall&nbsp; &nbsp; kmod-gre&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel GRE tunneling support<br />Uninstall&nbsp; &nbsp; kmod-ipt-conntrack&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Extra Netfilter (IPv4) kernel modules for connection tracking<br />Uninstall&nbsp; &nbsp; kmod-ipt-nat-default&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Default Netfilter (IPv4) NAT kernel modules for special protocols<br />Uninstall&nbsp; &nbsp; kmod-ipt-nat-extra&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Extra Netfilter (IPv4) NAT kernel modules for special protocols<br />Uninstall&nbsp; &nbsp; kmod-ipt-nat-pptp&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Netfilter (IPv4) NAT kernel modules for GRE and PPTP<br />Uninstall&nbsp; &nbsp; kmod-ppp&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; PPP support<br />Uninstall&nbsp; &nbsp; kmod-pppoe&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; PPP over Ethernet support<br />Uninstall&nbsp; &nbsp; kmod-switch&nbsp; &nbsp; 2.4.30-brcm-1&nbsp; &nbsp; switch driver for robo/admtek switch<br />Uninstall&nbsp; &nbsp; kmod-tun&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Kernel TUN/TAP extension<br />Uninstall&nbsp; &nbsp; kmod-wlcompat&nbsp; &nbsp; 2.4.30-brcm-5&nbsp; &nbsp; Compatibility module for using the Wireless Extension with broadcom&#039;s wl<br />Uninstall&nbsp; &nbsp; libgcc&nbsp; &nbsp; 3.4.4-10&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; libgdbm&nbsp; &nbsp; 1.8.3-1&nbsp; &nbsp; the GNU database manager<br />Uninstall&nbsp; &nbsp; liblzo&nbsp; &nbsp; 2.02-1&nbsp; &nbsp; a real-time data compression library<br />Uninstall&nbsp; &nbsp; libmatrixssl&nbsp; &nbsp; 1.2.4-1&nbsp; &nbsp; An embedded SSL implementation<br />Uninstall&nbsp; &nbsp; libncurses&nbsp; &nbsp; 5.2-9&nbsp; &nbsp; Terminal handling library<br />Uninstall&nbsp; &nbsp; libnet0&nbsp; &nbsp; 1.0.2a-7&nbsp; &nbsp; a low-level packet creation library<br />Uninstall&nbsp; &nbsp; libnids&nbsp; &nbsp; 1.18-1&nbsp; &nbsp; A network intrusion detection library<br />Uninstall&nbsp; &nbsp; libopenssl&nbsp; &nbsp; 0.9.8d-3&nbsp; &nbsp; OpenSSL (Secure Socket Layer) libraries<br />Uninstall&nbsp; &nbsp; libpcap&nbsp; &nbsp; 0.9.4-1&nbsp; &nbsp; a low-level packet capture library<br />Uninstall&nbsp; &nbsp; libpthread&nbsp; &nbsp; 0.9.27-1&nbsp; &nbsp; POSIX threads library<br />Uninstall&nbsp; &nbsp; mtd&nbsp; &nbsp; 4&nbsp; &nbsp; Tool for modifying the flash chip<br />Uninstall&nbsp; &nbsp; nano&nbsp; &nbsp; 1.3.8-1&nbsp; &nbsp; An enhanced clone of the Pico text editor<br />Uninstall&nbsp; &nbsp; nas&nbsp; &nbsp; 3.90.37-17&nbsp; &nbsp; Proprietary Broadcom WPA Authenticator/Supplicant<br />Uninstall&nbsp; &nbsp; ntpclient&nbsp; &nbsp; 2003_194-2&nbsp; &nbsp; NTP client for setting system time from NTP servers.<br />Uninstall&nbsp; &nbsp; nvram&nbsp; &nbsp; 1&nbsp; &nbsp; NVRAM utility and libraries for Broadcom hardware<br />Uninstall&nbsp; &nbsp; openvpn&nbsp; &nbsp; 2.0.9-1&nbsp; &nbsp; Open Source VPN solution using SSL<br />Uninstall&nbsp; &nbsp; ppp&nbsp; &nbsp; 2.4.3-7&nbsp; &nbsp; a PPP (Point-to-Point Protocol) daemon (with MPPE/MPPC support)<br />Uninstall&nbsp; &nbsp; ppp-mod-pppoe&nbsp; &nbsp; 2.4.3-7&nbsp; &nbsp; a PPPoE (PPP over Ethernet) plugin for PPP<br />Uninstall&nbsp; &nbsp; uclibc&nbsp; &nbsp; 0.9.27-10&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; webif&nbsp; &nbsp; 0.3-9&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; webif-theme-xwrt&nbsp; &nbsp; 0.3-9&nbsp; &nbsp; <br />Uninstall&nbsp; &nbsp; wificonf&nbsp; &nbsp; 7&nbsp; &nbsp; Replacement utility for wlconf<br />Uninstall&nbsp; &nbsp; wireless-tools&nbsp; &nbsp; 29.pre10-1&nbsp; &nbsp; Tools for setting up WiFi cards using the Wireless Extension</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64577">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bobjr777</div>
					<div class="post-datetime">
						4 Mar 2008, 22:09					</div>
				</div>
				<div class="post-content content">
					<p>If you dont need PPP you could remove all of the PPP packages.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64585">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ovizii</div>
					<div class="post-datetime">
						4 Mar 2008, 23:05					</div>
				</div>
				<div class="post-content content">
					<p>sorry, I forgot some info: the router conects to the internet by ppoe.</p><p>I guess I could remove the ntp packet.</p><p>btw. is there a &quot;list&quot; where I could lookup how much space a certain packet occupies?</p><p>###edit###<br />if I go to SYSTEM &gt; STARTUP I get this message, and the file displays as empty :-(<br />&#039;/etc/init.d/S95custom-user-startup&#039; exists chmod: /etc/init.d/S95custom-user-startup: No such file or directory</p>											<p class="post-edited">(Last edited by <strong>ovizii</strong> on 5 Mar 2008, 00:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64652">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bobjr777</div>
					<div class="post-datetime">
						5 Mar 2008, 22:21					</div>
				</div>
				<div class="post-content content">
					<p>You could go to <a href="http://downloads.openwrt.org/whiterussian/packages/">http://downloads.openwrt.org/whiterussian/packages/</a> It says the size of all the files.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64662">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						6 Mar 2008, 00:28					</div>
				</div>
				<div class="post-content content">
					<p>That should just give you an idea.&nbsp; It won&#039;t be exact, because the .ipk files are actually .tar.gz files (i.e. they are compressed with gzip).&nbsp; Also, the installed packages are on jffs or squashfs which are compressed filesystems.&nbsp; squashfs compresses better than jffs, but gzip is probably going to compress better.&nbsp; i.e. the actual space taken up by each package should be more than the space taken up by a .ipk file.</p><p>Of course you will not be able to remove a file off squashfs because squashfs is read only.&nbsp; It will just look like it&#039;s been removed because it is hidden when you try to remove it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64667">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">ovizii</div>
					<div class="post-datetime">
						6 Mar 2008, 02:06					</div>
				</div>
				<div class="post-content content">
					<p>thx I&#039;ll look that list maybe it gives me an idea what to deinstall.</p><p>bte. I was going to use the gui to deisntall, that will free the space, right? I was not going to manually delete.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64690">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						6 Mar 2008, 13:30					</div>
				</div>
				<div class="post-content content">
					<p>It depends on if the package is on squashfs (i.e. it was included with the image that you flashed) or if it is on jffs (i.e. you installed it later).</p><p>By the way, if this is OpenWrt and you installed webif later (i.e. if you did NOT install an X-Wrt image) then you could uninstall all the webif packages from the command line to see if that helps.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>