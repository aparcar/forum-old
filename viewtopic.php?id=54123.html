<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [Solved] The meaning of slow blinking of system &amp; QSS LED?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p254985">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">lovetide</div>
					<div class="post-datetime">
						20 Nov 2014, 09:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi, I want to upgrade my TP-Link WR841N v6 from 4M flash to 16M flash.</p><p>The 4M flash chip is Spansion FL032PIF, the 16M flash chip is Winbond W25Q128FVSSIG. I&#039;ve programmed the 16M flash chip via CH341A programmer. The program/data I programmed is the (U-BOOT + ART partition of 4M chip) + (OpenWRT.bin which I build by myself).</p><p>After the 16M flash chip replaced the 4M one, power on, now the left (System) &amp; right(QSS) LED keeps slow blinking/flashing, what does it mean?&nbsp; Bad soldering? Bad program? Wrong chip?</p>											<p class="post-edited">(Last edited by <strong>lovetide</strong> on 25 Nov 2014, 13:34)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p255144">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">lovetide</div>
					<div class="post-datetime">
						21 Nov 2014, 21:36					</div>
				</div>
				<div class="post-content content">
					<p>Turns out I created a wrong program which caused an infinite loop of boot&amp;resetting of u-boot, hence the &quot;slow blinking&quot; occured. It should be U-BOOT + OpenWRT.bin + some paddings + ART, I make a mistake on the order of firware partition &amp; art partition.</p><p>However, when I use serial port to find the problem, I saw u-boot only recognize 4M flash, Does this mean I need modify the u-boot source code like <a href="https://forum.openwrt.org/viewtopic.php?id=52823">this thread</a>?<br /></p><div class="codebox"><pre><code>U-Boot 1.1.4 (Apr 15 2013 - 16:30:28)

AP93 (ar7240) U-boot
DRAM:  
sri
#### TAP VALUE 1 = 8, 2 = 8
32 MB
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

BOARD IS NOT CALIBRATED!!!
In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7014
eth0: 00:03:7f:09:0b:ad
eth0 up
No valid address in Flash. Using fixed address
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
ATHRS26: resetting s26
ATHRS26: s26 reset done
eth1 up
eth0, eth1
Autobooting in 1 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... Error: Bad gzipped data
GUNZIP ERROR - must RESET board to recover

Resetting...

(** infinite loop from the begining **)</code></pre></div><p>^<br />|---- I use U-Boot to upgraded to a new <a href="http://www.right.com.cn/forum/thread-136444-1-1.html">U-Boot with Web Failsafe</a>, then use the new U-Boot fixed/upgraded the firmware and art, now everything is ok.</p>											<p class="post-edited">(Last edited by <strong>lovetide</strong> on 25 Nov 2014, 13:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p277461">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mihai_spatariu</div>
					<div class="post-datetime">
						25 May 2015, 08:06					</div>
				</div>
				<div class="post-content content">
					<p>Hello lovetide, <br />Can you please post your backup of the original 4mb flash file? <br />I was toying around some days ago trying to change the flash with a 8 Mb chip (using the pigback method), and I hard bricked the wr841n. <br />I had only a serial interface at the time, now I have also a way to write flash externally and soldering skills.<br />Some help in building a 8mb full flash that I can burn externally&nbsp; via programmer would be very usefull or, at least a full 4mb dump of the original flash. <br />The unit was fully working before, so no hardware issue.<br />If you still have this file it would be great help for me to take a look at it.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>