<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Doubt about package fstools while mounting overlay</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p336961">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">gmpy</div>
					<div class="post-datetime">
						2 Sep 2016, 11:53					</div>
				</div>
				<div class="post-content content">
					<p>hello ,<br />it seems useless to match uuid between rootfs partition and records in /etc/.extroot-uuid<br />in function check_extroot in block.c, i see that codes<br /></p><div class="codebox"><pre><code>if (*uuid || !strcasecmp(uuid, pr-&gt;uuid))
                  return 0;</code></pre></div><p>it means that whether the uuid in .extroot-uuid matching rootfs&#039;s uuid or not ï¼Œit will return sucessfully if .extroot-uuid is not empty<br />how if i delete check_extroot?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p336965">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">gmpy</div>
					<div class="post-datetime">
						2 Sep 2016, 12:25					</div>
				</div>
				<div class="post-content content">
					<p>is it nobody now?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337079">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">elektroman</div>
					<div class="post-datetime">
						3 Sep 2016, 17:26					</div>
				</div>
				<div class="post-content content">
					<p>Mmmm&nbsp; only 1h, that&#039;s bold</p><p>Look like some error in a previous patch,<br />can you test ??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337191">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">gmpy</div>
					<div class="post-datetime">
						5 Sep 2016, 05:05					</div>
				</div>
				<div class="post-content content">
					<p>i modify it , codes as follows ( block.c - check_extroot() ) :<br /></p><div class="codebox"><pre><code>            if (*uuid &amp;&amp; !strcasecmp(uuid, pr-&gt;uuid)) {
                  ULOG_ERR(&quot;extroot: UUID match (root: %s, %s: %s)\n&quot;,
                       pr-&gt;uuid, basename(path), uuid);
              } else {
                  ULOG_ERR(&quot;extroot: UUID mismatch (root: %s, %s: %s), but continue\n&quot;,
                       pr-&gt;uuid, basename(path), uuid);
              }
              return 0;</code></pre></div><p>it only prints some notes and allway returns 0, then run , it seems all are ok even if&nbsp; i delete /etc/.extroot-uuid or modify recorded id in it<br />so, what is the use of function&nbsp; check_extroot?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p337214">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">gmpy</div>
					<div class="post-datetime">
						5 Sep 2016, 11:15					</div>
				</div>
				<div class="post-content content">
					<p>it is funny that it was fix one day before my asking.<br />you can see in git.openwrt.org</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>