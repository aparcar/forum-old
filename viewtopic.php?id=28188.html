<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> SD mod for Dlink WBR-1310</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 18 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p125782">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">neoveo</div>
					<div class="post-datetime">
						18 Jan 2011, 04:30					</div>
				</div>
				<div class="post-content content">
					<p>Hi All,<br />I have an old Dlink WBR-1310 D1 kicking around and I was wondering if it is possible to do the SD mod to it.</p><p>I have the WBR-1310 just sitting here and have a 64 Mb micro SD card and adapter from an old cell phone.&nbsp; </p><p>I am wondering if it is possible to do the SD mod and install a base version of OpenWrt on the 2Mb flash chip and use the SD card to access all the extra features (QoS, VPN, etc.).</p><p>This is very much a fun project that I want to do just to see if it can be done.</p><p>Plus this gives me an opportunity to get some hands on learning of OpenWrt.</p><p>I&#039;ve searched high and low and have learned that some people have replaced the 2Mb flash ram with a 4Mb chip, however the instructions on how to do so are thin and I&#039;d prefer not desoldering a chip with 16 connections.</p><p>I did find a thread where people where successful in doing the SD mod on a AR5315 chipset, the WBR-1310 however has the Atheros: AR2317 chipset (if I am not mistaken).</p><p>Here is a post to a couple of useful links that I found:</p><p><a href="https://forum.openwrt.org/viewtopic.php?id=8912">https://forum.openwrt.org/viewtopic.php?id=8912</a></p><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=258818&amp;sid=cbaeedbd77c77d0bc7d9a244f9088281">http://www.dd-wrt.com/phpBB2/viewtopic. … 44f9088281</a></p><br /><p>Also, could someone please point me to a thread or provide me with a link explaining how the GPIO are determined (I think I read somewhere that OpenWrt has a program available to help in this regards).</p><p>I would very much like to know if this SD mod is even possible with the WBR-1310 and convert this humble router into a kick-ass OpenWrt router.</p><p>If the SD mod can&#039;t be done, how about the USB mod?</p><p>I may be new to OpenWrt but am not new to Linux (been running it exclusively at home for about 5 years - I actually multi-boot 8 distro&#039;s none of them are Ubuntu).<br />I also have some experience soldering and have flashed a couple of routers with third party firmware. <br />The first one was with Tomato, the second one was bricked and I fixed it prior to flashing DD-WRT.</p><p>If this project is possible, I will contribute back to the community posting all the steps required, pitfalls to avoid and photos (if possible) to do this in case someone else wants to have some fun with an inexpensive router and some spare parts.<br />I think if you look around and are a little lucky you could get everything necessary for this project for $0-$10.</p><p>Sorry for the long post but I searched high and low and have not found any answers and so thought I&#039;d ask the experts.</p><p>I would greatly welcome and appreciate any help that you may provide.</p>											<p class="post-edited">(Last edited by <strong>neoveo</strong> on 18 Jan 2011, 07:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125856">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						18 Jan 2011, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>The WBR1310 is very similar to the DIR-300/AR430W but neutered with a 2 MB flash chip.</p><p>Picking up and old DIR-300/AR430W should be relatively cheap.<br />It is a lot less hastle than replacing the flash chip.</p><p>However, if this is an exercise on hacking, having some fun and a lot of frustration (takes a bit of skill, some solder tools, jtag and a lot of patience) then try the following:</p><p>(1) Seach OPENWRT for WBR1310 and you will find some info on how to change out the flash chip.<br />For 4MB you will need a SPANSION - S25FL032A FLASH 3V 32Mb SPI type chip.<br />Look up the type of flash chip used in the DIR-300.</p><p>(2) Try this external link <a href="http://tinyhack.com/2010/04/04/d-link-dir-300-serial-port-and-sd-mod/">http://tinyhack.com/2010/04/04/d-link-d … nd-sd-mod/</a></p><p>(3) You will need a JTAG interface to reflash the AP61 Boot ROM Redboot.</p><p>(3) Google is your friend.</p><p>Probably not worth it if you don&#039;t have any of the solder tools/skills or JTAG already.</p><p>lots of luck;</p><p>john</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125875">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">neoveo</div>
					<div class="post-datetime">
						19 Jan 2011, 00:45					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnisaacson wrote:</cite><blockquote><p>The WBR1310 is very similar to the DIR-300/AR430W but neutered with a 2 MB flash chip.</p><p>Picking up and old DIR-300/AR430W should be relatively cheap.<br />It is a lot less hastle than replacing the flash chip.</p><p>However, if this is an exercise on hacking, having some fun and a lot of frustration (takes a bit of skill, some solder tools, jtag and a lot of patience) then try the following:</p><p>(1) Seach OPENWRT for WBR1310 and you will find some info on how to change out the flash chip.<br />For 4MB you will need a SPANSION - S25FL032A FLASH 3V 32Mb SPI type chip.<br />Look up the type of flash chip used in the DIR-300.</p><p>(2) Try this external link <a href="http://tinyhack.com/2010/04/04/d-link-dir-300-serial-port-and-sd-mod/">http://tinyhack.com/2010/04/04/d-link-d … nd-sd-mod/</a></p><p>(3) You will need a JTAG interface to reflash the AP61 Boot ROM Redboot.</p><p>(3) Google is your friend.</p><p>Probably not worth it if you don&#039;t have any of the solder tools/skills or JTAG already.</p><p>lots of luck;</p><p>john</p></blockquote></div><p>Thanks for your help John I really appreciate it.</p><p>I made a few calls and the Spansion 29F032 is $16 and no one could source the S25FL032A.&nbsp; That&#039;s way more money than I want to spend on a flash chip to mod this.</p><p>Do you know how to determine the correct GPIO solder points for the WBR-1310?</p><p>My thinking is once I have those points it should be fairly simple to do the SD mod and I am hoping that the software mod will not be insurmountable.</p><p>I tried looking up the GPIO program that is mentioned on OpenWrt but the link is no longer valid.</p><p>I Googled the GIPO.c program and found the code, although it appears that it is for later versions of the Atheros: AR2317 chipset.<br />Am I wrong about this?</p><p>Also there doesn&#039;t seem to be much in way of instruction as to how to use it.&nbsp; I do have a multimeter, but is it necessary to use an Oscilloscope to test these for these points?</p><p>How similar is the hardware between the WBR1310 and the DIR-300/AR430W?</p><p>I think I saw a post with the GPIO points for the DIR-300, could I use those?</p><p>Thanks again for your help, I do appreciate it and see that you too would like to mod the WBR1310.</p><p>Hopefully we can find a way to turn this relatively inexpensive router into something quite remarkable.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125900">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						19 Jan 2011, 02:48					</div>
				</div>
				<div class="post-content content">
					<p>I think you will find the GPIO&#039;s on the WBR2310 the same as the DIR-300.<br />I modified a WBR2310 to a 4MB flash ROM and then installed Redboot. <br />For the hardware I don&#039;t have a scope or any fancy test equipment. I just use a good quality VOM.<br />(I do have about 45 years of electronic&#039;s and software experience going for me so that helps.)<br />This made it the same as a DIR-300/AR430W for all intents and purpose.<br />Check the documentation (http://wiki.openwrt.org/toh/d-link/dir-300?s[]=dir&amp;s[]=300).</p><p>You will need a jtag (<a href="http://wiki.openwrt.org/doc/hardware/jtag.cable">http://wiki.openwrt.org/doc/hardware/jtag.cable</a>) to get your boot loader installed.</p><p>If you go to the tinyhack.com web site (<a href="http://tinyhack.com/2010/04/04/d-link-dir-300-serial-port-and-sd-mod/">http://tinyhack.com/2010/04/04/d-link-d … nd-sd-mod/</a>) it lays out the GPIO points.</p><p>There is firmware to test the GPIO points but you need a larger flash to install it from the OPENWRT OPKG source.<br />You have to have OPENWRT installed so sort of a catch22 if you don&#039;t have the resources as noted earlier.</p><p>I have not found any easily available OPENWRT that fits in a 2MB flash for an Atheros based router but some one may have done it.<br />There is an old version of White Russian that fits 2MB on a Broadcom based router (check the repositories) but it is severely limited.</p><p>I have found if you search the forum and read the documentation and use Google you can pretty well figure out what you need to do.<br />I don&#039;t think there is any magic bullet, it just takes work and time to learn.<br />If you are struggling to understand the technical stuff then you have a bit of homework to do.<br />Be aware that playing with hardware and software can be a fast road to the &quot;land of the brick for you router&quot; so don&#039;t use you primary router to tinker with <br />but if this is an old unit and if you treat it like it is already toasted then go to and have fun...........it&#039;s the only way to learn.</p><p>Hope this helps.</p><p>john</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125902">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						19 Jan 2011, 02:51					</div>
				</div>
				<div class="post-content content">
					<p>correction I meant WBR2310.<br />Not sure if all applies to the WBR1310 although they look the same on the outside.</p><p>john</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125905">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">neoveo</div>
					<div class="post-datetime">
						19 Jan 2011, 03:07					</div>
				</div>
				<div class="post-content content">
					<p>Hi John,<br />I opened up my WBR1310 and compared it with the photos of the DIR-300 showing its GPIO points on the Tinyhack website.</p><p>Unfortunately they do not match, not even close.</p><p>And now I&#039;ve learned that there is no way for me to even find out the GPIO&#039;s.</p><p>From my previous searches I learned that the Spansion 29F032 is the flash chip to use which would allow me to install OpenWrt or DD-WRT, however at $16 for the chip alone is too much.<br />You could put that money towards a much better router instead.</p><p>If I can find a Spansion 29F032 on the cheap I&#039;ll do this mod, however Digikey doesn&#039;t even carry them.</p><p>Unfortunately it looks like I&#039;ve hit a brick wall with this one.</p><p>It was exciting to think about modding this old router though.</p><p>Thanks again for your help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125907">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">johnisaacson</div>
					<div class="post-datetime">
						19 Jan 2011, 03:25					</div>
				</div>
				<div class="post-content content">
					<p>Not a problem....sometimes someone gives a hint and gets you going.<br />Another thing that I&#039;m sure you already know, companies such as Dlink and others will issue the same router number with a different revision and it is a toataly different beast under the hood.</p><p>Can lead you up the garden path if you did not note the various different revisions.<br />Also check the supported devices in the documentation....this eliminates a lot of headaches.</p><p>Check around, there are devices that support the full OPENWRT for a few $$.<br />(hint: check with your local goodwill or salvation army outlets if they are in you niebourhood. you may pick up something for a couple of bucks).</p><p>john</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p125999">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">neoveo</div>
					<div class="post-datetime">
						20 Jan 2011, 05:30					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone know what other chip (4Mb) can be used to replace the Spansion 29F016 (2Mb) ?</p><p>I read somewhere that a Spansion 25FL032 may work but am unsure.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>