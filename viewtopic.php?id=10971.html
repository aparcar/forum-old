<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WDS or Client mode for wireless P2P link (and relay)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p49546">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">noelbou</div>
					<div class="post-datetime">
						1 Jun 2007, 22:49					</div>
				</div>
				<div class="post-content content">
					<p>Hello all !</p><p>I have 2 questions ... </p><p>Let say i want to create a wireless point to point link at some distance between 2 WRT54x ...</p><p>I am a somewhat confused about the WDS and &quot;Client mode&quot; ...</p><p>1 - Which one should be used for a P2P link ?</p><p>Let say that we don&#039;t have a LOS in between the 2 points is it possible to use a relay which a LOS to both points ?<br />Would that relay require 2 AP as below ?</p><p>P1 &lt;---- --- &gt; Relay1 -- Relay2 &lt;------ ------&gt; P2 </p><p>&nbsp; &nbsp; &nbsp; Wireless link&nbsp; &nbsp; &nbsp; &nbsp;Wired link&nbsp; &nbsp; &nbsp;Wireless link</p><br /><p>Or is there a better way to do this ... ?</p><p>I have read about passive relays using 2 directional antennas connected together but i doubt it would go very far ... </p><p>Thanks for any suggestion / help !!!</p><p>Noël</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49551">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						1 Jun 2007, 23:11					</div>
				</div>
				<div class="post-content content">
					<p>Yes, a 2-radio repeater setup is the best solution to your problem.&nbsp; That is what I use anywhere I need a repeater station.</p><p>In general WDS is used for single-radio repeater setups and is an inferior solution just cheaper.&nbsp; There is a 50% or more drop in bandwidth and there will be more packet drops due to a single half-duplex radio switching back and forth between it&#039;s 2 tasks.</p><p>There is no such things as a &quot;passive relay&quot;&nbsp; that&#039;s a load of BS.&nbsp; Say you have a lightbulb at A putting out 100 Watts of light, and 100 meters away a small fraction of those photons strike a mirror at B and get to some non-line-of-sight location C.&nbsp; What arrives at C will be an even smaller fraction of what struck the mirror at B.&nbsp; Radio is not the same as light but I think you get the idea.&nbsp; The idea of a &quot;repeater&quot; is it picks up an original signal, decodes it, then rebroadcasts a new iteration of the same data as FULL signal strength from B.&nbsp; Anything that does not transmit a freshly generated signal is NOT a repeater it&#039;s a lucky signal bounce.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49557">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">noelbou</div>
					<div class="post-datetime">
						2 Jun 2007, 01:56					</div>
				</div>
				<div class="post-content content">
					<p>Thank you for your reply !</p><p>Ok !&nbsp; So i understand something like this would be best </p><p>AP1 &lt;---&nbsp; &nbsp;---&gt;&nbsp; repeater &lt;-----&nbsp; ----&gt; AP2 </p><p>Now i suppose one could use 2 WRT54x to form a reapeater as in:<br />(I am searching for the most economical way to do this ... )</p><p>AP1 ---&gt;&nbsp; &nbsp;&lt;---&nbsp; Wrt1 ==== Wrt2 -----&gt;&nbsp; &lt;---- AP2 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Client&nbsp; &nbsp; &nbsp; &nbsp; Client.&nbsp; </p><p>=== = LAN<br />--- = WIFI</p><p>And this setup would require 4 directional antennas ... </p><p>Right ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49558">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						2 Jun 2007, 02:19					</div>
				</div>
				<div class="post-content content">
					<p>Yes, exactly.&nbsp; A 2-radio repeater station is the best solution for a full-bandwidth link with no performance impact.&nbsp; I run such setups and they run at full speed and little variation in latency, around 4 milliseconds end to end.&nbsp; Yes it will require directionals, i use panels or sometime grid dish.&nbsp; The 19 dBi grid dish from HyperLinkTech for example is pretty good.&nbsp; Run each pair of links on opposite frequencies to minimize interference (Ch. 1 for 1 pair and 11 for the other pair) and if possible separate them by some little distance.&nbsp; I usually use horizontal polarization on the antenna in my area there is lots of signal on vertical already. Lock both TX and RX antenna settings to the post the high-gain directional is attached to.&nbsp; Don&#039;t forget lightning protection if they are in any high place.&nbsp; I also have small UPS and ability to remote power-cycle with X-10 RF remote control unit without climbing.</p><p>I would probably just use WDS for simplicity instead of messing with the client-mode which can be a bit of a pain since it was original designed to talk to a SINGLE MAC address, and things get a bit wonky when you have multiple MAC on the other end of the link.&nbsp; I lock down the WDS links tightly though by using strong WPA-PSK AES keys in combination with MAC filtering to make sure each WRT is talking only to it&#039;s peer unit and no one else.&nbsp; In this way I am using WDS only for it&#039;s simple LAN bridging capabilities and complete ignoring it&#039;s ability to act as a repeater for WiFi clients since that would impact performance.</p><p>If you don&#039;t want to build your own like i do, there are units like the Ubiquiti PowerStation2 which integrates everything into one package with housing, radio, 18 dBi dual antennas with one horizontal and the other at vertical polarization, mast mounting kit, and an old-style passive 12-Volt Power-over-Ethernet system.&nbsp; And it runs OpenWRT.</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 2 Jun 2007, 02:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49559">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">noelbou</div>
					<div class="post-datetime">
						2 Jun 2007, 03:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello Vincentfox !</p><p>Great ! It&#039;s now clearer ...</p><p>Thank you so much for sharing your knowledge !<br />I have been following this group for a few month now and have noticed<br />that you (and many others) are always there to help !</p><p>You really contribute to make of OpenWrt a great platform for us all ... </p><p>Very appreciated :-)</p><p>Now i will be posting some more &quot;basic&quot; questions soon ;-)</p><p>Noël</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p49649">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">noelbou</div>
					<div class="post-datetime">
						3 Jun 2007, 22:25					</div>
				</div>
				<div class="post-content content">
					<p>Hello Vincent,</p><p>I have made a test setup with 3 WRT54GS and on WRTSL54GS and it works great !<br />This test is made over a short distance with stock antennas.</p><p>Here is my setup:</p><br /><p>AP1&nbsp; ---&gt;&nbsp; &nbsp; &lt;---&nbsp; AP2 ===== AP3 ---&gt;&nbsp; &lt;--- AP4<br />[&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;WDS1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; WDS2&nbsp; &nbsp; &nbsp; ]<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />192.168.1.1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.50&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .80</p><p>-- WIFI link <br />=== Wired link</p><br /><p>Ping times</p><p>From AP1 to AP2 (one wifi hop)<br />--- 192.168.1.50 ping statistics ---<br />4 packets transmitted, 4 packets received, 0% packet loss<br />round-trip min/avg/max = 2.0/2.2/3.0 ms</p><p>From AP1 to AP3 (one wifi hop + one wired hop)<br />--- 192.168.1.10 ping statistics ---<br />4 packets transmitted, 4 packets received, 0% packet loss<br />round-trip min/avg/max = 2.6/2.6/2.6 ms</p><p>From AP1 to AP4 (two wifi hops + one wired hop)</p><p>--- 192.168.1.80 ping statistics ---<br />16 packets transmitted, 16 packets received, 0% packet loss<br />round-trip min/avg/max = 3.4/4.2/8.9 ms</p><br /><p>--- 192.168.1.1 ping statistics ---<br />16 packets transmitted, 16 packets received, 0% packet loss<br />round-trip min/avg/max = 3.5/3.9/5.0 ms</p><p>+-------------------------------------------------------------------+</p><p>Thanks for the tips !</p><p>Noël</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>