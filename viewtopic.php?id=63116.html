<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [SOLVED] TP-LINK Archer C7 Image Size</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p313422">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">PicMelter</div>
					<div class="post-datetime">
						3 Mar 2016, 11:02					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone,</p><p>I built an image for the Archer C7 but its size is 16.3 Mb; it doesn&#039;t change anything even if I remove Luci, the size remains the same; I know that the Archer has 16Mb of Flash and I saw that the standard image shipped on OpenWRT site are 15.5Mb, so, before bricking it, I wanted to ask if it&#039;s safe to flash or if I need to modify something in my image configuration (even if, out of Luci, I can&#039;t remove anything; the selected packages are forced).</p><p>Thanks everyone</p>											<p class="post-edited">(Last edited by <strong>PicMelter</strong> on 8 Mar 2016, 11:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313424">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						3 Mar 2016, 11:16					</div>
				</div>
				<div class="post-content content">
					<p><a href="https://www.urbandictionary.com/define.php?term=blivet">16,3 &gt; 16,0</a></p><div class="quotebox"><cite>OpenWrt wiki wrote:</cite><blockquote><p>Tip: If you want to remove some of the default packages (for e.g. you do not need pppoe related packages), consult with the DEFAULT_PACKAGES and DEFAULT_PACKAGES.router section in the include/target.mk file.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313427">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">PicMelter</div>
					<div class="post-datetime">
						3 Mar 2016, 11:29					</div>
				</div>
				<div class="post-content content">
					<p>Thanks,</p><p>I tried to remove something (firewall, opkg ...)<br />remaining with those things</p><p>make[1] world<br /> make[2] target/compile<br /> make[3] -C target/linux compile<br /> make[2] package/cleanup<br /> make[2] package/compile<br /> make[3] -C package/libs/toolchain compile<br /> make[3] -C package/libs/libnl-tiny compile<br /> make[3] -C package/libs/libjson-c compile<br /> make[3] -C package/utils/lua compile<br /> make[3] -C package/libs/libubox compile<br /> make[3] -C package/system/ubus compile<br /> make[3] -C package/system/uci compile<br /> make[3] -C package/network/config/netifd compile<br /> make[3] -C package/system/ubox compile<br /> make[3] -C package/system/fstools compile<br /> make[3] -C package/libs/lzo compile<br /> make[3] -C package/libs/zlib compile<br /> make[3] -C package/libs/ncurses host-compile<br /> make[3] -C package/libs/ncurses compile<br /> make[3] -C package/utils/util-linux compile<br /> make[3] -C package/utils/ubi-utils compile<br /> make[3] -C package/system/procd compile<br /> make[3] -C package/system/usign host-compile<br /> make[3] -C package/utils/jsonfilter compile<br /> make[3] -C package/system/usign compile<br /> make[3] -C package/base-files compile<br /> make[3] -C package/boot/uboot-envtools compile<br /> make[3] -C package/firmware/linux-firmware compile<br /> make[3] -C package/kernel/linux compile<br /> make[3] -C package/network/utils/iptables compile<br /> make[3] -C package/utils/lua host-compile<br /> make[3] -C package/network/utils/iwinfo compile<br /> make[3] -C package/system/rpcd compile<br /> make[3] -C package/libs/mbedtls compile<br /> make[3] -C package/libs/polarssl compile<br /> make[3] -C package/libs/ustream-ssl compile<br /> make[3] -C package/network/services/uhttpd compile<br /> make[3] -C package/firmware/b43legacy-firmware compile<br /> make[3] -C package/network/services/hostapd compile<br /> make[3] -C package/network/services/hostapd compile<br /> make[3] -C package/network/utils/iw compile<br /> make[3] -C package/kernel/mac80211 compile<br /> make[3] -C package/firmware/ath10k-firmware compile<br /> make[3] -C package/kernel/gpio-button-hotplug compile<br /> make[3] -C package/libs/uclient compile<br /> make[3] -C package/network/config/swconfig compile<br /> make[3] -C package/network/ipv6/odhcp6c compile<br /> make[3] -C package/network/services/dnsmasq compile<br /> make[3] -C package/network/services/dropbear compile<br /> make[3] -C package/network/services/odhcpd compile<br /> make[3] -C package/system/mtd compile<br /> make[3] -C package/utils/busybox compile<br /> make[2] package/install<br /> make[3] -C package/system/opkg host-install<br /> make[3] package/preconfig<br /> make[2] target/install<br /> make[3] -C target/linux install<br /> make[2] package/index</p><p>But still 16.3 Mb; no matter how much stuff I remove the size remains 16.3Mb...mmm...strange no?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313428">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Max Hopper</div>
					<div class="post-datetime">
						3 Mar 2016, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>Tried <a href="https://wiki.openwrt.org/doc/howto/obtain.firmware.generate#cleanup">this</a>?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313429">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">PicMelter</div>
					<div class="post-datetime">
						3 Mar 2016, 11:35					</div>
				</div>
				<div class="post-content content">
					<p>I think I&#039;m going to do something like this; I&#039;m going to use the OpenWRT 15.5 Mb image from the site and then use the upgrade I built (4.1 Mb); I should be same working in this way.</p><p>--EDIT--<br />Yes, I already tried the cleanup but no effect, thanks</p>											<p class="post-edited">(Last edited by <strong>PicMelter</strong> on 3 Mar 2016, 11:35)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313467">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						3 Mar 2016, 16:25					</div>
				</div>
				<div class="post-content content">
					<p>FWIW, The C7v2 images I build for myself with the image builder are also 16.3Mb in size irrelevant of how many different packages they include.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313471">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">PicMelter</div>
					<div class="post-datetime">
						3 Mar 2016, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>Have you successfully flashed it on the router?</p><p>---EDIT---</p><p>I tried to flash it on the router but it starts the &quot;Christmas lights mode&quot;<br />I needed to use the recovery mode to flash a good firmware again.<br />It doesn&#039;t works with the factory and with the sysupdate image.</p><p>I&#039;m trying to build an image from Chaos Calmer instead of the trunk to see if it works from there</p>											<p class="post-edited">(Last edited by <strong>PicMelter</strong> on 3 Mar 2016, 18:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313504">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						3 Mar 2016, 23:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>PicMelter wrote:</cite><blockquote><p>Have you successfully flashed it on the router?</p></blockquote></div><p>Yes, multiple times.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313507">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">anomeome</div>
					<div class="post-datetime">
						3 Mar 2016, 23:30					</div>
				</div>
				<div class="post-content content">
					<p>My DD build is 16252928 bytes == ~15.5MB. Be careful of the factory image you tftp back to; i.e. don&#039;t get caught by the 18005 issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p313919">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">PicMelter</div>
					<div class="post-datetime">
						7 Mar 2016, 17:36					</div>
				</div>
				<div class="post-content content">
					<p>I guess i had some problems during the transfers, or else I can&#039;t explain why now it is working.<br />I cleared the repo, updated it and then I flashed the factory one: now it started working perfectly.<br />Thanks everyone for your help</p><p>---EDIT---<br />My router is unlocked, I don&#039;t think I can incur into the 18005 error, I flashed it 5 or 6 times and it worked perfectly every time.</p>											<p class="post-edited">(Last edited by <strong>PicMelter</strong> on 7 Mar 2016, 17:37)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>