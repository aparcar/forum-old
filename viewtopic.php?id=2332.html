<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Adding support for USB-serial</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p10919">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						17 Aug 2005, 11:03					</div>
				</div>
				<div class="post-content content">
					<p>I want to compile a firmware with support for the usbserial kernel module, and compile a kmod-usb-serial ipkg.<br />I&#039;ve downloaded the buildroot tarball and compiled OpenWRT once successfully.&nbsp; I&#039;ve had a close look at all the various makefiles, control files and Config.in files.</p><p>To do what I want to do I think I need to add appropriate entries for usbserial and associated modules to these files:<br />openwrt/target/linux/linux-2.4/Makefile<br />openwrt/target/linux/Config.in</p><p>And I need to create:<br />openwrt/target/linux/control/kmod-usb-serial.control</p><p>The way I understand it, the makefile will reference the module source code files contained in the /openwrt/dl/linux-2.4.30.tar.bz2 tarball that was downloaded the first time I compiled OpenWRT.</p><p>Basically I want to know - am I on the right track?&nbsp; I haven&#039;t tried compiling it yet, I will do so shortly.&nbsp; I&#039;m just after some feedback - and am wondering if there&#039;s anything I missed.</p><p>If I get it right I will submit a patch</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10921">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Nico</div>
					<div class="post-datetime">
						17 Aug 2005, 11:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>danversj wrote:</cite><blockquote><p>To do what I want to do I think I need to add appropriate entries for usbserial and associated modules to these files:<br />openwrt/target/linux/linux-2.4/Makefile<br />openwrt/target/linux/Config.in</p><p>And I need to create:<br />openwrt/target/linux/control/kmod-usb-serial.control</p></blockquote></div><p>All right, you may also have to edit the kernel config in :<br />openwrt/target/linux/linux-2.4/config/</p><p>and enable the modules you want if they are not already.</p><div class="quotebox"><cite>danversj wrote:</cite><blockquote><p>If I get it right I will submit a patch</p></blockquote></div><p>Yeah, patches are always welcome !</p><p>Thanks for your contribution</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10973">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						18 Aug 2005, 12:19					</div>
				</div>
				<div class="post-content content">
					<p>Thanks Nico<br />I have now edited and created all the relevant files to create the usb-serial kmod packages.<br />I did a make and it came up with an error saying it could not find usbserial.o.&nbsp; &nbsp;This is because usbserial.c wasn&#039;t unpacked from the linux-2.4.30 tarball the last time I compiled because it wasn&#039;t needed.&nbsp; Is there a way to tell the main makefile to unpack the .c (and any other) files that are now needed?</p><p>In the end I just deleted the build_mipsel directory.&nbsp; I suppose I could have unpacked the files that were needed into the right place, but I thought I&#039;d start again anyway.</p><p>Also, what&#039;s the preferred format of patches?&nbsp; I compiled the whiterussian-rc2 tarball once then copied the whole openwrt directory tree (calling it openwrt-mod).&nbsp; I am making my changes in openwrt-mod.&nbsp; Should I just go into the openwrt-mod directory and do a diff against the unchanged openwrt directory?&nbsp; Where should I do the diff?&nbsp; And what options should I pass to diff?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10979">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Nico</div>
					<div class="post-datetime">
						18 Aug 2005, 16:12					</div>
				</div>
				<div class="post-content content">
					<p>As I said in my previous post, you should edit the kernel config files found in ./target/linux/linux-2.4/config/</p><p>Here&#039;s a patch below for you to apply in your openwrt-mod directory with the following command :<br /></p><div class="codebox"><pre><code># patch -p1 &lt; openwrt-kconfig-usb_serial.patch</code></pre></div><p>This patch will only enable the generic USB serial converter <br /></p><div class="codebox"><pre><code>diff -ruN openwrt/target/linux/linux-2.4/config/brcm openwrt-mod/target/linux/linux-2.4/config/brcm
--- openwrt/target/linux/linux-2.4/config/brcm    2005-08-17 10:49:38.000000000 +0200
+++ openwrt-mod/target/linux/linux-2.4/config/brcm    2005-08-18 14:54:23.000000000 +0200
@@ -1168,7 +1168,28 @@
 #
 # USB Serial Converter support
 #
-# CONFIG_USB_SERIAL is not set
+CONFIG_USB_SERIAL=m
+# CONFIG_USB_SERIAL_DEBUG is not set
+CONFIG_USB_SERIAL_GENERIC=y
+# CONFIG_USB_SERIAL_BELKIN is not set
+# CONFIG_USB_SERIAL_WHITEHEAT is not set
+# CONFIG_USB_SERIAL_DIGI_ACCELEPORT is not set
+# CONFIG_USB_SERIAL_EMPEG is not set
+# CONFIG_USB_SERIAL_FTDI_SIO is not set
+# CONFIG_USB_SERIAL_VISOR is not set
+# CONFIG_USB_SERIAL_IPAQ is not set
+# CONFIG_USB_SERIAL_IR is not set
+# CONFIG_USB_SERIAL_EDGEPORT is not set
+# CONFIG_USB_SERIAL_EDGEPORT_TI is not set
+# CONFIG_USB_SERIAL_KEYSPAN_PDA is not set
+# CONFIG_USB_SERIAL_KEYSPAN is not set
+# CONFIG_USB_SERIAL_MCT_U232 is not set
+# CONFIG_USB_SERIAL_KLSI is not set
+# CONFIG_USB_SERIAL_KOBIL_SCT is not set
+# CONFIG_USB_SERIAL_PL2303 is not set
+# CONFIG_USB_SERIAL_CYBERJACK is not set
+# CONFIG_USB_SERIAL_XIRCOM is not set
+# CONFIG_USB_SERIAL_OMNINET is not set
 # CONFIG_USB_RIO500 is not set
 # CONFIG_USB_AUERSWALD is not set
 # CONFIG_USB_TIGL is not set</code></pre></div><p>I can also <a href="http://nthill.free.fr/openwrt/patches/openwrt-kconfig-usb_serial.patch">download</a> it, if you prefer.</p><br /><p>You can create your patch with the following command in the parent directory of your openwrt and openwrt-mod directories:<br /></p><div class="codebox"><pre><code># diff -ruN openwrt/ openwrt-mod/ &gt; a_self_exlpanatory_name_here.patch</code></pre></div><p>Hope you&#039;ll find your way through</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p10997">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						19 Aug 2005, 02:13					</div>
				</div>
				<div class="post-content content">
					<p>Thanks again Nico - I should have a nice patch for you shortly.&nbsp; I&#039;ve compiled it successfully once with the usbserial kmod package.&nbsp; Now I want to add the other drivers - and I&#039;ve hit the same minor snag again when I do a &#039;make&#039;.<br />Here&#039;s the error:<br /></p><div class="codebox"><pre><code>rm -rf /usr/src/whiterussian_rc2/openwrt-mod/build_mipsel/linux-2.4-brcm/linux-modules/ipkg/usb-serial-belkin
mkdir -p /usr/src/whiterussian_rc2/openwrt-mod/build_mipsel/linux-2.4-brcm/linux-modules/ipkg/usb-serial-belkin/lib/modules/2.4.30
/usr/src/whiterussian_rc2/openwrt-mod/scripts/make-ipkg-dir.sh /usr/src/whiterussian_rc2/openwrt-mod/build_mipsel/linux-2.4-brcm/linux-modules/ipkg/usb-serial-belkin ../control/kmod-usb-serial-belkin.control 2.4.30-brcm-2 mipsel
echo &quot;Depends: kernel (2.4.30-brcm-2), kmod-usb-serial-belkin&quot; &gt;&gt; /usr/src/whiterussian_rc2/openwrt-mod/build_mipsel/linux-2.4-brcm/linux-modules/ipkg/usb-serial-belkin/CONTROL/control
cp  /usr/src/whiterussian_rc2/openwrt-mod/build_mipsel/linux-2.4-brcm/modules/lib/modules/2.4.30/kernel/drivers/usb/belkin_sa.o  /usr/src/whiterussian_rc2/openwrt-mod/build_mipsel/linux-2.4-brcm/linux-modules/ipkg/usb-serial-belkin/lib/modules/2.4.30
cp: cannot stat `/usr/src/whiterussian_rc2/openwrt-mod/build_mipsel/linux-2.4-brcm/modules/lib/modules/2.4.30/kernel/drivers/usb/belkin_sa.o&#039;: No such file or directory
make[3]: *** [/usr/src/whiterussian_rc2/openwrt-mod/bin/packages/kmod-usb-serial-belkin_2.4.30-brcm-2_mipsel.ipk] Error 1</code></pre></div><p>The thing is, belkin_sa.o is there, but it is in <br /></p><div class="codebox"><pre><code>build_mipsel/linux-2.4-brcm/modules/lib/modules/2.4.30/kernel/drivers/usb/serial/belkin_sa.o</code></pre></div><p>and the makefile is looking for it in<br /></p><div class="codebox"><pre><code>build_mipsel/linux-2.4-brcm/modules/lib/modules/2.4.30/kernel/drivers/usb/belkin_sa.o</code></pre></div><p>The same thing happened to me when I did the &#039;make&#039; to include kmod-usb-serial - it was looking in the wrong place - but when I deleted the whole build_mipsel directory tree it started from scratch and everything worked - but obviously this is an inelegant fix and takes more time because everything has to be recompiled.</p><p>Update: OK typo on my part - I was referencing the wrong place in target/linux/linux-2.4/Makefile &lt;sheepish grin&gt;.&nbsp; She&#039;s compiling again now.</p>											<p class="post-edited">(Last edited by <strong>danversj</strong> on 19 Aug 2005, 02:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11005">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						19 Aug 2005, 06:12					</div>
				</div>
				<div class="post-content content">
					<p>OK, here&#039;s my patch:</p><div class="codebox"><pre><code>diff -ruN openwrt/target/linux/Config.in openwrt-mod/target/linux/Config.in
--- openwrt/target/linux/Config.in      2005-07-08 00:06:43.000000000 +1000
+++ openwrt-mod/target/linux/Config.in  2005-08-20 08:43:39.000000000 +1000
@@ -144,6 +144,98 @@
        default m
        depends BR2_PACKAGE_KMOD_USB_CONTROLLER

+config BR2_PACKAGE_KMOD_USB_SERIAL
+       tristate &quot;Support for USB-to-serial converters&quot;
+       default m
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_BELKIN
+       tristate &quot;Support for Belkin USB-to-serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_CYBERJACK
+       tristate &quot;Support for cyberJack USB Chipcard Reader&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for REINER SCT cyberJack pinpad/e-com
+           USB Chipcard Reader
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_DIGI_ACCELPORT
+       tristate &quot;Support for Digi Accelport USB-to-Serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_EDGEPORT_TI
+       tristate &quot;Support for Edgeport USB-to-multi-serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_EDGEPORT
+       tristate &quot;Support for Edgeport USB-to-multi-serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_IPAQ
+       tristate &quot;Support for Compaq iPaq&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_IR
+       tristate &quot;Support for USB-to-IR dongles&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_KEYSPAN_PDA
+       tristate &quot;Support for Keyspan PDA USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for Keyspan / Xircom / Entregra USB-to-Serial converters
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_KLSI
+       tristate &quot;Support for KLSI USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for KLSI KL5KUSB105 chip RS232 converter
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_KOBIL_SCT
+       tristate &quot;Support for KOBIL USB Smart Card Terminal&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_MCT_U232
+       tristate &quot;Support for Magic Control Tecnology USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_OMNINET
+       tristate &quot;Support for USB ZyXEL omni.net LCD PLUS ISDN Modem/TA&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_PL2303
+       tristate &quot;Support for Prolific PL2303 USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_WHITEHEAT
+       tristate &quot;Support for WhiteHEAT multi serial port converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for USB ConnectTech WhiteHEAT
+           multi serial port converters
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_XIRCOM
+       tristate &quot;Support for Xircom USB-to-Serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for the Xircom USB-to-Serial converter
+           Based on the Keyspan PDA driver
+
 config BR2_PACKAGE_KMOD_IDE
        tristate &quot;IDE support&quot;
        default m
diff -ruN openwrt/target/linux/control/kmod-usb-serial-belkin.control openwrt-mod/target/linux/control/kmod-usb-serial-belkin.control
--- openwrt/target/linux/control/kmod-usb-serial-belkin.control 1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-belkin.control     2005-08-19 17:40:45.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-belkin
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Belkin USB-to-Serial converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-cyberjack.control openwrt-mod/target/linux/control/kmod-usb-serial-cyberjack.control
--- openwrt/target/linux/control/kmod-usb-serial-cyberjack.control      1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-cyberjack.control  2005-08-19 17:52:22.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-cyberjack
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for REINER SCT cyberJack pinpad/e-com USB Chipcard Reader Driver
diff -ruN openwrt/target/linux/control/kmod-usb-serial-digi-accelport openwrt-mod/target/linux/control/kmod-usb-serial-digi-accelport
--- openwrt/target/linux/control/kmod-usb-serial-digi-accelport 1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-digi-accelport     2005-08-19 17:44:44.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-digi-accelport
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Digi Accelport USB-to-Serial converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-edgeport-ti.control openwrt-mod/target/linux/control/kmod-usb-serial-edgeport-ti.control
--- openwrt/target/linux/control/kmod-usb-serial-edgeport-ti.control    1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-edgeport-ti.control        2005-08-19 18:14:04.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-edgeport-ti
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Edgeport USB-to-multi-serial converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-edgeport.control openwrt-mod/target/linux/control/kmod-usb-serial-edgeport.control
--- openwrt/target/linux/control/kmod-usb-serial-edgeport.control       1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-edgeport.control   2005-08-19 18:12:55.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-edgeport
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Edgeport USB-to-multi-serial converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-ipaq.control openwrt-mod/target/linux/control/kmod-usb-serial-ipaq.control
--- openwrt/target/linux/control/kmod-usb-serial-ipaq.control   1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-ipaq.control       2005-08-19 17:44:31.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-ipaq
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Compaq iPaq support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-ir.control openwrt-mod/target/linux/control/kmod-usb-serial-ir.control
--- openwrt/target/linux/control/kmod-usb-serial-ir.control     1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-ir.control 2005-08-19 17:44:24.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-ir
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel modules for USB-to-IR dongle support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-keyspan-pda.control openwrt-mod/target/linux/control/kmod-usb-serial-keyspan-pda.control
--- openwrt/target/linux/control/kmod-usb-serial-keyspan-pda.control    1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-keyspan-pda.control        2005-08-19 17:46:24.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-keyspan-pda
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Keyspan / Xircom / Entregra USB-to-Serial converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-klsi.control openwrt-mod/target/linux/control/kmod-usb-serial-klsi.control
--- openwrt/target/linux/control/kmod-usb-serial-klsi.control   1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-klsi.control       2005-08-19 18:40:04.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-klsi
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for KLSI KL5KUSB105 chip RS232 converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-kobil-sct.control openwrt-mod/target/linux/control/kmod-usb-serial-kobil-sct.control
--- openwrt/target/linux/control/kmod-usb-serial-kobil-sct.control      1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-kobil-sct.control  2005-08-19 18:41:07.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-kobil-sct
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel modules for KOBIL USB Smart Card Terminal support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-mct-u232.control openwrt-mod/target/linux/control/kmod-usb-serial-mct-u232.control
--- openwrt/target/linux/control/kmod-usb-serial-mct-u232.control       1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-mct-u232.control   2005-08-19 17:47:59.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-mct-u232
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Magic Control Tecnology USB-to-Serial converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-omninet.control openwrt-mod/target/linux/control/kmod-usb-serial-omninet.control
--- openwrt/target/linux/control/kmod-usb-serial-omninet.control        1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-omninet.control    2005-08-19 17:56:39.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-omninet
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for USB ZyXEL omni.net LCD PLUS ISDN Modem/TA driver
diff -ruN openwrt/target/linux/control/kmod-usb-serial-pl2303.control openwrt-mod/target/linux/control/kmod-usb-serial-pl2303.control
--- openwrt/target/linux/control/kmod-usb-serial-pl2303.control 1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-pl2303.control     2005-08-19 17:50:19.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-pl2303
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Prolific PL2303 USB-to-Serial converter support
diff -ruN openwrt/target/linux/control/kmod-usb-serial-whiteheat.control openwrt-mod/target/linux/control/kmod-usb-serial-whiteheat.control
--- openwrt/target/linux/control/kmod-usb-serial-whiteheat.control      1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-whiteheat.control  2005-08-19 18:04:09.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-whiteheat
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for USB ConnectTech WhiteHEAT multi serial port adaptor
diff -ruN openwrt/target/linux/control/kmod-usb-serial-xircom.control openwrt-mod/target/linux/control/kmod-usb-serial-xircom.control
--- openwrt/target/linux/control/kmod-usb-serial-xircom.control 1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial-xircom.control     2005-08-19 17:53:59.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial-xircom
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel module for Xircom USB-to-Serial converter support - based on Keyspan PDA driver
diff -ruN openwrt/target/linux/control/kmod-usb-serial.control openwrt-mod/target/linux/control/kmod-usb-serial.control
--- openwrt/target/linux/control/kmod-usb-serial.control        1970-01-01 10:00:00.000000000 +1000
+++ openwrt-mod/target/linux/control/kmod-usb-serial.control    2005-08-19 17:37:28.000000000 +1000
@@ -0,0 +1,6 @@
+Package: kmod-usb-serial
+Priority: optional
+Section: sys
+Maintainer: Dan Flett &lt;conhoolio@hotmail.com&gt;
+Source: buildroot internal
+Description: Kernel modules for USB-to-Serial converter support
diff -ruN openwrt/target/linux/linux-2.4/Makefile openwrt-mod/target/linux/linux-2.4/Makefile
--- openwrt/target/linux/linux-2.4/Makefile     2005-07-16 23:29:03.000000000 +1000
+++ openwrt-mod/target/linux/linux-2.4/Makefile 2005-08-20 09:30:30.000000000 +1000
@@ -106,6 +106,54 @@
 $(eval $(call KMOD_template,USB_PRINTER,usb-printer,\
        $(MODULES_DIR)/kernel/drivers/usb/printer.o \
 ,CONFIG_USB_PRINTER,kmod-usb-core,60,printer))
+$(eval $(call KMOD_template,USB_SERIAL,usb-serial,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/usbserial.o \
+,CONFIG_USB_SERIAL,kmod-usb-serial,70,usbserial))
+$(eval $(call KMOD_template,USB_SERIAL_BELKIN,usb-serial-belkin,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/belkin_sa.o \
+,CONFIG_USB_SERIAL_BELKIN,kmod-usb-serial-belkin,71,belkin_sa))
+$(eval $(call KMOD_template,USB_SERIAL_WHITEHEAT,usb-serial-whiteheat,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/whiteheat.o \
+,CONFIG_USB_SERIAL_WHITEHEAT,kmod-usb-serial-whiteheat,71,whiteheat))
+$(eval $(call KMOD_template,USB_SERIAL_DIGI_ACCELEPORT,usb-serial-digi-accelport,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/digi_accelport.o \
+,CONFIG_USB_SERIAL_DIGI_ACCELPORT,kmod-usb-serial-digi-accelport,71,digi_accelport))
+$(eval $(call KMOD_template,USB_SERIAL_IPAQ,usb-serial-ipaq,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/ipaq.o \
+,CONFIG_USB_SERIAL_IPAQ,kmod-usb-serial-ipaq,71,ipaq))
+$(eval $(call KMOD_template,USB_SERIAL_IR,usb-serial-ir,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/ir-usb.o \
+,CONFIG_USB_SERIAL_IR,kmod-usb-serial-ir,71,ir-usb))
+$(eval $(call KMOD_template,USB_SERIAL_EDGEPORT,usb-serial-edgeport,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/io_edgeport.o \
+,CONFIG_USB_SERIAL_EDGEPORT,kmod-usb-serial-edgeport,71,io_edgeport))
+$(eval $(call KMOD_template,USB_SERIAL_EDGEPORT_TI,usb-serial-edgeport-ti,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/io_ti.o \
+,CONFIG_USB_SERIAL_EDGEPORT_TI,kmod-usb-serial-edgeport-ti,71,io_ti))
+$(eval $(call KMOD_template,USB_SERIAL_KEYSPAN_PDA,usb-serial-keyspan-pda,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/keyspan_pda.o \
+,CONFIG_USB_SERIAL_KEYSPAN_PDA,kmod-usb-serial-keyspan-pda,71,keyspan-pda))
+$(eval $(call KMOD_template,USB_SERIAL_MCT_U232,usb-serial-mct-u232,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/mct_u232.o \
+,CONFIG_USB_SERIAL_MCT_U232,kmod-usb-serial-mct-U232,71,mct_u232))
+$(eval $(call KMOD_template,USB_SERIAL_KLSI,usb-serial-klsi,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/kl5kusb105.o \
+,CONFIG_USB_SERIAL_KLSI,kmod-usb-serial-klsi,71,kl5kusb105.o))
+$(eval $(call KMOD_template,USB_SERIAL_KOBIL_SCT,usb-serial-kobil-sct,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/kobil_sct.o \
+,CONFIG_USB_SERIAL_KOBIL_SCT,kmod-usb-serial-kobil-sct,71,kobil_sct))
+$(eval $(call KMOD_template,USB_SERIAL_PL2303,usb-serial-pl2303,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/pl2303.o \
+,CONFIG_USB_SERIAL_PL2303,kmod-usb-serial-pl2303,71,pl2303))
+$(eval $(call KMOD_template,USB_SERIAL_CYBERJACK,usb-serial-cyberjack,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/cyberjack.o \
+,CONFIG_USB_SERIAL_CYBERJACK,kmod-usb-serial-cyberjack,71,cyberjack))
+$(eval $(call KMOD_template,USB_SERIAL_XIRCOM,usb-serial-xircom,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/keyspan_pda.o \
+,CONFIG_USB_SERIAL_XIRCOM,kmod-usb-serial-xircom,71,keyspan_pda))
+$(eval $(call KMOD_template,USB_SERIAL_OMNINET,usb-serial-omninet,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/omninet.o \
+,CONFIG_USB_SERIAL_OMNINET,kmod-usb-serial-omninet,71,omninet))
 $(eval $(call KMOD_template,IDE,ide,\
        $(MODULES_DIR)/kernel/drivers/ide/*.o \
        $(MODULES_DIR)/kernel/drivers/ide/*/*.o \
diff -ruN openwrt/target/linux/linux-2.4/config/brcm openwrt-mod/target/linux/linux-2.4/config/brcm
--- openwrt/target/linux/linux-2.4/config/brcm  2005-07-09 03:18:52.000000000 +1000
+++ openwrt-mod/target/linux/linux-2.4/config/brcm      2005-08-19 18:34:10.000000000 +1000
@@ -1131,7 +1131,43 @@
 #
 # USB Serial Converter support
 #
-# CONFIG_USB_SERIAL is not set
+CONFIG_USB_SERIAL=m
+# CONFIG_USB_SERIAL_DEBUG is not set
+CONFIG_USB_SERIAL_GENERIC=y
+CONFIG_USB_SERIAL_BELKIN=m
+CONFIG_USB_SERIAL_WHITEHEAT=m
+CONFIG_USB_SERIAL_DIGI_ACCELEPORT=m
+# CONFIG_USB_SERIAL_EMPEG is not set
+# CONFIG_USB_SERIAL_FTDI_SIO is not set
+# CONFIG_USB_SERIAL_VISOR is not set
+CONFIG_USB_SERIAL_IPAQ=m
+CONFIG_USB_SERIAL_IR=m
+CONFIG_USB_SERIAL_EDGEPORT=m
+CONFIG_USB_SERIAL_EDGEPORT_TI=m
+CONFIG_USB_SERIAL_KEYSPAN_PDA=m
+#
+# CONFIG_USB_SERIAL_KEYSPAN is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28 is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28X is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28XA is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28XB is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19 is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA18X is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19W is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19QW is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19QI is not set
+# CONFIG_USB_SERIAL_KEYSPAN_MPR is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA49W is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA49WLC is not set
+#
+CONFIG_USB_SERIAL_MCT_U232=m
+CONFIG_USB_SERIAL_KLSI=m
+CONFIG_USB_SERIAL_KOBIL_SCT=m
+CONFIG_USB_SERIAL_PL2303=m
+CONFIG_USB_SERIAL_CYBERJACK=m
+CONFIG_USB_SERIAL_XIRCOM=m
+CONFIG_USB_SERIAL_OMNINET=m
+
 # CONFIG_USB_RIO500 is not set
 # CONFIG_USB_AUERSWALD is not set
 # CONFIG_USB_TIGL is not set</code></pre></div><p>It adds menuconfig items, kernel options, control files and compiles the kmod packages for most of the usb-serial adaptors supported by Linux.</p><p>I did the diff against the target/ directories under my unmodified openwrt directory and my modified openwrt-mod directory from the WhiteRussian_RC2 tarball.</p><p>I&#039;ve tested it with with a PL2303-style usb-serial converter and it works.&nbsp; The adaptors appear as /dev/usb/tts/0, /dev/usb/tts/1, etc.&nbsp; I can read and write to/from them using a null-modem cable attached to my PC.&nbsp; Setserial doesn&#039;t work with it, and I can&#039;t get a shell by specifying &quot;usb/tts/0::askfirst:/bin/ash --login&quot; in /etc/inittab, but that&#039;s a whole other story.&nbsp; We&#039;ve only just begun...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11007">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">danversj</div>
					<div class="post-datetime">
						19 Aug 2005, 07:25					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve put the usb-serial kmod packages online.&nbsp; I&#039;m not sure how useful they will be to people who haven&#039;t compiled their firmware with the correct kernel options, but I thought I&#039;d put them up anyway.</p><p>My stupid web host doesn&#039;t allow virtual directory listing, and I can&#039;t be bothered listing every single module, so here are the main ones:</p><p><a href="http://users.bigpond.net.au/flett/ipkg/kmod-usb-serial_2.4.30-brcm-2_mipsel.ipk">kmod-usb-serial_2.4.30-brcm-2_mipsel.ipk</a><br /><a href="http://users.bigpond.net.au/flett/ipkg/kmod-usb-serial-pl2303_2.4.30-brcm-2_mipsel.ipk">kmod-usb-serial-pl2303_2.4.30-brcm-2_mipsel.ipk</a></p><p>The others are listed here:<br /><a href="http://users.bigpond.net.au/flett/ipkg/Packages">http://users.bigpond.net.au/flett/ipkg/Packages</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p11155">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">daemon</div>
					<div class="post-datetime">
						22 Aug 2005, 16:42					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for doing the work.<br />I started doing the same a few days ago.<br />However, I have a converter with a FTDI chip, which you didn&#039;t include.<br />I added this one and rearranged some options (usb-serial first, usb-multi-serial next, everything else at the ende)</p><p>attached is a patch against today&#039;s cvs</p><div class="codebox"><pre><code>? control/kmod-usb-serial-belkin.control
? control/kmod-usb-serial-cyberjack.control
? control/kmod-usb-serial-digi-accelport
? control/kmod-usb-serial-edgeport-ti.control
? control/kmod-usb-serial-edgeport.control
? control/kmod-usb-serial-ftdi.control
? control/kmod-usb-serial-ipaq.control
? control/kmod-usb-serial-ir.control
? control/kmod-usb-serial-keyspan-pda.control
? control/kmod-usb-serial-klsi.control
? control/kmod-usb-serial-kobil-sct.control
? control/kmod-usb-serial-mct-u232.control
? control/kmod-usb-serial-omninet.control
? control/kmod-usb-serial-pl2303.control
? control/kmod-usb-serial-whiteheat.control
? control/kmod-usb-serial-xircom.control
? control/kmod-usb-serial.control
Index: Config.in
===================================================================
RCS file: /openwrt/openwrt/target/linux/Config.in,v
retrieving revision 1.10
diff -u -r1.10 Config.in
--- Config.in    14 Aug 2005 03:01:53 -0000    1.10
+++ Config.in    22 Aug 2005 09:55:00 -0000
@@ -206,6 +206,105 @@
     default m
     depends BR2_PACKAGE_KMOD_USB_CONTROLLER
 
+config BR2_PACKAGE_KMOD_USB_SERIAL
+       tristate &quot;Support for USB-to-serial converters&quot;
+       default m
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_BELKIN
+       tristate &quot;Support for Belkin USB-to-serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_FTDI
+       tristate &quot;Support for FTDI USB-to-serial converterr&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+       Driver for FTDI USB-to-serial converters
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_DIGI_ACCELPORT
+       tristate &quot;Support for Digi Accelport USB-to-Serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_PL2303
+       tristate &quot;Support for Prolific PL2303 USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_XIRCOM
+       tristate &quot;Support for Xircom USB-to-Serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for the Xircom USB-to-Serial converter
+           Based on the Keyspan PDA driver
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_KLSI
+       tristate &quot;Support for KLSI USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for KLSI KL5KUSB105 chip RS232 converter
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_MCT_U232
+       tristate &quot;Support for Magic Control Technology USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_KEYSPAN_PDA
+       tristate &quot;Support for Keyspan PDA USB-to-Serial converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for Keyspan / Xircom / Entregra USB-to-Serial converters
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_WHITEHEAT
+       tristate &quot;Support for WhiteHEAT multi serial port converters&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for USB ConnectTech WhiteHEAT
+           multi serial port converters
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_EDGEPORT_TI
+       tristate &quot;Support for Edgeport USB-to-multi-serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_EDGEPORT
+       tristate &quot;Support for Edgeport USB-to-multi-serial converter&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_IR
+       tristate &quot;Support for USB-to-IR dongles&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_OMNINET
+       tristate &quot;Support for USB ZyXEL omni.net LCD PLUS ISDN Modem/TA&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_IPAQ
+       tristate &quot;Support for Compaq iPaq&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_KOBIL_SCT
+       tristate &quot;Support for KOBIL USB Smart Card Terminal&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+
+config BR2_PACKAGE_KMOD_USB_SERIAL_CYBERJACK
+       tristate &quot;Support for cyberJack USB Chipcard Reader&quot;
+       default m
+       depends BR2_PACKAGE_KMOD_USB_SERIAL
+       help
+           Driver for REINER SCT cyberJack pinpad/e-com
+           USB Chipcard Reader
+
 config BR2_PACKAGE_KMOD_IDE
     tristate &quot;IDE support&quot;
     default m
Index: linux-2.4/Makefile
===================================================================
RCS file: /openwrt/openwrt/target/linux/linux-2.4/Makefile,v
retrieving revision 1.36
diff -u -r1.36 Makefile
--- linux-2.4/Makefile    17 Aug 2005 19:47:34 -0000    1.36
+++ linux-2.4/Makefile    22 Aug 2005 09:55:01 -0000
@@ -118,6 +118,57 @@
 $(eval $(call KMOD_template,USB_PRINTER,usb-printer,\
     $(MODULES_DIR)/kernel/drivers/usb/printer.o \
 ,CONFIG_USB_PRINTER,kmod-usb-core,60,printer))
+$(eval $(call KMOD_template,USB_SERIAL,usb-serial,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/usbserial.o \
+,CONFIG_USB_SERIAL,kmod-usb-serial,70,usbserial))
+$(eval $(call KMOD_template,USB_SERIAL_BELKIN,usb-serial-belkin,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/belkin_sa.o \
+,CONFIG_USB_SERIAL_BELKIN,kmod-usb-serial-belkin,71,belkin_sa))
+$(eval $(call KMOD_template,USB_SERIAL_WHITEHEAT,usb-serial-whiteheat,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/whiteheat.o \
+,CONFIG_USB_SERIAL_WHITEHEAT,kmod-usb-serial-whiteheat,71,whiteheat))
+$(eval $(call KMOD_template,USB_SERIAL_DIGI_ACCELEPORT,usb-serial-digi-accelport,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/digi_accelport.o \
+,CONFIG_USB_SERIAL_DIGI_ACCELPORT,kmod-usb-serial-digi-accelport,71,digi_accelport))
+$(eval $(call KMOD_template,USB_SERIAL_IPAQ,usb-serial-ipaq,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/ipaq.o \
+,CONFIG_USB_SERIAL_IPAQ,kmod-usb-serial-ipaq,71,ipaq))
+$(eval $(call KMOD_template,USB_SERIAL_IR,usb-serial-ir,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/ir-usb.o \
+,CONFIG_USB_SERIAL_IR,kmod-usb-serial-ir,71,ir-usb))
+$(eval $(call KMOD_template,USB_SERIAL_FTDI,usb-serial-ftdi,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/ftdi_sio.o \
+,CONFIG_USB_SERIAL_IR,kmod-usb-serial-ftdi,71,ftdi_usb))
+$(eval $(call KMOD_template,USB_SERIAL_EDGEPORT,usb-serial-edgeport,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/io_edgeport.o \
+,CONFIG_USB_SERIAL_EDGEPORT,kmod-usb-serial-edgeport,71,io_edgeport))
+$(eval $(call KMOD_template,USB_SERIAL_EDGEPORT_TI,usb-serial-edgeport-ti,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/io_ti.o \
+,CONFIG_USB_SERIAL_EDGEPORT_TI,kmod-usb-serial-edgeport-ti,71,io_ti))
+$(eval $(call KMOD_template,USB_SERIAL_KEYSPAN_PDA,usb-serial-keyspan-pda,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/keyspan_pda.o \
+,CONFIG_USB_SERIAL_KEYSPAN_PDA,kmod-usb-serial-keyspan-pda,71,keyspan-pda))
+$(eval $(call KMOD_template,USB_SERIAL_MCT_U232,usb-serial-mct-u232,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/mct_u232.o \
+,CONFIG_USB_SERIAL_MCT_U232,kmod-usb-serial-mct-U232,71,mct_u232))
+$(eval $(call KMOD_template,USB_SERIAL_KLSI,usb-serial-klsi,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/kl5kusb105.o \
+,CONFIG_USB_SERIAL_KLSI,kmod-usb-serial-klsi,71,kl5kusb105.o))
+$(eval $(call KMOD_template,USB_SERIAL_KOBIL_SCT,usb-serial-kobil-sct,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/kobil_sct.o \
+,CONFIG_USB_SERIAL_KOBIL_SCT,kmod-usb-serial-kobil-sct,71,kobil_sct))
+$(eval $(call KMOD_template,USB_SERIAL_PL2303,usb-serial-pl2303,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/pl2303.o \
+,CONFIG_USB_SERIAL_PL2303,kmod-usb-serial-pl2303,71,pl2303))
+$(eval $(call KMOD_template,USB_SERIAL_CYBERJACK,usb-serial-cyberjack,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/cyberjack.o \
+,CONFIG_USB_SERIAL_CYBERJACK,kmod-usb-serial-cyberjack,71,cyberjack))
+$(eval $(call KMOD_template,USB_SERIAL_XIRCOM,usb-serial-xircom,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/keyspan_pda.o \
+,CONFIG_USB_SERIAL_XIRCOM,kmod-usb-serial-xircom,71,keyspan_pda))
+$(eval $(call KMOD_template,USB_SERIAL_OMNINET,usb-serial-omninet,\
+       $(MODULES_DIR)/kernel/drivers/usb/serial/omninet.o \
+,CONFIG_USB_SERIAL_OMNINET,kmod-usb-serial-omninet,71,omninet))
 $(eval $(call KMOD_template,IDE,ide,\
     $(MODULES_DIR)/kernel/drivers/ide/*.o \
     $(MODULES_DIR)/kernel/drivers/ide/*/*.o \
Index: linux-2.4/config/brcm
===================================================================
RCS file: /openwrt/openwrt/target/linux/linux-2.4/config/brcm,v
retrieving revision 1.12
diff -u -r1.12 brcm
--- linux-2.4/config/brcm    20 Aug 2005 20:33:58 -0000    1.12
+++ linux-2.4/config/brcm    22 Aug 2005 09:55:03 -0000
@@ -1171,7 +1171,43 @@
 #
 # USB Serial Converter support
 #
-# CONFIG_USB_SERIAL is not set
+CONFIG_USB_SERIAL=m
+# CONFIG_USB_SERIAL_DEBUG is not set
+CONFIG_USB_SERIAL_GENERIC=y
+CONFIG_USB_SERIAL_BELKIN=m
+CONFIG_USB_SERIAL_WHITEHEAT=m
+CONFIG_USB_SERIAL_DIGI_ACCELEPORT=m
+# CONFIG_USB_SERIAL_EMPEG is not set
+CONFIG_USB_SERIAL_FTDI_SIO=m
+# CONFIG_USB_SERIAL_VISOR is not set
+CONFIG_USB_SERIAL_IPAQ=m
+CONFIG_USB_SERIAL_IR=m
+CONFIG_USB_SERIAL_EDGEPORT=m
+CONFIG_USB_SERIAL_EDGEPORT_TI=m
+CONFIG_USB_SERIAL_KEYSPAN_PDA=m
+#
+# CONFIG_USB_SERIAL_KEYSPAN is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28 is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28X is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28XA is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA28XB is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19 is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA18X is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19W is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19QW is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA19QI is not set
+# CONFIG_USB_SERIAL_KEYSPAN_MPR is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA49W is not set
+# CONFIG_USB_SERIAL_KEYSPAN_USA49WLC is not set
+#
+CONFIG_USB_SERIAL_MCT_U232=m
+CONFIG_USB_SERIAL_KLSI=m
+CONFIG_USB_SERIAL_KOBIL_SCT=m
+CONFIG_USB_SERIAL_PL2303=m
+CONFIG_USB_SERIAL_CYBERJACK=m
+CONFIG_USB_SERIAL_XIRCOM=m
+CONFIG_USB_SERIAL_OMNINET=m
+
 # CONFIG_USB_RIO500 is not set
 # CONFIG_USB_AUERSWALD is not set
 # CONFIG_USB_TIGL is not set</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>