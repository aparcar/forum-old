<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> ath9k and Ubiquiti SR71 issues</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p95272">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mobius2000</div>
					<div class="post-datetime">
						3 Oct 2009, 02:55					</div>
				</div>
				<div class="post-content content">
					<p>i am running the Ubiquiti Routerstation and&nbsp; one SR71-A radio. This all works fine until i install the kmod-ath9k 2.6.30.7+2009-08-20-2 package. i&#039;ve looked al over the forums on openwrt, x-wrt, and ubnt.com. Finding a solution to this problem that i can understand is proving to be near impossible. Any help is appreciated; i just want it to work :(<br />Here is my current kernel log<br /></p><div class="codebox"><pre><code>Linux version 2.6.30.7 (buildbot@localhost.localdomain) (gcc version 4.1.2) #2 Tue Sep 29 08:18:10 CDT 2009
prom: fw_arg0=00000002, fw_arg1=80050028, fw_arg2=80050000, fw_arg3=00000001
MyLoader: sysp=00000000, boardp=00000000, parts=ace50014
console [early0] enabled
CPU revision is: 00019374 (MIPS 24Kc)
Atheros AR7161 rev 2, CPU:680.000 MHz, AHB:170.000 MHz, DDR:340.000 MHz
Determined physical RAM map:
 memory: 04000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Zone PFN ranges:
  Normal   0x00000000 -&gt; 0x00004000
Movable zone start PFN for each node
early_node_map[1] active PFN ranges
    0: 0x00000000 -&gt; 0x00004000
On node 0 totalpages: 16384
free_area_init_node: node 0, pgdat 80290270, node_mem_map 81000000
  Normal zone: 128 pages used for memmap
  Normal zone: 0 pages reserved
  Normal zone: 16256 pages, LIFO batch:3
Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
Kernel command line: rootfstype=squashfs,yaffs,jffs2 noinitrd console=ttyS0,115200 board=UBNT-RS board=Ubiquiti AR71xx-based board ethaddr=00.15.6d.c1.22.63
Primary instruction cache 64kB, VIPT, 4-way, linesize 32 bytes.
Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
Writing ErrCtl register=00040002
Readback ErrCtl register=00040002
NR_IRQS:56
PID hash table entries: 256 (order: 8, 1024 bytes)
Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
Memory: 62040k/65536k available (1891k kernel code, 3424k reserved, 355k data, 136k init, 0k highmem)
SLUB: Genslabs=7, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
Calibrating delay loop... 452.19 BogoMIPS (lpj=2260992)
Mount-cache hash table entries: 512
net_namespace: 528 bytes
NET: Registered protocol family 16
MIPS: machine is Ubiquiti RouterStation
registering PCI controller with io_map_base unset
bio: create slab &lt;bio-0&gt; at 0
pci 0000:00:00.0: reg 10 32bit mmio: [0x000000-0xfffffff]
pci 0000:00:00.0: reg 14 io port: [0x00-0xff]
pci 0000:00:00.0: supports D1 D2
pci 0000:00:00.0: PME# supported from D0 D1 D2 D3hot
pci 0000:00:00.0: PME# disabled
pci 0000:00:11.0: reg 10 32bit mmio: [0x000000-0x00ffff]
pci 0000:00:11.0: PME# supported from D0 D3hot
pci 0000:00:11.0: PME# disabled
PCI: mapping irq 48 to pin1@0000:00:11.0
NET: Registered protocol family 2
Switched to high resolution mode on CPU 0
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 2048 (order: 2, 16384 bytes)
TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
TCP: Hash tables configured (established 2048 bind 2048)
TCP reno registered
NET: Registered protocol family 1
squashfs: version 4.0 (2009/01/31) Phillip Lougher
Registering mini_fo version $Id$
JFFS2 version 2.2. (NAND) (SUMMARY)  Â© 2001-2006 Red Hat, Inc.
yaffs Sep 29 2009 07:54:43 Installing. 
msgmni has been set to 121
io scheduler noop registered
io scheduler deadline registered (default)
Serial: 8250/16550 driver, 1 ports, IRQ sharing disabled
serial8250.0: ttyS0 at MMIO 0x18020000 (irq = 11) is a 16550A
console handover: boot [early0] -&gt; real [ttyS0]
ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth0: connected to PHY at 0:14 [uid=03026071, driver=Generic PHY]
eth1: Atheros AG71xx at 0xba000000, irq 5
eth1: connected to 4 PHYs
Atheros AR71xx SPI Controller driver version 0.2.4
m25p80 spi0.0: mx25l128 (16384 Kbytes)
Searching for RedBoot partition table in spi0.0 at offset 0xfe0000
Searching for RedBoot partition table in spi0.0 at offset 0xff0000
5 RedBoot partitions found on MTD device spi0.0
Creating 5 MTD partitions on &quot;spi0.0&quot;:
0x000000000000-0x000000030000 : &quot;RedBoot&quot;
0x000000030000-0x000000100000 : &quot;kernel&quot;
0x000000100000-0x000000ff0000 : &quot;rootfs&quot;
mtd: partition &quot;rootfs&quot; set to be root filesystem
mtd: partition &quot;rootfs_data&quot; created automatically, ofs=220000, len=DD0000 
0x000000220000-0x000000ff0000 : &quot;rootfs_data&quot;
0x000000ff0000-0x000000fff000 : &quot;FIS directory&quot;
0x000000fff000-0x000001000000 : &quot;RedBoot config&quot;
Atheros AR71xx hardware watchdog driver version 0.1.0
ar71xx-wdt: timeout=15 secs (max=25)
TCP westwood registered
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
Freeing unused kernel memory: 136k freed
Please be patient, while OpenWrt loads ...
Registered led device: ubnt:green:rf
gpio-buttons driver version 0.1.1
input: gpio-buttons as /devices/platform/gpio-buttons/input/input0
Button Hotplug driver version 0.3.1
mini_fo: using base directory: /
mini_fo: using storage directory: /jffs
ar71xx: pll_reg 0xb8050014: 0x1099
eth1: link up (100Mbps/Full duplex)
device eth1 entered promiscuous mode
br-lan: port 1(eth1) entering forwarding state
cbc: Unknown symbol blkcipher_walk_done
cbc: Unknown symbol blkcipher_walk_virt
cbc: Unknown symbol crypto_blkcipher_type
ecb: Unknown symbol blkcipher_walk_done
ecb: Unknown symbol blkcipher_walk_virt
ecb: Unknown symbol crypto_blkcipher_type
cfg80211: Using static regulatory domain info
cfg80211: Regulatory domain: US
    (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
    (2402000 KHz - 2472000 KHz @ 40000 KHz), (600 mBi, 2700 mBm)
    (5170000 KHz - 5190000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5190000 KHz - 5210000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5210000 KHz - 5230000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5230000 KHz - 5330000 KHz @ 40000 KHz), (600 mBi, 2300 mBm)
    (5735000 KHz - 5835000 KHz @ 40000 KHz), (600 mBi, 3000 mBm)
cfg80211: Calling CRDA for country: US
ar71xx: pll_reg 0xb8050010: 0x1099
eth0: link up (100Mbps/Full duplex)
PCI: Enabling device 0000:00:11.0 (0000 -&gt; 0002)
ath: EEPROM regdomain: 0x0
ath: EEPROM indicates default country code should be used
ath: doing EEPROM country-&gt;regdmn map search
ath: country maps to regdmn code: 0x3a
ath: Country alpha2 being used: US
ath: Regpair used: 0x3a
CPU 0 Unable to handle kernel paging request at virtual address 00000060, epc == 80073ed0, ra == 80071178
Oops[#1]:
Cpu 0
$ 0   : 00000000 00000064 ffffffe0 00020000
$ 4   : 00000060 00000f20 00000060 00000002
$ 8   : 00000010 800643e0 00000008 81078c00
$12   : 00080000 00000001 00004e20 00000003
$16   : 00000060 83a38180 83a84914 00000000
$20   : 83a84a38 00000000 b0000000 00000002
$24   : 00000000 80072df4                  
$28   : 83a80000 83a81cb0 7fd1aa50 80071178
Hi    : 00000001
Lo    : 00000002
epc   : 80073ed0 0x80073ed0
    Not tainted
ra    : 80071178 0x80071178
Status: 1000f403    KERNEL EXL IE 
Cause : 00800008
BadVA : 00000060
PrId  : 00019374 (MIPS 24Kc)
Modules linked in: ath9k(+) ath mac80211 cfg80211 crc_ccitt arc4 aes_generic deflate button_hotplug gpio_buttons input_polldev input_core leds_gpio
Process insmod (pid: 528, threadinfo=83a80000, task=83817a80, tls=00000000)
Stack : 83a84914 00000000 83c60000 83a84914 83c60000 83c1aeac 83a84920 83b6e8b0
        83a840c0 83b6ea34 00000200 00000001 83a84920 83a84914 83be8000 00000000
        83a841c0 83c1804c 83a841c0 83bc1324 83812c00 00000000 00000000 00000002
        00000000 00000000 00000000 00000008 83c3c278 83a84914 83a841c0 83c3c190
        83812c00 83c20c9c 0000000e 1ad29352 83b08ba0 83b08c00 83812c00 80189408
        ...
Call Trace:[&lt;83c1aeac&gt;] 0x83c1aeac
[&lt;83b6e8b0&gt;] 0x83b6e8b0
[&lt;83c1804c&gt;] 0x83c1804c
[&lt;83bc1324&gt;] 0x83bc1324
[&lt;83c20c9c&gt;] 0x83c20c9c
[&lt;80189408&gt;] 0x80189408
[&lt;80110850&gt;] 0x80110850
[&lt;80171c14&gt;] 0x80171c14
[&lt;8018c878&gt;] 0x8018c878
[&lt;8018c9f8&gt;] 0x8018c9f8
[&lt;801585d0&gt;] 0x801585d0
[&lt;801e1150&gt;] 0x801e1150
[&lt;8018cb20&gt;] 0x8018cb20
[&lt;801897ec&gt;] 0x801897ec
[&lt;80158354&gt;] 0x80158354
[&lt;8018cab0&gt;] 0x8018cab0
[&lt;8018bcc8&gt;] 0x8018bcc8
[&lt;80158b70&gt;] 0x80158b70
[&lt;80159468&gt;] 0x80159468
[&lt;8018c340&gt;] 0x8018c340
[&lt;8018c31c&gt;] 0x8018c31c
[&lt;800ac8a4&gt;] 0x800ac8a4
[&lt;83c3f000&gt;] 0x83c3f000
[&lt;8018cecc&gt;] 0x8018cecc
[&lt;83c3f000&gt;] 0x83c3f000
[&lt;80172020&gt;] 0x80172020
[&lt;83c3f000&gt;] 0x83c3f000
[&lt;83bccf78&gt;] 0x83bccf78
[&lt;83c3f040&gt;] 0x83c3f040
[&lt;80069a44&gt;] 0x80069a44
[&lt;80094d58&gt;] 0x80094d58
[&lt;800a1908&gt;] 0x800a1908
[&lt;800cba6c&gt;] 0x800cba6c
[&lt;80062504&gt;] 0x80062504
[&lt;80062504&gt;] 0x80062504


Code: 03200008  00000000  00823024 &lt;bcd50000&gt; 00851021  2403ffe0  2442ffff  00431024  bc550000 
Disabling lock debugging due to kernel taint
PPP generic driver version 2.4.2
ip_tables: (C) 2000-2006 Netfilter Core Team
NET: Registered protocol family 24
nf_conntrack version 0.5.0 (1024 buckets, 4096 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use
nf_conntrack.acct=1 kernel paramater, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
ar71xx-wdt: enabling watchdog timer
device br-lan entered promiscuous mode</code></pre></div>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>