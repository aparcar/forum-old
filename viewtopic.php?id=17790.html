<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Failed to flash! (Code 512) ALSO HERE!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 Feb 2015.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p76916">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">arash</div>
					<div class="post-datetime">
						23 Nov 2008, 00:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br/>I can not flash any firmware to my WRT54GL, even the original firmware of the linksys! The Kamikaze installed was working well. After first try for firmware flashing, it stopped letting me to telnet to it, from my windows xp. Please help! at least if it is possible to telnet to it ! I tried with tftp to flash the image, also failed (I did not set boot_waite on, I receive &quot;timeout occurred&quot;). Is there any easier way before going for a JTAG firmware flashing?</p><p>thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81355">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">cperrot</div>
					<div class="post-datetime">
						8 Feb 2009, 00:27					</div>
				</div>
				<div class="post-content content">
					<p>hi</p><p>i found a solution how to flash another firmware. i had the same problem.</p><p>use putty.exe to login to your router.</p><p>then on the command line use following commands.</p><p>nvram set boot_wait=on<br/>nvram commit<br/>nvram set wait_time=&quot;20&quot;<br/>nvram commit</p><p>this will give you enough time to upload the image.</p><p>open up two terminal windows on your client (this is only windows sample should work with any client you just have to adjust tftp and ping commands)<br/>this assumes that the router has ip address 192.168.1.1</p><p>in one window you enter </p><p>ping -t -w 10 192.168.1.1</p><p>in the other you prepare your tftp</p><p>tftp -i 192.168.1.1 PUT &lt;imagename.bin or trx&gt;</p><p>go back to your web interface of the router and reboot</p><p>as soon as there is no more ping being returned by the router hit enter in the second terminal window and upload the image.</p><p>worked for me.</p><p>cheers</p><p>ced</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81454">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">reaperxtc</div>
					<div class="post-datetime">
						9 Feb 2009, 10:08					</div>
				</div>
				<div class="post-content content">
					<p>I installed KAMIKAZE 8.09rc2, then downloaded the latest svn.</p><p>When I try to upgrade the firmware I get the same error message.</p><p> I tried the nvram command but it is not part of the default image for rc2.&nbsp; </p><p>I have a Netgear-WGT634U router, what can I do to resolve this problem??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81456">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">CyrusFF</div>
					<div class="post-datetime">
						9 Feb 2009, 11:06					</div>
				</div>
				<div class="post-content content">
					<p>Code 512 is in most cases caused by an invalid firmware image. Please male sure you always upload TRX-files on broadcom.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81459">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						9 Feb 2009, 13:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>reaperxtc wrote:</cite><blockquote><p>I installed KAMIKAZE 8.09rc2, then downloaded the latest svn.</p><p>When I try to upgrade the firmware I get the same error message.</p><p> I tried the nvram command but it is not part of the default image for rc2.&nbsp; </p><p>I have a Netgear-WGT634U router, what can I do to resolve this problem??</p></blockquote></div><p>You cannot flash a wgt634u with tftp put from outside.<br/>Either use luci to flash it (I never tried that myself) or use a serial console (see <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Netgear/WGT634U">http://wiki.openwrt.org/OpenWrtDocs/Hardware/Netgear/WGT634U</a> )</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81498">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">reaperxtc</div>
					<div class="post-datetime">
						9 Feb 2009, 20:27					</div>
				</div>
				<div class="post-content content">
					<p>I tried using luci and it gives me the 512 error message.</p><p>The two options I changed were 2.6 kernel and netgear wireless; than I ran a make; everything compiled fine.</p><p>Before I purchase a serial cable, is there anything else I can do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81517">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">reaperxtc</div>
					<div class="post-datetime">
						10 Feb 2009, 01:15					</div>
				</div>
				<div class="post-content content">
					<p>I winded up compiling a new firmware with the 2.4 kernel for wgt634u router and it took it without giving me an error. </p><p>The nvram command is now available and I will try to recompile 2.6 with netgear wireless driver.</p><p>I also ordered a cable from Amazon â€œAUTHENTIC MYBAT BRAND CHARGING USB DATA CABLE + CD DRIVER for SAMSUNG SGH-D807 / SYNC SGH-A707ï¿½ï¿½&nbsp; in hopes to make a usb to serial adapter.</p><br/><p>----------------------------------------------------------------------------------------------------------------------------------<br/>TO DEVELOPERS:</p><p>I&#039;m not really sure of the internal workings of openwrt, but I believe there is a signature check for what firmware it will accept and give an error 512 if the signature does not match.</p><p>Personally I feel since this router can handle the 2.4 and 2.6 kernel, this signature should be added to both so users are not forced to use the nvram trick to upgrade from a 2.4 kernel to a 2.6 or a usb to serial cable.</p><p>I have not tried the nvram trick yet, but hopefully it will work.</p>											<p class="post-edited">(Last edited by <strong>reaperxtc</strong> on 10 Feb 2009, 01:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81528">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">reaperxtc</div>
					<div class="post-datetime">
						10 Feb 2009, 04:49					</div>
				</div>
				<div class="post-content content">
					<p>O well it is stuck in bootwait and I cannot tftp an image to it.</p><p>It does have an ip address of 192.168.1.1, hopefully the cable I purchased allows me to fix it.....=(</p>											<p class="post-edited">(Last edited by <strong>reaperxtc</strong> on 10 Feb 2009, 05:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81535">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						10 Feb 2009, 12:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>reaperxtc wrote:</cite><blockquote><p>O well it is stuck in bootwait and I cannot tftp an image to it.</p><p>It does have an ip address of 192.168.1.1, hopefully the cable I purchased allows me to fix it.....=(</p></blockquote></div><p>I repeat, you cannot flash the wgt634u with tftp put from the outside, you will have to use a serial console cable and do that manually via the console, as described in the wiki. There is no bootwait option on the wgt634u.<br/>Using a 2.4 kernel does not make any sense, nvram variables can be changed in CFE via the serial console, and kamikaze does not use nvram for linux configuration anymore.<br/>Just for info: I am using a Nokia DLR-3P for access to the serial console on various devices (wgt634u, fonera, asus wl-500gd, ...).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81582">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">reaperxtc</div>
					<div class="post-datetime">
						10 Feb 2009, 22:59					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m wondering at this point if the firmware for 8.02 available in the downloads is based on the 2.4 kernel since when I compiled the 2.6 firmware the router would not accept it. Also the netgear firmware that I downloaded did not have wireless working.</p><br/><p>What I should have done was use a tftpd and download the firmware to the netgear router.</p>											<p class="post-edited">(Last edited by <strong>reaperxtc</strong> on 10 Feb 2009, 23:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81615">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						11 Feb 2009, 13:56					</div>
				</div>
				<div class="post-content content">
					<p>I think, to get wifi running on the wgt634u, you have to install kmod-madwifi manually, because it&#039;s not included in the firmware images.<br/>FYI: the 2.4 kernel images are only for routers with broadcom wifi, because the b43 drivers are not ready for production yet.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>