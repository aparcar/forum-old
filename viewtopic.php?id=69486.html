<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-link 3040 with small (4MB) flash, 15.05 and USB file systems?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 28 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p349901">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">leif</div>
					<div class="post-datetime">
						21 Jan 2017, 21:44					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I tried to install 15.05 on a TP-link 3040v2, and even though it works, I could for the life of me figure out how to clear up enough space so that I could mount a USB thumb drive to overlay. However, I downloaded and installed the older image (14.07), which leaves enough space to mount the USB drive, and then extroot / overlay was easy. I&#039;m happy to get it to work at all, but concerned about using an older version of the OpenWRT distort.</p><p>The questions I have are:</p><p>1) Is there a way to get a smaller 15.05 (or future) image? I&#039;m thinking it&#039;d be really useful to have a minimal image, that does come with USB/ext4 kmod&#039;s, but perhaps not all the other bells and whistles?</p><p>2) Is there any way to upgrade my 14.07 to 15.05? I suspect the answer here is &quot;nope&quot;, but figured I&#039;d ask anyways.</p><br /><p>Cheers,</p><p>-- Leif</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349914">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						22 Jan 2017, 02:48					</div>
				</div>
				<div class="post-content content">
					<p>At least your asking the right questions.<br />There is a discussion on this very topic going on in the LEDE forum<br /><a href="https://forum.lede-project.org/t/should-lede-support-devices-with-only-4mb-flash/1018/72">https://forum.lede-project.org/t/should â€¦ sh/1018/72</a><br />Bottom line is 4MB devices are becoming harder to support with the standard image as the firmware grows.&nbsp; </p><p>If the device works and your happy with the functionality, great.&nbsp; </p><p>If you want more then you will need to learn how to use the various build tools to customize your images and expect that it may be a juggling act to get what you want in the firmware.&nbsp; As you have USB, getting extroot working in the 15.05 or higher versions is the goal and then you can use a USB for the rest.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p349999">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">leif</div>
					<div class="post-datetime">
						22 Jan 2017, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the link, very interesting! Yeh, I have other WiFi routers with much more storage, but I just really like this TP.Link 3040 with its built in battery. But as you say, 14.07 works fine with the extroot, so things are good. Amazing what that extra 200K makes <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />.</p><p>Cheers,</p><p>-- Leif</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>