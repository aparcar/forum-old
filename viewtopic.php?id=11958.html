<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> SSH newbie</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p53473">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sullan</div>
					<div class="post-datetime">
						6 Aug 2007, 16:03					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>Heve swithed to openwrt 0.9 from oleg on my wl500gp and now im unable to get login to my router. Only way is safe mode with telet.<br />Searched the forums but couldn&#039;t find anything. Please help!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53475">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Borromini</div>
					<div class="post-datetime">
						6 Aug 2007, 16:47					</div>
				</div>
				<div class="post-content content">
					<p>Read the instructions on the setup - as soon as you change your root password, telnet will be disabled and ssh will be the only option.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53495">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">sullan</div>
					<div class="post-datetime">
						6 Aug 2007, 22:05					</div>
				</div>
				<div class="post-content content">
					<p>Ok but i cant connect with ssh either</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53642">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">OpenWrter</div>
					<div class="post-datetime">
						9 Aug 2007, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>after you flash your router, the first thing to do is to go to the web interface.&nbsp; if you open up your ifconfig or ipconfig, look for the default gateway.&nbsp; if your dhcp is working that is.&nbsp; if not, assign a static ip to your computer with the gateway address your router was using before (it doesn&#039;t change when you flash).</p><p>goto mozilla firefox-&gt;192.168.x.x (or whatever your ip gateway is)</p><p>it should open an openwrt admin console page, and then you need to click on one of the links above like network or status.&nbsp; it will take you to another page to set your password, which will then allow you to login via ssh.</p><p>if you&#039;ve done all this and have no ssh access, than telnet into it like you said earlier.&nbsp; find firewall.user inside your /etc/ folder, open it up with vi, then uncomment the line that allows ssh access via port 22.</p><p>that should solve your problem...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53676">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">sullan</div>
					<div class="post-datetime">
						10 Aug 2007, 12:46					</div>
				</div>
				<div class="post-content content">
					<p>Than you for answering but no success... I have installed x-wrt now and i can do almost everything like edit files and so on but not run commands.</p><p>When ssh 192.168.1.1 it gives:<br />jocke@jocke-desktop:~$ ssh 192.168.1.1<br />@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />@&nbsp; &nbsp; WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&nbsp; &nbsp; &nbsp;@<br />@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!<br />Someone could be eavesdropping on you right now (man-in-the-middle attack)!<br />It is also possible that the RSA host key has just been changed.<br />The fingerprint for the RSA key sent by the remote host is<br />0d:15:d6:22:6c:b6:04:aa:49:62:58:f6:b3:68:29:c8.<br />Please contact your system administrator.<br />Add correct host key in /home/jocke/.ssh/known_hosts to get rid of this message.<br />Offending key in /home/jocke/.ssh/known_hosts:2<br />RSA host key for 192.168.1.1 has changed and you have requested strict checking.<br />Host key verification failed.</p><p>TELNET:</p><p>Trying 192.168.1.1...<br />Connected to 192.168.1.1.<br />Escape character is &#039;^]&#039;.<br />Login failed.</p><p>Firewall.user:</p><p>#!/bin/sh<br /># Copyright (C) 2006 OpenWrt.org</p><p>iptables -F input_rule<br />iptables -F output_rule<br />iptables -F forwarding_rule<br />iptables -t nat -F prerouting_rule<br />iptables -t nat -F postrouting_rule</p><p># The following chains are for traffic directed at the IP of the <br /># WAN interface</p><p>iptables -F input_wan<br />iptables -F forwarding_wan<br />iptables -t nat -F prerouting_wan</p><p>### Open port to WAN<br />## -- This allows port 22 to be answered by (dropbear on) the router<br /># iptables -t nat -A prerouting_wan -p tcp --dport 22 -j ACCEPT <br /># iptables&nbsp; &nbsp; &nbsp; &nbsp; -A input_wan&nbsp; &nbsp; &nbsp; -p tcp --dport 22 -j ACCEPT</p><p>### Port forwarding<br />## -- This forwards port 8080 on the WAN to port 80 on 192.168.1.2<br /># iptables -t nat -A prerouting_wan -p tcp --dport 8080 -j DNAT --to 192.168.1.2:80<br /># iptables&nbsp; &nbsp; &nbsp; &nbsp; -A forwarding_wan -p tcp --dport 80 -d 192.168.1.2 -j ACCEPT</p><p>### DMZ<br />## -- Connections to ports not handled above will be forwarded to 192.168.1.2<br /># iptables -t nat -A prerouting_wan -j DNAT --to 192.168.1.2<br /># iptables&nbsp; &nbsp; &nbsp; &nbsp; -A forwarding_wan -d 192.168.1.2 -j ACCEPT</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53678">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">gulikoza</div>
					<div class="post-datetime">
						10 Aug 2007, 13:04					</div>
				</div>
				<div class="post-content content">
					<p>go to ~/.ssh edit know_hosts and delete 192.168.1.1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53684">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sullan</div>
					<div class="post-datetime">
						10 Aug 2007, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>Solved</p><p>Just needed to set PC:s ip to 192.168.1.2. Hm, maybe typical newbie-thing that was to easy.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>