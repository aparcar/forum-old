<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WRTSl54GS takes firmware via tftp, promptly throws it away</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p62046">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">benwei</div>
					<div class="post-datetime">
						22 Jan 2008, 05:36					</div>
				</div>
				<div class="post-content content">
					<p>Hey all,</p><p>I&#039;m trying to un-brick a WRTSL54GS that I tried to do a firmware upgrade on.&nbsp; Right now when it is powered up, the USB light stays on solid and the power light blinks continuously.&nbsp; The ethernet light will also come on if I connect it to my laptop.&nbsp; </p><p>I am able to get it to take an image via tftp (I see the ethernet light flash as the image is transferring, and my tftp client on my laptop reports that it sent the file successfully), but after it is transferred, nothing seems to happen.&nbsp; I have let it sit for up to 15 minutes after flashing, then restarted it, only to get the same blinkenlights.&nbsp; </p><p>I&#039;ve tried the stock Linksys firmware image, an OpenWRT kamikaze image, and a Tomato image, all with no effect.&nbsp; </p><p>Anybody have any ideas on how to fix this, or what could be going on with the download-but-no-actual-flashing problem?</p><p>Thanks a bunch,<br />Ben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62090">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">JimWright</div>
					<div class="post-datetime">
						22 Jan 2008, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>Have you installed a serial port?&nbsp; Monitoring the console output would be helpful, and you may have to break into the CFE at boot to fix this.</p><p>For what it&#039;s worth, I have this router, and never had much luck with Whiterussian being installed via the web interface, or tftp.&nbsp; I always had to use the serial console/CFE method to install updates:&nbsp; <a href="http://wiki.openwrt.org/OpenWrtDocs/Troubleshooting?highlight=%28install%29%7C%28cfe%29#head-457cc2f0848fb6600bae5dcab055a8431112c34e">link</a>.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62091">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						22 Jan 2008, 22:49					</div>
				</div>
				<div class="post-content content">
					<p>Last time I tried to tftp my sl, I realized I had to flash the firmware image with the correct wrtsl54gs header.&nbsp; I was just using the trx image, but it turned out the CFE was looking for the correct header info and throwing away the file.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62098">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">benwei</div>
					<div class="post-datetime">
						23 Jan 2008, 00:45					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, thanks for the suggestions!</p><p>netprince:<br />I am flashing .bin file, not .trx, but I thought maybe one of the firmware images I had was bad, so I&#039;ve tried many different ones (linksys stock, openwrt, ddwrt, hyperwrt, and tomato), so I don&#039;t think this was the problem, however I suppose it is possible.&nbsp; When you finally got yours to work, which firmware image did you flash?</p><p>JimWright:<br />I would like to install a serial port, but I&#039;ve not done so before, and I&#039;m a little confused about how to add one.&nbsp; This <a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Linksys/WRTSL54GS">wiki page</a> seems to indicate that I can just get a USB-to-serial converter and not have to even open the case, but I&#039;m not sure if this is only once OpenWRT is installed and running, or if it is all the time.&nbsp; Can you offer any advice on this?</p><p>Thanks again,<br />Ben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62099">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">benwei</div>
					<div class="post-datetime">
						23 Jan 2008, 02:54					</div>
				</div>
				<div class="post-content content">
					<p>OK, after reading through the WRTSL54GS page a bit more on the wiki I think I understand that the USB-serial converter can only be used after the kernel has booted on the router.&nbsp; The audio-jack serial connector looked like the cleanest solution to me, so I just ordered a TTL-232R-3V3-AJ and I&#039;m going to have a friend who knows how to solder help me connect it to my board.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62102">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">JimWright</div>
					<div class="post-datetime">
						23 Jan 2008, 04:14					</div>
				</div>
				<div class="post-content content">
					<p>The converter listed in the wiki takes the serial console signals from the router and makes them available via USB on your desktop, it does not plug into the USB port on the router to let you monitor serial information.</p><p>Easy mistake.&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62104">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">benwei</div>
					<div class="post-datetime">
						23 Jan 2008, 04:55					</div>
				</div>
				<div class="post-content content">
					<p>Gotcha.&nbsp; I figured that out after looking at the website for that product.&nbsp; Now that I&#039;ve ordered the converter, I think the only other things I need are the stereo jack and some wires.&nbsp; I&#039;m having some trouble finding the stereo jack part online, and I don&#039;t know where I would buy one in person -- any chance you could recommend a place to get one?&nbsp; Would Radio Shack carry them, or is it something that I will have to specially order online?</p><p>Thanks,<br />Ben</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62106">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">benwei</div>
					<div class="post-datetime">
						23 Jan 2008, 05:11					</div>
				</div>
				<div class="post-content content">
					<p>Doh!&nbsp; I just realized that it has a reference to that part on the wiki page.&nbsp; My bad.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p62109">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">JimWright</div>
					<div class="post-datetime">
						23 Jan 2008, 07:28					</div>
				</div>
				<div class="post-content content">
					<p>heh, no worries.&nbsp; I checked Radio Shack, the jacks that they carried didn&#039;t have a long enough threaded area, and wouldn&#039;t have stuck all the way through the plastic on the WRTSL54GS.&nbsp; &nbsp;Wish they did have one, it would be more convenient for many folks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>