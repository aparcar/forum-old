<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> P-2812HNU-F1(V1.00(AACC.3)C0): compile from source-code</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p249213">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						5 Oct 2014, 07:01					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://1drv.ms/1uKLTQr">http://1drv.ms/1uKLTQr</a><br />- latest open source from Zyxcel.</p><p>Read ReadMe_for_P-2812HNU-F1(V1.00(AACC.3)C0)<br />Ubuntu 10.04 @ <a href="http://old-releases.ubuntu.com/releases/">http://old-releases.ubuntu.com/releases/</a><br />Power up yr virtual machine and compile...</p><p>Quick test results:<br />ras.bin binary made but size a little different from Zyxcel Official Release<br />Test<br />upgrade router with official release<br />reset configuration<br />upgrade router with ras.bin<br />Result<br />no internet connection (wireless works)<br />It was a &quot;5 min test&quot;: and I will repeat at some stage<br />It was possible to upgrade again to official release (Internet connection&nbsp; worked)</p><p>Edit:<br />internet connection problem is cos the resolve.conf for dnsmasq is empty.<br />resolve.conf is empty cos ...</p><p>Edit:<br />BTW, openwrt support for the device may be without wireless, the code is available for download though<br /><a href="https://dev.openwrt.org/changeset/40317">https://dev.openwrt.org/changeset/40317</a><br />I guess the area where the support for wireless may come in is:<br /> <a href="https://dev.openwrt.org/browser/trunk/target/linux/lantiq">https://dev.openwrt.org/browser/trunk/t â€¦ nux/lantiq</a></p><p>Edit:<br />Original firware for reference<br /># atsh<br />ZLD&nbsp; &nbsp;Version&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : V1.00(AACC.3)<br />Bootbase Version&nbsp; &nbsp; &nbsp; &nbsp;: V3.08|06/04|2013(AACC)<br />Vender Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : ZyXEL Communications Corp.<br />Product Model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : P-2812HNU-F1<br />Serial Number&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : S120Y30635190<br />First MAC Address&nbsp; &nbsp; &nbsp; : B0B2DCCC3A90<br />Last MAC Address&nbsp; &nbsp; &nbsp; &nbsp;: B0B2DCCC3A97<br />MAC Address Quantity&nbsp; &nbsp;: 08<br />Default Country Code&nbsp; &nbsp;: FD<br />Boot Module Debug Flag : 00<br />RootFS&nbsp; &nbsp; &nbsp; Checksum&nbsp; &nbsp;: 0000cd41<br />Kernel&nbsp; &nbsp; &nbsp; Checksum&nbsp; &nbsp;: 00006789<br />RomFile&nbsp; &nbsp; &nbsp;Checksum&nbsp; &nbsp;: 00001731<br />Main Feature Bits&nbsp; &nbsp; &nbsp; : 00<br />Other Feature Bits&nbsp; &nbsp; &nbsp;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 06 00 00 04 19 01 00 ff-f8 00 00 00 01 00 00 00<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00</p><p>Edit : Zyxel ftp @ <a href="ftp://ftp.zyxel.dk/P-2812HNU-F1/">ftp://ftp.zyxel.dk/P-2812HNU-F1/</a></p><p>Edit: wiki @ <a href="http://wiki.openwrt.org/toh/zyxel/p2812hnu-f1">http://wiki.openwrt.org/toh/zyxel/p2812hnu-f1</a></p>											<p class="post-edited">(Last edited by <strong>oxo</strong> on 15 Oct 2014, 17:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249309">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">aam</div>
					<div class="post-datetime">
						5 Oct 2014, 22:32					</div>
				</div>
				<div class="post-content content">
					<p>I haven&#039;t really done anything yet, but when looking at the files in 100AACC3C0_OpenSource.tar.bz2 I noticed there is already file called NAND.bin in P-2812HNU-F1/build/final-image/ and in another folder is the bootbase AACC309.bm.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249350">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						6 Oct 2014, 07:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aam wrote:</cite><blockquote><p>I haven&#039;t really done anything yet, but when looking at the files in 100AACC3C0_OpenSource.tar.bz2 I noticed there is already file called NAND.bin in P-2812HNU-F1/build/final-image/ and in another folder is the bootbase AACC309.bm.</p></blockquote></div><p><img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> please do not risk your router at this stage if it is the only one you have and is otherwise working.<br />I have ordered a serial cable for my router.</p><p>&quot;Wireless Freedom&quot;<br />- the open source from Zyxcel can give freedom just now to change/add stuff if one is able while the OpenWrt version may not have wireless at the moment but one should only use other firmware if one has a real need just now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249372">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">aam</div>
					<div class="post-datetime">
						6 Oct 2014, 13:38					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m going to take my time as I don&#039;t want to brick it.&nbsp; </p><p>My main problem at the moment is that I can only connect by serial.&nbsp; I haven&#039;t got access to any of the accounts (admin, user, etc), or even telnet.&nbsp; I have to find a way to reset the account passwords or add new ones by only using serial.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249383">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						6 Oct 2014, 16:26					</div>
				</div>
				<div class="post-content content">
					<p>u have root acces from serial?<br />if yes, easy way i think is, to add a supervisor account with this command</p><p><strong>adduser -g root -G root -S supervisor</strong></p><p>then try login via web, for connect to telnet, need open protocol from remote management.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249386">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">aam</div>
					<div class="post-datetime">
						6 Oct 2014, 16:44					</div>
				</div>
				<div class="post-content content">
					<p>No, unfortunately I don&#039;t have root access.&nbsp; My only solution may be to find out if there is a recovery procedure so I can at least restore the admin and user accounts back to working with 1234.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249387">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">cornelus2009</div>
					<div class="post-datetime">
						6 Oct 2014, 16:48					</div>
				</div>
				<div class="post-content content">
					<p>download a default configuration file, and try to upload it from bootloader.</p><p>look there in the atxx commands, there is to be an upload default configuration with xmodem</p>											<p class="post-edited">(Last edited by <strong>cornelus2009</strong> on 6 Oct 2014, 16:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249396">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">aam</div>
					<div class="post-datetime">
						6 Oct 2014, 17:51					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the suggestions cornelus2009.&nbsp; I did try that.&nbsp; I looked through the commands as I was expecting to find something like ATLC used in other Zyxel hardware, but it&#039;s not there and I can&#039;t see anything else that will do it.&nbsp; I tried ATUR and ATUB anyway, but it wouldn&#039;t work.&nbsp; </p><p>As not to divert this thread from source code development for the P-2812HNU-F1 I should probably put anything about trying to restore account access on the <a href="https://forum.openwrt.org/viewtopic.php?id=47957"> ZyXEL P-2812HNU-F1 Unbranding Process</a> thread.</p>											<p class="post-edited">(Last edited by <strong>aam</strong> on 8 Oct 2014, 13:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249778">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						8 Oct 2014, 22:49					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the sources.</p><p>I tried to use it for &#039;poor man&#039;s openwrt&#039;. Compiled a firmware with ext3 support, and usbstorage and host fixed in the kernel. Then I changed /etc/preinit to first try to mount an usb stick, and if that succeeds, and some file is there, a pivot_root is used to boot the rootfs on the stick.</p><p>On the stick I put an AA ar9 rootfs.</p><p>That works, but I can&#039;t get the network running. The way the firmware handles switch and network interfaces is a mess. It seems the switch is configured several times, and I can&#039;t find where actually eth0 and eth1 are instantiated. On boot they are not available.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249806">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						9 Oct 2014, 05:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi Mijzelf</p><p>Have you tried the OpenWrt version? <br />And if yes:<br />was wireless working?<br />Or if no:<br />Are you good enough to see if &quot;we&quot; can get it working?</p><p>As I once wrote, there are a lot of no-freedom F1&#039;s that would be good to get released if &quot;work&quot; was done either by OpenWrt or OpenSource way</p><p>Br Owen</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249844">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Mijzelf</div>
					<div class="post-datetime">
						9 Oct 2014, 13:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>oxo wrote:</cite><blockquote><p>Have you tried the OpenWrt version?</p></blockquote></div><p>No. I cannot find any documentation how that should be done. The only way to flash openwrt I can think of, is to download the source, look how the mtd is organized, and use u-boot to flash the provided binary in the &#039;kernel+rootfs&#039; partition, and hope that it works.</p><p>Or ask the developer to document the installation process.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249845">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						9 Oct 2014, 13:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Mijzelf wrote:</cite><blockquote><p> </p><div class="quotebox"><cite>oxo wrote:</cite><blockquote><p>Have you tried the OpenWrt version?</p></blockquote></div><p>No. I cannot find any documentation how that should be done..</p></blockquote></div><p>I have the same problem: I was wondering if anyone else had worked it out before I tried <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><br /><p>Edit<br />Downloadable @ openwrt<br />openwrt-lantiq-xrx200-P2812HNUFX-jffs2-128k.image&nbsp; 02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5111812<br />openwrt-lantiq-xrx200-P2812HNUFX-jffs2-256k.image&nbsp; 02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5242884<br />openwrt-lantiq-xrx200-P2812HNUFX-jffs2-64k.image&nbsp; &nbsp;02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5111812<br />openwrt-lantiq-xrx200-P2812HNUFX-rootfs-overlay..&gt; 02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2752512<br />openwrt-lantiq-xrx200-P2812HNUFX-rootfs.ubi&nbsp; &nbsp; &nbsp; &nbsp; 02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;6029312<br />openwrt-lantiq-xrx200-P2812HNUFX-rootfs.ubifs&nbsp; &nbsp; &nbsp; 02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;5677056<br />openwrt-lantiq-xrx200-P2812HNUFX-squashfs.image&nbsp; &nbsp; 02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3932164<br />openwrt-lantiq-xrx200-P2812HNUFX-uImage&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 02-Oct-2014 07:29&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1512955</p><p>Edit<br />I have now also gotten my OpenWrt build system running again (many years since last used): generated code from trunk</p>											<p class="post-edited">(Last edited by <strong>oxo</strong> on 10 Oct 2014, 22:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250119">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">muziling</div>
					<div class="post-datetime">
						11 Oct 2014, 10:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>oxo wrote:</cite><blockquote><p>Edit<br />I have now also gotten my OpenWrt build system running again (many years since last used): generated code from trunk</p></blockquote></div><br /><p>How to flash openwrt,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250376">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						13 Oct 2014, 19:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>muziling wrote:</cite><blockquote><p>How to flash openwrt,</p></blockquote></div><p>No one knows: do not try unless you really know what you are doing</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251271">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						20 Oct 2014, 14:05					</div>
				</div>
				<div class="post-content content">
					<p>Ordered another cable (from Italy) as hong kong one has not arrived yet</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251409">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						21 Oct 2014, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>I HAVE A CABLE <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>And absolutly no idea what image file to use.<br />- but everything hooked up with tftp serial etc etc</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251430">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">aam</div>
					<div class="post-datetime">
						21 Oct 2014, 13:39					</div>
				</div>
				<div class="post-content content">
					<p>Now you&#039;ve got your cable, still take it easy as you don&#039;t want to make a brick. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>My CP2104 usb - ttl board arrived from HK, but it did take three weeks.&nbsp; I also decided to re-pin an old cd-rom audio cable so I don&#039;t have to plug each pin separately.</p><div class="quotebox"><blockquote><p>ZLD&nbsp; &nbsp;Version&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : V1.00(AACC.3)<br />Bootbase Version&nbsp; &nbsp; &nbsp; &nbsp;: V3.09|01/24|2013(AACC)<br />Vender Name&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: ZyXEL Communications Corp.<br />Product Model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : P-2812HNUL-F1</p></blockquote></div><p>I loaded bootbase 3.09 from the source code package but I haven&#039;t noticed anything new or improved yet.</p>											<p class="post-edited">(Last edited by <strong>aam</strong> on 21 Oct 2014, 13:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251444">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">oxo</div>
					<div class="post-datetime">
						21 Oct 2014, 14:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>aam wrote:</cite><blockquote><p>Now you&#039;ve got your cable, still take it easy as you don&#039;t want to make a brick. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>I have 4 test boxes <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />I am trying to get the box on the internet for serial/ethernet connection to anyone smarter than me, just need to find my raspberry pi<br />Edit<br />Thread for OpenWrt on P-2812HNU-FX @ <a href="https://forum.openwrt.org/viewtopic.php?id=53511">https://forum.openwrt.org/viewtopic.php?id=53511</a></p>											<p class="post-edited">(Last edited by <strong>oxo</strong> on 21 Oct 2014, 18:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251482">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">aam</div>
					<div class="post-datetime">
						21 Oct 2014, 21:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>oxo wrote:</cite><blockquote><p>I have 4 test boxes <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p></blockquote></div><p>Ah, that&#039;s why you can take a few more risks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>