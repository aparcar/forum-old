<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Let&#039;s Get More,Make WR703 With 16M Flash</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 6 Feb 2018 and 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=41449&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=41449&amp;p=3.html">3</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p187967">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						5 Jan 2013, 19:19					</div>
				</div>
				<div class="post-content content">
					<p>when we into the openwrt&#039;s world,always not enought space to use,first 4m is very less,so i mod it to 8m,a lot guy like i mod,so i basicly make a lot of them,it&#039;s just kind bored for me,but now i found a new chip(it&#039;s 2 new chip),it&#039;s 16Mbyte(128mbit) with sop8-208mil!so i mod it for wr703,it&#039;s work,but without wifi,so i fix the art partition,now seems everything work just fine:)</p><p>the all picture can found in my site:<br /><a href="http://see.sl088.com/wiki/WR703N_16M_Flash">http://see.sl088.com/wiki/WR703N_16M_Flash</a></p><p>the 16m look like:<br /><span class="postimg"><img src="http://see.sl088.com/w/images/c/c0/JustCapIt3815.jpg" alt="http://see.sl088.com/w/images/c/c0/JustCapIt3815.jpg" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/4/44/SLboat-Screen_2013-01-06_0.58.17.png" alt="http://see.sl088.com/w/images/4/44/SLboat-Screen_2013-01-06_0.58.17.png" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/f/fe/SLboat-Screen_2013-01-06_0.58.08.png" alt="http://see.sl088.com/w/images/f/fe/SLboat-Screen_2013-01-06_0.58.08.png" /></span></p><br /><br /><p>how it mod:<br /><span class="postimg"><img src="http://see.sl088.com/w/images/e/ed/Slboat_eos_4228.JPG" alt="http://see.sl088.com/w/images/e/ed/Slboat_eos_4228.JPG" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/9/9b/Slboat_eos_4229.JPG" alt="http://see.sl088.com/w/images/9/9b/Slboat_eos_4229.JPG" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/c/c2/Slboat_eos_4232.JPG" alt="http://see.sl088.com/w/images/c/c2/Slboat_eos_4232.JPG" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/a/aa/Slboat_eos_4235.JPG" alt="http://see.sl088.com/w/images/a/aa/Slboat_eos_4235.JPG" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/6/60/Slboat_eos_4238.JPG" alt="http://see.sl088.com/w/images/6/60/Slboat_eos_4238.JPG" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/9/97/Slboat_eos_4240.JPG" alt="http://see.sl088.com/w/images/9/97/Slboat_eos_4240.JPG" /></span></p><p>it worked!<br /><span class="postimg"><img src="http://see.sl088.com/w/images/3/30/Slboat_eos_4242.JPG" alt="http://see.sl088.com/w/images/3/30/Slboat_eos_4242.JPG" /></span></p><p>but without the wifi</p><p>fix the firmware </p><p><span class="postimg"><img src="http://see.sl088.com/w/images/e/e4/Slboat_eos_4245.JPG" alt="http://see.sl088.com/w/images/e/e4/Slboat_eos_4245.JPG" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/6/67/Slboat_eos_4246.JPG" alt="http://see.sl088.com/w/images/6/67/Slboat_eos_4246.JPG" /></span></p><p><span class="postimg"><img src="http://see.sl088.com/w/images/7/76/Slboat_eos_4247.JPG" alt="http://see.sl088.com/w/images/7/76/Slboat_eos_4247.JPG" /></span></p><p><span class="postimg"><img src="http://see.sl088.com/w/images/e/e8/Slboat_eos_4250.JPG" alt="http://see.sl088.com/w/images/e/e8/Slboat_eos_4250.JPG" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/7/78/Slboat_eos_4253.JPG" alt="http://see.sl088.com/w/images/7/78/Slboat_eos_4253.JPG" /></span></p>											<p class="post-edited">(Last edited by <strong>slboat</strong> on 5 Jan 2013, 19:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187980">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						5 Jan 2013, 21:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi slboat,</p><p>I did flash and ram upgrade too on my 3020 , here&#039;s some pictures of my router:</p><p><span class="postimg"><img src="http://i45.tinypic.com/15f21dl.jpg" alt="http://i45.tinypic.com/15f21dl.jpg" /></span></p><br /><div class="codebox"><pre><code>U-Boot 1.1.4 (Nov 23 2012 - 14:43:55)

AP121 (ar9330) U-boot

DRAM:  64 MB
led turning on for 1s...
id read 0x100000ff
flash size 16777216, sector count = 256
Flash: 16 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
blah blah blah ...
blah blah blah ...
blah blah blah ...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup 
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup 
eth1 up
eth0, eth1
Autobooting in 3 seconds
## Booting image at 9f020000 ...
   Uncompressing Kernel Image ... OK

Starting kernel ...</code></pre></div><br /><p>Thank you for your help <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p187998">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						6 Jan 2013, 03:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys can you explain how to move the art partition and expand the filesystem to fill the larger flash chip?<br />I wish to upgrade my TP-link WDR4300 from 8MB of flash to 64MB so I can install owncloud on it (Don&#039;t reallly like extroot).<br />Also where can I get a cheap reliable external flash programmer preferably on ebay or other reliable sources that uses paypal.<br />Thanks</p>											<p class="post-edited">(Last edited by <strong>alphasparc</strong> on 6 Jan 2013, 03:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188020">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Squonk</div>
					<div class="post-datetime">
						6 Jan 2013, 11:38					</div>
				</div>
				<div class="post-content content">
					<p>This is slboat store:<br /><a href="http://www.ebay.com/itm/181054715232">http://www.ebay.com/itm/181054715232</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188040">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						6 Jan 2013, 14:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Hi guys can you explain how to move the art partition and expand the filesystem to fill the larger flash chip?<br />I wish to upgrade my TP-link WDR4300 from 8MB of flash to 64MB so I can install owncloud on it (Don&#039;t reallly like extroot).<br />Also where can I get a cheap reliable external flash programmer preferably on ebay or other reliable sources that uses paypal.<br />Thanks</p></blockquote></div><p><strong>Art partition for 16MB Flash :</strong> </p><p>16MB total size in hex = 1000000</p><p>64kb art partition size in hex = 10000</p><p>Art partition hex address = 1000000 - 10000 = FF0000</p><br /><p><strong>Art partition for 64MB Flash :</strong></p><p>64MB total size in hex = 4000000</p><p>64kb art partition size in hex = 10000</p><p>Art partition hex address = 4000000 - 10000 = 3FF0000</p><br /><p>I bought from slboat CH341A flash programmer , it&#039;s cheap not so fast but enough for me to playing around even if my uboot broken , no worry anymore. <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>Of course you need to modify u-boot environment to 64MB&nbsp; this is critical if you work with uboot command.</p><p>For openwrt firmware I can confirm you, openwrt will automatically detect the flash size IF your flash ID is on his list , so you don&#039;t need to compile openwrt with certain template size.</p><p>But you can compile openwrt with <strong>64MB template</strong> and put all your packages in it as much as flash chip can handle it.<br />Nice when you issuing the command <strong>&quot;fistboot&quot;</strong>, you don&#039;t need to install a bunch of your packages list.</p>											<p class="post-edited">(Last edited by <strong>xopal</strong> on 6 Jan 2013, 17:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188065">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">rambler</div>
					<div class="post-datetime">
						6 Jan 2013, 17:46					</div>
				</div>
				<div class="post-content content">
					<p>Are &gt;16MB (&gt;128Mbit) devices really supported by the kernel (they are not supported by u-boot for sure), and if so, by which kernel?&nbsp; They use extended command set; traditional 24bit addresses top at 16MB. Are they available in SOP-8??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188069">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						6 Jan 2013, 18:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rambler wrote:</cite><blockquote><p>Are &gt;16MB (&gt;128Mbit) devices really supported by the kernel (they are not supported by u-boot for sure), and if so, by which kernel?&nbsp; They use extended command set; traditional 24bit addresses top at 16MB. Are they available in SOP-8??</p></blockquote></div><p>Confirmed with AA / trunk</p><p>Yes you can choose SOP-8 or SOP-16 some routers equipped with dual foot prints for flash chip. </p><p><span class="postimg"><img src="http://i47.tinypic.com/18j5sy.jpg" alt="http://i47.tinypic.com/18j5sy.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188144">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						7 Jan 2013, 04:54					</div>
				</div>
				<div class="post-content content">
					<p>Does the programmer slboat sells do 16 pin flash programming?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188147">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						7 Jan 2013, 06:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Does the programmer slboat sells do 16 pin flash programming?</p></blockquote></div><p>Yes it does, but my adaptor unlike on his pictures , mine was simple adaptor and yes it&#039;s cheap.</p><p><span class="postimg"><img src="http://i47.tinypic.com/2w7001s.jpg" alt="http://i47.tinypic.com/2w7001s.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188193">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">alphasparc</div>
					<div class="post-datetime">
						7 Jan 2013, 15:57					</div>
				</div>
				<div class="post-content content">
					<p>Do you know if there is anyway we can solder in a socket instead of the SMT Flash so we can make it removable like the BIOS chip in a motherboard?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188195">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						7 Jan 2013, 16:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Do you know if there is anyway we can solder in a socket instead of the SMT Flash so we can make it removable like the BIOS chip in a motherboard?</p></blockquote></div><p>I don&#039;t find any smd socket like that.</p><p>This pictures shows self made simple programmer , it turn your router into simple flash programmer.</p><p><span class="postimg"><img src="http://i48.tinypic.com/23w5u8x.jpg" alt="http://i48.tinypic.com/23w5u8x.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188202">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						7 Jan 2013, 17:25					</div>
				</div>
				<div class="post-content content">
					<p>you can get &quot;tweezers&quot; for want of a better word that can grip the pins in place and connect to programmers. They are not cheap.<br />These are NOT what I am thinking of, but they would do:<br /><a href="http://hackaday.com/2009/07/02/how-to-bus-pirate-probe-cable/">http://hackaday.com/2009/07/02/how-to-b … obe-cable/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188351">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">cindy.wijaya</div>
					<div class="post-datetime">
						9 Jan 2013, 00:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Do you know if there is anyway we can solder in a socket instead of the SMT Flash so we can make it removable like the BIOS chip in a motherboard?</p></blockquote></div><p>I make it dualboot rom with very cheap tools less than $1</p><p>[spoiler=&quot;cheap rom programmer&quot;]<span class="postimg"><img src="http://img837.imageshack.us/img837/5536/rscn0071.jpg" alt="http://img837.imageshack.us/img837/5536/rscn0071.jpg" /></span>[/spoiler]<br />[spoiler=&quot;cheap rom programmer&quot;]<span class="postimg"><img src="http://img12.imageshack.us/img12/3456/dscn0045uz.jpg" alt="http://img12.imageshack.us/img12/3456/dscn0045uz.jpg" /></span>[/spoiler]<br />[spoiler=&quot;cheap rom programmer&quot;]<span class="postimg"><img src="http://img822.imageshack.us/img822/9769/dscn0057ep.jpg" alt="http://img822.imageshack.us/img822/9769/dscn0057ep.jpg" /></span>[/spoiler]<br />[spoiler=&quot;cheap rom programmer&quot;]<span class="postimg"><img src="http://img703.imageshack.us/img703/6122/dscn0059i.jpg" alt="http://img703.imageshack.us/img703/6122/dscn0059i.jpg" /></span>[/spoiler]<br />[spoiler=&quot;cheap rom programmer&quot;]<span class="postimg"><img src="http://img201.imageshack.us/img201/5589/rscn0050.jpg" alt="http://img201.imageshack.us/img201/5589/rscn0050.jpg" /></span>[/spoiler]<br />[spoiler=&quot;cheap rom programmer&quot;]<span class="postimg"><img src="http://img706.imageshack.us/img706/3924/rscn0058.jpg" alt="http://img706.imageshack.us/img706/3924/rscn0058.jpg" /></span>[/spoiler]<br />[spoiler=&quot;cheap rom programmer&quot;]<span class="postimg"><img src="http://img819.imageshack.us/img819/7461/rscn0060.jpg" alt="http://img819.imageshack.us/img819/7461/rscn0060.jpg" /></span>[/spoiler]</p><br /><p>i create a little tool to automatic flash but i haven&#039;t write full instruction yet <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /><br />[youtube]<a href="http://www.youtube.com/watch?feature=player_embedded&amp;v=A1hKTlWtBoY">http://www.youtube.com/watch?feature=pl … 1hKTlWtBoY</a>[/youtube]<br /><a href="http://openwrt.agromapia.com/software/oWRHeX.exe">http://openwrt.agromapia.com/software/oWRHeX.exe</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188867">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						14 Jan 2013, 11:23					</div>
				</div>
				<div class="post-content content">
					<p>there some few problem ,so i recompile the uboot,now seems work nice to me<br /><span class="postimg"><img src="http://see.sl088.com/w/images/2/29/JustCapIt4043.jpg" alt="http://see.sl088.com/w/images/2/29/JustCapIt4043.jpg" /></span></p><p>here is how i mod the uboot source<br /><a href="http://see.sl088.com/wiki/WR703_Uboot_%E5%B8%A6Web%E7%9A%84Mod%E7%89%88%E6%9C%AC">http://see.sl088.com/wiki/WR703_Uboot_% … 8%E6%9C%AC</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p188869">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">slboat</div>
					<div class="post-datetime">
						14 Jan 2013, 11:29					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Do you know if there is anyway we can solder in a socket instead of the SMT Flash so we can make it removable like the BIOS chip in a motherboard?</p></blockquote></div><p>it&#039;s cool but is really hard to found that kind socket</p><p>i found one pretty socket,but it&#039;s for soic8 ,that&#039;s damn it:(<br /><a href="http://see.sl088.com/wiki/DIP8%E8%BD%ACSOP8">http://see.sl088.com/wiki/DIP8%E8%BD%ACSOP8</a> <br /><span class="postimg"><img src="http://see.sl088.com/w/images/f/f2/Slboat_eos_2655.JPG" alt="http://see.sl088.com/w/images/f/f2/Slboat_eos_2655.JPG" /></span></p><p>and it cant fit in the wr703 box,so xopal&#039;s way may see nice:)</p><p>and a friend of my do this trick so a big route box<br /><span class="postimg"><img src="http://see.sl088.com/w/images/1/1a/JustCapIt3868.jpg" alt="http://see.sl088.com/w/images/1/1a/JustCapIt3868.jpg" /></span><br /><span class="postimg"><img src="http://see.sl088.com/w/images/9/91/JustCapIt3869.jpg" alt="http://see.sl088.com/w/images/9/91/JustCapIt3869.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189002">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">2E0BUB</div>
					<div class="post-datetime">
						15 Jan 2013, 15:39					</div>
				</div>
				<div class="post-content content">
					<p>Nice !!!</p><p>I put a Sparkfun FTDI 3.3v USB to Serial inside...<br /><span class="postimg"><img src="http://www.robot.plus.com/w703n_ftdi.jpg" alt="wr703n FTDI Inside" /></span></p><p>I used the thin enamel coated wire for the usb D+ and D- and 0.25mm wire wrap wire (Kynar) for the other connections</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189367">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">ujin</div>
					<div class="post-datetime">
						19 Jan 2013, 16:01					</div>
				</div>
				<div class="post-content content">
					<p>Hello.<br />Sorry for my incompetence, i&#039;m new in OpenWRT,&nbsp; WR703 and router flashing.<br />Do i&#039;m thinking right?:<br />- if i need to install some optware and to store some files on WR703 device, but do not want to use USB Flash - slboat&#039;s 16M modded WR703 router is good for me?<br />- will i be able to install some optware to WR703 device&#039;s Flash or i will be need to unsolder Flash and write new image via programmer somehow?<br />- If there will be new (future) versions of OpenWRT for WR703 - will i be needed to unsolder Flash and did that art partition trick to install new version with each every upgrade?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189371">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						19 Jan 2013, 16:51					</div>
				</div>
				<div class="post-content content">
					<p>ujin--unless you have a need for extra flash (above 4mb on the WR703N), you don&#039;t need to follow slboat&#039;s path.&nbsp; &nbsp;If you do need more, other devices might suit you better.&nbsp; From your questions, I&#039;d say you are very unfamiliar with what openwrt does.&nbsp; Yes, you can install (some) programs on stock openwrt devices like the WR703N, and yes, you can flash newer versions without unsoldering anything.&nbsp; </p><p>Your questions don&#039;t specifically relate to slboat&#039;s mod.&nbsp; I think you would do better to start a new general thread and ask about what devices would be suitable for the programs you want to run.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189405">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">ujin</div>
					<div class="post-datetime">
						20 Jan 2013, 08:54					</div>
				</div>
				<div class="post-content content">
					<p>Ok, some things becomes more clear.<br />But my main question - will i need to unsolder Flash chip on modded unit (16M unit or 8M unit) and did art partition trick with every future reflash or it need to be did once?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p189410">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">rambler</div>
					<div class="post-datetime">
						20 Jan 2013, 09:54					</div>
				</div>
				<div class="post-content content">
					<p>You only need to write art partition once.</p><p>That can be done in a number of ways:<br />(i) desolder the flash and use flash programmer;<br />(ii) re-compile the kernel, removing write protection of art partition, and write it from within OpenWRT (see e.g. <a href="https://forum.openwrt.org/viewtopic.php?pid=179169#p179169">https://forum.openwrt.org/viewtopic.php … 69#p179169</a>);<br />(iii) re-compile u-boot to recognize the bigger flash (see e.g. <a href="https://forum.openwrt.org/viewtopic.php?pid=176708#p176708">https://forum.openwrt.org/viewtopic.php … 08#p176708</a>), and write art from u-boot, using serial console and TFTP (this is somewhat risky, as if you mess up with uboot, you <em>will</em> need to de-solder and reprogram the chip.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p190261">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">forsakenrider</div>
					<div class="post-datetime">
						29 Jan 2013, 00:34					</div>
				</div>
				<div class="post-content content">
					<p>What is the 16MB flash chip youre using?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p190283">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">xopal</div>
					<div class="post-datetime">
						29 Jan 2013, 10:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>forsakenrider wrote:</cite><blockquote><p>What is the 16MB flash chip youre using?</p></blockquote></div><p>Winbond</p><p>25Q128FVSG</p><p><a href="http://www.ebay.com/itm/SLBoat-TP-Link-TL-WR703N-Mod-64Mbyte-RAM-16Mbyte-Flash-And-TTLout-/181067821634?pt=COMP_EN_Routers&amp;hash=item2a287bb242">slboat store</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p204094">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">fjorger</div>
					<div class="post-datetime">
						9 Jun 2013, 03:02					</div>
				</div>
				<div class="post-content content">
					<p>Hi xopal and alphasparc,</p><p>Good evening.</p><p>What 64MB flash chip did you use/recommend for the TPL WDR4300?<br />Where can I buy it? On the &quot;slboat&quot; shop?</p><p>Finally I have one doubt; is it possible to upgrade 4300 (128MB &quot;2*64&quot; RAM) to something like 256 or more? Probably not, right?<br />I searched for the CPU specs, but couldn&#039;t find one, so I&#039;m still not sure if the CPU supports more than 64MB RAM per bank...</p><p>Thanks in advance,<br />Best Regards,</p><p>fjorger.</p><br /><div class="quotebox"><cite>xopal wrote:</cite><blockquote><div class="quotebox"><cite>alphasparc wrote:</cite><blockquote><p>Hi guys can you explain how to move the art partition and expand the filesystem to fill the larger flash chip?<br />I wish to upgrade my TP-link WDR4300 from 8MB of flash to 64MB so I can install owncloud on it (Don&#039;t reallly like extroot).<br />Also where can I get a cheap reliable external flash programmer preferably on ebay or other reliable sources that uses paypal.<br />Thanks</p></blockquote></div><p><strong>Art partition for 16MB Flash :</strong> </p><p>16MB total size in hex = 1000000</p><p>64kb art partition size in hex = 10000</p><p>Art partition hex address = 1000000 - 10000 = FF0000</p><br /><p><strong>Art partition for 64MB Flash :</strong></p><p>64MB total size in hex = 4000000</p><p>64kb art partition size in hex = 10000</p><p>Art partition hex address = 4000000 - 10000 = 3FF0000</p><br /><p>I bought from slboat CH341A flash programmer , it&#039;s cheap not so fast but enough for me to playing around even if my uboot broken , no worry anymore. <img src="https://forum.openwrt.org/img/smilies/big_smile.png" width="15" height="15" alt="big_smile" /></p><p>Of course you need to modify u-boot environment to 64MB&nbsp; this is critical if you work with uboot command.</p><p>For openwrt firmware I can confirm you, openwrt will automatically detect the flash size IF your flash ID is on his list , so you don&#039;t need to compile openwrt with certain template size.</p><p>But you can compile openwrt with <strong>64MB template</strong> and put all your packages in it as much as flash chip can handle it.<br />Nice when you issuing the command <strong>&quot;fistboot&quot;</strong>, you don&#039;t need to install a bunch of your packages list.</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210007">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">sSpeaker</div>
					<div class="post-datetime">
						17 Aug 2013, 14:19					</div>
				</div>
				<div class="post-content content">
					<p>Hi all,<br />I changed flash to 16MB in TL-WR741ND. Everything works fine, except wifi.<br />Before resoldering i dumped ART partition via OpenWrt and then flashed it via <a href="https://forum.openwrt.org/viewtopic.php?id=43237">U-Boot</a> to the new flash.<br />But wifi does not work(</p><p>Could someone help me?<br /></p><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/mtd
dev:    size   erasesize  name
mtd0: 00020000 00010000 &quot;u-boot&quot;
mtd1: 000f0000 00010000 &quot;kernel&quot;
mtd2: 00ee0000 00010000 &quot;rootfs&quot;
mtd3: 00010000 00010000 &quot;art&quot;
mtd4: 00fd0000 00010000 &quot;firmware&quot;

root@OpenWrt:/# dmesg | grep 0x00
[    0.000000]   Normal   0x00000000 -&gt; 0x00004000
[    0.000000]     0: 0x00000000 -&gt; 0x00004000
[    0.680000] 0x000000000000-0x000000020000 : &quot;u-boot&quot;
[    0.690000] 0x000000020000-0x000000110000 : &quot;kernel&quot;
[    0.690000] 0x000000110000-0x000000ff0000 : &quot;rootfs&quot;
[    0.710000] 0x000000ff0000-0x000001000000 : &quot;art&quot;
[    0.710000] 0x000000020000-0x000000ff0000 : &quot;firmware&quot;

root@OpenWrt:/# ifconfig wlan0
wlan0     Link encap:Ethernet  HWaddr FF:FF:FF:FF:FF:FF
          BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:32
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</code></pre></div><p>ART dump: <a href="https://www.dropbox.com/s/64hen5r4nm4jqr8/art.backup">https://www.dropbox.com/s/64hen5r4nm4jqr8/art.backup</a><br />Full dump of old flash(via programator): <a href="https://www.dropbox.com/s/9egv5048apgmdi5/full_dump_WR741">https://www.dropbox.com/s/9egv5048apgmd … dump_WR741</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p210010">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">sSpeaker</div>
					<div class="post-datetime">
						17 Aug 2013, 14:39					</div>
				</div>
				<div class="post-content content">
					<p>I have fixed it. Just changed mac from u-boot.</p><p>Log from uboot:<br /></p><div class="codebox"><pre><code>uboot&gt; printmac
Current MAC address stored in flash at offset 0x9F01FC00: FF:FF:FF:FF:FF:FF

uboot&gt; setmac F8:1A:67:00:00:00
Executing: erase 0x9F010000 +0x10000; cp.b 0x80080000 0x9F010000 0x10000</code></pre></div>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 3</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=41449&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=41449&amp;p=3.html">3</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>