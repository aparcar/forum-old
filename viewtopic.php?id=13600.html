<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> SDK compile package problem</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p59850">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">noyz</div>
					<div class="post-datetime">
						2 Dec 2007, 15:34					</div>
				</div>
				<div class="post-content content">
					<p>root@ubuntu:/home/noyz/Download/OpenWrt-SDK-Linux-i686-1# make clean &amp;&amp; make world &gt; make.log<br />rm -rf build_* bin<br />configure: warning: You will need re2c 0.9.11 or later if you want to regenerate PHP parsers.<br />configure: warning: bison versions supported for regeneration of the Zend/PHP parsers: 1.28 1.35 1.75 1.875 2.0 2.1 (found: 2.3).<br />configure: warning: flex versions supported for regeneration of the Zend/PHP parsers: 2.5.4&nbsp; (found: 2.5.33).<br />configure: error: Sorry, I was not able to diagnose which libmcrypt version you have installed.<br />make[2]: *** [/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/build_mipsel/php/.configured] Error 1<br />make[1]: *** [package/compile] Error 2<br />make: *** [world] Error 2</p><p>make.log </p><p>make package/compile<br />make[1]: Entering directory `/home/noyz/Download/OpenWrt-SDK-Linux-i686-1&#039;<br />make -C package compile SDK=1<br />Rebuilding /home/noyz/Download/OpenWrt-SDK-Linux-i686-1/bin/packages/php_5.1.2_mipsel.ipk<br />make[2]: Entering directory `/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/package&#039;<br />mkdir -p /home/noyz/Download/OpenWrt-SDK-Linux-i686-1/build_mipsel/php<br />cp -fpR ./src/* /home/noyz/Download/OpenWrt-SDK-Linux-i686-1/build_mipsel/php/<br />touch /home/noyz/Download/OpenWrt-SDK-Linux-i686-1/build_mipsel/php/.prepared<br />(cd /home/noyz/Download/OpenWrt-SDK-Linux-i686-1/build_mipsel/php/; if [ -x configure ]; then AR=mipsel-linux-uclibc-ar AS=&quot;mipsel-linux-uclibc-gcc -c -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; LD=mipsel-linux-uclibc-ld NM=mipsel-linux-uclibc-nm CC=&quot;mipsel-linux-uclibc-gcc&quot; GCC=&quot;mipsel-linux-uclibc-gcc&quot; CXX=mipsel-linux-uclibc-g++ RANLIB=mipsel-linux-uclibc-ranlib STRIP=mipsel-linux-uclibc-strip OBJCOPY=mipsel-linux-uclibc-objcopy CFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; CXXFLAGS=&quot;-Os -pipe -mips32 -mtune=mips32 -funit-at-a-time&quot; CPPFLAGS=&quot;-I/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/include -I/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/include&quot; LDFLAGS=&quot;-L/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib -L/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib&quot; PKG_CONFIG_PATH=&quot;/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib/pkgconfig&quot; PKG_CONFIG_LIBDIR=&quot;/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib/pkgconfig&quot;&nbsp; ./configure --target=mipsel-linux --host=mipsel-linux --build=i486-linux-gnu --program-prefix=&quot;&quot; --program-suffix=&quot;&quot; --prefix=/usr --exec-prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib --sysconfdir=/etc --datadir=/usr/share --localstatedir=/var --mandir=/usr/man --infodir=/usr/info --with-openssl --with-mcrypt --enable-force-cgi-redirect --with-cli --without-iconv --disable-libxml --disable-dom --disable-simplexml --disable-xml --disable-xmlreader --disable-xmlwriter --without-pear --disable-nls ; fi; )<br />loading site script /home/noyz/Download/OpenWrt-SDK-Linux-i686-1/include/site/mipsel-linux-uclibc<br />loading cache ./config.cache<br />checking for Cygwin environment... no<br />checking for mingw32 environment... no<br />checking for egrep... grep -E<br />checking for a sed that does not truncate output... /home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/bin/sed<br />checking host system type... mipsel-unknown-linux-gnu<br />checking target system type... mipsel-unknown-linux-gnu<br />checking for gcc... mipsel-linux-uclibc-gcc<br />checking whether the C compiler (mipsel-linux-uclibc-gcc -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -L/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib -L/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib) works... yes<br />checking whether the C compiler (mipsel-linux-uclibc-gcc -Os -pipe -mips32 -mtune=mips32 -funit-at-a-time -L/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/usr/lib -L/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/staging_dir_mipsel/lib) is a cross-compiler... yes<br />checking whether we are using GNU C... yes<br />checking whether mipsel-linux-uclibc-gcc accepts -g... yes<br />checking whether mipsel-linux-uclibc-gcc and cc understand -c and -o together... yes<br />checking how to run the C preprocessor... mipsel-linux-uclibc-gcc -E<br />checking for AIX... no<br />checking whether ln -s works... yes<br />checking if compiler supports -R... no<br />checking if compiler supports -Wl,-rpath,... yes<br />checking for re2c... no<br />checking for gawk... gawk<br />checking for bison... bison -y<br />checking for bison version... invalid<br />checking for flex... flex<br />checking for yywrap in -lfl... no<br />checking lex output file root... lex.yy<br />checking whether yytext is a pointer... no<br />checking for working const... yes<br />checking for flex version... invalid<br />checking whether to force non-PIC code in shared modules... no<br />checking for pthreads_cflags...<br />checking for pthreads_lib...</p><p>[1mConfiguring SAPI modules[m<br />checking for AOLserver support... no<br />checking for Apache 1.x module support via DSO through APXS... no<br />checking for Apache 1.x module support... no<br />checking for mod_charset compatibility option... no<br />checking for Apache 2.0 filter-module support via DSO through APXS... no<br />checking for Apache 2.0 handler-module support via DSO through APXS... no<br />checking for Apache 1.x (hooks) module support via DSO through APXS... no<br />checking for Apache 1.x (hooks) module support... no<br />checking for mod_charset compatibility option... no<br />checking for Caudium support... no<br />checking for CLI build... yes<br />checking for Continuity support... no<br />checking for embedded SAPI library support... no<br />checking for Zeus ISAPI support... no<br />checking for Milter support... no<br />checking for NSAPI support... no<br />checking for PHTTPD support... no<br />checking for Pi3Web support... no<br />checking for Roxen/Pike support... no<br />checking for thttpd... no<br />checking for TUX... no<br />checking for webjames... no<br />checking for CGI build... yes<br />checking whether writing to stdout works... no<br />checking whether to force Apache CGI redirect... yes<br />checking whether to discard path_info + path_translated... no<br />checking whether to enable path info checking... yes<br />checking whether to enable fastcgi support... no<br />checking for chosen SAPI module... cgi</p><p>[1mRunning system checks[m<br />checking for sendmail... no<br />checking whether system uses EBCDIC... no<br />checking whether byte ordering is bigendian... unknown<br />checking for socket... yes<br />checking for socketpair... yes<br />checking for htonl... yes<br />checking for gethostname... yes<br />checking for gethostbyaddr... yes<br />checking for yp_get_default_domain... no<br />checking for __yp_get_default_domain... no<br />checking for yp_get_default_domain in -lnsl... no<br />checking for __yp_get_default_domain in -lnsl... no<br />checking for dlopen... no<br />checking for __dlopen... no<br />checking for dlopen in -ldl... yes<br />checking for sin in -lm... yes<br />checking for res_search... no<br />checking for __res_search... yes<br />checking for inet_aton... yes<br />checking for dn_skipname... no<br />checking for __dn_skipname... no<br />checking for dn_skipname in -lresolv... no<br />checking for __dn_skipname in -lresolv... no<br />checking for dn_skipname in -lbind... no<br />checking for __dn_skipname in -lbind... no<br />checking for ANSI C header files... yes<br />checking for dirent.h that defines DIR... yes<br />checking for opendir in -ldir... no<br />checking for inttypes.h... yes<br />checking for stdint.h... yes<br />checking for dirent.h... yes<br />checking for ApplicationServices/ApplicationServices.h... no<br />checking for sys/param.h... yes<br />checking for sys/types.h... yes<br />checking for sys/time.h... yes<br />checking for netinet/in.h... yes<br />checking for alloca.h... yes<br />checking for arpa/inet.h... yes<br />checking for arpa/nameser.h... yes<br />checking for assert.h... yes<br />checking for crypt.h... yes<br />checking for fcntl.h... yes<br />checking for grp.h... yes<br />checking for ieeefp.h... no<br />checking for langinfo.h... yes<br />checking for limits.h... yes<br />checking for locale.h... yes<br />checking for monetary.h... no<br />checking for mach-o/dyld.h... no<br />checking for netdb.h... yes<br />checking for pwd.h... yes<br />checking for resolv.h... yes<br />checking for signal.h... yes<br />checking for stdarg.h... yes<br />checking for stdlib.h... yes<br />checking for string.h... yes<br />checking for syslog.h... yes<br />checking for sysexits.h... yes<br />checking for sys/ioctl.h... yes<br />checking for sys/file.h... yes<br />checking for sys/mman.h... yes<br />checking for sys/mount.h... yes<br />checking for sys/poll.h... yes<br />checking for sys/resource.h... yes<br />checking for sys/select.h... yes<br />checking for sys/socket.h... yes<br />checking for sys/statfs.h... yes<br />checking for sys/statvfs.h... yes<br />checking for sys/vfs.h... yes<br />checking for sys/sysexits.h... no<br />checking for sys/varargs.h... no<br />checking for sys/wait.h... yes<br />checking for termios.h... yes<br />checking for unistd.h... yes<br />checking for unix.h... no<br />checking for utime.h... yes<br />checking for sys/utsname.h... yes<br />checking for sys/ipc.h... yes<br />checking for dlfcn.h... yes<br />checking for assert.h... (cached) yes<br />checking for fopencookie... yes<br />checking for broken getcwd... no<br />checking for broken libc stdio... yes<br />checking whether struct tm is in sys/time.h or time.h... time.h<br />checking for tm_zone in struct tm... yes<br />checking for missing declarations of reentrant functions... done<br />checking for fclose declaration... ok<br />checking for tm_gmtoff in struct tm... yes<br />checking for struct flock... yes<br />checking for socklen_t... yes<br />checking size of intmax_t... 0<br />checking size of size_t... (cached) 4<br />checking size of ssize_t... 8<br />checking size of ptrdiff_t... 8<br />checking size of long long... (cached) 8<br />checking size of long long int... 8<br />checking size of long... (cached) 4<br />checking size of int... (cached) 4<br />checking for st_blksize in struct stat... yes<br />checking for st_blocks in struct stat... yes<br />checking for st_rdev in struct stat... yes<br />checking for size_t... yes<br />checking for uid_t in sys/types.h... yes<br />checking for struct sockaddr_storage... yes<br />checking for field sa_len in struct sockaddr... no<br />checking for IPv6 support... yes<br />checking for vprintf... yes<br />checking for alphasort... yes<br />checking for asctime_r... yes<br />checking for chroot... yes<br />checking for ctime_r... yes<br />checking for cuserid... yes<br />checking for crypt... no<br />checking for flock... yes<br />checking for ftok... yes<br />checking for funopen... no<br />checking for gai_strerror... yes<br />checking for gcvt... yes<br />checking for getlogin... yes<br />checking for getprotobyname... yes<br />checking for getprotobynumber... yes<br />checking for getservbyname... yes<br />checking for getservbyport... yes<br />checking for getrusage... yes<br />checking for gettimeofday... yes<br />checking for gmtime_r... yes<br />checking for grantpt... yes<br />checking for inet_ntoa... yes<br />checking for inet_ntop... yes<br />checking for inet_pton... yes<br />checking for isascii... yes<br />checking for link... yes<br />checking for localtime_r... yes<br />checking for lockf... yes<br />checking for lrand48... yes<br />checking for memcpy... yes<br />checking for memmove... yes<br />checking for mkstemp... yes<br />checking for mmap... yes<br />checking for nl_langinfo... yes<br />checking for perror... yes<br />checking for poll... yes<br />checking for ptsname... yes<br />checking for putenv... yes<br />checking for realpath... yes<br />checking for random... yes<br />checking for rand_r... yes<br />checking for regcomp... yes<br />checking for res_search... (cached) yes<br />checking for scandir... yes<br />checking for setitimer... yes<br />checking for setlocale... (cached) yes<br />checking for localeconv... yes<br />checking for setpgid... yes<br />checking for setsockopt... yes<br />checking for setvbuf... yes<br />checking for shutdown... yes<br />checking for sin... yes<br />checking for snprintf... yes<br />checking for srand48... yes<br />checking for srandom... yes<br />checking for statfs... yes<br />checking for statvfs... yes<br />checking for std_syslog... no<br />checking for strcasecmp... yes<br />checking for strcoll... yes<br />checking for strdup... yes<br />checking for strerror... (cached) yes<br />checking for strftime... (cached) yes<br />checking for strptime... yes<br />checking for strstr... yes<br />checking for strtok_r... yes<br />checking for symlink... yes<br />checking for tempnam... yes<br />checking for tzset... yes<br />checking for unlockpt... yes<br />checking for unsetenv... yes<br />checking for usleep... yes<br />checking for nanosleep... yes<br />checking for utime... yes<br />checking for vsnprintf... (cached) yes<br />checking for getaddrinfo... (cached) yes<br />checking for strlcat... yes<br />checking for strlcpy... yes<br />checking for getopt... yes<br />checking whether utime accepts a null argument... no<br />checking for working alloca.h... (cached) yes<br />checking for alloca... yes<br />checking for declared timezone... yes<br />checking for type of reentrant time-related functions... (cached) POSIX<br />checking for readdir_r... yes<br />checking for type of readdir_r... none<br />checking for in_addr_t... yes</p><p>[1mGeneral settings[m<br />checking whether to include gcov symbols... no<br />checking whether to include debugging symbols... no<br />checking layout of installed files... PHP<br />checking path to configuration file... DEFAULT<br />checking where to scan for configuration files... DEFAULT<br />checking whether to enable safe mode by default... no<br />checking for safe mode exec dir... /usr/local/php/bin<br />checking whether to enable PHP&#039;s own SIGCHLD handler... no<br />checking whether to enable magic quotes by default... no<br />checking whether to enable runpaths... yes<br />checking whether to explicitly link against libgcc... no<br />checking whether to enable short tags by default... yes<br />checking whether to enable dmalloc... no<br />checking whether to enable IPv6 support... yes<br />checking how big to make fd sets... using system default<br />checking whether to enable versioning... no</p><p>[1mConfiguring extensions[m<br />checking whether to enable LIBXML support... no<br />checking libxml2 install dir... no<br />checking for OpenSSL support... yes<br />checking for Kerberos support... no<br />checking for pkg-config... /usr/bin/pkg-config<br />checking for OpenSSL version... &gt;= 0.9.6<br />checking for CRYPTO_free in -lcrypto... yes<br />checking for SSL_CTX_set_ssl_version in -lssl... yes<br />checking for PCRE support... yes<br />checking for ZLIB support... no<br />checking if the location of ZLIB install directory is defined... no<br />checking whether to enable bc style precision math functions... no<br />checking for BZip2 support... no<br />checking whether to enable calendar conversion support... no<br />checking whether to enable ctype functions... yes<br />checking for CURL support... no<br />checking if we should use CURL for url streams... no<br />checking size of long... (cached) 4<br />checking size of int... (cached) 4<br />checking for int32_t... yes<br />checking for uint32_t... yes<br />checking for sys/types.h... (cached) yes<br />checking for inttypes.h... (cached) yes<br />checking for stdint.h... (cached) yes<br />checking for string.h... (cached) yes<br />checking for stdlib.h... (cached) yes<br />checking for strtoll... yes<br />checking for atoll... yes<br />checking for strftime... (cached) yes<br />checking whether to enable DBA... no<br />checking for QDBM support... no<br />checking for GDBM support... no<br />checking for NDBM support... no<br />checking for Berkeley DB4 support... no<br />checking for Berkeley DB3 support... no<br />checking for Berkeley DB2 support... no<br />checking for DB1 support... no<br />checking for DBM support... no<br />checking for CDB support... no<br />checking for INI File support... no<br />checking for FlatFile support... no<br />checking whether to enable DBA interface... no<br />checking whether to enable dbase support... no<br />checking whether to enable DOM support... no<br />checking whether to enable EXIF (metadata from images) support... no<br />checking for FrontBase SQL92 (fbsql) support... no<br />checking for FDF support... no<br />checking whether to enable the bundled filePro support... no<br />checking whether to enable FTP support... no<br />checking OpenSSL dir for FTP... no<br />checking for GD support... no<br />checking for the location of libjpeg... no<br />checking for the location of libpng... no<br />checking for the location of libXpm... no<br />checking for FreeType 1.x support... no<br />checking for FreeType 2... no<br />checking for T1lib support... no<br />checking whether to enable truetype string function in GD... no<br />checking whether to enable JIS-mapped Japanese font support in GD... no<br />checking for GNU gettext support... no<br />checking for GNU MP support... no<br />checking whether to enable hash support... yes<br />checking size of short... (cached) 2<br />checking size of int... (cached) 4<br />checking size of long... (cached) 4<br />checking size of long long... (cached) 8<br />checking for hwapi support... no<br />checking for iconv support... no<br />checking for IMAP support... no<br />checking for IMAP Kerberos support... no<br />checking for IMAP SSL support... no<br />checking for Informix support... no<br />checking for InterBase support... no<br />checking for LDAP support... no<br />checking for LDAP Cyrus SASL support... no<br />checking whether to enable multibyte string support... no<br />checking whether to enable multibyte regex support... yes<br />checking for external libmbfl... no<br />checking for mcrypt support... yes<br />checking for libmcrypt version... &gt;= 2.5.6<br />checking for mcrypt_module_open in -lmcrypt... no<br />checking for mcrypt_module_open in -lmcrypt... no<br />make[2]: Leaving directory `/home/noyz/Download/OpenWrt-SDK-Linux-i686-1/package&#039;<br />make[1]: Leaving directory `/home/noyz/Download/OpenWrt-SDK-Linux-i686-1&#039;</p><br /><br /><p>as u can see i&#039;m trying to build php-5.1.2.... with :<br />--with-openssl --with-mcrypt --enable-force-cgi-redirect --with-cli --without-iconv --disable-libxml --disable-dom --disable-simplexml --disable-xml --disable-xmlreader --disable-xmlwriter --without-pear</p><p>i made the --configure options in the build-host.mk and package.mk from include dir...... and the program will take that -- conf option like a defaut conf option... that&#039;s because i couldn&#039;t do it in the make file ... so when u don&#039;t know u try otherwise (btw i read the build root docs and SDK docs.. and there is a realy nice note.. THIS WILL NOT COMPILE is an example only - that&#039;s great )<br />that ok for my program doesn&#039;t change a thing ..it configures with those options</p><br /><p>but the error is that i don&#039;t have mcrypt module.. i have to install it to sdk how can i do this ?</p><br /><p>you can find me at email to noyzmm@gmail.com</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>