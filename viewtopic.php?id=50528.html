<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Building a specific version of OpenWrt</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 3 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p232825">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">kem</div>
					<div class="post-datetime">
						8 May 2014, 21:26					</div>
				</div>
				<div class="post-content content">
					<p>Are there any tricks to building a specific version of OpenWrt? I have a script that checkouts a specific version of OpenWrt however, when I run the feeds script &quot;./scripts/feeds update&quot;, it checks out the latest version of the packages feeds and spits out a bunch of errors. I&#039;m rerunning my build now, but I haven&#039;t been able to build a specific version that isn&#039;t equal to HEAD. I didn&#039;t see a way to tell the feeds script to checkout a specific version.</p><br /><br /><br /><p>Checked out revision 40730.<br />Create index file &#039;./feeds/packages.index&#039; <br />ERROR: please fix feeds/packages/ipv6/dibbler/Makefile - see logs/feeds/packages/ipv6/dibbler/dump.txt for details<br />ERROR: please fix feeds/packages/ipv6/gw6c/Makefile - see logs/feeds/packages/ipv6/gw6c/dump.txt for details<br />ERROR: please fix feeds/packages/ipv6/miredo/Makefile - see logs/feeds/packages/ipv6/miredo/dump.txt for details<br />ERROR: please fix feeds/packages/libs/db47/Makefile - see logs/feeds/packages/libs/db47/dump.txt for details<br />ERROR: please fix feeds/packages/libs/libv4l/Makefile - see logs/feeds/packages/libs/libv4l/dump.txt for details<br />ERROR: please fix feeds/packages/libs/id3lib/Makefile - see logs/feeds/packages/libs/id3lib/dump.txt for details<br />ERROR: please fix feeds/packages/libs/tiff/Makefile - see logs/feeds/packages/libs/tiff/dump.txt for details<br />ERROR: please fix feeds/packages/libs/mysql/Makefile - see logs/feeds/packages/libs/mysql/dump.txt for details<br />ERROR: please fix feeds/packages/libs/taglib/Makefile - see logs/feeds/packages/libs/taglib/dump.txt for details<br />ERROR: please fix feeds/packages/libs/fcgi/Makefile - see logs/feeds/packages/libs/fcgi/dump.txt for details<br />ERROR: please fix feeds/packages/utils/unrar/Makefile - see logs/feeds/packages/utils/unrar/dump.txt for details<br />ERROR: please fix feeds/packages/utils/gnuplot/Makefile - see logs/feeds/packages/utils/gnuplot/dump.txt for details<br />ERROR: please fix feeds/packages/utils/smartmontools/Makefile - see logs/feeds/packages/utils/smartmontools/dump.txt for details<br />ERROR: please fix feeds/packages/utils/avrusbboot/Makefile - see logs/feeds/packages/utils/avrusbboot/dump.txt for details<br />ERROR: please fix feeds/packages/mail/xmail/Makefile - see logs/feeds/packages/mail/xmail/dump.txt for details<br />ERROR: please fix feeds/packages/admin/nagios-plugins/Makefile - see logs/feeds/packages/admin/nagios-plugins/dump.txt for details<br />ERROR: please fix feeds/packages/net/znc/Makefile - see logs/feeds/packages/net/znc/dump.txt for details<br />ERROR: please fix feeds/packages/net/ctorrent/Makefile - see logs/feeds/packages/net/ctorrent/dump.txt for details<br />ERROR: please fix feeds/packages/net/vncrepeater/Makefile - see logs/feeds/packages/net/vncrepeater/dump.txt for details<br />ERROR: please fix feeds/packages/net/l7-protocols/Makefile - see logs/feeds/packages/net/l7-protocols/dump.txt for details<br />ERROR: please fix feeds/packages/net/paris-traceroute/Makefile - see logs/feeds/packages/net/paris-traceroute/dump.txt for details<br />ERROR: please fix feeds/packages/net/ditg/Makefile - see logs/feeds/packages/net/ditg/dump.txt for details<br />ERROR: please fix feeds/packages/net/rrs/Makefile - see logs/feeds/packages/net/rrs/dump.txt for details<br />ERROR: please fix feeds/packages/net/cbtt/Makefile - see logs/feeds/packages/net/cbtt/dump.txt for details<br />ERROR: please fix feeds/packages/net/mgen/Makefile - see logs/feeds/packages/net/mgen/dump.txt for details<br />ERROR: please fix feeds/packages/net/kismet/Makefile - see logs/feeds/packages/net/kismet/dump.txt for details<br />ERROR: please fix feeds/packages/net/imsnif/Makefile - see logs/feeds/packages/net/imsnif/dump.txt for details<br />ERROR: please fix feeds/packages/net/stun/Makefile - see logs/feeds/packages/net/stun/dump.txt for details<br />ERROR: please fix feeds/packages/net/dansguardian/Makefile - see logs/feeds/packages/net/dansguardian/dump.txt for details<br />ERROR: please fix feeds/packages/net/lftp/Makefile - see logs/feeds/packages/net/lftp/dump.txt for details<br />ERROR: please fix feeds/packages/net/netio/Makefile - see logs/feeds/packages/net/netio/dump.txt for details<br />ERROR: please fix feeds/packages/multimedia/peercast/Makefile - see logs/feeds/packages/multimedia/peercast/dump.txt for details<br />Collecting package info: done</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232831">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						8 May 2014, 21:48					</div>
				</div>
				<div class="post-content content">
					<p>You have to manually check out the correct version of luci and packages feeds, and forget the &quot;feeds update&quot; step. But do &quot;feeds install&quot; after the checkout.</p><p>I use svn, but you can do that also with git. E.g. <a href="http://stackoverflow.com/questions/3555107/git-clone-particular-version-of-remote-repository">http://stackoverflow.com/questions/3555 â€¦ repository</a></p><p>But I have configured my build environment to use svn for luci and packages, as that makes this task really easy. I can just say &quot;./versionT 20140428T2020&quot; to get all three main sources from the same moment. (I don&#039;t use anything from routing or telephony feeds, so I don&#039;t care about them.)</p><p>I use the following &quot;time machine script&quot;:<br /></p><div class="codebox"><pre><code>#!/bin/bash
#
# versionT  -  Update source code to revision T and then build
#              T argument: date as yyyy-mm-dd or yyyymmddThhmm

echo &quot;...update SVN source...&quot;
svn up -r {$1}
echo &quot;...update Luci source...&quot;
svn up -r {$1} ./feeds/luci
echo &quot;...update packages...&quot;
svn up -r {$1} ./feeds/packages
echo &quot;...install feeds...&quot;
./scripts/feeds install -a
echo &quot;...make defconfig...&quot;
make defconfig</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p232835">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kem</div>
					<div class="post-datetime">
						8 May 2014, 22:13					</div>
				</div>
				<div class="post-content content">
					<p>Yeah, that is basically what I am doing. I have an extra &quot;./scripts/feeds update -i&quot; after I &quot;svn up -r &quot;. Hopefully this build completes.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>