<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Best file system for CF Card?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p127108">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">arybak</div>
					<div class="post-datetime">
						1 Feb 2011, 23:36					</div>
				</div>
				<div class="post-content content">
					<p>I will be using OpenWrt on ALIX mainboard with CF Card as card for image. What will be the best file system for this? jffs? squashfs? ext? </p><p>This will be router based on OpenWrt - only configuration and system files will be stored.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127109">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						1 Feb 2011, 23:51					</div>
				</div>
				<div class="post-content content">
					<p>- ext2<br />- ext4 without extents<br />- <a href="https://forum.openwrt.org/viewtopic.php?pid=126923#p126923">btrfs with ssd</a> option enabled[/list]</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127110">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						1 Feb 2011, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>I use EXT<strong>3</strong> here.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127174">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">arybak</div>
					<div class="post-datetime">
						2 Feb 2011, 22:39					</div>
				</div>
				<div class="post-content content">
					<p>Ok, thank you, what about jffs and squashfs ? can someone explain?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127202">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">written_direcon</div>
					<div class="post-datetime">
						3 Feb 2011, 09:08					</div>
				</div>
				<div class="post-content content">
					<p>The JFFS2 image is a fully writable file system. The SquashFS image is a read only part + JFFS2 part as an overlay file system.</p><p>You want the SquashFS image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127614">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">sur4die</div>
					<div class="post-datetime">
						7 Feb 2011, 23:45					</div>
				</div>
				<div class="post-content content">
					<p>I have a similar CF based x86 board and when i try to load a squashfs on the CF card and boot the kernel panics.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127631">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">MMCM</div>
					<div class="post-datetime">
						8 Feb 2011, 01:46					</div>
				</div>
				<div class="post-content content">
					<p>jffs2 and squashfs are for flash based devices without wear level management. All storage media like USB, CF, SD, ... flash cards do have wear levelling management on their built-in controller.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131966">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						30 Mar 2011, 17:11					</div>
				</div>
				<div class="post-content content">
					<p>Sorry to bump an older thread but is it possible to build ext3 or ext4 using menuconfig? I only see ext2 in the Target Images option.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131972">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						30 Mar 2011, 18:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adam2104 wrote:</cite><blockquote><p>Sorry to bump an older thread but is it possible to build ext3 or ext4 using menuconfig? I only see ext2 in the Target Images option.</p></blockquote></div><p>then use ext2. You don&#039;t really need ext3 on a router - just backup a few config files periodically and keep your image safe to reflash it if needed. Ext4 is planned for the next major openwrt release.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131990">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						31 Mar 2011, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;d prefer to use EXT3 for its journaling ability. I&#039;m going to be carrying my Alix box around with me on business travel and I don&#039;t want to bring along a null modem cable in case I need to confirm the FSCK prompt at boot up with EXT2.</p><p>I believe I&#039;m onto a solution for EXT3. It&#039;s working here in VMware after a few (relatively) simple steps. I&#039;m just finalizing the procedure and then I&#039;ll post a how-to.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p131995">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Nilfred</div>
					<div class="post-datetime">
						31 Mar 2011, 06:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adam2104 wrote:</cite><blockquote><p>I don&#039;t want to bring along a null modem cable in case I need to confirm the FSCK prompt at boot up with EXT2.</p></blockquote></div><p>You just found a nasty bug!<br />FSCK prompt at boot should plain simply not happen.<br />Please fill a ticket for that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132005">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						31 Mar 2011, 10:06					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>adam2104 wrote:</cite><blockquote><p>I&#039;d prefer to use EXT3 for its journaling ability. I&#039;m going to be carrying my Alix box around with me on business travel and I don&#039;t want to bring along a null modem cable in case I need to confirm the FSCK prompt at boot up with EXT2.</p><p>I believe I&#039;m onto a solution for EXT3. It&#039;s working here in VMware after a few (relatively) simple steps. I&#039;m just finalizing the procedure and then I&#039;ll post a how-to.</p></blockquote></div><p>think why no journaling is activated by default in the image. And no you won&#039;t be asked to confirm fsck</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132032">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						31 Mar 2011, 17:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>flux wrote:</cite><blockquote><p>think why no journaling is activated by default in the image. And no you won&#039;t be asked to confirm fsck</p></blockquote></div><p>I&#039;m not sure I understand what you&#039;re saying here. There&#039;s several posts in the forum here about a fsck prompt. I haven&#039;t seen it myself, but I have no desire to, so I&#039;ll use ext3.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132055">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						31 Mar 2011, 21:03					</div>
				</div>
				<div class="post-content content">
					<p>Please read about:&nbsp; &nbsp; <a href="http://wiki.openwrt.org/doc/techref/flash.layout">http://wiki.openwrt.org/doc/techref/flash.layout</a> and about <a href="http://wiki.openwrt.org/doc/techref/filesystems">http://wiki.openwrt.org/doc/techref/filesystems</a> then come back again and post a more precise question ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p132086">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">adam2104</div>
					<div class="post-datetime">
						1 Apr 2011, 04:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Orca wrote:</cite><blockquote><p>Please read about:&nbsp; &nbsp; <a href="http://wiki.openwrt.org/doc/techref/flash.layout">http://wiki.openwrt.org/doc/techref/flash.layout</a> and about <a href="http://wiki.openwrt.org/doc/techref/filesystems">http://wiki.openwrt.org/doc/techref/filesystems</a> then come back again and post a more precise question ;-)</p></blockquote></div><p>Not sure where I posed a different question other than the one I already asked. It seems precise enough to me. I understand perfectly well the layout of the file system. I also understand that jffs2 isn&#039;t appropriate for a 2gig flash card. I&#039;ll stick with ext3, its working just fine.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146779">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">valuequest</div>
					<div class="post-datetime">
						26 Oct 2011, 22:00					</div>
				</div>
				<div class="post-content content">
					<p>The jffs2 and squashfs images that the x86 ImageBuilder produces are something like 15-20% of the size of the uncompressed ext2 images.&nbsp; Why is that?</p><p>Let us presume that I&#039;d like to be able to add packages to an existing installation of OpenWRT on a CF card without having to go back and generate a new image.&nbsp; I would only be able to do that with either an ext2 or a jffs2 filesystem, correct?&nbsp; What are the advantages and/or disadvantages of using the ext2 filesystem over the jffs2 filesystem?</p>											<p class="post-edited">(Last edited by <strong>valuequest</strong> on 26 Oct 2011, 22:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p146788">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Orca</div>
					<div class="post-datetime">
						27 Oct 2011, 00:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>valuequest wrote:</cite><blockquote><p>The jffs2 and squashfs images that the x86 ImageBuilder produces are something like 15-20% of the size of the uncompressed ext2 images.&nbsp; Why is that?</p></blockquote></div><p>Hmm, maybe because they are compressed?</p><div class="quotebox"><cite>valuequest wrote:</cite><blockquote><p>Let us presume that I&#039;d like to be able to add packages to an existing installation of OpenWrt on a CF card without having to go back and generate a new image.&nbsp; I would only be able to do that with either an ext2 or a jffs2 filesystem, correct?&nbsp; What are the advantages and/or disadvantages of using the ext2 filesystem over the jffs2 filesystem?</p></blockquote></div><p>Obviously ext2 is less leet, so we can safely assume that you are more likely to get a girlfriend. Yeah, go with ext2.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>