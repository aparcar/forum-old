<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> OpenWRT for Aztech DSL-600EW</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p13282">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">BroadbandTweaker</div>
					<div class="post-datetime">
						5 Oct 2005, 22:27					</div>
				</div>
				<div class="post-content content">
					<p>Hello.</p><p>I have Aztech DSL-600EW Adsl modem. It contains:</p><p>Texas Instrument AR7WRD TNETD7300AGDW<br />16MB SDRAM module ISSI IS42S16800A-7T<br />4MB Flash module Spansion S29GL032M90 TAIR4<br />Mini-PCI WLAN module TNETW1130GVF<br />Marvell M88E6060-RCJ 5 port Fast Ethernet switch<br />USB port</p><p>Does anyone know if OpenWRT for any other AR7<br />(Actiontec GT701, Dlink DSL-G604T or Netgear DG834G)<br />devices work in Aztech? If it does not work what changes<br />are needed to make it work?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14151">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						22 Oct 2005, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>The source code of the firmware is not made public by aztech.</p><p>you can edit the root file system if you follow the instructions on</p><p><a href="http://www.beyondlogic.org/nb5/">http://www.beyondlogic.org/nb5/</a></p><p>the NB5plus4W = aztech dsl600EW.</p><p>I did it myself and it does work, but what you do is limited by the lack of free memory (RAM), which is not much. <br />I copied a few tools from the netgear DG834G firmware to the aztech firmware. They work, but the most important one nvram cannot find the nvram block MTD3, which contains the raw config.xml. I hoped I could edit the nvram like on the Linksys wrt54g, but no go.</p><p>In the next few weeks I will try to set up a proper cvs for openwrt to test it. But because there is no access to the nvram there is no proper way to config this aztech beast with openwrt.</p><p>Some&nbsp; person on whirlpool claims he has the source code of the firmware for the NB5plus4W. I emailed this person, but did not get a reply yet.<br />I emailed aztech many months ago for the source code, but never got a reply.</p><p>There are many builds of the firmware on the aztech ftp site. I tried a few and I am running a 66.2.3-001 firmware now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14573">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">BroadbandTweaker</div>
					<div class="post-datetime">
						31 Oct 2005, 03:16					</div>
				</div>
				<div class="post-content content">
					<p>Netcomm has released source code for NB5plus4W:</p><p><a href="http://forums.whirlpool.net.au/forum-replies.cfm?t=387115">http://forums.whirlpool.net.au/forum-re â€¦ m?t=387115</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p14896">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						5 Nov 2005, 18:35					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I got myself a USB to serial cable with a CR2101 chip from silaps ( <a href="http://www.silaps.com">www.silaps.com</a>) and connected it to the console header.</p><p>I flashed openwrt to my aztech dsl600ew and got the following result.</p><p>ADAM2 Revision 0.22.02<br />(C) Copyright 1996-2003 Texas Instruments Inc. All Rights Reserved.<br />(C) Copyright 2003 Telogy Networks, Inc.<br />Usage: setmfreq [-d] [-s sys_freq, in MHz] [cpu_freq, in MHz]<br />Memory optimization Complete!</p><p>Adam2_AR7WRD &gt; <br />Press any key to abort OS load, or wait 5 seconds for OS to boot...<br />Launching kernel decompressor.<br />Kernel decompressor was successful ... launching kernel.</p><p>LINUX started...<br />CPU revision is: 00018448<br />Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes.<br />Primary data cache 16kB, 4-way, linesize 16 bytes.<br />Linux version 2.4.30 (nbd@ux-2y01) (gcc version 3.4.4) #1 Tue Oct 18 01:53:07 CEST 2005<br />Determined physical RAM map:<br /> memory: 14000000 @ 00000000 (reserved)<br /> memory: 00020000 @ 14000000 (ROM data)<br /> memory: 00fe0000 @ 14020000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,38400<br />the pacing pre-scalar has been set as 600.<br />calculating r4koff... 000b71b0(750000)<br />CPU frequency 150.00 MHz<br />Calibrating delay loop... 149.91 BogoMIPS<br />Memory: 14304k/0k available (1336k kernel code, 0k reserved, 92k data, 68k init, 0k highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; available.<br />POSIX conformance testing by UNIFIX<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Squashfs 2.2 (released 2005/07/03) (C) 2002-2004, 2005 Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with no serial options enabled<br />ttyS00 at 0xa8610e00 (irq = 15) is a 16550A<br />ttyS01 at 0xa8610f00 (irq = 16) is a 16550A<br />Vlynq CONFIG_AR7_VLYNQ_PORTS=2<br />Vlynq Device vlynq0 registered with minor no 63 as misc device. Result=0<br />Vlynq instance:0 Link UP<br />Vlynq Device vlynq1 registered with minor no 62 as misc device. Result=0<br />VLYNQ 1 : init failed<br />Software Watchdog Timer: 0.05, timer margin: 60 sec<br />ar7 flash device: 0x400000 at 0x10000000.<br /> Amd/Fujitsu Extended Query Table v1.3 at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling fast programming due to code brokenness.<br />Parsing ADAM2 partition map...<br />Looking for mtd device :mtd0:<br />Found a mtd0 image (0xd0000), with size (0x320000).<br />Assuming default rootfs offset of 0xd0000<br />Looking for mtd device :mtd1:<br />Found a mtd1 image (0x10000), with size (0xc0000).<br />Looking for mtd device :mtd2:<br />Found a mtd2 image (0x0), with size (0x10000).<br />Assuming adam2 size of 0x10000<br />Looking for mtd device :mtd3:<br />Found a mtd3 image (0x3f0000), with size (0x10000).<br />Looking for mtd device :mtd4:<br />Found a mtd4 image (0x10000), with size (0x3e0000).<br />Setting new rootfs offset to 00084c25<br />Unknown filesystem. Moving rootfs partition to next erase block&lt;5&gt;Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00010000 : &quot;adam2&quot;<br />0x00010000-0x003f0000 : &quot;linux&quot;<br />0x00090000-0x003f0000 : &quot;rootfs&quot;<br />0x003f0000-0x00400000 : &quot;config&quot;<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 2048)<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 320 bytes per conntrack<br />ip_tables: (C) 2000-2002 Netfilter core team<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (jffs2 filesystem) readonly.<br />mount_devfs_fs(): unable to mount devfs, err: -2<br />Freeing unused kernel memory: 68k freed<br />Warning: unable to open an initial console.<br />Kernel panic: No init found.&nbsp; Try passing init= option to kernel.</p><br /><p>Any suggestions what to do ?</p><br /><p>-----------------------------------<br />Other matters : the source code for the NB5plus4W seems complete including source for cm_cli and webinterface. All TI stuff is bin, but that was to be expected. No toolchain. I have to set it up to get try to compile a firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16057">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">jinxed</div>
					<div class="post-datetime">
						25 Nov 2005, 19:05					</div>
				</div>
				<div class="post-content content">
					<p>I recently got a Aztech DSL-600EW and I&#039;m very interested in getting openwrt running on it.<br />Has anyone made any progress with it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16629">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						5 Dec 2005, 09:21					</div>
				</div>
				<div class="post-content content">
					<p>For those who are interested......</p><br /><p>ADAM2 Revision 0.22.02<br />(C) Copyright 1996-2003 Texas Instruments Inc. All Rights Reserved.<br />(C) Copyright 2003 Telogy Networks, Inc.<br />Usage: setmfreq [-d] [-s sys_freq, in MHz] [cpu_freq, in MHz]<br />Memory optimization Complete!</p><p>Adam2_AR7WRD &gt; <br />Press any key to abort OS load, or wait 5 seconds for OS to boot...<br />Launching kernel decompressor.<br />Kernel decompressor was successful ... launching kernel.</p><p>LINUX started...<br />CPU revision is: 00018448<br />Primary instruction cache 16kB, physically tagged, 4-way, linesize 16 bytes.<br />Primary data cache 16kB, 4-way, linesize 16 bytes.<br />Linux version 2.4.32 (nbd@ux-2y01) (gcc version 3.4.4) #1 Sat Nov 19 04:43:08 CET 2005<br />Determined physical RAM map:<br /> memory: 00020000 @ 14000000 (ROM data)<br /> memory: 00fe0000 @ 14020000 (usable)<br />On node 0 totalpages: 4096<br />zone(0): 4096 pages.<br />zone(1): 0 pages.<br />zone(2): 0 pages.<br />Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/preinit noinitrd console=ttyS0,38400<br />the pacing pre-scalar has been set as 600.<br />Using 75.000 MHz high precision timer.<br />Calibrating delay loop... 149.91 BogoMIPS<br />Memory: 14308k/16384k available (1335k kernel code, 2076k reserved, 92k data, 72k init, 0k highmem)<br />Dentry cache hash table entries: 2048 (order: 2, 16384 bytes)<br />Inode cache hash table entries: 1024 (order: 1, 8192 bytes)<br />Mount cache hash table entries: 512 (order: 0, 4096 bytes)<br />Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Page-cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Checking for &#039;wait&#039; instruction...&nbsp; available.<br />POSIX conformance testing by UNIFIX<br />Linux NET4.0 for Linux 2.4<br />Based upon Swansea University Computer Society NET3.039<br />Initializing RT netlink socket<br />Starting kswapd<br />devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)<br />devfs: boot_options: 0x1<br />JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.<br />Squashfs 2.2 (released 2005/07/03) (C) 2002-2004, 2005 Phillip Lougher<br />pty: 256 Unix98 ptys configured<br />Serial driver version 5.05c (2001-07-08) with no serial options enabled<br />ttyS00 at 0xa8610e00 (irq = 15) is a 16550A<br />ttyS01 at 0xa8610f00 (irq = 16) is a 16550A<br />Vlynq CONFIG_AR7_VLYNQ_PORTS=2<br />Vlynq Device vlynq0 registered with minor no 63 as misc device. Result=0<br />Vlynq instance:0 Link UP<br />Vlynq Device vlynq1 registered with minor no 62 as misc device. Result=0<br />VLYNQ 1 : init failed<br />ar7_wdt: last system reset initiated by SW0 software reset<br />ar7_wdt: timer margin 59 seconds (prescale 65535, change 57180, freq 62500000)<br />ar7 flash device: 0x400000 at 0x10000000.<br /> Amd/Fujitsu Extended Query Table v1.3 at 0x0040<br />number of CFI chips: 1<br />cfi_cmdset_0002: Disabling fast programming due to code brokenness.<br />Parsing ADAM2 partition map...<br />Looking for mtd device :mtd0:<br />Found a mtd0 image (0xd0000), with size (0x320000).<br />Assuming default rootfs offset of 0xd0000<br />Looking for mtd device :mtd1:<br />Found a mtd1 image (0x10000), with size (0xc0000).<br />Looking for mtd device :mtd2:<br />Found a mtd2 image (0x0), with size (0x10000).<br />Assuming adam2 size of 0x10000<br />Looking for mtd device :mtd3:<br />Found a mtd3 image (0x3f0000), with size (0x10000).<br />Looking for mtd device :mtd4:<br />Found a mtd4 image (0x10000), with size (0x3e0000).<br />Setting new rootfs offset to 00084ba7<br />Squashfs detected (size = 0x000fa2d4)<br />Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:<br />0x00000000-0x00010000 : &quot;adam2&quot;<br />0x00010000-0x003f0000 : &quot;linux&quot;<br />0x00084ba7-0x00180000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; doesn&#039;t start on an erase block boundary -- force read-only<br />0x003f0000-0x00400000 : &quot;config&quot;<br />0x00180000-0x003f0000 : &quot;OpenWrt&quot;<br />Initializing Cryptographic API<br />NET4: Linux TCP/IP 1.0 for NET4.0<br />IP Protocols: ICMP, UDP, TCP, IGMP<br />IP: routing cache hash table of 512 buckets, 4Kbytes<br />TCP: Hash tables configured (established 1024 bind 2048)<br />ip_conntrack version 2.1 (5953 buckets, 5953 max) - 352 bytes per conntrack<br />ip_tables: (C) 2000-2002 Netfilter core team<br />NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.<br />NET4: Ethernet Bridge 008 for NET4.0<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Mounted devfs on /dev<br />Preserving ADAM2 memory.<br />Freeing unused kernel memory: 72k freed<br />Algorithmics/MIPS FPU Emulator v1.5<br />insmod: diag.o: no module by that name found<br />Unlocking OpenWrt ...<br />umount: /rom/dev: Device or resource busy<br />init started:&nbsp; BusyBox v1.01 (2005.11.19-17:52+0000) multi-call binary</p><p>Please press Enter to activate this console. jffs2.bbc: SIZE compression mode activated.<br />Using the MAC with external PHY<br />Cpmac driver is allocating buffer memory at init time.<br />Using the MAC with external PHY<br />Cpmac driver Disable TX complete interrupt setting threshold to 20.<br />registered device TI Avalanche SAR<br />Initializing DSL interface<br />size=10120<br />size=38720<br />size=46432<br />size=45312<br />dsl modulation = MMODE<br />Texas Instruments ATM driver: version:[4.02.04.00]<br />device eth0 entered promiscuous mode<br />br0: port 1(eth0) entering learning state<br />br0: port 1(eth0) entering forwarding state<br />br0: topology change detected, propagating</p><br /><br /><p>BusyBox v1.01 (2005.11.19-17:52+0000) Built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br />&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;bleeding edge, r2536 <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br />root@OpenWrt:/# uname -a<br />Linux OpenWrt 2.4.32 #1 Sat Nov 19 04:43:08 CET 2005 mips unknown<br />root@OpenWrt:/# DSL in Sync</p><p>root@OpenWrt:/# ifconfig<br />br0&nbsp; &nbsp; &nbsp; &nbsp;Link encap:Ethernet&nbsp; HWaddr 00:30:0A:28:19:EB&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:192.168.1.1&nbsp; Bcast:192.168.1.255&nbsp; Mask:255.255.255.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:240 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:115 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:13186 (12.8 KiB)&nbsp; TX bytes:11026 (10.7 KiB)</p><p>eth0&nbsp; &nbsp; &nbsp; Link encap:Ethernet&nbsp; HWaddr 00:30:0A:28:19:EB&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP BROADCAST RUNNING PROMISC MULTICAST&nbsp; MTU:1500&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:242 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:100 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:1000 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:16674 (16.2 KiB)&nbsp; TX bytes:9676 (9.4 KiB)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Base address:0x2800 </p><p>lo&nbsp; &nbsp; &nbsp; &nbsp; Link encap:Local Loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; inet addr:127.0.0.1&nbsp; Mask:255.0.0.0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UP LOOPBACK RUNNING&nbsp; MTU:16436&nbsp; Metric:1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX packets:0 errors:0 dropped:0 overruns:0 frame:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX packets:0 errors:0 dropped:0 overruns:0 carrier:0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; collisions:0 txqueuelen:0 <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RX bytes:0 (0.0 B)&nbsp; TX bytes:0 (0.0 B)</p><p>root@OpenWrt:/# free<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />&nbsp; Mem:&nbsp; &nbsp; &nbsp; &nbsp; 14380&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7236&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7144&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 864<br /> Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />Total:&nbsp; &nbsp; &nbsp; &nbsp; 14380&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7236&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;7144<br />root@OpenWrt:/# lsmod<br />Module&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; Used by&nbsp; &nbsp; Tainted: P&nbsp; <br />tiatm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;114660&nbsp; &nbsp;0 (unused)<br />atm&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 36176&nbsp; &nbsp;0 [tiatm]<br />avalanche_cpmac&nbsp; &nbsp; &nbsp; &nbsp; 67928&nbsp; &nbsp;1<br />root@OpenWrt:/#</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16818">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						8 Dec 2005, 05:44					</div>
				</div>
				<div class="post-content content">
					<p>If you got nothing better to do, you can do this...</p><p>flashing the dlink dsl604T firmware to aztech dsl-600EW</p><p><span class="postimg"><img src="http://static.flickr.com/34/71358584_caa8ca8b43_o.jpg" alt="http://static.flickr.com/34/71358584_caa8ca8b43_o.jpg" /></span></p><br /><p>The leds work but do not correspond with their actions. DSL led offline, but flashes when receiving data. Status led is red.</p><p>The firmware of the WAG54gv2 gives a wrong endian error at boot. To bad.</p><p>The firmware the solwise dsl600ew seems newer than the aztech firmware. (<a href="http://www.solwise.co.uk/adsl-sar600ew.htm">http://www.solwise.co.uk/adsl-sar600ew.htm</a>)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p16877">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						9 Dec 2005, 05:15					</div>
				</div>
				<div class="post-content content">
					<p>Found it....the password for the cli on the Aztech 66 series firmware is Admin ( with capital A)</p><p>so after logging in with ssh or telnet</p><p>cli &gt; enable 5<br />password Admin</p><p>I flashed the zyxel 660HW, 3com 3CRWDR100A-72 and the Netgear D834G to the aztech...all give the same error at boot WRONG ENDIAN.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17107">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						12 Dec 2005, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>Well it is possible...I have the firmware of the Netgear D384G running on my Aztech DSL600EW.</p><p>I used Hex Workshop to get the kernel and the filesystem from the GD834_V2.10.22.img. I then flashed the kernel to mtd1 and the filesystem to mtd0. And then Go in adam.</p><p>Because I did not have the password to the netgear webinterface which is at 192.168.0.1 I wanted to do quick reflash with the aztech firmware and then adam said SHIT.<br />ALL mtd settings were gone. So no more mtd0,1,2,3,4. Adam ip had changed from 192.168.1.1 to 169.254.87.1. And the mac adresses had changed too. Adam still working. Luckely the aztech firmware contains extra files for setting the mtd environment. I added them manually with adam and got the aztech firmware flashed again and working. Lots of errors but ok.</p><p>Got the password of the netgear website (which is password btw) and then flashed again the Netgear firmware to the Aztech. Lot&#039;s of errors regarding mtd4, which is not set by me for now.<br />First boot is dog slow including the webinterface. But after setting the adsl settings, everything seems to be ok and running smooth.</p><p>Later I will extract the Linksys wag54g kernel and filesystem and try that too.</p><p>Can somebody post the layout of a 4mb wag54g MTD. Just in case mtd2 means something else then adam on the wag54g. </p><p>This is not for the fainted. So if you want to try is , know what you are doing and expect the worsed.</p><p>ps . this is posted while running on the d834g firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p17116">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						12 Dec 2005, 20:59					</div>
				</div>
				<div class="post-content content">
					<p>Yes, the wag54g version 2 firmware runs also on the aztech DSL600EW.</p><p>The trick seems to be to cut and paste from the original firmware the kernel and filesystem in 2 seperate files and then flash the kernel to mtd1 and the filesystem to mtd0.</p><p>Adam does not complain.</p><p>Oke I am going to bed, posted from a aztech dsl600ew running the linksys wag54g v2 firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21785">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">tbcheese</div>
					<div class="post-datetime">
						1 Mar 2006, 02:47					</div>
				</div>
				<div class="post-content content">
					<p>Hi there yellow. I&#039;m using the dsl-600ew with 66.1.2 -001 now. Could you point me to where you got that firmware for the dlink dsl-g604t that you installed please? I got mine from the Aussie website and its a bin file. Can&#039;t load it using the aztech web gui and adam doesnt work as well. I&#039;m suspecting that I got the upgrade file rather than the full firmware.</p><p>I&#039;ve tried the solwise firmware but got a crc error when I tried to flash it.</p><p>Thanks mate.</p><p>edit: I got a new set of firmware for the dsl-g604t from the UK website. I tried flashing it using the web gui and it gave me a cannot write to mtd.</p>											<p class="post-edited">(Last edited by <strong>tbcheese</strong> on 1 Mar 2006, 04:11)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22121">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						5 Mar 2006, 05:18					</div>
				</div>
				<div class="post-content content">
					<p>well I got the kernel and source from the bin file. I used an hexeditor to open the bin file, and then cut and past the kernel and filesystem in separate files.</p><p>The linksys wag54g v2, netgear dg834g and the dlink dsl-G604T all are single file firmwares. The upgrade program of their respective routers breaks it into seperate files.</p><p>The first part is adam2, the second the mtd settings, then the kernel and last the filesystem ( most of the time) When you open the firmware into a hexeditor, you can clearly see what belongs to what by following the 00 or ff.&nbsp; So a big chunk of data is followed by a large chunk of 00 of ff, so cut the data part and save it to a new file.</p><p>But I recommand against it. I did it many time now and must conclude that the wifi of the ar7 does not get it&#039;s settings from the mtd&#039;s, but are stored inside the nvram of the wifi mini pci card. The linksys firmware is a nasty one and replaced the nvram with it&#039;s own.<br />Now my wifi only works with the linksys firmware and no longer with the original aztech or the netgear&#039;s one. Apart from that ,the wifi is unstable and appears and dissappears at will. <br />I then tested the mini pci card inside my laptop and works without problems.&nbsp; </p><p>The netgear firmware (2. x ) contains a cli to access the nvram of the mini pci card. But there are hundreds of settings and I have no idea where to start, what it means or whatever. Basicly the wifi is useless now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22127">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">tbcheese</div>
					<div class="post-datetime">
						5 Mar 2006, 13:13					</div>
				</div>
				<div class="post-content content">
					<p>Wow this is risky stuff. I don&#039;t think I&#039;ll try it then. Thanks for your advice.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22136">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">Ydef</div>
					<div class="post-datetime">
						5 Mar 2006, 16:14					</div>
				</div>
				<div class="post-content content">
					<p>yellownotblack:</p><p>How are you able to ascertain the kernel and config.xml from the image file?&nbsp; Supposedly the image file is a concatenation of the kernel, filesystem, and the config.xml file so I assume when you mention &#039;source&#039; you&#039;re referring to the embedded squash filesystem that you can mount using the offset location of the hsqs magic.&nbsp; However i&#039;m curious as to how you are able to recognize the delimiters for the kernel and/or the config.xml file and where they are respectively?&nbsp; My guess is that the kernel is first, then the squash filesystem, with the xml last.&nbsp; So what magic provides the kernel and the xml?&nbsp; I see what you&#039;re referring to with regards to the large chunks/blocks of FF, but there must be magic before and after that you&#039;re following in order to know what chunks are what?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22177">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">yellownotblack</div>
					<div class="post-datetime">
						6 Mar 2006, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>yes my mistake...source = filesystem...</p><p>Well I had some help. I have an aztech dsl600-ew and aztech distributes it&#039;s firmware in a very convinient format. Everything is seperated. So the adam2 bootloader (adam2_amd_ext.AR7WRD) is a file, the kernel( ram_zimage.ar7xxx.nsp.squashfs) is a file and the filesystem( nsp.annexA.img) is a file and config.xml ( config.bin in binary format) is a file. But is also ditributes the all in one file firmware ( single.annexA.img)</p><br /><p>So one day I opened those files in a hexeditor(winhex and hex worhshop) and found out that adam2 was inside single.annexA.img<br />Then I checked the kernel and looked inside single.annexA.img and found it too. Because I have the kernel, etc I can compare to the bit what is whatl inside the singel.annexA.img.<br />With this reference I started to open the firmware of the dlink/linksys/netgear/solwise, etc and found the same structure inside their &quot;all in one firmware&quot; then started to cut and past to seperate files. Bypassing signatures and other strange things. I then used a TI program called pc_app to flash those files to my router and it worked with those files. You can use ftp too.</p><p>So now the nasty part, when for example the dlink firmware boots on my aztech it erases mtd3 and replaced it with defaults of it&#039;s own. This can be remedied. But&nbsp; I also found out that the linksys firmware erases the nvram of the mini pci card and put&#039;s it&#039;s own settings there. Now the wifi refuses to work with any firmware but the linksys and only with wep dis- or enabled. WPA does not work anymore. It is also unstable.<br />I suspect this happend as I used a US firmware, while my mini pci card is set to EU. ( sticker on the card states EU firmware). So most likely some nvram settings contradict each other and therefore the card refused to work.</p><p>Back to your question, all thise was done in Windows XP. A long time ago I used linux with squashfs and lzma support to get those separate files. With mc I looked up the hex address and would set the offset with mount....<br />But I found out that with some firmwares, it simply did not work.&nbsp; Mount errors, squashfs not recognised, lzma errors. Filesystem unknow, etc , etc ,etc....I finally I gave up and only use window xp to do this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22197">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">Ydef</div>
					<div class="post-datetime">
						6 Mar 2006, 15:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>yellownotblack wrote:</cite><blockquote><p>With this reference I started to open the firmware of the dlink/linksys/netgear/solwise, etc and found the same structure inside their &quot;all in one firmware&quot; then started to cut and past to seperate files. Bypassing signatures and other strange things.</p></blockquote></div><p>Great job on this!&nbsp; Although what would be really helpful is if you could describe what the similar &#039;structures&#039; were that you recognized in the &#039;all in one&#039; firmware in order to provide others with a roadmap to build off of your hard work!&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; I&#039;ll download the files you mentioned and see here I can pick up the similarities that you did in decronstructing (and reconstructing) image files as this is VERY useful information that is universally applicable and transcends one particular type of hardware or firmware.&nbsp; Thanks for the tip on the where to find the seperate parts/pieces!</p><div class="quotebox"><cite>yellownotblack wrote:</cite><blockquote><p>So now the nasty part, when for example the dlink firmware boots on my aztech it erases mtd3 and replaced it with defaults of it&#039;s own. This can be remedied.</p></blockquote></div><p>What I would do is make a copy of the original mtd3 so that you can either copy it back after loading the dlink firmware, or deconstruct the mtd3 image to figure out what the specific settings are in the original and then set them manually after doing the firmware upgrade. </p><p>You mentioned that there are hundreds of settings and you&#039;re not sure what to make of since linksys replaces the nvram of the acx wifi card.&nbsp; Perhaps you could post these variables to the wiki somewhere as I&#039;m sure it could be useful and I&#039;m sure others more familiar with wifi nvram variables specificaly for the TI acx1xx chips might provide some guidance to you on how to set it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p25602">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Red-Bull</div>
					<div class="post-datetime">
						19 Apr 2006, 16:29					</div>
				</div>
				<div class="post-content content">
					<p>Uhm.. just short question.. i own a zyxel 660hw-67.. same hardware as listed on first posting.. any chance to get openwrt running?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>