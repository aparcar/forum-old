<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Linksys AG241 v2 no LAN connection</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 14 Apr 2018 and 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=48631&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p244173">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">M3m3nt0</div>
					<div class="post-datetime">
						19 Aug 2014, 00:10					</div>
				</div>
				<div class="post-content content">
					<p>Tried r42170...no luck! <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><div class="codebox"><pre><code>free space start: 0xb0010000
free space end: 0xb0400000

Basic POST completed...     Success.
Last reset cause: Software reset (memory controller also reset)

PSPBoot1.3 rev: 0.22.19.5
CyberTAN rev: 0.22.19
(c) Copyright 2002-2005 Texas Instruments, Inc. All Rights Reserved.

FlashType:

mac_init(): Find mac [00:18:F8:61:8E:44] in location 0
Find mac [00:18:F8:61:8E:44] in location 0
mac_value: 00:18:F8:61:8E:44
Press ESC for monitor... 321

(psbl) 

Booting...
[    0.000000] Linux version 3.10.49 (openwrt@OpenWRT) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r42170) ) #1 Mon Aug 18 01:07:51 MST 2014
[    0.000000] ar7-gpio: registered 32 GPIOs
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 00018448 (MIPS 4KEc)
[    0.000000] TI AR7 (TNETD7200), ID: 0x002b, Revision: 0x10
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 01000000 @ 14000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x14000000-0x14ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x14000000-0x14ffffff]
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 16 bytes.
[    0.000000] Primary data cache 8kB, 4-way, VIPT, no aliases, linesize 16 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
[    0.000000] Kernel command line:  console=ttyS0,38400n8 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 64 (order: -4, 256 bytes)
[    0.000000] Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Memory: 11708k/16384k available (2531k kernel code, 4676k reserved, 556k data, 176k init, 0k highmem)
[    0.000000] NR_IRQS:256
[    0.000000] Clocks: Async mode
[    0.000000] Clocks: Setting DSP clock
[    0.000000] Clocks: base = 25000000, frequency = 125000000, prediv = 1, postdiv = 2, postdiv2 = 1, mul = 10
[    0.000000] Clocks: Setting CPU clock
[    0.000000] Adjusted requested frequency 211000000 to 211968000
[    0.000000] Clocks: base = 35328000, frequency = 211968000, prediv = 1, postdiv = 1, postdiv2 = -1, mul = 6
[    0.000000] Clocks: Setting USB clock
[    0.000000] Adjusted requested frequency 48000000 to 48076920
[    0.000000] Clocks: base = 125000000, frequency = 48000000, prediv = 13, postdiv = 1, postdiv2 = -1, mul = 5
[    0.000000] Calibrating delay loop... 211.35 BogoMIPS (lpj=1056768)
[    0.090000] pid_max: default: 32768 minimum: 301
[    0.100000] Mount-cache hash table entries: 512
[    0.120000] NET: Registered protocol family 16
[    0.180000] bio: create slab &lt;bio-0&gt; at 0
[    0.200000] Switching to clocksource MIPS
[    0.220000] NET: Registered protocol family 2
[    0.240000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.260000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.280000] TCP: Hash tables configured (established 512 bind 512)
[    0.300000] TCP: reno registered
[    0.310000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.330000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.350000] NET: Registered protocol family 1
[    0.410000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.430000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.460000] msgmni has been set to 22
[    0.470000] io scheduler noop registered
[    0.480000] io scheduler deadline registered (default)
[    0.500000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.520000] serial8250: ttyS0 at MMIO 0x8610e00 (irq = 15) is a TI-AR7
[    0.540000] console [ttyS0] enabled, bootconsole disabled
[    0.540000] console [ttyS0] enabled, bootconsole disabled
[    0.620000] physmap platform flash device: 02000000 at 10000000
[    0.630000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022a7
[    0.670000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.680000]   Amd/Fujitsu Extended Query version 1.1.
[    0.700000] physmap-flash.0: Swapping erase regions for top-boot CFI table.
[    0.720000] number of CFI chips: 1
[    0.730000] 4 ar7part partitions found on MTD device physmap-flash.0
[    0.750000] Creating 4 MTD partitions on &quot;physmap-flash.0&quot;:
[    0.770000] 0x000000000000-0x000000010000 : &quot;loader&quot;
[    0.790000] 0x000000010000-0x000000020000 : &quot;config&quot;
[    0.820000] 0x000000020000-0x000000400000 : &quot;linux&quot;
[    0.840000] 0x000000137b2d-0x000000400000 : &quot;rootfs&quot;
[    0.860000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.900000] mtd: device 3 (rootfs) set to be root filesystem
[    0.920000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x370000, len=0x90000
[    0.950000] 0x000000370000-0x000000400000 : &quot;rootfs_data&quot;
[    0.990000] libphy: Fixed MDIO Bus: probed
[    1.320000] libphy: cpmac-mii: probed
[    1.400000] cpmac: device eth0 (regs: 08610000, irq: 27, phy: cpmac-1:1f, mac: 00:18:f8:61:8e:44)
[    1.440000] vlynq0: regs 0x08611800, irq 29, mem 0x04000000
[    2.160000] TCP: cubic registered
[    2.170000] NET: Registered protocol family 17
[    2.180000] Bridge firewalling registered
[    2.200000] 8021q: 802.1Q VLAN Support v1.8
[    2.230000] VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
[    2.280000] Freeing prom memory: 1020k freed
[    2.290000] Freeing unused kernel memory: 176K (94404000 - 94430000)
procd: Console is alive
procd: - preinit -
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
jffs2 is ready
jffs2 is ready
[    9.300000] jffs2: notice: (190) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 8 of xref (0 dead, 0 orphan) found.
switching to overlay
procd: - early -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   13.300000] NET: Registered protocol family 10
[   13.340000] NET: Registered protocol family 8
[   13.350000] NET: Registered protocol family 20
[   13.390000] PPP generic driver version 2.4.2
[   13.440000] nf_conntrack version 0.5.0 (201 buckets, 804 max)
[   13.480000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   13.530000] acx_mac80211: Unknown symbol ieee80211_queue_stopped (err 0)
[   13.560000] acx_mac80211: Unknown symbol ieee80211_free_hw (err 0)
[   13.570000] acx_mac80211: Unknown symbol ieee80211_probereq_get (err 0)
[   13.600000] acx_mac80211: Unknown symbol ieee80211_alloc_hw (err 0)
[   13.610000] acx_mac80211: Unknown symbol ieee80211_register_hw (err 0)
[   13.640000] acx_mac80211: Unknown symbol ieee80211_restart_hw (err 0)
[   13.660000] acx_mac80211: Unknown symbol ieee80211_rx (err 0)
[   13.670000] acx_mac80211: Unknown symbol ieee80211_wake_queues (err 0)
[   13.690000] acx_mac80211: Unknown symbol ieee80211_tx_status (err 0)
[   13.710000] acx_mac80211: Unknown symbol ieee80211_stop_queues (err 0)
[   13.730000] acx_mac80211: Unknown symbol ieee80211_scan_completed (err 0)
[   13.760000] acx_mac80211: Unknown symbol ieee80211_unregister_hw (err 0)
[   13.780000] acx_mac80211: Unknown symbol ieee80211_beacon_get_tim (err 0)
[   13.800000] acx_mac80211: Unknown symbol ieee80211_queue_work (err 0)
[   13.820000] acx_mac80211: Unknown symbol backport_dependency_symbol (err 0)
[   13.860000] acx_mac80211: Unknown symbol ieee80211_queue_stopped (err 0)
[   13.880000] acx_mac80211: Unknown symbol ieee80211_free_hw (err 0)
[   13.900000] acx_mac80211: Unknown symbol ieee80211_probereq_get (err 0)
[   13.920000] acx_mac80211: Unknown symbol ieee80211_alloc_hw (err 0)
[   13.940000] acx_mac80211: Unknown symbol ieee80211_register_hw (err 0)
[   13.960000] acx_mac80211: Unknown symbol ieee80211_restart_hw (err 0)
[   13.980000] acx_mac80211: Unknown symbol ieee80211_rx (err 0)
[   14.000000] acx_mac80211: Unknown symbol ieee80211_wake_queues (err 0)
[   14.020000] acx_mac80211: Unknown symbol ieee80211_tx_status (err 0)
[   14.040000] acx_mac80211: Unknown symbol ieee80211_stop_queues (err 0)
[   14.060000] acx_mac80211: Unknown symbol ieee80211_scan_completed (err 0)
[   14.080000] acx_mac80211: Unknown symbol ieee80211_unregister_hw (err 0)
[   14.100000] acx_mac80211: Unknown symbol ieee80211_beacon_get_tim (err 0)
[   14.120000] acx_mac80211: Unknown symbol ieee80211_queue_work (err 0)
[   14.140000] acx_mac80211: Unknown symbol backport_dependency_symbol (err 0)
[   14.250000] registered device TI Avalanche SAR
[   14.270000] Ohio250(7200/7100A2) detected
[   14.290000] requesting firmware image &quot;ar0700xx.bin&quot;
[   16.580000] tn7dsl_set_modulation : Setting mode to 0x1
[   16.590000] Creating new root folder avalanche in the proc for the driver stats 
[   16.620000] Texas Instruments ATM driver: version:[7.03.01.00]
[   16.660000] acx_mac80211: Unknown symbol ieee80211_queue_stopped (err 0)
[   16.680000] acx_mac80211: Unknown symbol ieee80211_free_hw (err 0)
[   16.700000] acx_mac80211: Unknown symbol ieee80211_probereq_get (err 0)
[   16.720000] acx_mac80211: Unknown symbol ieee80211_alloc_hw (err 0)
[   16.740000] acx_mac80211: Unknown symbol ieee80211_register_hw (err 0)
[   16.760000] acx_mac80211: Unknown symbol ieee80211_restart_hw (err 0)
[   16.780000] acx_mac80211: Unknown symbol ieee80211_rx (err 0)
[   16.800000] acx_mac80211: Unknown symbol ieee80211_wake_queues (err 0)
[   16.820000] acx_mac80211: Unknown symbol ieee80211_tx_status (err 0)
[   16.860000] acx_mac80211: Unknown symbol ieee80211_stop_queues (err 0)
[   16.880000] acx_mac80211: Unknown symbol ieee80211_scan_completed (err 0)
[   16.900000] acx_mac80211: Unknown symbol ieee80211_unregister_hw (err 0)
[   16.920000] acx_mac80211: Unknown symbol ieee80211_beacon_get_tim (err 0)
[   16.950000] acx_mac80211: Unknown symbol ieee80211_queue_work (err 0)
[   16.970000] acx_mac80211: Unknown symbol backport_dependency_symbol (err 0)
[   17.010000] acx_mac80211: Unknown symbol ieee80211_queue_stopped (err 0)
[   17.030000] acx_mac80211: Unknown symbol ieee80211_free_hw (err 0)
[   17.050000] acx_mac80211: Unknown symbol ieee80211_probereq_get (err 0)
[   17.070000] acx_mac80211: Unknown symbol ieee80211_alloc_hw (err 0)
[   17.090000] acx_mac80211: Unknown symbol ieee80211_register_hw (err 0)
[   17.110000] acx_mac80211: Unknown symbol ieee80211_restart_hw (err 0)
[   17.130000] acx_mac80211: Unknown symbol ieee80211_rx (err 0)
[   17.150000] acx_mac80211: Unknown symbol ieee80211_wake_queues (err 0)
[   17.170000] acx_mac80211: Unknown symbol ieee80211_tx_status (err 0)
[   17.190000] acx_mac80211: Unknown symbol ieee80211_stop_queues (err 0)
[   17.210000] acx_mac80211: Unknown symbol ieee80211_scan_completed (err 0)
[   17.230000] acx_mac80211: Unknown symbol ieee80211_unregister_hw (err 0)
[   17.250000] acx_mac80211: Unknown symbol ieee80211_beacon_get_tim (err 0)
[   17.270000] acx_mac80211: Unknown symbol ieee80211_queue_work (err 0)
[   17.290000] acx_mac80211: Unknown symbol backport_dependency_symbol (err 0)
[   17.330000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   17.420000] NET: Registered protocol family 24
[   17.500000] xt_time: kernel timezone is -0000
[   17.530000] acx_mac80211: Unknown symbol ieee80211_queue_stopped (err 0)
[   17.550000] acx_mac80211: Unknown symbol ieee80211_free_hw (err 0)
[   17.570000] acx_mac80211: Unknown symbol ieee80211_probereq_get (err 0)
[   17.590000] acx_mac80211: Unknown symbol ieee80211_alloc_hw (err 0)
[   17.610000] acx_mac80211: Unknown symbol ieee80211_register_hw (err 0)
[   17.630000] acx_mac80211: Unknown symbol ieee80211_restart_hw (err 0)
[   17.650000] acx_mac80211: Unknown symbol ieee80211_rx (err 0)
[   17.670000] acx_mac80211: Unknown symbol ieee80211_wake_queues (err 0)
[   17.690000] acx_mac80211: Unknown symbol ieee80211_tx_status (err 0)
[   17.710000] acx_mac80211: Unknown symbol ieee80211_stop_queues (err 0)
[   17.730000] acx_mac80211: Unknown symbol ieee80211_scan_completed (err 0)
[   17.750000] acx_mac80211: Unknown symbol ieee80211_unregister_hw (err 0)
[   17.780000] acx_mac80211: Unknown symbol ieee80211_beacon_get_tim (err 0)
[   17.800000] acx_mac80211: Unknown symbol ieee80211_queue_work (err 0)
[   17.820000] acx_mac80211: Unknown symbol backport_dependency_symbol (err 0)
[   17.880000] acx_mac80211: Unknown symbol ieee80211_queue_stopped (err 0)
[   17.900000] acx_mac80211: Unknown symbol ieee80211_free_hw (err 0)
[   17.920000] acx_mac80211: Unknown symbol ieee80211_probereq_get (err 0)
[   17.940000] acx_mac80211: Unknown symbol ieee80211_alloc_hw (err 0)
[   17.960000] acx_mac80211: Unknown symbol ieee80211_register_hw (err 0)
[   17.980000] acx_mac80211: Unknown symbol ieee80211_restart_hw (err 0)
[   18.010000] acx_mac80211: Unknown symbol ieee80211_rx (err 0)
[   18.020000] acx_mac80211: Unknown symbol ieee80211_wake_queues (err 0)
[   18.040000] acx_mac80211: Unknown symbol ieee80211_tx_status (err 0)
[   18.060000] acx_mac80211: Unknown symbol ieee80211_stop_queues (err 0)
[   18.080000] acx_mac80211: Unknown symbol ieee80211_scan_completed (err 0)
[   18.110000] acx_mac80211: Unknown symbol ieee80211_unregister_hw (err 0)
[   18.130000] acx_mac80211: Unknown symbol ieee80211_beacon_get_tim (err 0)
[   18.150000] acx_mac80211: Unknown symbol ieee80211_queue_work (err 0)
[   18.170000] acx_mac80211: Unknown symbol backport_dependency_symbol (err 0)
[   18.210000] acx_mac80211: Unknown symbol ieee80211_queue_stopped (err 0)
[   18.240000] acx_mac80211: Unknown symbol ieee80211_free_hw (err 0)
[   18.260000] acx_mac80211: Unknown symbol ieee80211_probereq_get (err 0)
[   18.280000] acx_mac80211: Unknown symbol ieee80211_alloc_hw (err 0)
[   18.300000] acx_mac80211: Unknown symbol ieee80211_register_hw (err 0)
[   18.320000] acx_mac80211: Unknown symbol ieee80211_restart_hw (err 0)
[   18.340000] acx_mac80211: Unknown symbol ieee80211_rx (err 0)
[   18.350000] acx_mac80211: Unknown symbol ieee80211_wake_queues (err 0)
[   18.380000] acx_mac80211: Unknown symbol ieee80211_tx_status (err 0)
[   18.400000] acx_mac80211: Unknown symbol ieee80211_stop_queues (err 0)
[   18.420000] acx_mac80211: Unknown symbol ieee80211_scan_completed (err 0)
[   18.440000] acx_mac80211: Unknown symbol ieee80211_unregister_hw (err 0)
[   18.460000] acx_mac80211: Unknown symbol ieee80211_beacon_get_tim (err 0)
[   18.480000] acx_mac80211: Unknown symbol ieee80211_queue_work (err 0)
[   18.500000] acx_mac80211: Unknown symbol backport_dependency_symbol (err 0)
procd: - init complete -
[   40.590000] device eth0 entered promiscuous mode
[   40.670000] br-lan: port 1(eth0) entered forwarding state
[   40.680000] br-lan: port 1(eth0) entered forwarding state
[   40.790000] device eth0.1 entered promiscuous mode
[   40.810000] br-lan: port 2(eth0.1) entered forwarding state
[   40.830000] br-lan: port 2(eth0.1) entered forwarding state
[   40.930000] device eth0.2 entered promiscuous mode
[   40.950000] br-lan: port 3(eth0.2) entered forwarding state
[   40.960000] br-lan: port 3(eth0.2) entered forwarding state
[   41.680000] br-lan: port 1(eth0) entered disabled state
[   41.730000] br-lan: port 2(eth0.1) entered disabled state
[   41.780000] br-lan: port 3(eth0.2) entered disabled state



BusyBox v1.22.1 (2014-08-18 00:56:30 MST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Bleeding Edge, r42170)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:/# </code></pre></div><p>maybe I&#039;m doing something wrong...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p250282">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">Eskymák</div>
					<div class="post-datetime">
						12 Oct 2014, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>Seems we have the same issues. Just i have D-link. Today, just flashed new stable OpenWRT and nothing changed - cannot ping and connect to router. Backfire was working. <br /><a href="https://forum.openwrt.org/search.php?action=show_user_posts&amp;user_id=123567">https://forum.openwrt.org/search.php?ac … _id=123567</a></p><p>Any solution?</p><p>Thanks.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p251765">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">Jusic</div>
					<div class="post-datetime">
						23 Oct 2014, 15:26					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>sadly I&#039;m not a kernel developer or anything like that, just basic Java knowledge. But this bug is driving me crazy so I&#039;m trying hard to understand whats happening here.</p><p>Let&#039;s apply some logic:</p><p>1. It worked with Kamikaze 8.09.2 which uses Kernel version 2.6.26.8 and was first recognized to be broken with Backfire 10.03 which uses Kernel version 2.6.32.10. <br />2. Zajec tells us that it seems to be a problem with cpmac driver and PHY/MDIO (whatever that is).</p><p>So comparing the kernel git changes between [0] and [1] there are 20 commits between. And 3 of that commits from 2009-08-05 are created by <a href="https://dev.openwrt.org/wiki/florian">florian</a> an OpenWRT developer and there topics are <a href="https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/commit/drivers/net/cpmac.c?id=d76c626b922e279c7764ec46fb1b9bbd41538f35">&quot;fix wrong MDIO bus identifier&quot;</a>, <a href="https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/commit/drivers/net/cpmac.c?id=76e61eaa55e33ea51205fad633393d1ae10311c5">&quot;add support for fixed PHY&quot;</a> and <a href="https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/commit/drivers/net/cpmac.c?id=e4540aa94f9b3e75528d9091524e7d82a0650f10">&quot;wait longer after MDIO reset&quot;</a>.</p><p>So guys, lets look into this and try to understand whats happening there.</p><p>[0] <a href="https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/log/drivers/net/cpmac.c?id=refs/tags/v2.6.26.8">https://git.kernel.org/cgit/linux/kerne … /v2.6.26.8</a><br />[1] <a href="https://git.kernel.org/cgit/linux/kernel/git/stable/linux-stable.git/log/drivers/net/cpmac.c?id=refs/tags/v2.6.32.10">https://git.kernel.org/cgit/linux/kerne … v2.6.32.10</a></p><p>Good Look<br />Jusic</p>											<p class="post-edited">(Last edited by <strong>Jusic</strong> on 23 Oct 2014, 15:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p259554">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">M3m3nt0</div>
					<div class="post-datetime">
						2 Jan 2015, 17:32					</div>
				</div>
				<div class="post-content content">
					<p>any news about this problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p260733">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">M3m3nt0</div>
					<div class="post-datetime">
						9 Jan 2015, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>Still not working with r43874 <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><div class="codebox"><pre><code>free space start: 0xb0010000
free space end: 0xb0400000

Basic POST completed...     Success.
Last reset cause: Software reset (memory controller also reset)

PSPBoot1.3 rev: 0.22.19.5
CyberTAN rev: 0.22.19
(c) Copyright 2002-2005 Texas Instruments, Inc. All Rights Reserved.

FlashType:

mac_init(): Find mac [00:18:F8:61:8E:44] in location 0
Find mac [00:18:F8:61:8E:44] in location 0
mac_value: 00:18:F8:61:8E:44
Press ESC for monitor... 321

(psbl) 

Booting...
[    0.000000] Linux version 3.14.27 (openwrt@snapon) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.04 r43874) ) #1 Thu Jan 8 15:08:23 PST 2015
[    0.000000] ar7-gpio: registered 32 GPIOs
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU0 revision is: 00018448 (MIPS 4KEc)
[    0.000000] TI AR7 (TNETD7200), ID: 0x002b, Revision: 0x10
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 01000000 @ 14000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x14000000-0x14ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x14000000-0x14ffffff]
[    0.000000] Primary instruction cache 16kB, VIPT, 4-way, linesize 16 bytes.
[    0.000000] Primary data cache 8kB, 4-way, VIPT, no aliases, linesize 16 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping off.  Total pages: 4064
[    0.000000] Kernel command line:  console=ttyS0,38400n8 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 64 (order: -4, 256 bytes)
[    0.000000] Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Memory: 11508K/16384K available (2685K kernel code, 119K rwdata, 456K rodata, 188K init, 189K bss, 4876K reserved)
[    0.000000] NR_IRQS:256
[    0.000000] Clocks: Async mode
[    0.000000] Clocks: Setting DSP clock
[    0.000000] Clocks: base = 25000000, frequency = 125000000, prediv = 1, postdiv = 2, postdiv2 = 1, mul = 10
[    0.000000] Clocks: Setting CPU clock
[    0.000000] Adjusted requested frequency 211000000 to 211968000
[    0.000000] Clocks: base = 35328000, frequency = 211968000, prediv = 1, postdiv = 1, postdiv2 = -1, mul = 6
[    0.000000] Clocks: Setting USB clock
[    0.000000] Adjusted requested frequency 48000000 to 48076920
[    0.000000] Clocks: base = 125000000, frequency = 48000000, prediv = 13, postdiv = 1, postdiv2 = -1, mul = 5
[    0.000000] Calibrating delay loop... 211.35 BogoMIPS (lpj=1056768)
[    0.090000] pid_max: default: 32768 minimum: 301
[    0.100000] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.110000] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.130000] NET: Registered protocol family 16
[    0.190000] bio: create slab &lt;bio-0&gt; at 0
[    0.220000] Switched to clocksource MIPS
[    0.250000] NET: Registered protocol family 2
[    0.270000] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.290000] TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
[    0.310000] TCP: Hash tables configured (established 1024 bind 1024)
[    0.330000] TCP: reno registered
[    0.340000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.350000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.370000] NET: Registered protocol family 1
[    0.430000] futex hash table entries: 256 (order: -1, 3072 bytes)
[    0.450000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.470000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.500000] msgmni has been set to 22
[    0.510000] io scheduler noop registered
[    0.530000] io scheduler deadline registered (default)
[    0.540000] Serial: 8250/16550 driver, 16 ports, IRQ sharing enabled
[    0.570000] serial8250: ttyS0 at MMIO 0x8610e00 (irq = 15, base_baud = 3906250) is a TI-AR7
[    0.590000] console [ttyS0] enabled
[    0.590000] console [ttyS0] enabled
[    0.610000] bootconsole [early0] disabled
[    0.610000] bootconsole [early0] disabled
[    0.680000] physmap platform flash device: 02000000 at 10000000
[    0.700000] physmap-flash.0: Found 1 x16 devices at 0x0 in 16-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0022a7
[    0.730000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.750000]   Amd/Fujitsu Extended Query version 1.1.
[    0.760000] physmap-flash.0: Swapping erase regions for top-boot CFI table.
[    0.780000] number of CFI chips: 1
[    0.800000] 4 ar7part partitions found on MTD device physmap-flash.0
[    0.820000] Creating 4 MTD partitions on &quot;physmap-flash.0&quot;:
[    0.830000] 0x000000000000-0x000000010000 : &quot;loader&quot;
[    0.860000] 0x000000010000-0x000000020000 : &quot;config&quot;
[    0.880000] 0x000000020000-0x000000400000 : &quot;linux&quot;
[    0.910000] 0x000000144b52-0x000000400000 : &quot;rootfs&quot;
[    0.920000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.970000] mtd: device 3 (rootfs) set to be root filesystem
[    0.990000] 1 squashfs-split partitions found on MTD device rootfs
[    1.010000] 0x000000390000-0x000000400000 : &quot;rootfs_data&quot;
[    1.050000] libphy: Fixed MDIO Bus: probed
[    1.380000] libphy: cpmac-mii: probed
[    1.460000] cpmac: device eth0 (regs: 08610000, irq: 27, phy: cpmac-1:1f, mac: 00:18:f8:61:8e:44)
[    1.500000] vlynq0: regs 0x08611800, irq 29, mem 0x04000000
[    2.220000] TCP: cubic registered
[    2.230000] NET: Registered protocol family 17
[    2.240000] Bridge firewalling registered
[    2.260000] 8021q: 802.1Q VLAN Support v1.8
[    2.290000] VFS: Mounted root (squashfs filesystem) readonly on device 31:3.
[    2.340000] Freeing prom memory: 1020k freed
[    2.350000] Freeing unused kernel memory: 188K (94431000 - 94460000)
procd: Console is alive
procd: - preinit -
[    6.300000] random: mktemp urandom read with 50 bits of entropy available
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
jffs2 is ready
No jffs2 marker was found
[    9.740000] jffs2: notice: (190) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orphan) and 8 of xref (0 dead, 0 orphan) found.
switching to overlay
procd: - early -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   14.390000] NET: Registered protocol family 10
[   14.430000] NET: Registered protocol family 8
[   14.440000] NET: Registered protocol family 20
[   14.480000] PPP generic driver version 2.4.2
[   14.520000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   14.560000] Loading modules backported from Linux version master-2014-11-04-0-gf3660a2
[   14.590000] Backport generated by backports.git backports-20141023-2-g4ff890b
[   14.680000] cfg80211: Calling CRDA to update world regulatory domain
[   14.730000] cfg80211: World regulatory domain updated:
[   14.740000] cfg80211:  DFS Master region: unset
[   14.760000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp), (dfs_cac_time)
[   14.790000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.810000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm), (N/A)
[   14.840000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm), (N/A)
[   14.860000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   14.880000] cfg80211:   (5250000 KHz - 5330000 KHz @ 80000 KHz, 160000 KHz AUTO), (N/A, 2000 mBm), (0 s)
[   14.910000] cfg80211:   (5490000 KHz - 5730000 KHz @ 160000 KHz), (N/A, 2000 mBm), (0 s)
[   14.940000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm), (N/A)
[   14.960000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm), (N/A)
[   15.410000] acx.acx_init_module: acx-mac80211, version: v0.6.0 (git: unknown)
[   15.440000] acx.acx_init_module: this driver is still EXPERIMENTAL
[   15.440000] acx: please read the README file and/or go to http://acx100.sourceforge.net/wiki for further information
[   15.490000] acx.acxpci_init_module: built with CONFIG_ACX_MAC80211_PCI
[   15.510000] acx.acxpci_init_module: compiled to use 32bit I/O access. I/O timing issues might occur, such as non-working firmware upload. Report them
[   15.550000] acx.acxpci_init_module: acx: running on a little-endian CPU
[   15.550000]  PCI/VLYNQ module initialized, waiting for cards to probe...
[   15.680000] registered device TI Avalanche SAR
[   15.700000] Ohio250(7200/7100A2) detected
[   15.720000] requesting firmware image &quot;ar0700xx.bin&quot;
[   17.990000] tn7dsl_set_modulation : Setting mode to 0x1
[   18.010000] Creating new root folder avalanche in the proc for the driver stats 
[   18.030000] Texas Instruments ATM driver: version:[7.03.01.00]
[   18.070000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   18.130000] nf_conntrack version 0.5.0 (198 buckets, 792 max)
[   18.220000] NET: Registered protocol family 24
[   18.330000] xt_time: kernel timezone is -0000
[   21.450000] random: nonblocking pool is initialized
procd: - init complete -
[   39.070000] device eth0 entered promiscuous mode
[   39.090000] br-lan: port 1(eth0) entered forwarding state
[   39.110000] br-lan: port 1(eth0) entered forwarding state
[   39.280000] IPv6: ADDRCONF(NETDEV_UP): eth0.1: link is not ready
[   39.380000] device eth0.1 entered promiscuous mode
[   39.420000] IPv6: ADDRCONF(NETDEV_UP): eth0.2: link is not ready
[   39.490000] device eth0.2 entered promiscuous mode
[   39.850000] br-lan: port 1(eth0) entered disabled state



BusyBox v1.22.1 (2015-01-08 15:02:49 PST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 -----------------------------------------------------
 CHAOS CALMER (Bleeding Edge, r43874)
 -----------------------------------------------------
  * 1 1/2 oz Gin            Shake with a glassful
  * 1/4 oz Triple Sec       of broken ice and pour
  * 3/4 oz Lime Juice       unstrained into a goblet.
  * 1 1/2 oz Orange Juice
  * 1 tsp. Grenadine Syrup
 -----------------------------------------------------
root@OpenWrt:/# </code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p293457">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">M3m3nt0</div>
					<div class="post-datetime">
						25 Sep 2015, 18:36					</div>
				</div>
				<div class="post-content content">
					<p>Just to inform you that (as <a href="https://forum.openwrt.org/viewtopic.php?pid=260317#p260317">WAG354G</a>) Openwrt 15.05 Chaos Calmer &quot;standard&quot; image doesn&#039;t boot at all... <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p345141">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">danitool</div>
					<div class="post-datetime">
						28 Nov 2016, 20:58					</div>
				</div>
				<div class="post-content content">
					<p>Hi M3m3nt0, do you have a copy of the bootloader?, it&#039;s easy to make</p><div class="codebox"><pre><code>dd if=/dev/mtd2 of=/tmp/pspboot.bin</code></pre></div><p>I have a a similar AR7 device with the same switch I wanted to test with Backfire, but I need a compatible bootloader with openwrt, mine is Bootbase-LE (not compatible).</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=48631&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>