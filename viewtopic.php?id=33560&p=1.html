<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Linksys Cisco E3000 v1 / WRT-610N v2 / Asus RT-N16 hardware on trunk</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Apr 2013 and 7 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 16</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=33560&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=33560&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33560&amp;p=16.html">16</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p151421">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						18 Dec 2011, 04:04					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m finally playing around with newer Broadcom hardware. I have a couple Cisco E3000 and even managed a workable serial port tap off the WAN pads without soldering!</p><p>UPDATE: Reports are now also that the <strong>Belkin PlayMax F7D4301</strong> is the same Broadcom chipsets too. So we have four routers all with similar firmware compatibility.</p><p>UPDATE: January 3, 2012 there is recent activity on the patches!! I See: <a href="http://www.znau.edu.ua/temp/asus-rt-n16/openwrt-bcm4716-README.txt">http://www.znau.edu.ua/temp/asus-rt-n16 … README.txt</a></p><p>Anyone running newer trunk? Are these patches making it into the OpenWrt development tree?</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 4 Jan 2012, 04:56)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151592">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						20 Dec 2011, 07:37					</div>
				</div>
				<div class="post-content content">
					<p>the problem is the GMAC driver not covered by GPL.<br />I believe it&#039;s too much work for someone to write the whole ethernet driver.<br />I don&#039;t think it will be supported officially by openwrt.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151624">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						20 Dec 2011, 17:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>maurer wrote:</cite><blockquote><p>the problem is the GMAC driver not covered by GPL.<br />I believe it&#039;s too much work for someone to write the whole ethernet driver.<br />I don&#039;t think it will be supported officially by openwrt.</p></blockquote></div><p>Thank you for this pointer. I now find this: <a href="https://lkml.org/lkml/2011/4/12/499">https://lkml.org/lkml/2011/4/12/499</a><br />&quot;UNPUBLISHED PROPRIETARY for GMAC core driver sources (etcgmac.c)&quot;</p><p>And copyright discussion, and how the source is out there, but the header implies proprietary:<br /><a href="http://www.spinics.net/lists/linux-wireless/msg69217.html">http://www.spinics.net/lists/linux-wire … 69217.html</a></p><p>Open ticket, which mentions the license issue, on OpenWrt<br /><a href="https://dev.openwrt.org/ticket/6580#comment">https://dev.openwrt.org/ticket/6580#comment</a></p><p>Can we flash a OpenWrt driver combination that is missing the LAN support?&nbsp; Just the wireless, flash, USB... one could drop in a USB ethernet driver as a short-term solution to use it as an Access Point....</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 20 Dec 2011, 20:57)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151626">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						20 Dec 2011, 17:23					</div>
				</div>
				<div class="post-content content">
					<p>In the USA, right now reputable Newegg has the Asus RT-N16 for $47! <a href="http://www.newegg.com/Product/Product.aspx?Item=N82E16833320081">http://www.newegg.com/Product/Product.a … 6833320081</a>&nbsp; - see if you can snag a free &quot;ShopRunner&#039; subscription for 2-day free delivery.</p><p>The Asus has double the RAM of the Cisco and 4x the flash! However, it has only one radio, the Cisco has a second chip for 5Ghz.</p><p>Unit RAM = 128 MB (2x 64MB - Samsung K4N511163QZ-HC25 or 2x 64MB - Samsung K4T51163QG-HCE6)<br />Unit Flash = 32 MB (MACRONIX MX29GL256EHTI2I-90Q)</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 20 Dec 2011, 17:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151631">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						20 Dec 2011, 17:57					</div>
				</div>
				<div class="post-content content">
					<p>can you buy one for me and ship it to romania <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" />&nbsp; - all expenses covered by me <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151640">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						20 Dec 2011, 20:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>maurer wrote:</cite><blockquote><p>can you buy one for me and ship it to romania <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" />&nbsp; - all expenses covered by me <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" /> ?</p></blockquote></div><p>Sure. email me your address information to stephen @ hilltx.co.m - I&#039;ll reply back. I&#039;ll power it up and make sure it works before I ship to you.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 20 Dec 2011, 20:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151675">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">fyi</div>
					<div class="post-datetime">
						21 Dec 2011, 09:37					</div>
				</div>
				<div class="post-content content">
					<p>Out Of Stock.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151706">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						21 Dec 2011, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I&#039;ve been compiling trunk against the latest patches I could locate on <a href="http://www.znau.edu.ua/temp/asus-rt-n16/">http://www.znau.edu.ua/temp/asus-rt-n16/</a> and build starts to break in USB patches on r29264 &quot;linux: update 3.0 to 3.0.9&quot;</p><p>It looks like Broadcom SSB EHCI support was added to OpenWrt trunk on r29264 <a href="http://dev.openwrt.org/browser/trunk/target/linux/brcm47xx/patches-3.0/022-USB-Add-ehci-ssb-driver.patch?rev=29264">http://dev.openwrt.org/browser/trunk/ta … ?rev=29264</a> - and that the patches conflict.</p><p>This is all 5 weeks ago that r29264 conflicts were introduced.&nbsp; I see recent activity, from 1 week ago, here: <a href="http://patchwork.openwrt.org/patch/1676/">http://patchwork.openwrt.org/patch/1676/</a>&nbsp; these seem to be focused on some Netgear routers ( WNR3500Lv2 &amp; WNDR4500 ?)</p><p>Anyone want to help me out on getting a current trunk patch set? I&#039;m slow at learning all this <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> Still playing around with this code...</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 21 Dec 2011, 19:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151718">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						21 Dec 2011, 22:11					</div>
				</div>
				<div class="post-content content">
					<p>support for rt-n16 dev ticket evolved into a forum thread of its own<br /><a href="https://dev.openwrt.org/ticket/6580">https://dev.openwrt.org/ticket/6580</a></p><p>Fixes required for RT-N16 against OpenWrt trunk 29288</p><p>package/mac80211/Makefile: Fix dependency from failed patch hunk</p><p>/trunk/target/linux/generic/patches-3.0/102-ehci_hcd_ignore_oc.patch: Remove line below</p><p>unsigned frame_index_bug:1; /* MosChip (AKA NetMos) */</p><p>Apply fix from this thread:&nbsp; <a href="http://permalink.gmane.org/gmane.linux.kernel.wireless.general/73918*">http://permalink.gmane.org/gmane.linux. … ral/73918*</a></p>											<p class="post-edited">(Last edited by <strong>maurer</strong> on 21 Dec 2011, 22:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151721">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						21 Dec 2011, 23:06					</div>
				</div>
				<div class="post-content content">
					<p>I posted on Twitter to try and get some noise about the GPL driver issue. <a href="https://twitter.com/#!/AustinLinux/status/149595727687987200">https://twitter.com/#!/AustinLinux/stat … 7687987200</a>&nbsp; - retweet if you can.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151729">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						22 Dec 2011, 02:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>maurer wrote:</cite><blockquote><p>support for rt-n16 dev ticket evolved into a forum thread of its own<br /><a href="https://dev.openwrt.org/ticket/6580">https://dev.openwrt.org/ticket/6580</a></p><p>Fixes required for RT-N16 against OpenWrt trunk 29288</p><p>package/mac80211/Makefile: Fix dependency from failed patch hunk</p><p>/trunk/target/linux/generic/patches-3.0/102-ehci_hcd_ignore_oc.patch: Remove line below</p><p>unsigned frame_index_bug:1; /* MosChip (AKA NetMos) */</p></blockquote></div><p>Ok, I got past those two problems.&nbsp; Now I&#039;m finding:</p><p>./build_dir/linux-brcm4716/linux-3.0.4/patches/platform/0001-bcma-move-parsing-of-EEPROM-into-own-function.patch</p><p>Fails on current trunk. Trying to figure out why.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151743">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						22 Dec 2011, 07:20					</div>
				</div>
				<div class="post-content content">
					<p>post this on the ticket and email george kashperko</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p151995">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						25 Dec 2011, 05:23					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>maurer wrote:</cite><blockquote><p>post this on the ticket and email george kashperko</p></blockquote></div><p>Hey, I have your Asus router here <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" />&nbsp; Send me your address and I&#039;ll try to get it out Tuesday.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152004">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						25 Dec 2011, 09:10					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;m sorry for misunderstanding, i thought the&#039;re out of stock and i bought a seagate dockstar instead - to &quot;play&quot; with.<br />and already have a rt-n16 since 2 years ago - but it&#039;s productive (tomatousb).<br />i wanted another one to try out openwrt and debwrt - but it&#039;ll have to wait - my Christmas presents fund is gone.<br />Thnaks and Merry Christmas&nbsp; !</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152097">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						26 Dec 2011, 14:37					</div>
				</div>
				<div class="post-content content">
					<p>USA: Newegg has the Cicsco in stock for $50 at the moment. <a href="http://www.newegg.com/Product/Product.aspx?Item=N82E16833124419">http://www.newegg.com/Product/Product.a … 6833124419</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152127">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">azdps</div>
					<div class="post-datetime">
						26 Dec 2011, 20:57					</div>
				</div>
				<div class="post-content content">
					<p>Round sparrow have you made any progress getting the newest openwrt trunk to build? I&#039;ve been following this thread.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152133">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">kenjiru</div>
					<div class="post-datetime">
						27 Dec 2011, 00:23					</div>
				</div>
				<div class="post-content content">
					<p>@RoundSparrow If you still have the router, I&#039;m interested in it! Thanx!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152671">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">azdps</div>
					<div class="post-datetime">
						2 Jan 2012, 05:51					</div>
				</div>
				<div class="post-content content">
					<p>George Kashperko has posted new patches as of 01/01/2012. They work against the current trunk version.</p><p><a href="http://www.znau.edu.ua/temp/asus-rt-n16/2012-01-01T23-55/">http://www.znau.edu.ua/temp/asus-rt-n16 … -01T23-55/</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152956">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						4 Jan 2012, 03:11					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kenjiru wrote:</cite><blockquote><p>@RoundSparrow If you still have the router, I&#039;m interested in it! Thanx!</p></blockquote></div><p>yha, I&#039;m here. Send me email at:&nbsp; stephen AT hilltx dot com</p><p>I should respond right away.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152957">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						4 Jan 2012, 03:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>azdps wrote:</cite><blockquote><p>George Kashperko has posted new patches as of 01/01/2012. They work against the current trunk version.</p><p><a href="http://www.znau.edu.ua/temp/asus-rt-n16/2012-01-01T23-55/">http://www.znau.edu.ua/temp/asus-rt-n16 … -01T23-55/</a></p></blockquote></div><p>Cool, I&#039;ll try them out shortly.&nbsp; I do now have both the Asus and Cisco E3000...</p><p>Both the Asus and Linksys stock firmware are vulnerable to the WPS PIN attack... more reason to shift to OpenWrt <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152958">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						4 Jan 2012, 03:15					</div>
				</div>
				<div class="post-content content">
					<p>There is work going on now to reverse engineer the gmac core: <a href="http://bcm-v4.sipsolutions.net/mac-gbit">http://bcm-v4.sipsolutions.net/mac-gbit</a><br />It allows for a clean-room implementation of a new ethernet driver.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152964">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						4 Jan 2012, 04:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jow wrote:</cite><blockquote><p>There is work going on now to reverse engineer the gmac core: <a href="http://bcm-v4.sipsolutions.net/mac-gbit">http://bcm-v4.sipsolutions.net/mac-gbit</a><br />It allows for a clean-room implementation of a new ethernet driver.</p></blockquote></div><p>Cool <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>here are my notes so far on the latest patches (files dated 2012-01-03).&nbsp; I checkout <strong>into a directory</strong> called <strong>openwrt</strong> - so i do some sed changes to normalize the paths in the patch files.</p><div class="codebox"><pre><code># fix paths
sed &#039;s/+++ openwrt.r29617/+++ openwrt/g&#039; 000-openwrt4716-TARGET_brcm4716-clone-brcm47xx.patch &gt; 000-openwrt4716-TARGET_brcm4716-clone-brcm47xx_path1.patch
sed &#039;s/+++ openwrt.r29617/+++ openwrt/g&#039; 001-openwrt4716-TARGET_brcm4716.patch &gt; 001-openwrt4716-TARGET_brcm4716_path1.patch 
sed &#039;s/+++ openwrt.r29617/+++ openwrt/g&#039; 002-openwrt4716-TARGET_brcm4716-deps.patch  &gt; 002-openwrt4716-TARGET_brcm4716-deps_path1.patch 
sed &#039;s/+++ openwrt.r29637/+++ openwrt/g&#039; 001-openwrt4716-TARGET_brcm4716-F7D4301-fix.patch &gt; 001-openwrt4716-TARGET_brcm4716-F7D4301-fix_path1.patch

# patch -p0 &lt; 000-openwrt4716-TARGET_brcm4716-prereq.patch 
patch -p0 &lt; 000-openwrt4716-TARGET_brcm4716-clone-brcm47xx_path1.patch
patch -p0 &lt; 001-openwrt4716-TARGET_brcm4716_path1.patch
patch -p0 &lt; 001-openwrt4716-TARGET_brcm4716-F7D4301-fix_path1.patch
patch -p0 &lt; 002-openwrt4716-TARGET_brcm4716-deps_path1.patch</code></pre></div><p>I&#039;m compiling latest trunk right now, r29644. Not sure if I&#039;ll have time to install and test on router before bed, I will report back if I do <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 4 Jan 2012, 04:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p152970">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						4 Jan 2012, 06:18					</div>
				</div>
				<div class="post-content content">
					<p>Ok, compiled latest trunk (r29644) and did a upgrade from stock Linksys firmware admin pages on E3000.... here is a boot log off console!</p><div class="codebox"><pre><code>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)
Build Date: Tue Jul 27 16:07:16 CST 2010 (ljh@team2-complier)
Copyright (C) 2000-2008 Broadcom Corporation.

Init Arena
Init Devs.

No DPN
This is a Parallel Flash
Boot partition size = 262144(0x40000)
et0: Broadcom BCM47XX 10/100/1000 Mbps Ethernet Controller 5.10.56.51
CPU type 0x19740: 480MHz
Tot mem: 65536 KBytes

CFE mem:    0x80700000 - 0x8079DAC0 (645824)
Data:       0x80732A20 - 0x80737080 (18016)
BSS:        0x80737080 - 0x80737AC0 (2624)
Heap:       0x80737AC0 - 0x8079BAC0 (409600)
Stack:      0x8079BAC0 - 0x8079DAC0 (8192)
Text:       0x80700000 - 0x80732A1C (207388)

Boot version: v4.2
The boot is CFE

mac_init(): Find mac [98:FC:11:91:6B:F4] in location 0
Nothing...
country_init(): Find country code in location 0
The country is same
Device eth0:  hwaddr 98-FC-11-91-6B-F4, ipaddr 192.168.1.1, mask 255.255.255.0
        gateway not set, nameserver not set
Check CRC of image1
  Header CRC:    0xDE8C3C86
  Calculate CRC: 0xDE8C3C86
Image 1 is OK
Try to load image 1.
Loader:raw Filesys:tftp Dev:eth0 File:: Options:(null)
Loading: Failed.
Could not load :: Timeout occured
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: .. 3788 bytes read
Entry at 0x80001000
Closing network.
Starting program at 0x80001000
[    0.000000] Linux version 3.0.12 (adminsag@ipcx201ubuntu1) (gcc version 4.5.4 20110808 (prerelease) (Linaro GCC 4.5-2011.08) ) #
2 Tue Jan 3 21:46:05 CST 2012
[    0.000000] CPU revision is: 00019740 (MIPS 74Kc)
[    0.000000] bcm47xx: using ssb bus
[    0.000000] ssb: Found END of erom after 9 cores
[    0.000000] ssb: chipcommon status is 0x800
[    0.000000] ssb: ssb_pmu_resources_init: Resource count 7
[    0.000000] ssb: Initializing MIPS core...
[    0.000000] ssb: set_irq: core 0x0812, irq 3 =&gt; 3
[    0.000000] ssb: set_irq: core 0x082d, irq 4 =&gt; 4
[    0.000000] ssb: set_irq: core 0x0819, irq 5 =&gt; 5
[    0.000000] ssb: after irq reconfiguration
[    0.000000] ssb: core 0x0800, irq : 2(S)* 3  4  5  6  D  I
[    0.000000] ssb: core 0x0812, irq : 2(S)  3* 4  5  6  D  I
[    0.000000] ssb: core 0x082d, irq : 2(S)  3  4* 5  6  D  I
[    0.000000] ssb: core 0x082c, irq : 2(S)  3  4  5  6  D  I*
[    0.000000] ssb: core 0x0819, irq : 2(S)  3  4  5* 6  D  I
[    0.000000] ssb: core 0x0820, irq : 2(S)  3  4  5  6* D  I
[    0.000000] ssb: core 0x082e, irq : 2(S)* 3  4  5  6  D  I
[    0.000000] ssb: core 0x080e, irq : 2(S)  3  4  5  6  D  I*
[    0.000000] ssb: core 0x0834, irq : 2(S)* 3  4  5  6  D  I
[    0.000000] found parallel flash.
[    0.000000] ssb: Sonics Silicon Backplane (AI type) found at address 0x18000000
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 04000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone PFN ranges:
[    0.000000]   Normal   0x00000000 -&gt; 0x00004000
[    0.000000] Movable zone start PFN for each node
[    0.000000] early_node_map[1] active PFN ranges
[    0.000000]     0: 0x00000000 -&gt; 0x00004000
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 16256
[    0.000000] Kernel command line:  root=/dev/mtdblock2 rootfstype=squashfs,jffs2 noinitrd console=ttyS0,115200
[    0.000000] PID hash table entries: 256 (order: -2, 1024 bytes)
[    0.000000] Dentry cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Inode-cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 32kB, 4-way, VIPT, cache aliases, linesize 32 bytes
[    0.000000] Writing ErrCtl register=00000000
[    0.000000] Readback ErrCtl register=00000000
[    0.000000] Memory: 62192k/65536k available (2095k kernel code, 3344k reserved, 332k data, 156k init, 0k highmem)
[    0.000000] NR_IRQS:128
[    0.000000] console [ttyS0] enabled
[    0.004000] Calibrating delay loop... 239.10 BogoMIPS (lpj=478208)
[    0.040000] pid_max: default: 32768 minimum: 301
[    0.044000] Mount-cache hash table entries: 512
[    0.048000] NET: Registered protocol family 16
[    0.060000] bio: create slab &lt;bio-0&gt; at 0
[    0.068000] Switching to clocksource MIPS
[    0.076000] Switched to NOHz mode on CPU #0
[    0.084000] NET: Registered protocol family 2
[    0.088000] IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.096000] TCP established hash table entries: 2048 (order: 2, 16384 bytes)
[    0.104000] TCP bind hash table entries: 2048 (order: 1, 8192 bytes)
[    0.112000] TCP: Hash tables configured (established 2048 bind 2048)
[    0.116000] TCP reno registered
[    0.120000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.124000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.132000] NET: Registered protocol family 1
[    0.144000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.152000] JFFS2 version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.160000] msgmni has been set to 121
[    0.164000] io scheduler noop registered
[    0.168000] io scheduler deadline registered (default)
[    0.176000] Serial: 8250/16550 driver, 2 ports, IRQ sharing enabled
\FD    0.20000 serial8250: ttyS0 at MMIO 0xb8000300 (irq = 2) is a U6_16550A
[    0.232000] serial8250.0: ttyS0 at MMIO 0xb8000300 (irq = 2) is a U6_16550A
[    0.240000] bcm47xx_pflash: flash init: 0x1c000000 0x02000000
[    0.248000] Physically mapped flash: Found 1 x16 devices at 0x0 in 8-bit bank. Manufacturer ID 0x0000c2 Chip ID 0x0000cb
[    0.256000] Amd/Fujitsu Extended Query Table at 0x0040
[    0.264000]   Amd/Fujitsu Extended Query version 1.1.
[    0.268000] number of CFI chips: 1
[    0.272000] bcm47xx_pflash: Flash device: 0x2000000 at 0x1fc00000
[    0.280000] bcm47xx_part: bootloader size: 262144
[    0.284000] bcm47xx_part: Looking for dual image
[    0.288000] bcm47xx_part: TRX offset : 0
[    0.292000] 4 bcm47xx partitions found on MTD device Physically mapped flash
[    0.300000] Creating 4 MTD partitions on &quot;Physically mapped flash&quot;:
[    0.308000] 0x000000000000-0x000000040000 : &quot;cfe&quot;
[    0.312000] 0x000000040000-0x0000007f0000 : &quot;linux&quot;
[    0.320000] 0x000000117000-0x0000007f0000 : &quot;rootfs&quot;
[    0.328000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcin
g read-only
[    0.340000] mtd: partition &quot;rootfs&quot; set to be root filesystem
[    0.348000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=320000, len=4D0000
[    0.356000] 0x000000320000-0x0000007f0000 : &quot;rootfs_data&quot;
[    0.364000] 0x0000007f0000-0x000000800000 : &quot;nvram&quot;
[    0.372000] bcm47xx_sflash: error registering platform driver: -19
[    0.380000] BCM47xx Watchdog Timer enabled (30 seconds, nowayout)
[    0.388000] TCP westwood registered
[    0.392000] NET: Registered protocol family 17
[    0.396000] 802.1Q VLAN Support v1.8
[    0.408000] VFS: Mounted root (squashfs filesystem) readonly on device 31:2.
[    0.416000] Freeing unused kernel memory: 156k freed
[    1.972000] diag: Router model not detected.
[    3.168000] roboswitch: Probing device eth0: No such device
[    3.176000] roboswitch: Probing device eth1: No such device
[    3.180000] roboswitch: Probing device eth2: No such device
[    3.184000] roboswitch: Probing device eth3: No such device
[    6.296000] diag: Router model not detected.
- preinit -
Press the [f] key and hit [enter] to enter failsafe mode
- regular preinit -
[    9.600000] JFFS2 notice: (264) jffs2_build_xattr_subsystem: complete building xattr subsystem, 1 of xdatum (0 unchecked, 0 orph
an) and 4 of xref (0 dead, 2 orphan) found.
switching to jffs2
- init -

Please press Enter to activate this console. [   11.676000] bgmac ssb0:1: eth0: Broadcom SSB GMAC ethernet driver (ext. Robo Switch
) 00:01:36:1f:e4:59
[   11.792000] USB20H mdio control register: 0x8000000C
[   11.996000] SCSI subsystem initialized
[   12.032000] roboswitch: Probing device eth0: found a 53115! It&#039;s a 5350.
[   12.208000] usbcore: registered new interface driver usbfs
[   12.212000] usbcore: registered new interface driver hub
[   12.224000] usbcore: registered new device driver usb
[   13.144000] wl: module license &#039;unspecified&#039; taints kernel.
[   13.148000] Disabling lock debugging due to kernel taint
[   13.228000] wl0: Broadcom BCM4329 802.11 Wireless Controller 5.10.56.27
[   13.236000] SSB/BCMA glue driver successfully attached
[   13.752000] PPP generic driver version 2.4.2
[   14.076000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   14.284000] NET: Registered protocol family 24
[   14.432000] ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
[   14.436000] ehci-platform ehci-platform.0: Generic Platform EHCI Controller
[   14.444000] ehci-platform ehci-platform.0: new USB bus registered, assigned bus number 1
[   14.476000] ehci-platform ehci-platform.0: irq 5, io mem 0x18004000
[   14.492000] ehci-platform ehci-platform.0: USB 0.0 started, EHCI 1.00
[   14.496000] hub 1-0:1.0: USB hub found
[   14.500000] hub 1-0:1.0: 2 ports detected
[   14.532000] nf_conntrack version 0.5.0 (974 buckets, 3896 max)
[   15.164000] uhci_hcd: USB Universal Host Controller Interface driver
[   15.192000] Initializing USB Mass Storage driver...
[   15.200000] usbcore: registered new interface driver usb-storage
[   15.204000] USB Mass Storage support registered.
[   16.920000] device eth0.0 entered promiscuous mode
[   16.924000] device eth0 entered promiscuous mode
[   17.268000] br-lan: port 1(eth0.0) entering forwarding state
[   17.272000] br-lan: port 1(eth0.0) entering forwarding state



BusyBox v1.19.3 (2012-01-03 21:25:37 CST) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

  _______                     ________        __
 |       |.-----.-----.-----.|  |  |  |.----.|  |_
 |   -   ||  _  |  -__|     ||  |  |  ||   _||   _|
 |_______||   __|_____|__|__||________||__|  |____|
          |__| W I R E L E S S   F R E E D O M
 ATTITUDE ADJUSTMENT (bleeding edge, r29643) ----------
  * 1/4 oz Vodka      Pour all ingredients into mixing
  * 1/4 oz Gin        tin with ice, strain into glass.
  * 1/4 oz Amaretto
  * 1/4 oz Triple sec
  * 1/4 oz Peach schnapps
  * 1/4 oz Sour mix
  * 1 splash Cranberry juice
 -----------------------------------------------------
root@OpenWrt:/#</code></pre></div><p>It is working pretty good so far. I was able to make the router an Access Point using WPA2 encryption using LuCI.&nbsp; If anyone else wants a copy, here is the Cisco Linksys E3000 binary for R29644 (the bootlog shown in this post), LuCI included: <a href="https://sites.google.com/site/stephengutknecht/Home/openwrt_r29644_withluci_-e3000_v1-squashfs.bin">https://sites.google.com/site/stephengu … uashfs.bin</a></p><p>We tested the router as an Access Point at our Austin Linux meeting tonight. Seems to max out wireless throughput around 1.5Mbps... pretty crappy. This was from various client 802.11n systems, 4 active ones. CPU was not maxed out, so not sure what is going on with the wireless driver.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 5 Jan 2012, 05:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154680">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">VeNoM</div>
					<div class="post-datetime">
						19 Jan 2012, 11:14					</div>
				</div>
				<div class="post-content content">
					<p>I get an error with the patches. Can anyone help ?<br />I noticed sed &#039;s/+++ openwrt.r29637/+++ openwrt/g&#039; 001-openwrt4716-TARGET_brcm4716-F7D4301-fix.patch. In George&#039;s patches there is no reference to r29637.</p><div class="codebox"><pre><code>patch -p1 &lt; 002-openwrt4716-TARGET_brcm4716-deps_path1.patch
patching file package/broadcom-diag/Makefile
Hunk #1 FAILED at 15.
1 out of 1 hunk FAILED -- saving rejects to file package/broadcom-diag/Makefile.rej
patching file package/broadcom-wl/Makefile
Hunk #1 FAILED at 26.
1 out of 1 hunk FAILED -- saving rejects to file package/broadcom-wl/Makefile.rej
can&#039;t find file to patch at input line 50
Perhaps you used the wrong -p or --strip option?
The text leading up to this was:
--------------------------
|--- openwrt.r29617.orig/package/broadcom-wl/src/glue/wl_glue.c 2012-01-01 23:49:52.817459651 +0200
|+++ openwrt/package/broadcom-wl/src/glue/wl_glue.c     2011-12-31 15:44:44.865129233 +0200
--------------------------
File to patch:
Skip this patch? [y] y
Skipping patch.
1 out of 1 hunk ignored
patching file package/kernel/modules/netdevices.mk
Hunk #1 FAILED at 761.
1 out of 1 hunk FAILED -- saving rejects to file package/kernel/modules/netdevices.mk.rej
patching file package/kernel/modules/other.mk
Hunk #1 FAILED at 527.
1 out of 1 hunk FAILED -- saving rejects to file package/kernel/modules/other.mk.rej
patching file package/kernel/modules/usb.mk
Hunk #1 succeeded at 857 with fuzz 2 (offset -145 lines).
patching file package/mac80211/Makefile
Hunk #1 FAILED at 49.
1 out of 1 hunk FAILED -- saving rejects to file package/mac80211/Makefile.rej
patching file package/nvram/Makefile
Hunk #1 FAILED at 19.
1 out of 1 hunk FAILED -- saving rejects to file package/nvram/Makefile.rej
patching file package/switch/Makefile
Hunk #1 FAILED at 15.
1 out of 1 hunk FAILED -- saving rejects to file package/switch/Makefile.rej</code></pre></div>											<p class="post-edited">(Last edited by <strong>VeNoM</strong> on 19 Jan 2012, 11:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p154691">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">maurer</div>
					<div class="post-datetime">
						19 Jan 2012, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>development for brcm47xx is advancing faster than george can patch things up - last change 4 days ago.<br />but i believe that he&#039;ll come back with a new set of patches soon.<br />if you want to compile it - try pulling older sources&nbsp; - latest update on george&#039;s repo was on 9.01.2012 - so sources &lt; 29700 should be able to compile without errors.<br />that&#039;s only my guess - if you want it - try it - i t might do it in the weekend and report back</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 16</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=33560&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=33560&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=33560&amp;p=16.html">16</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>