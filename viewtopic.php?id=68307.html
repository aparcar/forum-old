<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> install netsed</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p342392">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">stern0m1</div>
					<div class="post-datetime">
						28 Oct 2016, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>Please pardon my ignorance as im a newbie.</p><p>I would like to install netsed&nbsp; how do I go about doing that? I cant find and ipk file.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342422">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						29 Oct 2016, 10:45					</div>
				</div>
				<div class="post-content content">
					<p>Install <a href="https://wiki.openwrt.org/doc/howto/obtain.firmware.sdk">SDK</a> on linux x64 system and compile yourself. No other option.&nbsp; <a href="https://wiki.openwrt.org/doc/devel/packages">Creating packages howto</a></p>											<p class="post-edited">(Last edited by <strong>bolvan</strong> on 29 Oct 2016, 10:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342489">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">stern0m1</div>
					<div class="post-datetime">
						30 Oct 2016, 03:43					</div>
				</div>
				<div class="post-content content">
					<p>If someone could compile for me, I would greatly appreciate it. I have not had success trying to do it my self.<br />thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342499">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						30 Oct 2016, 08:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stern0m1 wrote:</cite><blockquote><p>If someone could compile for me, I would greatly appreciate it. I have not had success trying to do it my self.<br />thanks</p></blockquote></div><p>Then you have to specify arch and openwrt ver</p>											<p class="post-edited">(Last edited by <strong>bolvan</strong> on 30 Oct 2016, 09:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342514">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">stern0m1</div>
					<div class="post-datetime">
						30 Oct 2016, 13:25					</div>
				</div>
				<div class="post-content content">
					<p>I would like to use netsed on a dlink dir-860l which has the MIPS32 arch Im using&nbsp; OpenWrt Chaos Calmer 15.05.1.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342522">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						30 Oct 2016, 15:14					</div>
				</div>
				<div class="post-content content">
					<p>Here is your binarie&nbsp; <a href="https://www.sendspace.com/file/f45xm3">https://www.sendspace.com/file/f45xm3</a><br />I compiled it as MIPS32 LSB rel 1&nbsp; so it would run on all MIPS32 LSB devices with openwrt &lt;=CC. It will not run on DD+.</p>											<p class="post-edited">(Last edited by <strong>bolvan</strong> on 30 Oct 2016, 15:15)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342567">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stern0m1</div>
					<div class="post-datetime">
						30 Oct 2016, 23:57					</div>
				</div>
				<div class="post-content content">
					<p>Got it working! thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342578">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						31 Oct 2016, 04:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bolvan wrote:</cite><blockquote><p>Here is your binarie&nbsp; <a href="https://www.sendspace.com/file/f45xm3">https://www.sendspace.com/file/f45xm3</a><br />I compiled it as MIPS32 LSB rel 1&nbsp; so it would run on all MIPS32 LSB devices with openwrt &lt;=CC. It will not run on DD+.</p></blockquote></div><p>Why not submit makefile/package to LEDE repo?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342588">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">stern0m1</div>
					<div class="post-datetime">
						31 Oct 2016, 06:08					</div>
				</div>
				<div class="post-content content">
					<p>bolvan:</p><p>What am i doing wrong?</p><br /><p>I tried like this:<br />iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 10000</p><p>netsed tcp 10000 0 0 s/Hello/bbbbb</p><p>but this is what i get:</p><p>root@OpenWrt:~# /root/netsed tcp 10000 0 0 s/Hello/bbbbb<br />netsed 1.00b by Julien VdG &lt;julien@silicone.homelinux.org&gt;<br />&nbsp; &nbsp; &nbsp; based on 0.01c from Michal Zalewski &lt;lcamtuf@ids.pl&gt;<br /> Parsing rule s/Hello/bbbbb...<br />[+] Loaded 1 rule...<br />getaddrinfo(): Name or service not known<br />[-] Error: Impossible to resolve remote address or port.<br />netsed: exiting.</p><p>What am i doing wrong?</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342603">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						31 Oct 2016, 09:37					</div>
				</div>
				<div class="post-content content">
					<p>I compiled newer ver 1.2 <a href="https://www.sendspace.com/file/mp23sx">https://www.sendspace.com/file/mp23sx</a> . But the error is the same.<br />I looked into the code and found the following code at the very beginning of main() :<br /></p><div class="codebox"><pre><code>  if ((ret = getaddrinfo(rhost, rport, &amp;hints, &amp;reslist))) {
    ERR(&quot;getaddrinfo(): %s\n&quot;, gai_strerror(ret));
    error(&quot;Impossible to resolve remote address or port.&quot;);
  }</code></pre></div><p>rhost and rport are char*&nbsp; of what you specify as 3rd and 4th parameters (host,port).<br />looks like on traditional linux getaddrinfo accepts &quot;0&quot; as host but openwrt does not.<br />what the difference ? Openwrt use different libc which cant take that. Glibc interprets 0 as &quot;0.0.0.0&quot;, meaning of &quot;0&quot; must be decimal form of IP address without dots, in this case zero address which means &quot;any ip&quot; or &quot;all ips on the host&quot;.<br />So, on other libc dont specify &quot;0&quot; but full &quot;0.0.0.0&quot; instead</p><p>netsed tcp 10000 0.0.0.0 0 s/Hello/bbbbb</p>											<p class="post-edited">(Last edited by <strong>bolvan</strong> on 31 Oct 2016, 15:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342636">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">stern0m1</div>
					<div class="post-datetime">
						31 Oct 2016, 17:16					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot, that works. I spent so many hours but couldn&#039;t figure it out....</p><p>My&nbsp; goal is build on netsed to&nbsp; filter images in real time based on the actual content of the images. I want to create a router based content filter that filters pornographic images. There many filters available that filter based on key words and ip addresses but that only really works on straight porn but there&nbsp; is a lot of images on regular web sites that are not porn in the strict sense but are pornographic in nature. You have naked pictures or cladly dressed...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p342642">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						31 Oct 2016, 18:04					</div>
				</div>
				<div class="post-content content">
					<p>How do you filter images based on their content with simple regexp replacer ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343085">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">hamba</div>
					<div class="post-datetime">
						5 Nov 2016, 14:33					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bolvan wrote:</cite><blockquote><div class="quotebox"><cite>stern0m1 wrote:</cite><blockquote><p>If someone could compile for me, I would greatly appreciate it. I have not had success trying to do it my self.<br />thanks</p></blockquote></div><p>Then you have to specify arch and openwrt ver</p></blockquote></div><p>Hey Bolvan,</p><p>if you have a minute I would greatly appreciate it you could compile netsed for my router.</p><p>I am using the tl-wr841nd v7 (MIPS?) and OpenWrt Chaos Calmer 15.05.1</p><p>I tried to use the binary posted by you but I only get </p><p>./netsed: line 1: syntax error: unexpected &quot;(&quot;</p><p>So I guess they differ at some point.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343091">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						5 Nov 2016, 15:56					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hamba wrote:</cite><blockquote><p>I tried to use the binary posted by you but I only get <br />./netsed: line 1: syntax error: unexpected &quot;(&quot;<br />So I guess they differ at some point.</p></blockquote></div><p>tplink is ar71xx which is MIPS32r2 big-endian<br />I compiled for rampis which is little endian.</p><p><a href="https://www.sendspace.com/file/somvqr">https://www.sendspace.com/file/somvqr</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343153">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">hamba</div>
					<div class="post-datetime">
						6 Nov 2016, 20:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bolvan wrote:</cite><blockquote><div class="quotebox"><cite>hamba wrote:</cite><blockquote><p>I tried to use the binary posted by you but I only get <br />./netsed: line 1: syntax error: unexpected &quot;(&quot;<br />So I guess they differ at some point.</p></blockquote></div><p>tplink is ar71xx which is MIPS32r2 big-endian<br />I compiled for rampis which is little endian.</p></blockquote></div><p>Oh you replied !</p><p>Thanks a ton man , and it seems to work too <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p343161">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">hamba</div>
					<div class="post-datetime">
						6 Nov 2016, 23:15					</div>
				</div>
				<div class="post-content content">
					<p>Alright it worked , again thanks a lot - saved my day.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p354995">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">Right</div>
					<div class="post-datetime">
						25 Mar 2017, 10:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bolvan wrote:</cite><blockquote><p>tplink is ar71xx which is MIPS32r2 big-endian<br />I compiled for rampis which is little endian.</p></blockquote></div><p>Can you upload this one again? Need it too. Thanks!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>