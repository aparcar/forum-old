<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Wifi on AR7 (with acx-mac80211)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 30 Mar 2018 and 12 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=11749&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=11749&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=11749&amp;p=4.html">4</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p57008">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						4 Oct 2007, 11:31					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>heruan wrote:</cite><blockquote><p>How did you get it working? wpa_supplicant? could you please post the steps you did?</p></blockquote></div><p>wpa_supplicant -Dwext -i&lt;your wlan iface&gt; -c&lt;your conf file&gt;<br />worked for me on r9009</p><p>But i can&#039;t get it working in AP mode. Anyone?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57009">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">nabcore</div>
					<div class="post-datetime">
						4 Oct 2007, 11:34					</div>
				</div>
				<div class="post-content content">
					<p>There is no AP mode support in the acx-mac80211 drivers at the moment.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57012">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						4 Oct 2007, 13:28					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nabcore wrote:</cite><blockquote><p>There is no AP mode support in the acx-mac80211 drivers at the moment.</p></blockquote></div><p>From acx-mac80211-20070718.tar.bz2 Changelog:</p><p>[20060605-20060706]<br />* Jeff Williams &lt;jeff@wdwconsulting.net&gt;<br />&nbsp; Added DeviceScape 80211 stack support to PCI<br />&nbsp; Works with wpa_supplicant and hostapd<br />&nbsp; Removed excess homegrown/linux-wlan 80211 stack</p><p>So, provided it worked as supplicant, i suppose it should work as AP too (?)<br />A newer version came with r9112, i&#039;ll give it a try...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57057">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">Weedy</div>
					<div class="post-datetime">
						5 Oct 2007, 05:26					</div>
				</div>
				<div class="post-content content">
					<p>i&#039;ll be waiting on your report</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57075">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">heruan</div>
					<div class="post-datetime">
						5 Oct 2007, 17:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><div class="quotebox"><cite>heruan wrote:</cite><blockquote><p>How did you get it working? wpa_supplicant? could you please post the steps you did?</p></blockquote></div><p>wpa_supplicant -Dwext -i&lt;your wlan iface&gt; -c&lt;your conf file&gt;<br />worked for me on r9009</p></blockquote></div><p>In r9047 I get:<br /></p><div class="codebox"><pre><code>root@OpenWrt:~# wpa_supplicant -Dwext -iwlan0 -c /etc/wpa_supplicant.conf 
ioctl[SIOCSIWAUTH]: Operation not supported
WEXT auth param 7 value 0x1 - ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWAUTH]: Operation not supported
WEXT auth param 4 value 0x0 - ioctl[SIOCSIWAUTH]: Operation not supported
WEXT auth param 5 value 0x1 - CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
ioctl[SIOCSIWENCODEEXT]: Operation not supported
CTRL-EVENT-DISCONNECTED - Disconnect event - remove keys</code></pre></div><p>... and so on.<br />Maybe an error in my config file?</p><div class="codebox"><pre><code>ctrl_interface=/var/run/wpa_supplicant
eapol_version=1
ap_scan=1
fast_reauth=1
network={
        ssid=&quot;MySSID&quot;
        proto=WPA
        key_mgmt=WPA-EAP
        pairwise=CCMP TKIP
        group=CCMP TKIP
        eap=TLS
        identity=&quot;My Identity&quot;
        ca_cert=&quot;/etc/certs/CA.crt&quot;
        client_cert=&quot;/etc/certs/my.crt&quot;
        private_key=&quot;/etc/certs/my.key&quot;
        private_key_passwd=&quot;secret&quot;
        priority=1
}</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57116">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						6 Oct 2007, 15:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Weedy wrote:</cite><blockquote><p>i&#039;ll be waiting on your report</p></blockquote></div><p>Digged in package/acx-mac80211 src code. It looks like it&#039;s from Linville wireless-dev tree, which should support AP mode...&nbsp; Rootkit user means acx driver insn&#039;t so far yet, and updated version of acx driver from r9012 on doesn&#039;t contain improvements about AP mode. I&#039;m afraid it won&#039;t work yet.<br />I have to understand first how acx driver works...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57119">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						6 Oct 2007, 16:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>heruan wrote:</cite><blockquote><p>Maybe an error in my config file?</p><div class="codebox"><pre><code>ctrl_interface=/var/run/wpa_supplicant
eapol_version=1
ap_scan=1
fast_reauth=1
network={
        ssid=&quot;MySSID&quot;
        proto=WPA
        key_mgmt=WPA-EAP
        pairwise=CCMP TKIP
        group=CCMP TKIP
        eap=TLS
        identity=&quot;My Identity&quot;
        ca_cert=&quot;/etc/certs/CA.crt&quot;
        client_cert=&quot;/etc/certs/my.crt&quot;
        private_key=&quot;/etc/certs/my.key&quot;
        private_key_passwd=&quot;secret&quot;
        priority=1
}</code></pre></div></blockquote></div><p>First of all, i assume you&#039;re using acx-mac80211, not acx driver.<br />Looking at your conf file, it seems to me you want to use IEEE 802.1X authentication. I never try that, only PSK2. But your conf file looks fine.<br />Please check first if wpa_supplicant .config file in the build directory includes all the capabilities you need. Then try WEP encription first, maybe the driver has problems with WPA</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57120">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">Weedy</div>
					<div class="post-datetime">
						6 Oct 2007, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>as of r9149, acx-mac80211 locks up the box</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57121">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">heruan</div>
					<div class="post-datetime">
						6 Oct 2007, 16:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>rAndy wrote:</cite><blockquote><p>First of all, i assume you&#039;re using acx-mac80211, not acx driver.<br />Looking at your conf file, it seems to me you want to use IEEE 802.1X authentication. I never try that, only PSK2. But your conf file looks fine.<br />Please check first if wpa_supplicant .config file in the build directory includes all the capabilities you need. Then try WEP encription first, maybe the driver has problems with WPA</p></blockquote></div><p>Yes of course, I&#039;m using acx-mac80211. I can&#039;t use PSK too, I get the same error messages...<br />In wpa_supplicant .confg file I guess includes all those capabilities:<br /></p><div class="codebox"><pre><code># Enable IEEE 802.1X Supplicant (automatically included if any EAP method is
# included)
CONFIG_IEEE8021X_EAPOL=y

# EAP-MD5 (automatically included if EAP-TTLS is enabled)
CONFIG_EAP_MD5=y

# EAP-MSCHAPv2 (automatically included if EAP-PEAP is enabled)
CONFIG_EAP_MSCHAPV2=y

# EAP-TLS
CONFIG_EAP_TLS=y

# EAL-PEAP
CONFIG_EAP_PEAP=y

# EAP-TTLS
CONFIG_EAP_TTLS=y</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57159">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">sw</div>
					<div class="post-datetime">
						7 Oct 2007, 17:12					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>here is a summary of my results with OpenWrt trunk (revision 9177):</p><p>1. Driver acx no longer works, because the VLYNQ-PCI part for AR7 was removed.<br />&nbsp; &nbsp; So loading of acx.ko results in unresolved symbols and fails.</p><p>2. Driver acx-mac80211 loads, but does not create a network device.<br />&nbsp; &nbsp; So this driver is not usable, too.</p><p>Here is an extract of the boot protocol.</p><div class="codebox"><pre><code>[42949374.080000] Registered led device: ar7:status
[42949374.090000] vlynq0: regs 0x08611800, irq 29, mem 0x04000000
[42949374.090000] vlynq1: regs 0x08611c00, irq 33, mem 0x0c000000
[42949374.100000] nf_conntrack version 0.5.0 (128 buckets, 1024 max)
...
[42949381.830000] Freeing unused kernel memory: 116k freed
[42949382.400000] Algorithmics/MIPS FPU Emulator v1.5
[sighandler]: No more events to be processed, quitting.
[cleanup]: Waiting for children.
[cleanup]: All children terminated.
- preinit -
- init -
[42949386.580000] acx: this driver is still EXPERIMENTAL
[42949386.580000] acx: reading README file and/or Craig&#039;s HOWTO is recommended, visit http://acx100.sourceforge.net/wiki in case of further n
[42949386.590000] acx: compiled to use 32bit I/O access. I/O timing issues might occur, such as non-working firmware upload. Report them
[42949386.600000] acx: running on a little-endian CPU
[42949386.600000] acx: PCI/VLYNQ module v0.3.36-mac80211 initialized, waiting for cards to probe...</code></pre></div><p>Stefan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57168">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						7 Oct 2007, 21:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sw wrote:</cite><blockquote><p>Hello,</p><p>here is a summary of my results with OpenWrt trunk (revision 9177):</p><p>1. Driver acx no longer works, because the VLYNQ-PCI part for AR7 was removed.<br />&nbsp; &nbsp; So loading of acx.ko results in unresolved symbols and fails.</p></blockquote></div><p>Indeed, was removed with changeset 9143, so last working revision is 9141<br />Will try svn trunk tomorrow...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57198">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						8 Oct 2007, 12:08					</div>
				</div>
				<div class="post-content content">
					<p>r9183 on d-link dsl-664g: acx-mac80211 loads fine, no errors, but AP remains invisible to Kismet neither can a client associate</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57222">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						8 Oct 2007, 22:51					</div>
				</div>
				<div class="post-content content">
					<p>The mac80211 stack with hostap support is the one in the mac80211-attic branch of the wireless-2.6 tree<br />I can use it as client mode, but only if I do iwconfig commands <span class="bbu">after</span> that the interface is up. eg:<br /></p><div class="codebox"><pre><code>ifconfig wlan0 192.168.0.1 netmask 255.255.255.0
iwconfig wlan0 essid homenet key open s:apassword</code></pre></div><p>Btw, link quality is very low, and unreliable for real usage yet:<br /></p><div class="codebox"><pre><code>[/]# ping 192.168.0.2 -s 1492
PING 192.168.0.2 (192.168.0.2): 1492 data bytes
1500 bytes from 192.168.0.2: seq=0 ttl=127 time=19.857 ms
1500 bytes from 192.168.0.2: seq=1 ttl=127 time=22.157 ms
1500 bytes from 192.168.0.2: seq=2 ttl=127 time=21.951 ms
1500 bytes from 192.168.0.2: seq=3 ttl=127 time=21.572 ms
1500 bytes from 192.168.0.2: seq=4 ttl=127 time=19.656 ms
1500 bytes from 192.168.0.2: seq=5 ttl=127 time=21.770 ms
1500 bytes from 192.168.0.2: seq=6 ttl=127 time=20.662 ms
1500 bytes from 192.168.0.2: seq=7 ttl=127 time=20.057 ms
1500 bytes from 192.168.0.2: seq=8 ttl=127 time=38.338 ms
1500 bytes from 192.168.0.2: seq=9 ttl=127 time=20.255 ms
1500 bytes from 192.168.0.2: seq=10 ttl=127 time=22.994 ms
1500 bytes from 192.168.0.2: seq=11 ttl=127 time=20.555 ms
1500 bytes from 192.168.0.2: seq=12 ttl=127 time=20.767 ms

--- 192.168.0.2 ping statistics ---
13 packets transmitted, 13 packets received, 0% packet loss
round-trip min/avg/max = 19.656/22.353/38.338 ms</code></pre></div><p>20 msec are really too much for 5 meters without obstacles</p>											<p class="post-edited">(Last edited by <strong>rootkit</strong> on 8 Oct 2007, 22:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57243">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">nabcore</div>
					<div class="post-datetime">
						9 Oct 2007, 07:37					</div>
				</div>
				<div class="post-content content">
					<p>Using r9209, I find that I have to do the following:<br /></p><div class="codebox"><pre><code>insmod acx-mac80211.ko
iwconfig wlan0 mode ad-hoc key restricted
iwconfig wlan0 key s:secretket
iwconfig wlan0 essid thenet
ifconfig wlan0 192.168.1.1 up
iwlist wlan0 scanning</code></pre></div><p>I insmod the module since I&#039;ve disabled it in start up purely only for testing reasons. The final iwlist command seems very important since without it, the link does not work... I&#039;ve not idea why this is. As for link speed, it seems ok (distance == 0.5 meters):<br /></p><div class="codebox"><pre><code>root@Bunny:~# ping 192.168.1.2 -s 1492
PING 192.168.1.2 (192.168.1.2): 1492 data bytes
1500 bytes from 192.168.1.2: seq=0 ttl=128 time=7.492 ms
1500 bytes from 192.168.1.2: seq=1 ttl=128 time=8.159 ms
1500 bytes from 192.168.1.2: seq=2 ttl=128 time=7.570 ms
1500 bytes from 192.168.1.2: seq=3 ttl=128 time=7.412 ms
1500 bytes from 192.168.1.2: seq=4 ttl=128 time=7.557 ms</code></pre></div><p>Another thing is that I can sometimes trigger a complete crash if I execute the commands in the first block too quickly; i.e. ssh in and then paste all six lines</p><p>During normal operation, I also get many of these errors:<br /></p><div class="codebox"><pre><code>phy0: tx error 0x20, buf 03! (excessive Tx retries due to either distance too high or unable to Tx or Tx frame error - try changing &#039;iwconfig txpower XXX&#039; or &#039;sens&#039;itivity or &#039;retry&#039;)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57244">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						9 Oct 2007, 09:26					</div>
				</div>
				<div class="post-content content">
					<p>r9183 on d-link dsl-664g: even though AP remains invisible, running hostapd with PSK2 AES lets a client authenticate (dunno why didn&#039;t made it as i wrote my previous post). But, as soon as a dhcp request starts, AP throws client out with<br /></p><div class="codebox"><pre><code>Jan  1 00:12:32 suewrt daemon.info hostapd: wlan0: STA 00:14:6c:53:16:2c IEEE 802.11: disassociated
Jan  1 00:12:33 suewrt daemon.info hostapd: wlan0: STA 00:14:6c:53:16:2c IEEE 802.11: deauthenticated due to inactivity
Jan  1 00:12:33 suewrt user.warn kernel: phy0: tx error 0x20, buf 14! (excessive Tx retries due to either distance too high or unable to Tx or Tx frame error - try changing &#039;iwconfig txpower XXX&#039; or &#039;sens&#039;itivity or &#039;retry&#039;)</code></pre></div><p>I couldn&#039;t get nothing more than a 5ms average 10 packets ping :-(</p><p>To be investigated is this too:<br /></p><div class="codebox"><pre><code>FIXME: Possibly broken code in acx_s_update_card_settings() at /mnt/hd/hdb/devel/openwrt/trunk/build_dir/linux-ar7/acx-mac80211-20071003/common.c:3588</code></pre></div><p>.. and my wifi card gets too hot, even thou the router remains open (to gain acces to serial port). That&#039;s not good, maybe it&#039;s an heating issue too?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57340">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">Weedy</div>
					<div class="post-datetime">
						11 Oct 2007, 05:30					</div>
				</div>
				<div class="post-content content">
					<p>with r9253 i get the following. <br /></p><div class="codebox"><pre><code>root@OpenWrt:/$ insmod acx-mac80211.ko
acx: this driver is still EXPERIMENTAL
acx: reading README file and/or Craig&#039;s HOWTO is recommended, visit http://acx100.sourceforge.net/wiki in case of further questions/discussion
acx: compiled to use 32bit I/O access. I/O timing issues might occur, such as non-working firmware upload. Report them
acx: running on a little-endian CPU
acx: PCI/VLYNQ module v0.3.36-mac80211 initialized, waiting for cards to probe...
acx: found TI TNETW1130-based wireless network card at vlynq0, irq:80, phymem:0x4000000, mem:0xa4000000
initial debug setting is 0x000A
acx: need firmware for acx111 chipset with radio ID 16
Please provide via firmware hotplug:
either combined firmware (single file named &#039;tiacx111c16&#039;)
or two files (base firmware file &#039;tiacx111&#039; + radio fw &#039;tiacx111r16&#039;)
acx: need to load firmware for acx111 chipset with radio ID 16, please provide via firmware hotplug:
acx: either one file only (&lt;c&gt;ombined firmware image file, radio-specific) or two files (radio-less base image file *plus* separate &lt;r&gt;adio-specific extension file)
requesting firmware image &#039;tiacx111c16&#039;</code></pre></div><p>and then its stalled.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57341">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">nabcore</div>
					<div class="post-datetime">
						11 Oct 2007, 05:32					</div>
				</div>
				<div class="post-content content">
					<p>Have you actually got the firmware in /lib/firmware ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57347">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">Weedy</div>
					<div class="post-datetime">
						11 Oct 2007, 08:31					</div>
				</div>
				<div class="post-content content">
					<p>yes and </p><div class="codebox"><pre><code> root@OpenWrt:/$ insmod acx-mac80211.ko debug=0xffff
acx: this driver is still EXPERIMENTAL
acx: reading README file and/or Craig&#039;s HOWTO is recommended, visit http://acx100.sourceforge.net/wiki in case of further questions/discussion
00016196 ==&gt; acxpci_e_init_module
acx: compiled to use 32bit I/O access. I/O timing issues might occur, such as non-working firmware upload. Report them
acx: running on a little-endian CPU
acx: PCI/VLYNQ module v0.3.36-mac80211 initialized, waiting for cards to probe...
00016214   ==&gt; vlynq_probe
acx: found TI TNETW1130-based wireless network card at vlynq0, irq:80, phymem:0x4000000, mem:0xa4000000
initial debug setting is 0xFFFF
00016230     ==&gt; acxpci_s_reset_dev
00016230       ==&gt; acxpci_s_upload_fw
acx: need firmware for acx111 chipset with radio ID 16
Please provide via firmware hotplug:
either combined firmware (single file named &#039;tiacx111c16&#039;)
or two files (base firmware file &#039;tiacx111&#039; + radio fw &#039;tiacx111r16&#039;)
acx: need to load firmware for acx111 chipset with radio ID 16, please provide via firmware hotplug:
acx: either one file only (&lt;c&gt;ombined firmware image file, radio-specific) or two files (radio-less base image file *plus* separate &lt;r&gt;adio-specific extension file)
requesting firmware image &#039;tiacx111c16&#039;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57349">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">rAndy</div>
					<div class="post-datetime">
						11 Oct 2007, 10:02					</div>
				</div>
				<div class="post-content content">
					<p>Just tried r9254 on dsl-664g, same results as r9183</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57412">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">heruan</div>
					<div class="post-datetime">
						12 Oct 2007, 19:13					</div>
				</div>
				<div class="post-content content">
					<p>Problems on r9270...<br /></p><div class="codebox"><pre><code>root@OpenWrt:/$ dmesg | grep acx
acx: this driver is still EXPERIMENTAL
acx: reading README file and/or Craig&#039;s HOWTO is recommended, visit http://acx100.sourceforge.net/wiki in case of further questions/discussion
acx: compiled to use 32bit I/O access. I/O timing issues might occur, such as non-working firmware upload. Report them
acx: running on a little-endian CPU
acx: PCI/VLYNQ module v0.3.36-mac80211 initialized, waiting for cards to probe...
acx: found TI TNETW1130-based wireless network card at vlynq0, irq:80, phymem:0x4000000, mem:0xa4000000
acx: need firmware for acx111 chipset with radio ID 16
either combined firmware (single file named &#039;tiacx111c16&#039;)
or two files (base firmware file &#039;tiacx111&#039; + radio fw &#039;tiacx111r16&#039;)
acx: need to load firmware for acx111 chipset with radio ID 16, please provide via firmware hotplug:
acx: either one file only (&lt;c&gt;ombined firmware image file, radio-specific) or two files (radio-less base image file *plus* separate &lt;r&gt;adio-specific extension file)
requesting firmware image &#039;tiacx111c16&#039;
acx_write_fw (main/combined): 0
acx_validate_fw (main/combined): 0
FIXME: Possibly broken code in acx_s_set_sane_reg_domain() at /home/giovanni/workspace/openwrt/trunk/build_dir/linux-ar7/acx-mac80211-20071003/common.c:3296
acx: chipset TNETW1130, radio type 0x16 (Radia), form factor 0x01 ((mini-)PCI / CardBus), EEPROM version 0x05, uploaded firmware &#039;Rev 2.3.1.31&#039;&#039;ncreating /proc entry driver/acx_
creating /proc entry driver/acx__diag
creating /proc entry driver/acx__eeprom
creating /proc entry driver/acx__phy
acx v0.3.36-mac80211: net device phy0, driver compiled against wireless extensions 22 and Linux 2.6.23
acx: ieee80211_register_hw() FAILED: -12
acx_vlynq: probe of vlynq0 failed with error -12</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57417">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">sw</div>
					<div class="post-datetime">
						12 Oct 2007, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>Different problems:</p><div class="codebox"><pre><code>creating /proc entry driver/acx__diag
creating /proc entry driver/acx__eeprom
creating /proc entry driver/acx__phy
acx v0.3.36-mac80211: net device phy0, driver compiled against wireless extensions 22 and Linux 2.6.23
using IRQ 80
wmaster0: Selected rate control algorithm &#039;simple&#039;
Virtual interface added (type: 0x00000002, ID: 4, MAC: 08:00:28:32:00:00)
updating initial settings on iface activation
get_mask 0x00000000, set_mask 0x0036EEFE
important setting has been changed. Need to update packet templates, too
updating Tx fallback to 1 retries
updating transmit power: 15 dBm
updating antenna value: 0x4A
updating Energy Detect (ED) threshold: 0
acx111 doesn&#039;t support ED!
updating Channel Clear Assessment (CCA) value: 0x00
acx111 doesn&#039;t support CCA!
updating channel to: 1
updating: enable Tx
FIXME: Possibly broken code in acx_s_update_card_settings() at /home/openwrt/build_dir/linux-ar7/acx-mac80211-20071003/common.c:38
updating: enable Rx on channel: 1
updating short retry limit: 7, long retry limit: 4
updating tx MSDU lifetime: 4096
updating regulatory domain: 0x10
FIXME: Possibly broken code in acx_s_set_sane_reg_domain() at /home/openwrt/build_dir/linux-ar7/acx-mac80211-20071003/common.c:326
setting RXconfig to 2008:0FDF
updating WEP key settings
get_mask 0x00000000, set_mask 0x00000040
setting RXconfig to 2008:0FDF
BUG: spinlock cpu recursion on CPU#0, klogd/193
 lock: 94326fa8, .magic: dead4ead, .owner: events/0/5, .owner_cpu: 0
Call Trace:
[&lt;9400877c&gt;] dump_stack+0x8/0x34
[&lt;9412db98&gt;] _raw_spin_lock+0x64/0x12c
[&lt;9421a558&gt;] _spin_lock_irqsave+0x30/0x44
[&lt;c009fb14&gt;] acx100pci_s_set_tx_level+0x390/0x4ec [acx_mac80211]

BUG: spinlock lockup on CPU#0, klogd/193, 94326fa8
Call Trace:
[&lt;9400877c&gt;] dump_stack+0x8/0x34
[&lt;9412dc38&gt;] _raw_spin_lock+0x104/0x12c
[&lt;9421a558&gt;] _spin_lock_irqsave+0x30/0x44
[&lt;c009fb14&gt;] acx100pci_s_set_tx_level+0x390/0x4ec [acx_mac80211]</code></pre></div><p>This is caused by a call to acx_lock in acx_e_after_interrupt_task while a lock is already active.<br />It shows only when lock debugging is enabled.</p>											<p class="post-edited">(Last edited by <strong>sw</strong> on 13 Oct 2007, 23:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57425">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">Cyberlullaby</div>
					<div class="post-datetime">
						13 Oct 2007, 13:07					</div>
				</div>
				<div class="post-content content">
					<p>Off-topic : 2.6.23 is overall very unstable on my D-Link DSL-G624T ( without wifi ), anyone else experiencing hangs ( or watchdog reboots ) every 15 minutes ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57432">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						13 Oct 2007, 16:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Cyberlullaby wrote:</cite><blockquote><p>Off-topic : 2.6.23 is overall very unstable on my D-Link DSL-G624T ( without wifi ), anyone else experiencing hangs ( or watchdog reboots ) every 15 minutes ?</p></blockquote></div><p>watchdog reboot? i wish i had one...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57433">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">Cyberlullaby</div>
					<div class="post-datetime">
						13 Oct 2007, 16:33					</div>
				</div>
				<div class="post-content content">
					<p>..and you actually can have one. &quot;watchdog /dev/watchdog&quot; works for me.<br />Aren&#039;t you a OpenWRT developper (&quot;matteo&quot;) ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p57492">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">rootkit</div>
					<div class="post-datetime">
						15 Oct 2007, 01:47					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Cyberlullaby wrote:</cite><blockquote><p>..and you actually can have one. &quot;watchdog /dev/watchdog&quot; works for me.<br />Aren&#039;t you a OpenWRT developper (&quot;matteo&quot;) ?</p></blockquote></div><p>Yes, but the watchdog never worked on my WAG54G. I had a ticket for this</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 51 to 50 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 4</div><nav><ul><li><a href="viewtopic.php%3Fid=11749&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=11749&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=11749&amp;p=4.html">4</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>