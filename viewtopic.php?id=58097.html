<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Unable to get Mygica D689 USB DVB-T TV-stick to work</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 2 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p280974">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						22 Jun 2015, 09:50					</div>
				</div>
				<div class="post-content content">
					<p>Trying to get a DVB-T USB tv-stick to work. </p><p>I have been able to compile and insmod load the following kernel modules into openwrt.&nbsp; &nbsp;I have it working on a desktop machine which similar kernel modules loaded as well:<br />input-core<br />rc-core.ko <br />dvb-core.ko <br />dvb-usb.ko <br />dib0070.ko <br />dib7000p.ko <br />dibx000_common.ko <br />max2165.ko <br />atbm8830.ko <br />dvb-usb-cxusb.ko </p><br /><p>But when I get to the last module dvb-usb-cxusb.ko I get a segmentation fault</p><p>logread returns the following, which I am unable to understand, what would be the next thing to try?</p><div class="codebox"><pre><code>Mon Jun 22 14:37:30 2015 kern.warn kernel: [  241.870000] dvb-usb: found a &#039;Mygica D689 DMB-TH&#039; in warm state.
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Unhandled kernel unaligned access[#1]:
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] CPU: 0 PID: 1432 Comm: insmod Not tainted 3.10.49 #3
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] task: 86e98430 ti: 849b2000 task.ti: 849b2000
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $ 0   : 00000000 00000000 00000000 00000002
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $ 4   : 00000001 879169e0 1100dc00 ffff00fe
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $ 8   : 849b3fe0 0000dc00 00000000 00000000
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $12   : 00000000 77041448 00000000 00000000
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $16   : 00000001 00000000 84990000 00000000
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $20   : 849832e0 87adf000 87b8e400 84989330
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $24   : 00000000 80102cec                  
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] $28   : 849b2000 849b3c28 00000124 849b4760
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Hi    : 00000038
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Lo    : 66a11000
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] epc   : 849b4e10 dvb_usb_i2c_init+0x10/0xb8 [dvb_usb]
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000]     Not tainted
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] ra    : 849b4760 dvb_usb_device_init+0x29c/0x58c [dvb_usb]
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Status: 1100dc03      KERNEL EXL IE 
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Cause : 00800010
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] BadVA : 00000001
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] PrId  : 0001974c (MIPS 74Kc)
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Modules linked in: dvb_usb_cxusb(+) atbm8830 max2165 dib0070 dib7000p dibx000_common dvb_usb dvb_core rc_core input_core ath9k ath9k_common pppoe ppp_async iptable_nat ath9k_hw ath pppox ppp_generic nf_nat_ipv4 nf_conntrack_ipv4 mac80211 ipt_MASQUERADE cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_LOG xt_CT slhc nf_nat_irc nf_nat_ftp nf_nat nf_defrag_ipv4 nf_conMon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Process insmod (pid: 1432, threadinfo=849b2000, task=86e98430, tls=77edf440)
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Stack : 80330000 00000003 01000000 00000001 00000001 00000001 00000000 849b4760
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000]         849beac0 84982c14 0000d811 849830f8 849832e0 00000000 87b8e400 84989314
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000]         84990000 87adf068 849830c8 00000000 87b8e400 8498eda4 00000124 8498020c
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000]         87adf000 87b2c30c 87b8e454 84982ebc 84989314 00000000 87b8e420 84982ebc
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000]         87adf000 87b2c5b4 803c0000 0000000d 803b0000 801258ac 87b8e420 87b8e454
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000]         ...
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Call Trace:
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] [&lt;849b4e10&gt;] dvb_usb_i2c_init+0x10/0xb8 [dvb_usb]
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] [&lt;849b4760&gt;] dvb_usb_device_init+0x29c/0x58c [dvb_usb]
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] [&lt;8498020c&gt;] 0x8498020c
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] 
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] 
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.240000] Code: afb00014  afbf001c  afb10018 &lt;8c820000&gt; 30420001  10400022  00808021  8c8201d8  14400006 
Mon Jun 22 14:37:30 2015 kern.warn kernel: [  242.490000] ---[ end trace 999b56e6f91bffc6 ]---</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p280991">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						22 Jun 2015, 14:18					</div>
				</div>
				<div class="post-content content">
					<p>Tried using compiled modules from <a href="http://openwrt.jaru.eu.org/barrier_breaker/ar71xx/multimedia/">http://openwrt.jaru.eu.org/barrier_brea â€¦ ultimedia/</a></p><p>Still getting a segmentation fault, but seems to have gotten a little further.&nbsp; As I see /dev/dvb/adapter0 with the following but the frontend0 is still missing:</p><p>demux0&nbsp; dvr0&nbsp; &nbsp; net0</p><p>I am guessing maybe something is trying to load beyond the memory.&nbsp; I am using a TP-link WDR4300, still have 96MB+ free memory, so not sure why the log show paging error?</p><div class="codebox"><pre><code>Mon Jun 22 19:09:57 2015 kern.info kernel: [  661.260000] dvb-usb: found a &#039;Mygica D689 DMB-TH&#039; in warm state.
Mon Jun 22 19:09:57 2015 kern.info kernel: [  661.630000] dvb-usb: will pass the complete MPEG2 transport stream to the software demuxer.
Mon Jun 22 19:09:57 2015 kern.info kernel: [  661.630000] DVB: registering new adapter (Mygica D689 DMB-TH)
Mon Jun 22 19:09:58 2015 kern.alert kernel: [  661.750000] CPU 0 Unable to handle kernel paging request at virtual address 00000000, epc == 80066e6c, ra == 86698c58
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Oops[#1]:
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] CPU: 0 PID: 1692 Comm: insmod Not tainted 3.10.49 #3
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] task: 87828c90 ti: 8449c000 task.ti: 8449c000
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $ 0   : 00000000 00000000 00000000 8449dac8
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $ 4   : 86681250 8449db50 00000003 8449dbd2
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $ 8   : 00000001 00000001 00000001 00000000
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $12   : 00000297 00000001 00000000 00420000
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $16   : 86681250 87828c90 00000003 8449dbd2
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $20   : 86681254 8449db50 86681250 00000001
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $24   : 00000001 80102cec                  
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] $28   : 8449c000 8449dab8 866a0000 86698c58
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Hi    : 0000009a
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Lo    : 135fa980
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] epc   : 80066e6c __mutex_lock_interruptible_slowpath+0x3c/0x120
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000]     Not tainted
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] ra    : 86698c58 dvb_usb_generic_rw+0x78/0x2ac [dvb_usb]
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Status: 1100dc03      KERNEL EXL IE 
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Cause : 0080000c
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] BadVA : 00000000
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] PrId  : 0001974c (MIPS 74Kc)
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Modules linked in: dvb_usb_cxusb(+) dib7000p dib0070 dibx000_common max2165 atbm8830 dvb_usb rc_core dvb_core input_core at
h9k ath9k_common pppoe ppp_async iptable_nat ath9k_hw ath pppox ppp_generic nf_nat_ipv4 nf_conntrack_ipv4 mac80211 ipt_MASQUERADE cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multi
port xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_LOG xt_CT slhc nf_nat_irc nf_nat_ftp nf_nat nf_defrag_ipv4 nf_conMon Jun 22 19:09:58 2015 kern.wa
rn kernel: [  661.760000] Process insmod (pid: 1692, threadinfo=8449c000, task=87828c90, tls=77a7c440)
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Stack : 87add000 87b295b4 00000000 00200200 86681254 00000000 8449dacc 00000000
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000]         86680a88 00000000 00000003 8449dbd2 8449dbd2 86698c58 00001388 80067a30
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000]         80101bac 00100100 8449db08 000007d0 00000001 87828c90 00000003 00000000
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000]         00000002 8449dbd2 86680a88 00000001 8449dbd0 0000000e 866a0000 86440300
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000]         87828c90 00000000 87828c90 8033f3d0 00000001 00000000 0e07014c 00000000
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000]         ...
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Call Trace:
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] [&lt;80066e6c&gt;] __mutex_lock_interruptible_slowpath+0x3c/0x120
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] [&lt;86698c58&gt;] dvb_usb_generic_rw+0x78/0x2ac [dvb_usb]
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] [&lt;86440300&gt;] 0x86440300
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] 
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] 
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  661.760000] Code: afa20014  ac830008  afb40010 &lt;ac430000&gt; 8c820000  04410004  afb10018  2412ffff  08019bb0 
Mon Jun 22 19:09:58 2015 kern.warn kernel: [  662.010000] ---[ end trace 5390197b77ee3f76 ]---</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281021">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">joseba_g</div>
					<div class="post-datetime">
						22 Jun 2015, 21:04					</div>
				</div>
				<div class="post-content content">
					<p>look like if you are trying to insmod a different kernel module, so sorry the question <br />what is the output of<br />uname -a</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281066">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						23 Jun 2015, 04:21					</div>
				</div>
				<div class="post-content content">
					<p>|&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> -----------------------------------------------------<br /> BARRIER BREAKER (14.07, r42625)<br /> -----------------------------------------------------<br />&nbsp; * 1/2 oz Galliano&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pour all ingredients into<br />&nbsp; * 4 oz cold Coffee&nbsp; &nbsp; &nbsp; &nbsp; an irish coffee mug filled<br />&nbsp; * 1 1/2 oz Dark Rum&nbsp; &nbsp; &nbsp; &nbsp;with crushed ice. Stir.<br />&nbsp; * 2 tsp. Creme de Cacao<br /> -----------------------------------------------------<br />root@OpenWrt:~# uname -a<br />Linux OpenWrt 3.10.49 #3 Wed Oct 1 14:00:51 CEST 2014 mips GNU/Linux</p><p>Not a problem right?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281083">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						23 Jun 2015, 10:50					</div>
				</div>
				<div class="post-content content">
					<p>Just tried it on a different brand rounter, previously used a TL-WDR4300, this time with a Buffalo WZR-HP-AG300H</p><p>error is similar but the call trace is different?</p><div class="codebox"><pre><code>Tue Jun 23 07:05:18 2015 kern.info kernel: [2326950.320000] dvb-usb: found a &#039;Mygica D689 DMB-TH&#039; in warm state.
Tue Jun 23 07:05:18 2015 kern.alert kernel: [2326950.700000] CPU 0 Unable to handle kernel paging request at virtual address 00000000, epc == 00000000, ra == 00000000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Oops[#1]:
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] CPU: 0 PID: 24840 Comm: insmod Not tainted 3.10.49 #3
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] task: 87918000 ti: 860b6000 task.ti: 860b6000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $ 0   : 00000000 803b0000 00000000 00000002
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $ 4   : 860b7bc0 8782ae10 1000fc00 ffff00fe
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $ 8   : 860b7fe0 0000fc00 00000000 00000000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $12   : 002381a7 7fbe5f40 00000000 00460000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $16   : 00000000 00000001 80333f30 00000000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $20   : 86163580 86d3f000 00000001 86dd1d00
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $24   : 00000000 80102cec                  
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] $28   : 860b6000 860b7c40 863a0000 00000000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Hi    : 00084459
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Lo    : 6de22300
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] epc   : 00000000   (null)
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000]     Not tainted
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] ra    : 00000000   (null)
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Status: 1000fc03    KERNEL EXL IE 
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Cause : 10800008
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] BadVA : 00000000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] PrId  : 00019374 (MIPS 24Kc)
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Modules linked in: dvb_usb_cxusb(+) dib7000p dib0070 dibx000_common max2165 atbm8830 dvb_usb dvb_core rc_core input_core 
ath9k ath9k_common pppoe ppp_async iptable_nat ath9k_hw ath pppox ppp_generic nf_nat_ipv4 nf_conntrack_ipv4 mac80211 ipt_MASQUERADE cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_mul
tiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_LOG xt_CT slhc nf_nat_irc nf_nat_ftp nf_nat nf_defrag_ipv4 nf_cTue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Process insmod (pid: 24840, threadinfo=860b6000, task=87918000, tls=77ca1440)
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Stack : 86c62bc0 86162ea8 861695d0 00000000 86163580 00000000 86163398 86e084c0
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000]       86dd1d00 861695b4 86170000 86d3f068 86163368 00000000 86dd1d00 86e0d6a4
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000]       00000124 8616020c 86d3f000 87b2c30c 861695d0 8616315c 861695b4 00000000
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000]       86dd1d20 8616315c 86d3f000 87b2c5b4 803c0000 0000000b 803b0000 801258ac
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000]       86dd1d20 86dd1d54 8616315c 803c0000 0000000b 803b0000 00000001 80125548
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000]       ...
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Call Trace:
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;8616020c&gt;] 0x8616020c
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;87b2c30c&gt;] usb_match_id+0x30/0x364 [usbcore]
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;87b2c5b4&gt;] usb_match_id+0x2d8/0x364 [usbcore]
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;801258ac&gt;] driver_sysfs_add+0x6c/0xa0
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;80125548&gt;] driver_probe_device+0xc8/0x21c
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;87b2c3d0&gt;] usb_match_id+0xf4/0x364 [usbcore]
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;8008f9bc&gt;] __driver_attach+0x7c/0xb4
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;801c864c&gt;] next_device+0x10/0x30
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;8008f940&gt;] __driver_attach+0x0/0xb4
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800e7924&gt;] bus_for_each_dev+0x98/0xa8
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;80198178&gt;] klist_add_tail+0x24/0x50
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800e7a08&gt;] bus_get+0x28/0x4c
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800e75ec&gt;] bus_add_driver+0x104/0x248
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800af8c8&gt;] __wake_up+0x24/0x44
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;802038a4&gt;] queue_work_on+0x44/0x68
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;80125770&gt;] driver_register+0xbc/0x16c
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800e9724&gt;] call_usermodehelper+0x2c/0x58
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;87b2bb8c&gt;] usb_register_driver+0x88/0x22c [usbcore]
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;8616f000&gt;] init_module+0x0/0x1c [dvb_usb_cxusb]
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;8011ba60&gt;] do_one_initcall+0xf0/0x198
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800dafac&gt;] blocking_notifier_call_chain+0x14/0x20
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;801a3910&gt;] load_module+0x156c/0x1b34
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;801aad48&gt;] map_vm_area+0x38/0x80
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800ff8b4&gt;] ddebug_dyndbg_module_param_cb+0x0/0x3c
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;8007359c&gt;] SyS_init_module+0x54/0xd4
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800af4dc&gt;] __vmalloc_node+0x30/0x3c
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;8007359c&gt;] SyS_init_module+0x54/0xd4
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;80073604&gt;] SyS_init_module+0xbc/0xd4
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] [&lt;800625b0&gt;] stack_done+0x20/0x44
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] 
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] 
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] Code: (Bad address in epc)
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326950.710000] 
Tue Jun 23 07:05:18 2015 kern.warn kernel: [2326951.070000] ---[ end trace fefe91155c8076d9 ]---</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281596">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">joseba_g</div>
					<div class="post-datetime">
						28 Jun 2015, 00:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>whoisterencelee wrote:</cite><blockquote><p>root@OpenWrt:~# uname -a<br />Linux OpenWrt 3.10.49 #3 Wed Oct 1 14:00:51 CEST 2014 mips GNU/Linux</p><p>Not a problem right?</p></blockquote></div><p>yes, the module and the kernel are different. compÃ¬le your own kernel or use the kernel from the place you take module.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p281727">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						29 Jun 2015, 06:54					</div>
				</div>
				<div class="post-content content">
					<p>OK, I see, sounds like I need to use both own compiled kernel + own compiled module.&nbsp; </p><p>I was under the wrong impression that I could use other&#039;s compiled kernel + own compiled module as long as the version for both are the same.</p><p>Since I got it working now in Attitude Adjustment from <a href="http://openwrt.jaru.eu.org">http://openwrt.jaru.eu.org</a>&nbsp; , maybe I will try this later.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284478">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						22 Jul 2015, 10:51					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I have a similar problem. I am trying to use Contex DTV-01, USB DVB-TH adapter on Openwrt router.<br />I am building my own ROM using the latest Barrier Breaker, r46287.<br />I have also tried using Barrier Breaker, r42625 because someone in hkepc forum said that is what is uses and it apparently works for him but I get the same results, i.e. kernel crash.</p><p>Any idea what I might be doing wrong?</p><p>I have already enabled all the required driver when I build my kernel as specified in<br /><a href="http://www.hkepc.com/forum/viewthread.php?tid=2080716&amp;extra=&amp;page=2">http://www.hkepc.com/forum/viewthread.p â€¦ amp;page=2</a><br />i.e.<br />insmod rc-core.ko<br />insmod dvb-core.ko<br />insmod dvb-usb.ko<br />insmod dibx000_common.ko<br />insmod dib7000p.ko<br />insmod dib0070.ko<br />insmod lgs8gxx.ko<br />insmod mxl5005s.ko<br />insmod dvb-usb-cxusb.ko</p><div class="codebox"><pre><code>[  215.916000] hub 1-0:1.0: state 7 ports 2 chg 0000 evt 0002
[  215.916000] ehci-platform ehci-platform: GetStatus port:1 status 001003 0  ACK POWER sig=se0 CSC CONNECT
[  215.916000] hub 1-0:1.0: port 1, status 0501, change 0001, 480 Mb/s
[  215.948000] ehci-platform ehci-platform: GetStatus port:1 status 001002 0  ACK POWER sig=se0 CSC
[  216.076000] hub 1-0:1.0: debounce: port 1: total 125ms stable 100ms status 0x100
[  216.076000] hub 1-0:1.0: state 7 ports 2 chg 0000 evt 0002
[  216.112000] hub 1-0:1.0: state 7 ports 2 chg 0000 evt 0002
[  216.112000] ehci-platform ehci-platform: GetStatus port:1 status 001803 0  ACK POWER sig=j CSC CONNECT
[  216.112000] hub 1-0:1.0: port 1, status 0501, change 0001, 480 Mb/s
[  216.240000] hub 1-0:1.0: debounce: port 1: total 100ms stable 100ms status 0x501
[  216.296000] ehci-platform ehci-platform: port 1 reset complete, port enabled
[  216.296000] ehci-platform ehci-platform: GetStatus port:1 status 001005 0  ACK POWER sig=se0 PE CONNECT
[  216.352000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[  216.412000] ehci-platform ehci-platform: port 1 reset complete, port enabled
[  216.412000] ehci-platform ehci-platform: GetStatus port:1 status 001005 0  ACK POWER sig=se0 PE CONNECT
[  216.488000] usb 1-1: default language 0x0409
[  216.488000] usb 1-1: udev 2, busnum 1, minor = 1
[  216.488000] usb 1-1: New USB device found, idVendor=0572, idProduct=86d6
[  216.496000] usb 1-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[  216.504000] usb 1-1: Product: USB Doogle
[  216.508000] usb 1-1: Manufacturer: Conexant
[  216.512000] usb 1-1: SerialNumber: 20071211
[  216.520000] usb 1-1: usb_probe_device
[  216.520000] usb 1-1: configuration #1 chosen from 1 choice
[  216.524000] usb 1-1: adding 1-1:1.0 (config #1, interface 0)
[  216.528000] dvb_usb_cxusb 1-1:1.0: usb_probe_interface
[  216.528000] dvb_usb_cxusb 1-1:1.0: usb_probe_interface - got id
[  216.528000] dvb-usb: found a &#039;Conexant DMB-TH Stick&#039; in warm state.
[  216.876000] dvb-usb: will pass the complete MPEG2 transport stream to the software demuxer.
[  216.888000] DVB: registering new adapter (Conexant DMB-TH Stick)
[  217.004000] usb 1-1: khubd timed out on ep1in len=0/32
[  217.104000] usb 1-1: khubd timed out on ep2in len=0/8192
[  217.408000] usb 1-1: khubd timed out on ep1in len=0/32
[  217.508000] usb 1-1: khubd timed out on ep2in len=0/8192
[  217.812000] usb 1-1: khubd timed out on ep1in len=0/32
[  217.912000] usb 1-1: khubd timed out on ep2in len=0/8192
[  218.216000] usb 1-1: khubd timed out on ep1in len=0/32
[  218.316000] usb 1-1: khubd timed out on ep2in len=0/8192
[  218.620000] usb 1-1: khubd timed out on ep1in len=0/32
[  218.720000] usb 1-1: khubd timed out on ep2in len=0/8192
[  219.024000] CPU 0 Unable to handle kernel paging request at virtual address 0000005e, epc == 8028f5d0, ra == 8028f5b4
[  219.032000] Oops[#1]:
[  219.032000] CPU: 0 PID: 104 Comm: khubd Not tainted 3.10.49 #4
[  219.032000] task: 838448b8 ti: 83874000 task.ti: 83874000
[  219.032000] $ 0   : 00000000 10008401 0000005c 7ce1dffe
[  219.032000] $ 4   : 8328b680 00000000 10008400 ffff00fe
[  219.032000] $ 8   : 83875fe0 00008400 15b9036f 00000000
[  219.032000] $12   : 00000017 80d83e68 00000020 802f7cf0
[  219.032000] $16   : 8328b680 831e2000 83875a78 83875a38
[  219.032000] $20   : 00000064 00000064 83875ab8 00000064
[  219.032000] $24   : 0000000e 801033b0                  
[  219.032000] $28   : 83874000 83875a18 c0008080 8028f5b4
[  219.032000] Hi    : 00000032
[  219.032000] Lo    : fed90400
[  219.032000] epc   : 8028f5d0 0x8028f5d0
[  219.032000]     Not tainted
[  219.032000] ra    : 8028f5b4 0x8028f5b4
[  219.032000] Status: 10008403    KERNEL EXL IE 
[  219.032000] Cause : 00800008
[  219.032000] BadVA : 0000005e
[  219.032000] PrId  : 0002a010 (Broadcom BMIPS4350)
[  219.032000] Modules linked in: rt2800pci rt2800mmio rt2800lib iptable_nat snd_usb_audio rt2x00pci rt2x00mmio rt2x00lib nf_nat_ipv4 nf_conntrack_ipv4 mac80211 iptable_raw iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ip_tables cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_NETMAP xt_LOG xt_CT x_tables uvcvideo usblp usbhid ums_usbat ums_sddr55 ums_sddr09 ums_karma ums_jumpshot ums_isd200 ums_freecom ums_datafab ums_cypress ums_alauda snd_usbmidi_lib pwc nf_nat nf_defrag_ipv4 nf_conntrack hid_generic gspca_main crc_itu_t crc_ccitt cpia2 compat fuse videobuf2_vmalloc videobuf2_memops videobuf2_core sg hid evdev bcm63xx_udc ledtrig_usbdev udc_core msdos tun snd_compress snd_pcm_oss snd_mixer_oss snd_pcm snd_page_alloc snd_timer snd_rawmidi snd_seq_device snd_hwdep snd soundcore vfat fat nls_utf8 nls_koi8_r nls_cp1255 nls_iso8859_6 nls_iso8859_2 nls_iso8859_15 nls_iso8859_13 nls_iso8859_1 nls_cp932 nls_cp866 nls_cp864 nls_cp862 nls_cp852 nls_cp850 nls_cp775 nls_cp437 nls_cp1251 nls_cp1250 eeprom_93cx6 arc4 crypto_blkcipher gpio_keys_polled usb_storage input_polldev dwc2_platform dwc2 uhci_hcd ohci_hcd ehci_pci ehci_platform ehci_hcd sd_mod scsi_mod button_hotplug crypto_hash
[  219.032000] Process khubd (pid: 104, threadinfo=83874000, task=838448b8, tls=00000000)
[  219.032000] Stack : ffffb0d3 803a2800 83875a50 ffffb0a0 83280400 80284c20 831e2000 8004b100
[  219.032000]       00000000 83875a3c 83875a3c 831e2000 80d80000 831e2000 00002000 c0000080
[  219.032000]       83875a78 800bf6f8 831e291c 803b0000 c0000080 83875ab8 83875a78 00000064
[  219.032000]       00000000 8328b680 831e291c 831e2000 00000000 8328b680 831e291c 803b0000
[  219.032000]       c0000080 800bf86c 831e2a68 831e2a68 831e2a20 00000000 83875ab8 00000064
[  219.032000]       ...
[  219.032000] Call Trace:[&lt;80284c20&gt;] 0x80284c20
[  219.032000] [&lt;8004b100&gt;] 0x8004b100
[  219.032000] [&lt;800bf6f8&gt;] 0x800bf6f8
[  219.032000] [&lt;800bf86c&gt;] 0x800bf86c
[  219.032000] [&lt;800fa518&gt;] 0x800fa518
[  219.032000] [&lt;800fd478&gt;] 0x800fd478
[  219.032000] [&lt;800fd414&gt;] 0x800fd414
[  219.032000] [&lt;800fc754&gt;] 0x800fc754
[  219.032000] [&lt;8027f818&gt;] 0x8027f818
[  219.032000] [&lt;800fd898&gt;] 0x800fd898
[  219.032000] [&lt;800fd110&gt;] 0x800fd110
[  219.032000] [&lt;80051848&gt;] 0x80051848
[  219.032000] [&lt;802b0000&gt;] 0x802b0000
[  219.032000] [&lt;800c1200&gt;] 0x800c1200
[  219.032000] [&lt;8028c40c&gt;] 0x8028c40c
[  219.032000] [&lt;8028cea8&gt;] 0x8028cea8
[  219.032000] [&lt;800eeb74&gt;] 0x800eeb74
[  219.032000] [&lt;8003d330&gt;] 0x8003d330
[  219.032000] [&lt;8003d37c&gt;] 0x8003d37c
[  219.032000] [&lt;8003d330&gt;] 0x8003d330
[  219.032000] [&lt;8009aa30&gt;] 0x8009aa30
[  219.032000] [&lt;80178bf0&gt;] 0x80178bf0
[  219.032000] [&lt;800ce1a0&gt;] 0x800ce1a0
[  219.032000] [&lt;8009aad8&gt;] 0x8009aad8
[  219.032000] [&lt;800cdf40&gt;] 0x800cdf40
[  219.032000] [&lt;800cc148&gt;] 0x800cc148
[  219.032000] [&lt;8028e994&gt;] 0x8028e994
[  219.032000] [&lt;802851a4&gt;] 0x802851a4
[  219.032000] [&lt;80122164&gt;] 0x80122164
[  219.032000] [&lt;800eeb74&gt;] 0x800eeb74
[  219.032000] [&lt;8003d330&gt;] 0x8003d330
[  219.032000] [&lt;8003d37c&gt;] 0x8003d37c
[  219.032000] [&lt;8003d330&gt;] 0x8003d330
[  219.032000] [&lt;8009aa30&gt;] 0x8009aa30
[  219.032000] [&lt;80178bf0&gt;] 0x80178bf0
[  219.032000] [&lt;800ce1a0&gt;] 0x800ce1a0
[  219.032000] [&lt;8009aad8&gt;] 0x8009aad8
[  219.032000] [&lt;800cdf40&gt;] 0x800cdf40
[  219.032000] [&lt;80062e90&gt;] 0x80062e90
[  219.032000] [&lt;8028c860&gt;] 0x8028c860
[  219.032000] [&lt;80133c10&gt;] 0x80133c10
[  219.032000] [&lt;80074538&gt;] 0x80074538
[  219.032000] [&lt;800b3dc8&gt;] 0x800b3dc8
[  219.032000] [&lt;80132ec0&gt;] 0x80132ec0
[  219.032000] [&lt;8017a0a0&gt;] 0x8017a0a0
[  219.032000] [&lt;80207b44&gt;] 0x80207b44
[  219.032000] [&lt;80179fec&gt;] 0x80179fec
[  219.032000] [&lt;800108a8&gt;] 0x800108a8
[  219.032000] 
[  219.032000] 
[  219.032000] Code: 0043880a  8e02002c  8e050028 &lt;90430002&gt; 8e02003c  8f870000  30420200  24a50068  24e701a8 
[  219.468000] ---[ end trace 23988f6393756513 ]---</code></pre></div>											<p class="post-edited">(Last edited by <strong>ericwongcm</strong> on 22 Jul 2015, 11:16)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284494">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						22 Jul 2015, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>I did hit a similar problem with &quot;Tainted&quot; kernel driver and I was never able to resolve it.&nbsp; </p><p>For what I understand you have to load both your custom compiled openwrt image and driver from the same build; as the driver links to some hardcoded kernel memory locations during compile which doesn&#039;t exists in the r46287 image (which I assume you downloaded from web).</p><p>Let me know if using both custom compiled image/driver from the same build worked or not?</p><p>If you did use both custom compiled image/driver from the same build, I have no more ideas as it seems you are loading the driver in the right sequence.</p><p>If you just want to get it working, I suggest using Attitude Adjustment as I mentioned previously.&nbsp; I have it working and found that I needed to add an external usb hub with it&#039;s own power plug to have a stable setup, as the DVB-TH USB sticks uses more power than the router can provide.</p><p>Also Attitude Adjustment has the tvheadend package which is what I used to record shows.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284511">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						22 Jul 2015, 15:35					</div>
				</div>
				<div class="post-content content">
					<p>No, I am not using precompiled.<br />I am compiling my own. Actually, I build my ROM with the required drivers inside the ROM.</p><p>This means I am not even loading the driver using the insmod command because the driver are already in the kernel.</p><p>I tried doing the same with Attitude Adjustment a few months ago on rt3052 based router but it didn&#039;t really work out.<br />You can see my error log at <a href="http://www.hkepc.com/forum/viewthread.php?tid=2080716&amp;extra=&amp;page=5">http://www.hkepc.com/forum/viewthread.p â€¦ amp;page=5</a></p><p>It almost worked on AA but I am unable to scan channels using tvheadend, Multiplexes are all empty.<br />The USB tuner works fine on Ubuntu using tvheadend though... it is puzzling if it is something I did wrong or there is simply some problem with the drivers/source code.</p>											<p class="post-edited">(Last edited by <strong>ericwongcm</strong> on 22 Jul 2015, 15:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284578">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						23 Jul 2015, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>Scanning channels on tvheadend was a pain for me as well, as I am scanning for channels in Macau.&nbsp; What I had to do was find out the frequency/encoding/etc... from a window&#039;s machine, seems tvheadend isn&#039;t really design with dvb-th region in mind.&nbsp; I guess you tried to manually scan the frequencies you got from the Ubuntu machine as well?&nbsp; As I understand, Hong Kong over the air frequencies are different depending on your location.</p><p>I have no idea about the &quot;tainted&quot; issue with Barrier, and I looked into how to debug it, but I also didn&#039;t find any leads on how to do that.&nbsp; The &quot;tainted&quot; issue I had was when I try to load dvb_usb_cxusb, when does your occur?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284580">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						23 Jul 2015, 05:30					</div>
				</div>
				<div class="post-content content">
					<p>The &quot;tainted&quot; issue happens when I plug in the USB tv tuner.</p><p>For the channels, what I did was select HK from the regions under tvheadend. Works fine on ubuntu pc. I think I am just going to use a ubuntu pc instead when I am actually setting this up.</p><p>Anyway, if you came across a solution or if it suddenly works maybe due to source code changes, I would be interested to know. Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284588">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						23 Jul 2015, 06:59					</div>
				</div>
				<div class="post-content content">
					<p>If you have the chance, try to remove the kernel modules you listed from /usr/lib/$kernel_version&nbsp; before you plug in the tv-stick.&nbsp; Then plug it in and manually load each kernel modules, that might isolate the driver problem.</p><p>khubd seems not to be related to dvb modules.&nbsp; Maybe your tv stick needs some wait time when you plug it in before you the dvb driver could access it, maybe the usb interface needs the wait time.</p><p>I think router + dvb-stick is a pretty good low power, always on, totally silent solution.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284603">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						23 Jul 2015, 10:06					</div>
				</div>
				<div class="post-content content">
					<p>I followed your advice to manually load each driver one by one and I made an interesting discovery.</p><p>The good news is I am able to get around the kernel crash but the bad news is it still didn&#039;t work.</p><p>This is what I did to make it &quot;work&quot;.<br /></p><div class="codebox"><pre><code>root@OpenWrt:/tmp/dvb# insmod lgs8gxx.ko
root@OpenWrt:/tmp/dvb# insmod mxl5005s.ko
root@OpenWrt:/tmp/dvb# insmod dvb-usb-cxusb.ko
kmod: failed to insert dvb-usb-cxusb.ko
root@OpenWrt:/tmp/dvb# insmod dibx000_common.ko
root@OpenWrt:/tmp/dvb# insmod dib0070.ko
root@OpenWrt:/tmp/dvb# insmod dib7000p.ko


[  273.648000] usb 1-1: new high-speed USB device number 3 using ehci-platform
[  273.708000] ehci-platform ehci-platform: port 1 reset complete, port enabled
[  273.708000] ehci-platform ehci-platform: GetStatus port:1 status 001005 0  ACK POWER sig=se0 PE CONNECT
[  273.784000] usb 1-1: default language 0x0409
[  273.784000] usb 1-1: udev 3, busnum 1, minor = 2
[  273.784000] usb 1-1: New USB device found, idVendor=0572, idProduct=86d6
[  273.792000] usb 1-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[  273.800000] usb 1-1: Product: USB Doogle
[  273.804000] usb 1-1: Manufacturer: Conexant
[  273.808000] usb 1-1: SerialNumber: 20071211
[  273.816000] usb 1-1: usb_probe_device
[  273.816000] usb 1-1: configuration #1 chosen from 1 choice
[  273.820000] usb 1-1: adding 1-1:1.0 (config #1, interface 0)
[  273.824000] dvb_usb_cxusb 1-1:1.0: usb_probe_interface
[  273.824000] dvb_usb_cxusb 1-1:1.0: usb_probe_interface - got id
[  273.824000] dvb-usb: found a &#039;Conexant DMB-TH Stick&#039; in warm state.
[  274.172000] dvb-usb: will pass the complete MPEG2 transport stream to the software demuxer.
[  274.184000] DVB: registering new adapter (Conexant DMB-TH Stick)
[  274.300000] usb 1-1: khubd timed out on ep1in len=0/32
[  274.400000] usb 1-1: khubd timed out on ep2in len=0/8192
[  274.704000] usb 1-1: khubd timed out on ep1in len=0/32
[  274.804000] usb 1-1: khubd timed out on ep2in len=0/8192
[  275.108000] usb 1-1: khubd timed out on ep1in len=0/32
[  275.208000] usb 1-1: khubd timed out on ep2in len=0/8192
[  275.512000] usb 1-1: khubd timed out on ep1in len=0/32
[  275.612000] usb 1-1: khubd timed out on ep2in len=0/8192
[  275.916000] usb 1-1: khubd timed out on ep1in len=0/32
[  276.016000] usb 1-1: khubd timed out on ep2in len=0/8192
[  276.428000] usb 1-1: DVB: registering adapter 0 frontend 0 (Legend Silicon LGS8913/LGS8GXX DMB-TH)...
[  276.448000] MXL5005S: Attached at address 0x63
[  276.464000] input: IR-receiver inside an USB DVB receiver as /devices/platform/ehci-platform/usb1/1-1/input/input2
[  276.500000] dvb-usb: schedule remote query interval to 100 msecs.
[  276.508000] dvb-usb: Conexant DMB-TH Stick successfully initialized and connected.</code></pre></div><p>Following this, tvheadend is able to &quot;see&quot; the tv tuner but channel scanning still does not seems to work. This is what tvheadend shows. I know this is not working because this part looks different on Ubuntu when it works.<br /></p><div class="codebox"><pre><code>Hardware
Device path:
/dev/dvb/adapter0
Device name:
Legend Silicon LGS8913/LGS8GXX DMB-TH
Host connection:
USB (480 Mbit/s)
Frequency range:
474000 kHz - 858000 kHz, in steps of 10 kHz
Status
Currently tuned to:
 
Services:
0
Muxes:
0
Muxes awaiting initial scan:
0
Signal Strength:
0%
Bit Error Rate:
0/s
Uncorrected Bit Errors:
0/s</code></pre></div><p>Now comes the interesting bits....<br />I am guessing the kernel crash is due to dibx000_common.ko because I get this crash after I load dibx000_common.ko.<br /></p><div class="codebox"><pre><code>insmod dibx000_common.ko

[   89.924000] DVB: Unable to find symbol lgs8gxx_attach()
[   89.928000] dvb-usb: no frontend was attached by &#039;Conexant DMB-TH Stick&#039;
[   89.940000] input: IR-receiver inside an USB DVB receiver as /devices/platform/ehci-platform/usb1/1-1/input/input1
[   89.968000] dvb-usb: schedule remote query interval to 100 msecs.
[   89.976000] dvb-usb: Conexant DMB-TH Stick successfully initialized and connected.
[   90.072000] ------------[ cut here ]------------
[   90.072000] WARNING: at kernel/workqueue.c:1435 0x8005101c()
[   90.072000] Modules linked in: rt2800pci rt2800mmio rt2800lib iptable_nat snd_usb_audio rt2x00pci rt2x00mmio rt2x00lib nf_nat_ipv4 nf_conntrack_ipv4 mac80211 iptable_raw iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ip_tables cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_NETMAP xt_LOG xt_CT x_tables uvcvideo usblp usbhid ums_usbat ums_sddr55 ums_sddr09 ums_karma ums_jumpshot ums_isd200 ums_freecom ums_datafab ums_cypress ums_alauda snd_usbmidi_lib pwc nf_nat nf_defrag_ipv4 nf_conntrack hid_generic gspca_main crc_itu_t crc_ccitt cpia2 compat fuse videobuf2_vmalloc videobuf2_memops videobuf2_core sg hid evdev bcm63xx_udc ledtrig_usbdev udc_core msdos tun snd_compress snd_pcm_oss snd_mixer_oss snd_pcm snd_page_alloc snd_timer snd_rawmidi snd_seq_device snd_hwdep snd soundcore vfat fat nls_utf8 nls_koi8_r nls_cp1255 nls_iso8859_6 nls_iso8859_2 nls_iso8859_15 nls_iso8859_13 nls_iso8859_1 nls_cp932 nls_cp866 nls_cp864 nls_cp862 nls_cp852 nls_cp850 nls_cp775 nls_cp437 nls_cp1251 nls_cp1250 eeprom_93cx6 arc4 crypto_blkcipher gpio_keys_polled usb_storage input_polldev dwc2_platform dwc2 uhci_hcd ohci_hcd ehci_pci ehci_platform ehci_hcd sd_mod scsi_mod button_hotplug crypto_hash
[   90.072000] CPU: 0 PID: 4 Comm: kworker/0:0 Not tainted 3.10.49 #7
[   90.072000] Workqueue: events 0x80179db8
[   90.072000] Stack : 8381ba00 802c2d70 8005101c 0000059b 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 83831cd0
[   90.072000]       ...
[   90.072000] Call Trace:[&lt;8005101c&gt;] 0x8005101c
[   90.072000] [&lt;80210aac&gt;] 0x80210aac
[   90.072000] [&lt;80210aac&gt;] 0x80210aac
[   90.072000] [&lt;8029fe4c&gt;] 0x8029fe4c
[   90.072000] [&lt;8005101c&gt;] 0x8005101c
[   90.072000] [&lt;8029ff04&gt;] 0x8029ff04
[   90.072000] [&lt;8005101c&gt;] 0x8005101c
[   90.072000] [&lt;801e0a38&gt;] 0x801e0a38
[   90.072000] [&lt;80179e9c&gt;] 0x80179e9c
[   90.072000] [&lt;800c4b9c&gt;] 0x800c4b9c
[   90.072000] [&lt;801d6b98&gt;] 0x801d6b98
[   90.072000] [&lt;8001832c&gt;] 0x8001832c
[   90.072000] [&lt;800776d8&gt;] 0x800776d8
[   90.072000] [&lt;802a1208&gt;] 0x802a1208
[   90.072000] [&lt;8001832c&gt;] 0x8001832c
[   90.072000] [&lt;802a0fb8&gt;] 0x802a0fb8
[   90.072000] [&lt;800b1ea0&gt;] 0x800b1ea0
[   90.072000] [&lt;802a0fb8&gt;] 0x802a0fb8
[   90.072000] [&lt;80176f20&gt;] 0x80176f20
[   90.072000] [&lt;801fca24&gt;] 0x801fca24
[   90.072000] [&lt;80176e6c&gt;] 0x80176e6c
[   90.072000] [&lt;800108a8&gt;] 0x800108a8
[   90.072000] 
[   90.072000] ---[ end trace a26dd26362ff8b2a ]---
[   90.072000] ------------[ cut here ]------------
[   90.072000] WARNING: at kernel/workqueue.c:1437 0x80051078()
[   90.072000] Modules linked in: rt2800pci rt2800mmio rt2800lib iptable_nat snd_usb_audio rt2x00pci rt2x00mmio rt2x00lib nf_nat_ipv4 nf_conntrack_ipv4 mac80211 iptable_raw iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ip_tables cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_NETMAP xt_LOG xt_CT x_tables uvcvideo usblp usbhid ums_usbat ums_sddr55 ums_sddr09 ums_karma ums_jumpshot ums_isd200 ums_freecom ums_datafab ums_cypress ums_alauda snd_usbmidi_lib pwc nf_nat nf_defrag_ipv4 nf_conntrack hid_generic gspca_main crc_itu_t crc_ccitt cpia2 compat fuse videobuf2_vmalloc videobuf2_memops videobuf2_core sg hid evdev bcm63xx_udc ledtrig_usbdev udc_core msdos tun snd_compress snd_pcm_oss snd_mixer_oss snd_pcm snd_page_alloc snd_timer snd_rawmidi snd_seq_device snd_hwdep snd soundcore vfat fat nls_utf8 nls_koi8_r nls_cp1255 nls_iso8859_6 nls_iso8859_2 nls_iso8859_15 nls_iso8859_13 nls_iso8859_1 nls_cp932 nls_cp866 nls_cp864 nls_cp862 nls_cp852 nls_cp850 nls_cp775 nls_cp437 nls_cp1251 nls_cp1250 eeprom_93cx6 arc4 crypto_blkcipher gpio_keys_polled usb_storage input_polldev dwc2_platform dwc2 uhci_hcd ohci_hcd ehci_pci ehci_platform ehci_hcd sd_mod scsi_mod button_hotplug crypto_hash
[   90.072000] CPU: 0 PID: 4 Comm: kworker/0:0 Tainted: G        W    3.10.49 #7
[   90.072000] Workqueue: events 0x80179db8
[   90.072000] Stack : 8381ba00 802c2d70 80051078 0000059d 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 83831cd0
[   90.072000]       ...
[   90.072000] Call Trace:[&lt;80051078&gt;] 0x80051078
[   90.072000] [&lt;80210aac&gt;] 0x80210aac
[   90.072000] [&lt;80210aac&gt;] 0x80210aac
[   90.072000] [&lt;8029fe4c&gt;] 0x8029fe4c
[   90.072000] [&lt;80051078&gt;] 0x80051078
[   90.072000] [&lt;8029ff04&gt;] 0x8029ff04
[   90.072000] [&lt;80051078&gt;] 0x80051078
[   90.072000] [&lt;801e0a38&gt;] 0x801e0a38
[   90.072000] [&lt;80179e9c&gt;] 0x80179e9c
[   90.072000] [&lt;800c4b9c&gt;] 0x800c4b9c
[   90.072000] [&lt;801d6b98&gt;] 0x801d6b98
[   90.072000] [&lt;8001832c&gt;] 0x8001832c
[   90.072000] [&lt;800776d8&gt;] 0x800776d8
[   90.072000] [&lt;802a1208&gt;] 0x802a1208
[   90.072000] [&lt;8001832c&gt;] 0x8001832c
[   90.072000] [&lt;802a0fb8&gt;] 0x802a0fb8
[   90.072000] [&lt;800b1ea0&gt;] 0x800b1ea0
[   90.072000] [&lt;802a0fb8&gt;] 0x802a0fb8
[   90.072000] [&lt;80176f20&gt;] 0x80176f20
[   90.072000] [&lt;801fca24&gt;] 0x801fca24
[   90.072000] [&lt;80176e6c&gt;] 0x80176e6c
[   90.072000] [&lt;800108a8&gt;] 0x800108a8
[   90.072000] 
[   90.072000] ---[ end trace a26dd26362ff8b2b ]---
[   90.072000] ------------[ cut here ]------------
[   90.072000] WARNING: at kernel/workqueue.c:1368 0x800512dc()
[   90.072000] Modules linked in: rt2800pci rt2800mmio rt2800lib iptable_nat snd_usb_audio rt2x00pci rt2x00mmio rt2x00lib nf_nat_ipv4 nf_conntrack_ipv4 mac80211 iptable_raw iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ip_tables cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_NETMAP xt_LOG xt_CT x_tables uvcvideo usblp usbhid ums_usbat ums_sddr55 ums_sddr09 ums_karma ums_jumpshot ums_isd200 ums_freecom ums_datafab ums_cypress ums_alauda snd_usbmidi_lib pwc nf_nat nf_defrag_ipv4 nf_conntrack hid_generic gspca_main crc_itu_t crc_ccitt cpia2 compat fuse videobuf2_vmalloc videobuf2_memops videobuf2_core sg hid evdev bcm63xx_udc ledtrig_usbdev udc_core msdos tun snd_compress snd_pcm_oss snd_mixer_oss snd_pcm snd_page_alloc snd_timer snd_rawmidi snd_seq_device snd_hwdep snd soundcore vfat fat nls_utf8 nls_koi8_r nls_cp1255 nls_iso8859_6 nls_iso8859_2 nls_iso8859_15 nls_iso8859_13 nls_iso8859_1 nls_cp932 nls_cp866 nls_cp864 nls_cp862 nls_cp852 nls_cp850 nls_cp775 nls_cp437 nls_cp1251 nls_cp1250 eeprom_93cx6 arc4 crypto_blkcipher gpio_keys_polled usb_storage input_polldev dwc2_platform dwc2 uhci_hcd ohci_hcd ehci_pci ehci_platform ehci_hcd sd_mod scsi_mod button_hotplug crypto_hash
[   90.072000] CPU: 0 PID: 4 Comm: kworker/0:0 Tainted: G        W    3.10.49 #7
[   90.072000] Workqueue: events 0x80179db8
[   90.072000] Stack : 8381ba00 802c2d70 800512dc 00000558 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[   90.072000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 83831cd0
[   90.072000]       ...
[   90.072000] Call Trace:[&lt;800512dc&gt;] 0x800512dc
[   90.072000] [&lt;80210aac&gt;] 0x80210aac
[   90.072000] [&lt;80210aac&gt;] 0x80210aac
[   90.072000] [&lt;8029fe4c&gt;] 0x8029fe4c
[   90.072000] [&lt;800512dc&gt;] 0x800512dc
[   90.072000] [&lt;8029ff04&gt;] 0x8029ff04
[   90.072000] [&lt;800512dc&gt;] 0x800512dc
[   90.072000] [&lt;801e0a38&gt;] 0x801e0a38
[   90.072000] [&lt;80179e9c&gt;] 0x80179e9c
[   90.072000] [&lt;800c4b9c&gt;] 0x800c4b9c
[   90.072000] [&lt;801d6b98&gt;] 0x801d6b98
[   90.072000] [&lt;8001832c&gt;] 0x8001832c
[   90.072000] [&lt;800776d8&gt;] 0x800776d8
[   90.072000] [&lt;802a1208&gt;] 0x802a1208
[   90.072000] [&lt;8001832c&gt;] 0x8001832c
[   90.072000] [&lt;802a0fb8&gt;] 0x802a0fb8
[   90.072000] [&lt;800b1ea0&gt;] 0x800b1ea0
[   90.072000] [&lt;802a0fb8&gt;] 0x802a0fb8
[   90.072000] [&lt;80176f20&gt;] 0x80176f20
[   90.072000] [&lt;801fca24&gt;] 0x801fca24
[   90.072000] [&lt;80176e6c&gt;] 0x80176e6c
[   90.072000] [&lt;800108a8&gt;] 0x800108a8
[   90.072000] 
[   90.072000] ---[ end trace a26dd26362ff8b2c ]---
[  175.784000] dvb_usb: exports duplicate symbol dvb_usb_device_exit (owned by kernel)</code></pre></div><br /><p>As the error above shows, I am missing some driver when I try this...<br />So, I reboot and load up the rest of the more drivers...<br /></p><div class="codebox"><pre><code>root@OpenWrt:/tmp/dvb# insmod lgs8gxx.ko
root@OpenWrt:/tmp/dvb# insmod mxl5005s.ko
root@OpenWrt:/tmp/dvb# insmod dvb-usb-cxusb.ko
kmod: failed to insert dvb-usb-cxusb.ko
root@OpenWrt:/tmp/dvb# insmod dibx000_common.ko

[  187.768000] dvb_usb_cxusb: Unknown symbol dib7000p_set_gpio (err 0)
[  187.772000] dvb_usb_cxusb: Unknown symbol dib7000p_get_i2c_master (err 0)
[  187.780000] dvb_usb_cxusb: Unknown symbol dib7000p_i2c_enumeration (err 0)
[  187.788000] dvb_usb_cxusb: Unknown symbol dib7000p_set_wbd_ref (err 0)
[  187.796000] dvb_usb_cxusb: Unknown symbol dib0070_wbd_offset (err 0)</code></pre></div><p>Obviously, this log shows I am still missing driver that I didn&#039;t realize is necessary.<br />After I load the last two required driver (dib0070.ko and dib7000p.ko), I get the tuner which appears to work but still unable to get any channels as I described in the very first log.</p><p>----------------<br />After this I rebuild the ROM again and make sure all these drivers are build into the kernel, so I don&#039;t have to load them one by one... Guess what I get again?</p><div class="codebox"><pre><code>[  115.156000] hub 1-0:1.0: state 7 ports 2 chg 0000 evt 0002
[  115.160000] ehci-platform ehci-platform: GetStatus port:1 status 001803 0  ACK POWER sig=j CSC CONNECT
[  115.160000] hub 1-0:1.0: port 1, status 0501, change 0001, 480 Mb/s
[  115.288000] hub 1-0:1.0: debounce: port 1: total 100ms stable 100ms status 0x501
[  115.344000] ehci-platform ehci-platform: port 1 reset complete, port enabled
[  115.344000] ehci-platform ehci-platform: GetStatus port:1 status 001005 0  ACK POWER sig=se0 PE CONNECT
[  115.400000] usb 1-1: new high-speed USB device number 2 using ehci-platform
[  115.460000] ehci-platform ehci-platform: port 1 reset complete, port enabled
[  115.460000] ehci-platform ehci-platform: GetStatus port:1 status 001005 0  ACK POWER sig=se0 PE CONNECT
[  115.536000] usb 1-1: default language 0x0409
[  115.536000] usb 1-1: udev 2, busnum 1, minor = 1
[  115.536000] usb 1-1: New USB device found, idVendor=0572, idProduct=86d6
[  115.544000] usb 1-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[  115.552000] usb 1-1: Product: USB Doogle
[  115.556000] usb 1-1: Manufacturer: Conexant
[  115.560000] usb 1-1: SerialNumber: 20071211
[  115.568000] usb 1-1: usb_probe_device
[  115.568000] usb 1-1: configuration #1 chosen from 1 choice
[  115.576000] usb 1-1: adding 1-1:1.0 (config #1, interface 0)
[  115.576000] dvb_usb_cxusb 1-1:1.0: usb_probe_interface
[  115.576000] dvb_usb_cxusb 1-1:1.0: usb_probe_interface - got id
[  115.576000] dvb-usb: found a &#039;Conexant DMB-TH Stick&#039; in warm state.
[  115.936000] dvb-usb: will pass the complete MPEG2 transport stream to the software demuxer.
[  115.948000] DVB: registering new adapter (Conexant DMB-TH Stick)
[  116.064000] usb 1-1: khubd timed out on ep1in len=0/32
[  116.164000] usb 1-1: khubd timed out on ep2in len=0/8192
[  116.468000] usb 1-1: khubd timed out on ep1in len=0/32
[  116.568000] usb 1-1: khubd timed out on ep2in len=0/8192
[  116.872000] usb 1-1: khubd timed out on ep1in len=0/32
[  116.972000] usb 1-1: khubd timed out on ep2in len=0/8192
[  117.276000] usb 1-1: khubd timed out on ep1in len=0/32
[  117.376000] usb 1-1: khubd timed out on ep2in len=0/8192
[  117.680000] usb 1-1: khubd timed out on ep1in len=0/32
[  117.780000] usb 1-1: khubd timed out on ep2in len=0/8192
[  118.192000] usb 1-1: DVB: registering adapter 0 frontend 0 (Legend Silicon LGS8913/LGS8GXX DMB-TH)...
[  118.212000] MXL5005S: Attached at address 0x63
[  118.224000] input: IR-receiver inside an USB DVB receiver as /devices/platform/ehci-platform/usb1/1-1/input/input1
[  118.260000] dvb-usb: schedule remote query interval to 100 msecs.
[  118.272000] dvb-usb: Conexant DMB-TH Stick successfully initialized and connected.
[  118.364000] ------------[ cut here ]------------
[  118.364000] WARNING: at kernel/workqueue.c:1435 0x80052f44()
[  118.364000] Modules linked in: rt2800pci rt2800mmio rt2800lib iptable_nat snd_usb_audio rt2x00pci rt2x00mmio rt2x00lib nf_nat_ipv4 nf_conntrack_ipv4 mac80211 iptable_raw iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ip_tables cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_NETMAP xt_LOG xt_CT x_tables uvcvideo usblp usbhid ums_usbat ums_sddr55 ums_sddr09 ums_karma ums_jumpshot ums_isd200 ums_freecom ums_datafab ums_cypress ums_alauda snd_usbmidi_lib pwc nf_nat nf_defrag_ipv4 nf_conntrack hid_generic gspca_main crc_itu_t crc_ccitt cpia2 compat fuse videobuf2_vmalloc videobuf2_memops videobuf2_core sg hid evdev bcm63xx_udc ledtrig_usbdev udc_core msdos tun snd_compress snd_pcm_oss snd_mixer_oss snd_pcm snd_page_alloc snd_timer snd_rawmidi snd_seq_device snd_hwdep snd soundcore vfat fat nls_utf8 nls_koi8_r nls_cp1255 nls_iso8859_6 nls_iso8859_2 nls_iso8859_15 nls_iso8859_13 nls_iso8859_1 nls_cp932 nls_cp866 nls_cp864 nls_cp862 nls_cp852 nls_cp850 nls_cp775 nls_cp437 nls_cp1251 nls_cp1250 eeprom_93cx6 arc4 crypto_blkcipher gpio_keys_polled usb_storage input_polldev dwc2_platform dwc2 uhci_hcd ohci_hcd ehci_pci ehci_platform ehci_hcd sd_mod scsi_mod button_hotplug crypto_hash
[  118.364000] CPU: 0 PID: 4 Comm: kworker/0:0 Not tainted 3.10.49 #8
[  118.364000] Workqueue: events 0x801822ec
[  118.364000] Stack : 8381ba00 802d3530 80052f44 0000059b 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 83831cd0
[  118.364000]       ...
[  118.364000] Call Trace:[&lt;80052f44&gt;] 0x80052f44
[  118.364000] [&lt;80220f80&gt;] 0x80220f80
[  118.364000] [&lt;80220f80&gt;] 0x80220f80
[  118.364000] [&lt;802b0360&gt;] 0x802b0360
[  118.364000] [&lt;80052f44&gt;] 0x80052f44
[  118.364000] [&lt;802b0418&gt;] 0x802b0418
[  118.364000] [&lt;801949c8&gt;] 0x801949c8
[  118.364000] [&lt;80052f44&gt;] 0x80052f44
[  118.364000] [&lt;801f0f0c&gt;] 0x801f0f0c
[  118.364000] [&lt;801823d0&gt;] 0x801823d0
[  118.364000] [&lt;800c6b6c&gt;] 0x800c6b6c
[  118.364000] [&lt;801e706c&gt;] 0x801e706c
[  118.364000] [&lt;8001832c&gt;] 0x8001832c
[  118.364000] [&lt;802b171c&gt;] 0x802b171c
[  118.364000] [&lt;8001832c&gt;] 0x8001832c
[  118.364000] [&lt;802b14cc&gt;] 0x802b14cc
[  118.364000] [&lt;800b3dc8&gt;] 0x800b3dc8
[  118.364000] [&lt;802b14cc&gt;] 0x802b14cc
[  118.364000] [&lt;8017f454&gt;] 0x8017f454
[  118.364000] [&lt;8020cef8&gt;] 0x8020cef8
[  118.364000] [&lt;8017f3a0&gt;] 0x8017f3a0
[  118.364000] [&lt;800108a8&gt;] 0x800108a8
[  118.364000] 
[  118.364000] ---[ end trace 47e90316664b8547 ]---
[  118.364000] ------------[ cut here ]------------
[  118.364000] WARNING: at kernel/workqueue.c:1437 0x80052fa0()
[  118.364000] Modules linked in: rt2800pci rt2800mmio rt2800lib iptable_nat snd_usb_audio rt2x00pci rt2x00mmio rt2x00lib nf_nat_ipv4 nf_conntrack_ipv4 mac80211 iptable_raw iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ip_tables cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_NETMAP xt_LOG xt_CT x_tables uvcvideo usblp usbhid ums_usbat ums_sddr55 ums_sddr09 ums_karma ums_jumpshot ums_isd200 ums_freecom ums_datafab ums_cypress ums_alauda snd_usbmidi_lib pwc nf_nat nf_defrag_ipv4 nf_conntrack hid_generic gspca_main crc_itu_t crc_ccitt cpia2 compat fuse videobuf2_vmalloc videobuf2_memops videobuf2_core sg hid evdev bcm63xx_udc ledtrig_usbdev udc_core msdos tun snd_compress snd_pcm_oss snd_mixer_oss snd_pcm snd_page_alloc snd_timer snd_rawmidi snd_seq_device snd_hwdep snd soundcore vfat fat nls_utf8 nls_koi8_r nls_cp1255 nls_iso8859_6 nls_iso8859_2 nls_iso8859_15 nls_iso8859_13 nls_iso8859_1 nls_cp932 nls_cp866 nls_cp864 nls_cp862 nls_cp852 nls_cp850 nls_cp775 nls_cp437 nls_cp1251 nls_cp1250 eeprom_93cx6 arc4 crypto_blkcipher gpio_keys_polled usb_storage input_polldev dwc2_platform dwc2 uhci_hcd ohci_hcd ehci_pci ehci_platform ehci_hcd sd_mod scsi_mod button_hotplug crypto_hash
[  118.364000] CPU: 0 PID: 4 Comm: kworker/0:0 Tainted: G        W    3.10.49 #8
[  118.364000] Workqueue: events 0x801822ec
[  118.364000] Stack : 8381ba00 802d3530 80052fa0 0000059d 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 83831cd0
[  118.364000]       ...
[  118.364000] Call Trace:[&lt;80052fa0&gt;] 0x80052fa0
[  118.364000] [&lt;80220f80&gt;] 0x80220f80
[  118.364000] [&lt;80220f80&gt;] 0x80220f80
[  118.364000] [&lt;802b0360&gt;] 0x802b0360
[  118.364000] [&lt;80052fa0&gt;] 0x80052fa0
[  118.364000] [&lt;802b0418&gt;] 0x802b0418
[  118.364000] [&lt;801949c8&gt;] 0x801949c8
[  118.364000] [&lt;80052fa0&gt;] 0x80052fa0
[  118.364000] [&lt;801f0f0c&gt;] 0x801f0f0c
[  118.364000] [&lt;801823d0&gt;] 0x801823d0
[  118.364000] [&lt;800c6b6c&gt;] 0x800c6b6c
[  118.364000] [&lt;801e706c&gt;] 0x801e706c
[  118.364000] [&lt;8001832c&gt;] 0x8001832c
[  118.364000] [&lt;802b171c&gt;] 0x802b171c
[  118.364000] [&lt;8001832c&gt;] 0x8001832c
[  118.364000] [&lt;802b14cc&gt;] 0x802b14cc
[  118.364000] [&lt;800b3dc8&gt;] 0x800b3dc8
[  118.364000] [&lt;802b14cc&gt;] 0x802b14cc
[  118.364000] [&lt;8017f454&gt;] 0x8017f454
[  118.364000] [&lt;8020cef8&gt;] 0x8020cef8
[  118.364000] [&lt;8017f3a0&gt;] 0x8017f3a0
[  118.364000] [&lt;800108a8&gt;] 0x800108a8
[  118.364000] 
[  118.364000] ---[ end trace 47e90316664b8548 ]---
[  118.364000] ------------[ cut here ]------------
[  118.364000] WARNING: at kernel/workqueue.c:1368 0x80053204()
[  118.364000] Modules linked in: rt2800pci rt2800mmio rt2800lib iptable_nat snd_usb_audio rt2x00pci rt2x00mmio rt2x00lib nf_nat_ipv4 nf_conntrack_ipv4 mac80211 iptable_raw iptable_mangle iptable_filter ipt_REJECT ipt_MASQUERADE ip_tables cfg80211 xt_time xt_tcpudp xt_state xt_nat xt_multiport xt_mark xt_mac xt_limit xt_id xt_conntrack xt_comment xt_TCPMSS xt_REDIRECT xt_NETMAP xt_LOG xt_CT x_tables uvcvideo usblp usbhid ums_usbat ums_sddr55 ums_sddr09 ums_karma ums_jumpshot ums_isd200 ums_freecom ums_datafab ums_cypress ums_alauda snd_usbmidi_lib pwc nf_nat nf_defrag_ipv4 nf_conntrack hid_generic gspca_main crc_itu_t crc_ccitt cpia2 compat fuse videobuf2_vmalloc videobuf2_memops videobuf2_core sg hid evdev bcm63xx_udc ledtrig_usbdev udc_core msdos tun snd_compress snd_pcm_oss snd_mixer_oss snd_pcm snd_page_alloc snd_timer snd_rawmidi snd_seq_device snd_hwdep snd soundcore vfat fat nls_utf8 nls_koi8_r nls_cp1255 nls_iso8859_6 nls_iso8859_2 nls_iso8859_15 nls_iso8859_13 nls_iso8859_1 nls_cp932 nls_cp866 nls_cp864 nls_cp862 nls_cp852 nls_cp850 nls_cp775 nls_cp437 nls_cp1251 nls_cp1250 eeprom_93cx6 arc4 crypto_blkcipher gpio_keys_polled usb_storage input_polldev dwc2_platform dwc2 uhci_hcd ohci_hcd ehci_pci ehci_platform ehci_hcd sd_mod scsi_mod button_hotplug crypto_hash
[  118.364000] CPU: 0 PID: 4 Comm: kworker/0:0 Tainted: G        W    3.10.49 #8
[  118.364000] Workqueue: events 0x801822ec
[  118.364000] Stack : 8381ba00 802d3530 80053204 00000558 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[  118.364000]       00000000 00000000 00000000 00000000 00000000 00000000 00000000 83831cd0
[  118.364000]       ...
[  118.364000] Call Trace:[&lt;80053204&gt;] 0x80053204
[  118.364000] [&lt;80220f80&gt;] 0x80220f80
[  118.364000] [&lt;80220f80&gt;] 0x80220f80
[  118.364000] [&lt;802b0360&gt;] 0x802b0360
[  118.364000] [&lt;80053204&gt;] 0x80053204
[  118.364000] [&lt;802b0418&gt;] 0x802b0418
[  118.364000] [&lt;801949c8&gt;] 0x801949c8
[  118.364000] [&lt;80053204&gt;] 0x80053204
[  118.364000] [&lt;801f0f0c&gt;] 0x801f0f0c
[  118.364000] [&lt;801823d0&gt;] 0x801823d0
[  118.364000] [&lt;800c6b6c&gt;] 0x800c6b6c
[  118.364000] [&lt;801e706c&gt;] 0x801e706c
[  118.364000] [&lt;8001832c&gt;] 0x8001832c
[  118.364000] [&lt;802b171c&gt;] 0x802b171c
[  118.364000] [&lt;8001832c&gt;] 0x8001832c
[  118.364000] [&lt;802b14cc&gt;] 0x802b14cc
[  118.364000] [&lt;800b3dc8&gt;] 0x800b3dc8
[  118.364000] [&lt;802b14cc&gt;] 0x802b14cc
[  118.364000] [&lt;8017f454&gt;] 0x8017f454
[  118.364000] [&lt;8020cef8&gt;] 0x8020cef8
[  118.364000] [&lt;8017f3a0&gt;] 0x8017f3a0
[  118.364000] [&lt;800108a8&gt;] 0x800108a8
[  118.364000] 
[  118.364000] ---[ end trace 47e90316664b8549 ]---</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284782">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						24 Jul 2015, 05:49					</div>
				</div>
				<div class="post-content content">
					<p>When you&#039;re loading the driver one by one, I can see the load sequence is incorrect.&nbsp; The correct sequence should be something like this:<br />insmod dvb-core.ko<br />insmod dvb-usb.ko<br />insmod dibx000_common.ko<br />insmod dib0070.ko<br />insmod dib7000p.ko<br />insmod lgs8gxx.ko<br />insmod mxl5005s.ko<br />insmod dvb-usb-cxusb.ko</p><p>Play around with the sequence, but definitely load the dvb-usb-cxusb last, as it depends on everything else.&nbsp; Also, are you sure you see dib7000p.ko in your ubuntu and not dib7000.ko, I would double check the ko used in ubuntu.</p><p>As to tuning for tvheadend, I had to manually enter the frequencies, encoding, etc... in the tvheadend web interface to get it to scan properly.</p><p>Here are some frequencies you might want to try, please let me know if you got this working, thanks.</p><div class="codebox"><pre><code>[CHANNEL]
        DELIVERY_SYSTEM = DVBT
        FREQUENCY = 586000000
        BANDWIDTH_HZ = 8000000
        CODE_RATE_HP = AUTO
        CODE_RATE_LP = NONE
        MODULATION = QAM/64
        TRANSMISSION_MODE = 8K
        GUARD_INTERVAL = 1/32
        HIERARCHY = NONE
        INVERSION = AUTO

# ATV (band 37)
[CHANNEL]
        DELIVERY_SYSTEM = DVBT
        FREQUENCY = 602000000
        BANDWIDTH_HZ = 8000000
        CODE_RATE_HP = AUTO
        CODE_RATE_LP = NONE
        MODULATION = QAM/64
        TRANSMISSION_MODE = 8K
        GUARD_INTERVAL = 1/32
        HIERARCHY = NONE
        INVERSION = AUTO

# Simulcast (band 22)
[CHANNEL]
        DELIVERY_SYSTEM = DVBT
        FREQUENCY = 482000000
        BANDWIDTH_HZ = 8000000
        CODE_RATE_HP = AUTO
        CODE_RATE_LP = NONE
        MODULATION = QAM/64
        TRANSMISSION_MODE = 8K
        GUARD_INTERVAL = 1/32
        HIERARCHY = NONE
        INVERSION = AUTO

# Simulcast (band 30)
[CHANNEL]
        DELIVERY_SYSTEM = DVBT
        FREQUENCY = 546000000
        BANDWIDTH_HZ = 8000000
        CODE_RATE_HP = AUTO
        CODE_RATE_LP = NONE
        MODULATION = QAM/64
        TRANSMISSION_MODE = 8K
        GUARD_INTERVAL = 1/32
        HIERARCHY = NONE
        INVERSION = AUTO

# Simulcast (band 32)
[CHANNEL]
        DELIVERY_SYSTEM = DVBT
        FREQUENCY = 562000000
        BANDWIDTH_HZ = 8000000
        CODE_RATE_HP = AUTO
        CODE_RATE_LP = NONE
        MODULATION = QAM/64
        TRANSMISSION_MODE = 8K
        GUARD_INTERVAL = 1/32
        HIERARCHY = NONE
        INVERSION = AUTO

# Simulcast (band 40)
[CHANNEL]
        DELIVERY_SYSTEM = DVBT
        FREQUENCY = 628000000
        BANDWIDTH_HZ = 8000000
        CODE_RATE_HP = AUTO
        CODE_RATE_LP = NONE
        MODULATION = QAM/64
        TRANSMISSION_MODE = 8K
        GUARD_INTERVAL = 1/32
        HIERARCHY = NONE
        INVERSION = AUTO

# Simulcast (band 43)
[CHANNEL]
        DELIVERY_SYSTEM = DVBT
        FREQUENCY = 650000000
        BANDWIDTH_HZ = 8000000
        CODE_RATE_HP = AUTO
        CODE_RATE_LP = NONE
        MODULATION = QAM/64
        TRANSMISSION_MODE = 8K
        GUARD_INTERVAL = 1/32
        HIERARCHY = NONE
        INVERSION = AUTO</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284784">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						24 Jul 2015, 06:04					</div>
				</div>
				<div class="post-content content">
					<p>I am not sure if the driver loading sequence matter or not. I will try this again and get back to you.<br />What you may have not noticed is I don&#039;t need to load some of the drivers. I mean dvb-usb-cxusb.ko, dvb-core.ko, dvb-usb.ko are not required or cannot be loaded or cannot be found in the build_dir.</p><p>On Ubuntu, the USB tuner works without loading any drivers. The only thing I need to do on Ubuntu is get tvheadend installed and configured.</p><p>On tvheadend, in the previous attempt, I mean tvheadend is not accepting any muxes/frequencies, it does not work even after manually entering frequencies. I do mean I have the same/similar problem on BB and AA.<br />----------<br />Update: Once I manually add one of the muxes you provided, it appears to work. I have also tested the driver loading order and it does not matter. Seems like trying to add it by selecting HK from the DVB list somehow does not work (works on Ubuntu though...).</p><p>I can see this in tvheadend indicating it is able to tune to the frequency specified.<br />Note: I can&#039;t actually try to watch the broadcast because I am currently not in HK (I am in Australia). This is part of the reason I am trying to set this up for my family because we don&#039;t normally live in HK <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /><br /></p><div class="codebox"><pre><code>Currently tuned to:
586,000 kHz 
Services:
0
Muxes:
1
Muxes awaiting initial scan:
1</code></pre></div>											<p class="post-edited">(Last edited by <strong>ericwongcm</strong> on 24 Jul 2015, 07:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284791">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						24 Jul 2015, 07:27					</div>
				</div>
				<div class="post-content content">
					<p>May I know what router model you have using AA to run your TV tuner? <br />Is tvheadend able to do scheduled recording on your router to a USB storage device, e.g. USB drive/hdd?</p><p>I am wondering if there is enough USB bandwidth and cpu power on a router to receive TV channel and record to USB drive at the same time.<br />This is something that I am hoping that will work because watching live TV is not much use when we have time zone differences.</p>											<p class="post-edited">(Last edited by <strong>ericwongcm</strong> on 24 Jul 2015, 07:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284803">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">whoisterencelee</div>
					<div class="post-datetime">
						24 Jul 2015, 10:37					</div>
				</div>
				<div class="post-content content">
					<p>I am using a TP-LINK WDR4300 with the MyGica.</p><p>TVheadend is perfect for scheduled recording to USB storage device.&nbsp; /proc/loadavg is usually &lt; 0.3 as the USB stick just writes directly to the USB drive, I am not doing any transcoding just pass-thur.&nbsp; Sometimes the load goes up to 3.0-4.0 due to some kworker process, but doesn&#039;t seem to affect recording, I guess dvb module does some IO blocking?</p><p>Just remember, that all the kernel module + tvheadend is too much for the router internal flash, so I had to put tvheadend package onto the USB storage, see openwrt wiki on USB storage and opkg -dest.</p><p>Remember to use an extra USB hub with separate power plug for the TV tuner stick, otherwise the router doesn&#039;t provide enough power and you get &#039;dvb: recv bulk message error&#039;, took me a while to figure that out (router power are usually about 0.9-1.0A, share by the router/USB drive/USB stick is too little); I just plug the USB drive directly to the router.</p><p>For the channel frequencies, I got these from dvbscan source, but you can check wikipedia for HK dvb signal and they have a list of freq. that depends on where you are in HK.&nbsp; Since you have it working on ubuntu, I suppose you can get from there as well.</p><p>USB bandwidth is not an issue with watching and recording at the same time.&nbsp; I do have some problem finding a good player/client with this setup, tvheadend can stream http and htsp, which means I can use android vlc and kodi, but vlc http stream doesn&#039;t do video time seek, and kodi htsp stream doesn&#039;t do subtitles.&nbsp; Any ideas there?&nbsp; One way is to use samba with either player, but then no EPG.</p><p>Also, looking into using comskip on the recording, likely on a separate machine.&nbsp; Any experience there?</p>											<p class="post-edited">(Last edited by <strong>whoisterencelee</strong> on 24 Jul 2015, 10:40)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p284804">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">ericwongcm</div>
					<div class="post-datetime">
						24 Jul 2015, 11:06					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, I have never actually use tvheadend or live tv recording other than &quot;testing&quot; this setup...<br />There is a player called splayer which supports subtitle but I don&#039;t know if it will work for what you want to do or not.</p><p>I know the 8MB flash storage on the router could be a problem but if you only install the package you must have, you might be able to have enough space, especially if you build your own ROM. The squashfs for the ROM generally uses less space than if you install it by command.</p><p>Anyway, I was experimenting it on Huawei HG556a which has 16MB flash and 64MB RAM. Its cpu is slower at 300Mhz but I guess it should be fine. One issue with USB is reading/writing to USB actually consumes cpu cycles. You can see it if you try to transfer large files to/froth from your router USB drive over the network. This was one my concern.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>