<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Build for WNDR3700/WNDR3800</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 9 Jul 2013 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 41 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=39.html">39</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=40.html">40</a></li><li class="pagination-current"><span>41</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=42.html">42</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=43.html">43</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p233926">
				<div class="post-metadata">
					<div class="post-num">Post #1001</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						19 May 2014, 23:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>johnthomas00 wrote:</cite><blockquote><p>Does this mean &quot;n&quot; mode does not work or luci does not display?</p><p>Prolly makes sense to wait on these updates until luci and the settings are further in sync, no?</p></blockquote></div><p>Luci has been updated today. Supposedly Luci is now in sync with the current config options.<br/><a href="http://luci.subsignal.org/trac/changeset/10181">http://luci.subsignal.org/trac/changeset/10181</a></p><p>r40780 includes the new Luci version. I haven&#039;t really tested the changes, but based on the Luci changes, some changes are needed for /etc/config/wireless to make n mode work ok. (htmode option changes from HT40+ to HT40, if set with luci)</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 19 May 2014, 23:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233928">
				<div class="post-metadata">
					<div class="post-num">Post #1002</div>
					<div class="post-author">johnthomas00</div>
					<div class="post-datetime">
						19 May 2014, 23:41					</div>
				</div>
				<div class="post-content content">
					<p>Thanks as always Hnyman!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233968">
				<div class="post-metadata">
					<div class="post-num">Post #1003</div>
					<div class="post-author">qosmio</div>
					<div class="post-datetime">
						20 May 2014, 13:02					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman</p><p>Have you been having any wireless issues with the latest r40780 revision? All my devices connect for a few seconds and then immediately disconnect. I had initially tried with my own custom compile, and then did a full factory reset through TFTP of that same firmware but still, no luck.</p><p>I then tried your revision on dropbox and same issue :-/ Both factory and sysupgrade versions have trouble with clients staying connected. Just for kicks I tried out your revision r40772 and the wireless worked fine. I just tried compiling the latest&nbsp; revision that was pushed out 40801 and it looks like there&#039;s a bunch of 802.11 patches.</p><p>Anyways, I might also push by build to match yours, seeing as how something clearly broke with the mac80211 drivers. I actually can&#039;t even compile all the way with 40801, it does seem to get stuck on the new 80211 update.</p><p>make[3]: Entering directory `/home/user/code/openwrt/trunk/package/kernel/mac80211&#039;<br/>make[3]: *** [/home/user/code/openwrt/trunk/build_dir/target-mips_34kc_uClibc-0.9.33.2/linux-ar71xx_generic/compat-wireless-2014-05-19/.configured_ynnnnnnnnnnnnnnnnnnnnnnnnnnnnyynnynnnnnnnnnnnnnnnnnnnnnnnnyynnnnnnn] Error 1<br/>make[2]: *** [package/kernel/mac80211/compile] Error 2<br/>make[1]: *** [/home/user/code/openwrt/trunk/staging_dir/target-mips_34kc_uClibc-0.9.33.2/stamp/.package_compile] Error 2<br/>make: *** [world] Error 2</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233970">
				<div class="post-metadata">
					<div class="post-num">Post #1004</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						20 May 2014, 13:17					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>qosmio wrote:</cite><blockquote><p>Have you been having any wireless issues with the latest r40780 revision? All my devices connect for a few seconds and then immediately disconnect. <br/>...<br/>I actually can&#039;t even compile all the way with 40801, it does seem to get stuck on the new 80211 update.</p></blockquote></div><p>Try &quot;make clean&quot; first before rebuilding.</p><p>I have not yet had time to test 40780 for a longer period. There have been a few recent patches, some of which may have broken something. There are also new bugs that sound similar: <br/><a href="https://dev.openwrt.org/ticket/16553">https://dev.openwrt.org/ticket/16553</a><br/><a href="https://dev.openwrt.org/ticket/16545">https://dev.openwrt.org/ticket/16545</a></p><p>EDIT: possibly fixed by 40802</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 20 May 2014, 14:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236395">
				<div class="post-metadata">
					<div class="post-num">Post #1005</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						11 Jun 2014, 22:41					</div>
				</div>
				<div class="post-content content">
					<p>- r41148 trunk: first build with the new packages/oldpackages split</p><p>The Openwrt source code repository is seeing large changes regarding the packages, which have split into new &quot;packages&quot; and semi-abandoned &quot;oldpackages&quot;. Also Luci has been partially split and reorganised.</p><p>r41148 trunk build is the first build with the new packages/oldpackages split. Packages repo was also changed to use git, while I still prefer svn. So there are some changes in the build scripts.</p><p>Although everything seems to work for me, it is quite possible that there some adjustments need to be made in the next few days. (And I have not yet tested creating a new build environment with the new structure.)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236535">
				<div class="post-metadata">
					<div class="post-num">Post #1006</div>
					<div class="post-author">Romulus</div>
					<div class="post-datetime">
						12 Jun 2014, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>hnyman after an update to r41148 (without keeping settings) Luci stops working with the follow message when I try to login to the router:</p><p>/usr/lib/lua/luci/dispatcher.lua:211: /etc/config/luci seems to be corrupt, unable to find section &#039;main&#039;<br/>stack traceback:<br/>&nbsp; &nbsp; [C]: in function &#039;assert&#039;<br/>&nbsp; &nbsp; /usr/lib/lua/luci/dispatcher.lua:211: in function &#039;dispatch&#039;<br/>&nbsp; &nbsp; /usr/lib/lua/luci/dispatcher.lua:195: in function &lt;/usr/lib/lua/luci/dispatcher.lua:194&gt;</p><p>I had to revert back to r41051</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236546">
				<div class="post-metadata">
					<div class="post-num">Post #1007</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						12 Jun 2014, 22:20					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Romulus wrote:</cite><blockquote><p>hnyman after an update to r41148 (without keeping settings) Luci stops working with the follow message when I try to login to the router:</p><p>/usr/lib/lua/luci/dispatcher.lua:211: /etc/config/luci seems to be corrupt, ...</p></blockquote></div><p>That will probably be fixed in the next build with <a href="http://luci.subsignal.org/trac/changeset/10286">http://luci.subsignal.org/trac/changeset/10286</a></p><p>EDIT: Looks like it is fixed in the r41172 build.</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 12 Jun 2014, 23:26)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236895">
				<div class="post-metadata">
					<div class="post-num">Post #1008</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						15 Jun 2014, 17:01					</div>
				</div>
				<div class="post-content content">
					<p>- r41191 trunk: revert to default git feeds (from svn feeds)</p><p>I have changed my trunk build to use the git feeds that are now default. The main Openwrt sources are still fetched with svn.</p><p>I made some cleanup to the build scripts at the same time to ease the adoption of git. The newOpenwrtBuildroot.sh script is now even simpler and requires no editing.</p><p>EDIT:<br/>The next build will have also a git-compatible version of the versionT.sh &quot;time machine&quot; script. Going back to history with git can be tricky, as by default the &quot;shallow&quot; git repository created by Openwrt only contains log history starting from the creation of the local git repo for each feed. We can deepen the history by &quot;git pull --depth=500&quot;. After that we can use &quot;git rev-list&quot; to find the correct revision by date and give that as an argument for &quot;git checkout&quot;:<br/>git checkout `git rev-list -n 1 --before=&quot;$1&quot; master`</p><div class="codebox"><pre><code>#!/bin/bash
#
# versionT  -  Update source code to revision T and then build
#              T argument: date as yyyy-mm-dd or &quot;yyyy-mm-dd hh:mm&quot;
#              first &quot;git pull --depth=500&quot; to deepen git history (shallow)
#              use &quot;git checkout master&quot; for each feed to get back to HEAD

echo &quot;...update SVN source...&quot;
svn up -r {&quot;$1&quot;}
echo &quot;...update feeds...&quot;
(cd feeds/luci ; git checkout `git rev-list -n 1 --before=&quot;$1&quot; master`)
(cd feeds/packages ; git checkout `git rev-list -n 1 --before=&quot;$1&quot; master`)
(cd feeds/oldpackages ; git checkout `git rev-list -n 1 --before=&quot;$1&quot; master`)</code></pre></div>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 15 Jun 2014, 22:03)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236927">
				<div class="post-metadata">
					<div class="post-num">Post #1009</div>
					<div class="post-author">movi</div>
					<div class="post-datetime">
						16 Jun 2014, 02:15					</div>
				</div>
				<div class="post-content content">
					<p>Hey hnyman, can you exaplain how to assign static dhcpv6 addresses in odhcpd ? I can&#039;t for the life of me figure it out.. <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236950">
				<div class="post-metadata">
					<div class="post-num">Post #1010</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Jun 2014, 10:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>movi wrote:</cite><blockquote><p>Hey hnyman, can you exaplain how to assign static dhcpv6 addresses in odhcpd ? I can&#039;t for the life of me figure it out.. <img src="https://forum.openwrt.org/img/smilies/hmm.png" width="15" height="15" alt="hmm"/></p></blockquote></div><p>I haven&#039;t tested it, but the best documentation is probably at <a href="https://github.com/sbyx/odhcpd">https://github.com/sbyx/odhcpd</a> You apparently need a &quot;host&quot; section in the config file:<br/></p><div class="codebox"><pre><code>Sections of type host (static leases)
Option        Type    Default            Description
ip        string                IP-Address to lease
mac        string                MAC-address
duid        string                DUID in base16
hostid        string                IPv6 host identifier
name        string                Hostname</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236962">
				<div class="post-metadata">
					<div class="post-num">Post #1011</div>
					<div class="post-author">movi</div>
					<div class="post-datetime">
						16 Jun 2014, 13:36					</div>
				</div>
				<div class="post-content content">
					<p>Yeah, i got that much, since it maps to options that dnsmasq was using, i just don&#039;t get the format in which hostid is supposed to be written - is it just the suffix (that didn&#039;t work), does it need a subnet value at the end, is DUID needed. That kind of thing.</p><p>I could just wait for the docs on the wiki, but we don&#039;t know when BB will be stabilized, and apple clients don&#039;t play nice with dhcpv6 since they don&#039;t send a hostname with the request, so they have a nice &quot;?&quot; in luci and can&#039;t be found by DNS inside the lan - i want to fix that.</p>											<p class="post-edited">(Last edited by <strong>movi</strong> on 16 Jun 2014, 13:37)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236968">
				<div class="post-metadata">
					<div class="post-num">Post #1012</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						16 Jun 2014, 14:09					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>movi wrote:</cite><blockquote><p>... i just don&#039;t get the format in which hostid is supposed to be written - is it just the suffix (that didn&#039;t work), does it need a subnet value at the end, is DUID needed. That kind of thing. ...</p></blockquote></div><p>The authors original advice was here: <a href="https://forum.openwrt.org/viewtopic.php?pid=202184#p202184">https://forum.openwrt.org/viewtopic.php?pid=202184#p202184</a><br/></p><div class="quotebox"><blockquote><p>option duid 0123456789...<br/>option id 1234</p><p>This assigns the client with the given duid adresses from every available prefix with the interface id ::1234/128.</p></blockquote></div><p>That was for &quot;6relayd&quot;, the predecessor of odhcpd, but I guess the advice is still mainly valid (except that section is now host instead of lease, thanks to <a href="https://github.com/sbyx/odhcpd/commit/3ebfad09209efc88d21bc4ede6d88516dc584ea3">https://github.com/sbyx/odhcpd/commit/3ebfad09209efc88d21bc4ede6d88516dc584ea3</a>, and &quot;id&quot; is probably &quot;hostid&quot;).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237003">
				<div class="post-metadata">
					<div class="post-num">Post #1013</div>
					<div class="post-author">movi</div>
					<div class="post-datetime">
						16 Jun 2014, 18:19					</div>
				</div>
				<div class="post-content content">
					<p>Thanks, that KINDA got it to work.</p><p> Except the osx hosts ignore the IP assigned to them and get their own somehow (?), and the linux boxes (networkmanager+dhclient6) ignore the hostname that i set. <br/>Also, even though the leasetime is set to 24h, odhcpd sets it to 1h. I think i need to create a new thread for this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237649">
				<div class="post-metadata">
					<div class="post-num">Post #1014</div>
					<div class="post-author">ZzBloopzZ</div>
					<div class="post-datetime">
						22 Jun 2014, 06:02					</div>
				</div>
				<div class="post-content content">
					<p>Just updated to WNDR3700-trunk-r41261-2014-06-18-1922-squashfs-sysupgrade.bin. Everything is good so far!</p><p>Question about UPNP. What is a good method to test that it is indeed working? My PC is Windows 7.</p><p>I noticed in Luci if I go to Services &gt; UPNP. That &quot;Start UPnP and NAT-PMP service&quot; is not selected. Should I enable it?</p><p>Also, how can I change the &quot;Connection-specific DNS Suffix&quot; that is shown in IP config for the network settings? I would like change the default label of &quot;lan&quot; to something else.</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238249">
				<div class="post-metadata">
					<div class="post-num">Post #1015</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						27 Jun 2014, 13:19					</div>
				</div>
				<div class="post-content content">
					<p>Hey guys, anyone using sixxs here? Been playing with IPv6 at home. I&#039;m using the latest aiccu with netifd integration, and it works great. Only one strange thing I noticed, even though I have a delegated /48 subnet it seems odhcpd is telling my LAN devices it&#039;s a /64?</p><p>Here&#039;s my configuration:</p><div class="codebox"><pre><code># uci show network.lan
network.lan=interface
network.lan.ifname=eth0.1
network.lan.type=bridge
network.lan.proto=static
network.lan.netmask=255.255.255.0
network.lan.ipaddr=10.1.1.1
network.lan.ip6assign=48
network.lan.ip6addr=2001:16f5:eeb4::1/48
network.lan.ip6prefix=2001:16f5:eeb4::/48</code></pre></div><div class="codebox"><pre><code># uci show network.wan6
network.wan6=interface
network.wan6.proto=aiccu
network.wan6.username=myuser
network.wan6.password=mypass
network.wan6.tunnel_id=myid
network.wan6.protocol=tic
network.wan6.server=tic.sixxs.net
network.wan6.defaultroute=1
network.wan6.nat=0
network.wan6.heartbeat=1
network.wan6.verbose=0
network.wan6.ip6prefix=2001:16f5:eeb4::/48
network.wan6.ip6addr=2001:16f5:ee00:135::2/64</code></pre></div><p>Doing an &quot;ifstatus lan&quot; shows the assignment being /48 as well but here&#039;s how it gets assigned on my Linux box:</p><div class="codebox"><pre><code># ip addr show dev eno1 | grep inet6
inet6 2001:16f5:eeb4:0:eea8:6bff:fefc:8a67/64 scope global mngtmpaddr dynamic</code></pre></div><p>Works fine though, default gateway is set and routing works like it should. Just wondering if this is correct behaviour.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238251">
				<div class="post-metadata">
					<div class="post-num">Post #1016</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						27 Jun 2014, 13:45					</div>
				</div>
				<div class="post-content content">
					<p>I use a static SixXS 6in4 tunnel. Haven&#039;t used aiccu for some time.</p><p>If I remember correctly the discussions with odhcpd designer (CyrusFF / sbyx), the servers hands down /64 prefixes, so that you could have simultaneously several /64 prefixes inside the /48 and prefix delegation would work. </p><p>(and addresses could be get both via dhcpv6 and RA, and dhcpv6 does not transmit prefix size, or something like that. <a href="https://forum.openwrt.org/viewtopic.php?pid=237068#p237068)">https://forum.openwrt.org/viewtopic.php?pid=237068#p237068)</a></p><p>Good to hear that aiccu works ok again. I noticed the new netifd integration last week.</p><p>EDIT: <br/>******&nbsp; Next build from me: in late July&nbsp; ******</p>											<p class="post-edited">(Last edited by <strong>hnyman</strong> on 27 Jun 2014, 17:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238294">
				<div class="post-metadata">
					<div class="post-num">Post #1017</div>
					<div class="post-author">sergiosatellite</div>
					<div class="post-datetime">
						27 Jun 2014, 21:56					</div>
				</div>
				<div class="post-content content">
					<p>Dear hnyman,<br/>tried to use your new scripts for compiling new customized releases.<br/>Compilation worked only first time, the second got errors.<br/>After investigation I realized that updateNmake.sh has no longer make dirclean command possibility<br/>Amended updateNmake.sh and after that further compilations were ok.<br/>Is there any reason why you removed the make dirclean in new scripts?<br/>Do you have any explanation about compilation failure without above command?<br/>Thanks and regards</p><p>Sergio</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238379">
				<div class="post-metadata">
					<div class="post-num">Post #1018</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						28 Jun 2014, 19:46					</div>
				</div>
				<div class="post-content content">
					<p>make dirclean was only there for convenience. I removed it to make the script cleaner. Make clean or dirclean before the build is a good practice but not always necessary. Quite much depends what has changed after the last make. Kernel or toolchain changes usually make a clean necessary.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238400">
				<div class="post-metadata">
					<div class="post-num">Post #1019</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						29 Jun 2014, 00:11					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman</p><p>Sounds logical, thanks for clearing that up <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238485">
				<div class="post-metadata">
					<div class="post-num">Post #1020</div>
					<div class="post-author">sergiosatellite</div>
					<div class="post-datetime">
						29 Jun 2014, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>@hnyman<br/>Thanks as usual for your answers.<br/>Now some more... (I bag your pardon)<br/>I own netgear WNDR3700v2 and have no problem in building trunk releases with your scripts.<br/>I also own a tp-link MR3240v2 and as far as I know it is opewrt compatible with same building target of WNDR3700 i.e. AR71xx.<br/>Unfortunately the MR3240 router has only 4 MB flash. Questions:<br/>- will it be possible to build a releas for MR3240 only adding the right target in .config file?<br/>- do you think it will be possible to cut some of the packets of your build (and which of them) in order to get a light version reduced to 4MB?</p><p>I mainly use it in my second house with a 3G usb key.<br/>I already installed a firmware based on openwrt called Rooter (Funnelweb) which is working good but with no ipv6 6in4<br/>Best regards</p><p>Sergio</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p238487">
				<div class="post-metadata">
					<div class="post-num">Post #1021</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						29 Jun 2014, 18:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sergiosatellite wrote:</cite><blockquote><p>Unfortunately the MR3240 router has only 4 MB flash. Questions:<br/>- will it be possible to build a releas for MR3240 only adding the right target in .config file?<br/>- do you think it will be possible to cut some of the packets of your build (and which of them) in order to get a light version reduced to 4MB?</p></blockquote></div><p>in principle you can change the build target in make menuconfig. Or change it in.config manually. And the build itself should go OK. But some scripts expect the built binaries to contain wndr3x00, so some cleanup and I do building steps after the main build may fail.</p><p>To get below 4 MB you will need to remove nonessential packages. E.g. remove Ftp server etc.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239514">
				<div class="post-metadata">
					<div class="post-num">Post #1022</div>
					<div class="post-author">yardern</div>
					<div class="post-datetime">
						7 Jul 2014, 04:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi hnyman,</p><p>Does your build include vpn?</p><p>Thanks</p><p>yardern</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p239982">
				<div class="post-metadata">
					<div class="post-num">Post #1023</div>
					<div class="post-author">apple4ever</div>
					<div class="post-datetime">
						11 Jul 2014, 18:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>apple4ever wrote:</cite><blockquote><p>Okay I&#039;m having IPv6 routing problems. I have Comcast, which finally added dual stack here. I get good IPv6 address on the WAN, the LAN, and all of my computers. I can ping and connect on SSH via IPv6 to the router&#039;s LAN interface. I cannot ping the WAN address, nor can I ping ipv6.google.com from the router itself (and obviously I can&#039;t connect to the IPv6 internet). </p><p>&lt;snip&gt;</p><p>I just upgraded to the most recent build (r40435) from one back in August. I also am not getting any info on the status page about the IPv6 connection.</p><p>Any help?</p></blockquote></div><p>Looks like I&#039;m not the only one having this issue:</p><p><a href="https://dev.openwrt.org/ticket/16781">https://dev.openwrt.org/ticket/16781</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240329">
				<div class="post-metadata">
					<div class="post-num">Post #1024</div>
					<div class="post-author">Beaker1024</div>
					<div class="post-datetime">
						15 Jul 2014, 18:40					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m happily running your version:<br/>OpenWrt Attitude Adjustment 12.09-r40877</p><p>Things are great but I&#039;m stuck trying to add an old Linksys WRT54GS v2.1 with Tomato Shibby 1.28 as a simple Wifi Repeater.</p><p>I&#039;ve setup WDS in the Tomato firmware with the MAC from my NetGear.&nbsp; &nbsp;My issue is trying to get the OpenWRT setup correctly.&nbsp; I found the &quot;Acess Point (WDS)&quot; in the wLan(0) interface configuration but wasn&#039;t given anywhere to enter the MAC address of the other wifi router.</p><p>Has anyone done a WDS setup with this firmware (using the Luci web interface)?</p><p>Thanks!</p><p>PS - I have always used WPA2 Personal + AES can this remain or needs to be changed to WPA Personal + ???&nbsp; </p><p>If I change encryption type do you need to reconfigure everything that uses your wifi?</p>											<p class="post-edited">(Last edited by <strong>Beaker1024</strong> on 15 Jul 2014, 18:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p240332">
				<div class="post-metadata">
					<div class="post-num">Post #1025</div>
					<div class="post-author">hnyman</div>
					<div class="post-datetime">
						15 Jul 2014, 18:59					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Beaker1024 wrote:</cite><blockquote><p>Has anyone done a WDS setup with this firmware</p></blockquote></div><p>I have. Instructions and my config can be found on earlier pages of this thread...</p><p>But wds is rather manufacturer-specific, so I doubt if you can do mixed Openwrt &amp; something else wds.</p>									</div>
			</article>

			
		
						<div class="notice">
				<p>Sorry, posts 1026 to 1025 are missing from our archive.</p>
			</div>
		
		
	
	<div class="pagination"><div class="pagination-number">Page 41 of 63</div><nav><ul><li><a href="viewtopic.php%3Fid=28392&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=39.html">39</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=40.html">40</a></li><li class="pagination-current"><span>41</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=42.html">42</a></li><li><a href="viewtopic.php%3Fid=28392&amp;p=43.html">43</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=28392&amp;p=63.html">63</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>