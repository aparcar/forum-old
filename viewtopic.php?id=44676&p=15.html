<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Easybox 904 LTE open source code to be provide soon</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 1 Apr 2018 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 15 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=13.html">13</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=14.html">14</a></li><li class="pagination-current"><span>15</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=17.html">17</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p363378">
				<div class="post-metadata">
					<div class="post-num">Post #351</div>
					<div class="post-author">mauricescholztm</div>
					<div class="post-datetime">
						8 Aug 2017, 19:52					</div>
				</div>
				<div class="post-content content">
					<p>Can anyone help me with the error i am getting when i try to compile the source of EasyBox 904 LTE?</p><p>My Sources are from: </p><div class="quotebox"><blockquote><p>astorianetworks.com/astoria/Easybox%20904%20LTE.html</p></blockquote></div><p>and<br /></p><div class="quotebox"><blockquote><p>github.com/uwehermann/easybox-904-lte-firmware</p></blockquote></div><p>I tested on several distribution like arch, debian (i read its recommended), mint, manjaro but i am still getting the same error again and again. </p><br /><div class="quotebox"><blockquote><p>--: /home/user/Desktop/AT904L-03.07/include/shell.sh;: No such file or directory<br />--: /home/user/Desktop/AT904L-03.07/include/shell.sh;: No such file or directory<br />ERROR: please fix target/linux/ltqcpe/Makefile<br />ERROR: please fix target/linux/brcm63xx/Makefile<br />Collecting target info: done<br />/home/user/Desktop/AT904L-03.07/include/prereq-build.mk:17: recipe for target &#039;prereq-non-root&#039; failed<br />Prerequisite check failed. Use FORCE=1 to override.<br />/home/user/Desktop/AT904L-03.07/include/toplevel.mk:125: recipe for target &#039;tmp/.prereq-build&#039; failed<br />make[1]: *** [tmp/.prereq-build] Error 1<br />/home/user/Desktop/AT904L-03.07/include/toplevel.mk:150: recipe for target &#039;world&#039; failed<br />make: *** [world] Error 2</p></blockquote></div><br /><p>i checked for missing depencies or ownership, tried several version of the open source code but it wont compile.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363382">
				<div class="post-metadata">
					<div class="post-num">Post #352</div>
					<div class="post-author">kitor</div>
					<div class="post-datetime">
						8 Aug 2017, 21:45					</div>
				</div>
				<div class="post-content content">
					<p>Unfortunately I failed on compiling mine but from different reasons. On my notebook after 12 hours there was not a huge progress on compilation and I don&#039;t own any more powerful machine...<br />I have access to 64+ core servers but due to http proxy (no direct internet connection) I cannot compile this as curl / git clone via ssh is used during compilation (wtf?), thus I would need to replace all git clones with http + make curl aware of proxy, that would require a ton of hacking.</p><p>I saw a werid issue on firmware that QAuge compiled - I cannot use any program from repository, packages are installing fine but executables just doesn&#039;t work, eg:<br /></p><div class="codebox"><pre><code>root@easybox:~# opkg install iftop
Installing iftop (2017-02-06-35af3cf6-1) to root...
Downloading http://downloads.lede-project.org/snapshots/packages/mips_24kc/base/iftop_2017-02-06-35af3cf6-1_mips_24kc.ipk
Multiple packages (libpthread and libpthread) providing same name marked HOLD or PREFER. Using latest.
Configuring iftop.
root@easybox:~# iftop
-ash: iftop: not found
root@easybox:~# cd /usr/bin
root@easybox:/usr/bin# ./iftop
-ash: ./iftop: not found
root@easybox:/usr/bin#</code></pre></div><p>I wonder if there was some change like libc in meantime that broken binary compatibility, or what?</p><p><strong>As for ethernet on WAN</strong> question, don&#039;t know if it was answered yet - internal Lantiq switch is connected to CPU, WAN and LAN - and then Realtek switch that provides LAN ports. Thus it&#039;s just plug and play, at least on QAuge image. Only thing I changed was obviously vlan configuration as WAN was on vlan 2, while LAN was on 1...</p><p>And OT here - I also have O2 6431 but I never was able to see any traffic on ethernet/WAN port... cable was detected but no traffic.&nbsp; Anyway this was some time ago and i thrown it away since.</p><p>@QAuge, do you have some newer image?</p><p>[edit]<br /></p><div class="codebox"><pre><code>Linux easybox.wielun.kitor.home 4.9.14 #0 SMP Tue Mar 21 16:55:51 2017 mips GNU/Linux</code></pre></div><p>I *might* be running old Image (March 21 / lede r3911). In fact, I don&#039;t see anything wireless related (didn&#039;t noticed that earlier as I&#039;m using Cisco AP anyway). That would be an epic fail <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /><br />Unfortunately I&#039;ll have only remote access there for 2 weeks so this needs to wait.</p>											<p class="post-edited">(Last edited by <strong>kitor</strong> on 8 Aug 2017, 22:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363387">
				<div class="post-metadata">
					<div class="post-num">Post #353</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						8 Aug 2017, 23:25					</div>
				</div>
				<div class="post-content content">
					<p>I have been running LEDE on my Easybox 904 xDSL for a few hours now, and I&#039;m thoroughly impressed by the device. (I got it, believe it or not, for €1 on ebay, the original owner thought it was defective. I can only assume he didn&#039;t have the patience to wait through the painfully long boot process of the original firmware.)</p><p>However, in the spirit of keeping it as simple as possible, I would love a bare-bones image. The image I&#039;m using right now, posted in <a href="https://forum.openwrt.org/viewtopic.php?pid=360507#p360507">post #318</a>, includes all sort of things I don&#039;t need (adblock, privoxy, asterisk).</p><p>As long as this device doesn&#039;t have official support, it would be super lovely to have an imagebuilder archive for it, so we can all build our own versions without having to go through the process of building our own (which, see above, seems to be a problem). Maybe even in a version where the second core is active in lieu of the PBX. But that&#039;s really me asking for kindness from QAuge&#039;s part.</p><p>I can see there has been movement in his fork in the last few days, so maybe things are moving.</p><p>For the time being, let me say thanks for all the effort, impressive and well appreciated!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363389">
				<div class="post-metadata">
					<div class="post-num">Post #354</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						9 Aug 2017, 00:55					</div>
				</div>
				<div class="post-content content">
					<p>Is VPE and SMP really not possible ?<br /></p><div class="quotebox"><cite>https://wiki.openwrt.org/doc/hardware/soc/soc.lantiq wrote:</cite><blockquote><p>SMP/Multithreading<br />...<br />AR9/VR9: Their cores have multithreading support, but it does not work properly with these SoCs without some hacks seen in the source dumps of some boards. For now multithreading is not supported without specific patches for the AR9 and VR9.<br />...</p></blockquote></div><p>Or need we some hacks and what kind of hacks ?</p><br /><br /><p>@kovz<br /></p><div class="quotebox"><blockquote><p>I&#039;m not sure about this. I think this is interface for answerphone on real phone line(analog).</p></blockquote></div><p>Is there an analog line ? i can not see.</p><div class="quotebox"><blockquote><p>In my case I don&#039;t use lantiq switch functionality. I prefer to have 3 separate interfaces: eth0 connected to rtl8367 switch, eth1 connected to rt8338 iNIC and eth2 as optional WAN(grey connector)</p></blockquote></div><p>How does it work ? or better have you some code ?<br />How fast is the VDSL ?</p><p>I ask my self why have Lantiq VR9 devices so slow VDSL speed ? And is the VDSL speed realy slow or my expectations to high ?<br />Theoretikly are 200Mbit/s are possible.<br />And of cource a device like O2-Box 6431 with 100Mbit/s ports can not do that.<br />But the 904x should do that because vdsl &lt;-&gt; ethernet are connected via Gbit/s.<br />I have a 100Mbit/s VDSL line and i can test it: the reach ca 60-65Mbit/s only<br />(I have check with Provider FB7360 the connection speed are 95Mbit/s (sync 100Mbit/s))<br />The O2-Box 6431 is a littlebit faster</p><p>On the other hand the FB-7360 can only do 100Mbit/s according to Datasheet.<br />And the <a href="http://media.vodafone.de/www/assets/pdf/hilfe-und-support/devices/vodafone/904xdsl/Datenblatt_EasyBox_904_xDSL.pdf">904x Datasheet says 50Mbit/s</a></p><br /><br /><p>@kitor <br />the Datasheet says Supports all common ADSL Annex B and Annex J standards<br /></p><div class="quotebox"><blockquote><p>there&#039;s some kind of config resistor on board of lantiq routers which limits it to analog/isdn mode.</p></blockquote></div><p>when Annex J is possible contradicts the theory.</p><p>The LEDE devlop mailing list says this: <a href="http://lists.infradead.org/pipermail/lede-dev/2017-July/008238.html">http://lists.infradead.org/pipermail/le … 08238.html</a></p><p>can get me a command how can i test ADSL Annex A ? can i test it without a DSL-line ?</p><br /><br /><p>OT: O2-Box 6431<br />from my /etc/config/network<br /></p><div class="codebox"><pre><code>...
config switch_vlan
    option device &#039;switch0&#039;
    option vlan &#039;2&#039;
    option ports &#039;0 6t&#039;
    option vid &#039;2&#039;

config interface &#039;eth_wan&#039;
    option proto &#039;dhcp&#039;
    option ifname &#039;eth1.2&#039;
    option auto &#039;1&#039;

config interface &#039;eth_wan6&#039;
    option proto &#039;dhcpv6&#039;
    option auto &#039;0&#039;
    option reqaddress &#039;try&#039;
    option reqprefix &#039;auto&#039;
    option ifname &#039;@eth_wan&#039;
...</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363397">
				<div class="post-metadata">
					<div class="post-num">Post #355</div>
					<div class="post-author">kitor</div>
					<div class="post-datetime">
						9 Aug 2017, 10:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Or need we some hacks and what kind of hacks ?</p></blockquote></div><p>This was already answered, remove &quot;nosmp&quot; from built-in cmdline and recompile. That&#039;s what I wanted to do.</p><div class="quotebox"><blockquote><p>the Datasheet says Supports all common ADSL Annex B and Annex J standards</p></blockquote></div><p>Yes, Easybox 803 datasheet says the same and guess what? It was working on Annex A (POTS) for years in my home. It was enough to change firmware to Annex A and remove/bypass frequency filter.<br />I don&#039;t care about official device datasheets, I care about real internals power <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> HW is capable of Annex A, only question is how to force it to load firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363495">
				<div class="post-metadata">
					<div class="post-num">Post #356</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						10 Aug 2017, 23:43					</div>
				</div>
				<div class="post-content content">
					<p>Stray observation:</p><div class="quotebox"><cite>QAuge wrote:</cite><blockquote><p>I wrote a small script to enable the lcd4linux/display on touch events and disable it after a while. (It makes no sense for me, to leave the display switched on all the time).</p></blockquote></div><p>After some experimentation, I am confident to say that lcd4linux itself is not a huge burden on the CPU. In fact, I get hardly any blip on the CPU utilization after tuning the update intervals down to sensible levels. It&#039;s only the rapid updates that tax the CPU. In your script some values (CPU bar, WAN/LAN values and bars) are updated 10 times a second, which makes no sense at all.</p><p>After setting those to more sensible values, it would be sufficient to &quot;turn off the backlight&quot; -- which turns off the LCD altogether, not only the backlight -- and turn it on again on keypress. No need to constantly stop and start lcd4linux itself.</p>											<p class="post-edited">(Last edited by <strong>metai</strong> on 10 Aug 2017, 23:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363983">
				<div class="post-metadata">
					<div class="post-num">Post #357</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						20 Aug 2017, 01:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />the normal build process (like: ./scripts/feeds update -a &amp;&amp; ./scripts/feeds install -a)<br />is not really usefull for me, because a complett build of all packages take 2-3 days.<br />I want to build from current source or v17.01.2.<br />For this reason i use: ./updateGitRepo.sh<br />what does the script exactly ? and how can i use with v17.01.2 ?</p><p>I want to build only the kernel-modules, some basic, SDK and imagebuilder without ./scripts/feeds install.<br />Then i want to build <a href="https://github.com/Quallenauge/lede-feeds-easybox904.git">https://github.com/Quallenauge/lede-fee … box904.git</a> via SDK<br />here are the next problem:<br /></p><div class="codebox"><pre><code>rm -rf /tmp/build/lsdk/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/fbtft-eb904-1.0.0/.pkgdir/kmod-fbtft-eb904.installed /tmp/build/lsdk/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/fbtft-eb904-1.0.0/.pkgdir/kmod-fbtft-eb904
mkdir -p /tmp/build/lsdk/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/fbtft-eb904-1.0.0/.pkgdir/kmod-fbtft-eb904
ERROR: module &#039;/tmp/build/lsdk/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/linux-4.9.40/drivers/video/fbdev/core/syscopyarea.ko&#039; is missing.
make[2]: *** [/tmp/build/lsdk/build_dir/target-mips_24kc_musl/linux-lantiq_xrx200/fbtft-eb904-1.0.0/.pkgdir/kmod-fbtft-eb904.installed] Error 1
make[2]: Leaving directory `/tmp/build/lsdk/feeds/easybox904/kernel/fbtft&#039;
make[1]: *** [package/feeds/easybox904/fbtft/compile] Error 2
make[1]: Leaving directory `/tmp/build/lsdk&#039;
make: *** [package/fbtft/compile] Error 2</code></pre></div><p>I really did not want that, but it is the only solution that i know.<br /></p><div class="codebox"><pre><code>cat &quot;$RESULT_D/step0/feeds.conf&quot; | grep &quot;easybox904&quot; &gt; ./feeds.conf || exit 1
./scripts/feeds update -a
./scripts/feeds install -a</code></pre></div><p>Them I try to build asterisk-13.x via SDK<br />here comes one error after another the most can be solve via <br />adding and compiling the following packages: gmp, nettle, package, readline, uclibc++ and zlib<br />Them i failed on:<br /></p><div class="codebox"><pre><code>checking for stdatomic.h... yes
checking for getrandom... no
checking for getentropy... no
checking for NETTLE... no
configure: error: 
  ***
  *** Libnettle 3.1 was not found.

make[2]: *** [/tmp/build/lsdk/build_dir/target-mips_24kc_musl/gnutls-3.5.13/.configured_dd2ccb64070067d6c8df9fdb8d05c3b2] Error 1
make[2]: Leaving directory `/tmp/build/lsdk/feeds/packages/libs/gnutls&#039;
make[1]: *** [package/feeds/packages/gnutls/compile] Error 2
make[1]: Leaving directory `/tmp/build/lsdk&#039;
make: *** [package/asterisk-13.x/compile] Error 2

....

mips-openwrt-linux-musl-gcc -I. -I/tmp/build/lsdk/staging_dir/target-mips_24kc_musl/usr/include -I/tmp/build/lsdk/staging_dir/target-mips_24kc_musl/include -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/usr/include -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/include/fortify -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/include  -DHAVE_CONFIG_H -Os -pipe -mno-branch-likely -mips32r2 -mtune=24kc -fno-caller-saves -fno-plt -fhonour-copts -Wno-error=unused-but-set-variable -Wno-error=unused-result -msoft-float -iremap/tmp/build/lsdk/build_dir/target-mips_24kc_musl/nettle-3.3:nettle-3.3 -Wformat -Werror=format-security -fstack-protector -D_FORTIFY_SOURCE=1 -Wl,-z,now -Wl,-z,relro -fpic  -ggdb3 -Wall -W   -Wmissing-prototypes -Wmissing-declarations -Wstrict-prototypes   -Wpointer-arith -Wbad-function-cast -Wnested-externs -fpic -MT ecc-mod-arith.o -MD -MP -MF ecc-mod-arith.o.d -c ecc-mod-arith.c \
&amp;&amp; true
mips-openwrt-linux-musl-gcc -I. -I/tmp/build/lsdk/staging_dir/target-mips_24kc_musl/usr/include -I/tmp/build/lsdk/staging_dir/target-mips_24kc_musl/include -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/usr/include -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/include/fortify -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/include  -DHAVE_CONFIG_H -Os -pipe -mno-branch-likely -mips32r2 -mtune=24kc -fno-caller-saves -fno-plt -fhonour-copts -Wno-error=unused-but-set-variable -Wno-error=unused-result -msoft-float -iremap/tmp/build/lsdk/build_dir/target-mips_24kc_musl/nettle-3.3:nettle-3.3 -Wformat -Werror=format-security -fstack-protector -D_FORTIFY_SOURCE=1 -Wl,-z,now -Wl,-z,relro -fpic  -ggdb3 -Wall -W   -Wmissing-prototypes -Wmissing-declarations -Wstrict-prototypes   -Wpointer-arith -Wbad-function-cast -Wnested-externs -fpic -MT ecc-pp1-redc.o -MD -MP -MF ecc-pp1-redc.o.d -c ecc-pp1-redc.c \
&amp;&amp; true
mips-openwrt-linux-musl-gcc -I. -I/tmp/build/lsdk/staging_dir/target-mips_24kc_musl/usr/include -I/tmp/build/lsdk/staging_dir/target-mips_24kc_musl/include -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/usr/include -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/include/fortify -I/tmp/build/lsdk/staging_dir/toolchain-mips_24kc_gcc-6.3.0_musl/include  -DHAVE_CONFIG_H -Os -pipe -mno-branch-likely -mips32r2 -mtune=24kc -fno-caller-saves -fno-plt -fhonour-copts -Wno-error=unused-but-set-variable -Wno-error=unused-result -msoft-float -iremap/tmp/build/lsdk/build_dir/target-mips_24kc_musl/nettle-3.3:nettle-3.3 -Wformat -Werror=format-security -fstack-protector -D_FORTIFY_SOURCE=1 -Wl,-z,now -Wl,-z,relro -fpic  -ggdb3 -Wall -W   -Wmissing-prototypes -Wmissing-declarations -Wstrict-prototypes   -Wpointer-arith -Wbad-function-cast -Wnested-externs -fpic -MT ecc-pm1-redc.o -MD -MP -MF ecc-pm1-redc.o.d -c ecc-pm1-redc.c \
&amp;&amp; true
make eccdata
make[4]: Entering directory `/tmp/build/lsdk/build_dir/target-mips_24kc_musl/nettle-3.3&#039;
gcc -O `test -f eccdata.c || echo &#039;./&#039;`eccdata.c \
-o eccdata
make[4]: Leaving directory `/tmp/build/lsdk/build_dir/target-mips_24kc_musl/nettle-3.3&#039;
echo stamp &gt; eccdata.stamp
./eccdata 192 7 6 0 &gt; ecc-192.hT &amp;&amp; mv ecc-192.hT ecc-192.h
Table size: 320 entries
/bin/sh: line 1: 31953 Floating point exception./eccdata 192 7 6 0 &gt; ecc-192.hT
make[3]: *** [ecc-192.h] Error 136
make[3]: Leaving directory `/tmp/build/lsdk/build_dir/target-mips_24kc_musl/nettle-3.3&#039;
make[2]: *** [/tmp/build/lsdk/build_dir/target-mips_24kc_musl/nettle-3.3/.built] Error 2
make[2]: Leaving directory `/tmp/build/lsdk/package/feeds/packages/nettle&#039;
make[1]: *** [package/feeds/packages/nettle/compile] Error 2
make[1]: Leaving directory `/tmp/build/lsdk&#039;
make: *** [package/nettle/compile] Error 2</code></pre></div><p>after 1,5 week of trying i stop this and experiment with the base image that i have.<br />here comes the next problems:<br />no nandwrite and flash_eraseall and no <strong>passwd</strong> app (in which packet is that ?)</p><p>So my main question is:<br />how can i merge the 904x branch with the current master and v17.01.2 Lede branch ?<br />and how can i make a patch from it ?<br />So that i can clone Lede and patch them to make a 904x build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p363984">
				<div class="post-metadata">
					<div class="post-num">Post #358</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						20 Aug 2017, 01:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>This was already answered, remove &quot;nosmp&quot; from built-in cmdline and recompile. That&#039;s what I wanted to do.</p></blockquote></div><p>This is clear, but it is not what i want i want SMP + VMMC, but it should is not possible.<br />SMP is not mandatory for me but i want a fast device (100Mbit/s VDSL) + telephon support.<br />The FritzBox 7360 with the same chipset can do it.</p><p>for more understanding i read this:<br /><a href="https://wikidevi.com/wiki/Lantiq">https://wikidevi.com/wiki/Lantiq</a><br />and this:<br /><a href="https://wikidevi.com/wiki/MIPS_34Kc#MIPS32_34Kc_.2F_34Kf">https://wikidevi.com/wiki/MIPS_34Kc#MIP … c_.2F_34Kf</a><br />VPE does not mean Voice Processing Engine but Virtual Processing Elements.<br />VPE and SMP together are not possible because SMP need the other VPE right ?<br />The question is can VMMC theoreticlly working without VPE ?&nbsp; <br />will it faster when choice the exact architecture like 34Kc (vrx200) instead of 24Kc (danube) ?<br />Or some other tweaks like -O3 instead of -Os. proposals ?</p><p>so i have do a SMP build via Imagebuilder and SDK:<br /></p><div class="codebox"><pre><code>#!/bin/bash

AddNewDtsChanges(){
# $1 = is the path to the unpacked image-builder
# $2 = is the path to the unpacked SDK
# $3 = is the name suffix for the .dts file
# It determines the path to the .dts file: startdtsfile=$imgbpath/target/linux/${target}/dts/${device}${namesfx}.dts
    local sdkpath imgbpath namesfx arch target subtarget device libc gccver startdtsfile
    imgbpath=$1
    sdkpath=$2
    namesfx=${3}
    
    cd &quot;$imgbpath&quot;
    arch=$(cat ./.config | grep &quot;CONFIG_TARGET_ARCH_PACKAGES&quot; | cut -d= -f2 | tr -d \&quot;)
    target=$(cat ./.config | grep &quot;CONFIG_TARGET_BOARD&quot; | cut -d= -f2 | tr -d \&quot;)
    subtarget=$(cat ./.config | grep &quot;CONFIG_TARGET_SUBTARGET&quot; | cut -d= -f2 | tr -d \&quot;)
    device=$(cat ./.config | grep &quot;CONFIG_TARGET_PROFILE&quot; | cut -d= -f2 | tr -d \&quot; | cut -d_ -f2)
    libc=$(cat ./.config | grep &quot;CONFIG_TARGET_SUFFIX&quot; | cut -d= -f2 | tr -d \&quot;)
    gccver=$(cat ./.config | grep &quot;CONFIG_GCC_VERSION&quot; | cut -d= -f2 | tr -d \&quot;)

    kver=$(find &quot;$imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}&quot; -mindepth 1 -maxdepth 1 -type d -name linux-* | rev | cut -d- -f1 | rev)

    #rm ./build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/*.bin
    rm ./build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/*.dtb
    rm ./build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/*.new
    
    test -z &quot;$OLDPATH&quot; &amp;&amp; export OLDPATH=$PATH
    export PATH=$OLDPATH:$sdkpath/staging_dir/host/bin:$sdkpath/staging_dir/toolchain-${arch}_gcc-${gccver}_${libc}/bin
    export STAGING_DIR=$sdkpath/staging_dir
    
    startdtsfile=$imgbpath/target/linux/${target}/dts/${device}${namesfx}.dts
    
    mips-openwrt-linux-musl-cpp -nostdinc -x assembler-with-cpp \
        -I$imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/linux-${kver}/arch/mips/boot/dts \
        -I$imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/linux-${kver}/arch/mips/boot/dts/include \
        -undef -D__DTS__  \
        -o $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.dtb.tmp $startdtsfile || exit 1
        
    $imgbpath/build_dir/target-${arch}_musl/linux-lantiq_${subtarget}/linux-$kver/scripts/dtc/dtc -O dtb -i../dts/ \
        -o $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.dtb $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.dtb.tmp    
    rm -f $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.dtb.tmp

    cp -f $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/vmlinux $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin
    cat $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.dtb &gt;&gt; $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin

    $imgbpath/staging_dir/host/bin/lzma e $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin \
    -lc1 -lp2 -pb2 $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.new
    mv $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.new $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin

    let size=&quot;$(stat -c%s $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin)&quot; pad=&quot;128* 1024&quot; offset=&quot;64&quot; pad=&quot;(pad - ((size + offset) % pad)) % pad&quot; newsize=&#039;size + pad&#039;
    dd if=$imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin of=$imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.new bs=$newsize count=1 conv=sync
    mv $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.new $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin

    mkimage -A mips -O linux -T kernel -C lzma -a 0x80002000 -e 0x80002000 -n &quot;MIPS LEDE Linux-${kver}&quot; -d $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.new
    mv $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin.new $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin

    cp $imgbpath/build_dir/target-${arch}_${libc}/linux-${target}_${subtarget}/${device}-kernel${namesfx}.bin $imgbpath/bin/targets/${target}/${subtarget}/
    export PATH=$OLDPATH
}


mkdir /tmp/build
cd /tmp/build
tar -xf &lt;PATH-To-Image-Builder&gt;/lede-imagebuilder-lantiq-xrx200.Linux-x86_64.tar.xz
cd ./lede-imagebuilder-lantiq-xrx200.Linux-x86_64
tar -xf &lt;PATH-To-SDK&gt;/lede-sdk-lantiq-xrx200_gcc-6.3.0_musl.Linux-x86_64.tar.xz

# note for sed use &quot;\:&quot; instead of &quot;:&quot;
bootargs=&quot;console=ttyLTQ0,115200 ubi.mtd=12,2048 panic=1 DTS-TEST-SEQNO=77 root=ubi0\:rootfs rootfstype=ubifs rootdelay=7&quot;

cat ./target/linux/lantiq/dts/VGV952CJW33-E-IR.dts | \
sed /vmmc/,/&quot;};&quot;/d | sed /sram/,/&quot;};&quot;/d | \
sed -r s:&quot;^[[:blank:]]*bootargs.*&quot;:&quot;\t\tbootargs = \&quot;${bootargs}\&quot;;&quot;:g \
&gt; ./target/linux/lantiq/dts/VGV952CJW33-E-IR-nandsmp.dts || exit 1
AddNewDtsChanges /tmp/build/lede-imagebuilder-lantiq-xrx200.Linux-x86_64 /tmp/build/lede-imagebuilder-lantiq-xrx200.Linux-x86_64/lede-sdk-lantiq-xrx200_gcc-6.3.0_musl.Linux-x86_64 -nandsmp

exit 0</code></pre></div><p>so the result is:<br /></p><div class="codebox"><pre><code>root@LEDE:/# cat /proc/cpuinfo
system type             : xRX200 rev 1.2
machine                 : VGV952CJW33-E-IR - EasyBox 904 xDSL
processor               : 0
cpu model               : MIPS 34Kc V5.6
BogoMIPS                : 332.54
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
package                 : 0
core                    : 0
VPE                     : 0
VCED exceptions         : not available
VCEI exceptions         : not available

processor               : 1
cpu model               : MIPS 34Kc V5.6
BogoMIPS                : 251.90
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 16
extra interrupt vector  : yes
hardware watchpoint     : yes, count: 4, address/irw mask: [0x0ffc, 0x0ffc, 0x0ffb, 0x0ffb]
isa                     : mips1 mips2 mips32r1 mips32r2
ASEs implemented        : mips16 dsp mt
shadow register sets    : 1
kscratch registers      : 0
package                 : 0
core                    : 0
VPE                     : 0
VCED exceptions         : not available
VCEI exceptions         : not available</code></pre></div><br /><p>And i test them as normal NATed Router on my old laptop with only a 100Mbit/s LAN.<br />With a 100Mbit/s VDSL line (sync 101Mbit/s) and 100Mbit/s normally enable in reality.<br />I get (the maximum rate) of ~ 95Mbit/s.<br />and the webinterface is noticeably faster.</p><p>without SMP i get only ~75Mbit/s</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364139">
				<div class="post-metadata">
					<div class="post-num">Post #359</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						22 Aug 2017, 21:25					</div>
				</div>
				<div class="post-content content">
					<p>Hi there.</p><p>Some short informations about the future development of the lede integration.<br />Finally the device works here, built with the vr9_default.config. From time to time,<br />I perform a &quot;git rebase&quot; to update my branch to the latest lede branch to follow their development.<br />Not further development or optimizations are made right now, since currently it fits my needs.<br />I&#039;m happy in case someone would like to create a pull request or something like that to improve the<br />integration.</p><div class="quotebox"><cite>metai wrote:</cite><blockquote><p>After setting those to more sensible values, it would be sufficient to &quot;turn off the backlight&quot; -- which turns off the LCD altogether, not only the backlight -- and turn it on again on keypress. No need to constantly stop and start lcd4linux itself.</p></blockquote></div><p>But it saves some memory for people, which doesn&#039;t need it and never turns them on. Nevertheless if you provide an improved configuration, I will include this change. :-)</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>Hi,<br />the normal build process (like: ./scripts/feeds update -a &amp;&amp; ./scripts/feeds install -a)<br />is not really usefull for me, because a complett build of all packages take 2-3 days.</p></blockquote></div><p>&quot;./scripts/feeds install -a&quot; installs only the package in the build system. They are -not- selected automatically for build.<br />You have to (un-)select the needed packages via menuconfig. I recommend to use the vr9_default.config as base and strip it via trial and error.</p><div class="quotebox"><cite>Plonk34 wrote:</cite><blockquote><p>For this reason i use: ./updateGitRepo.sh<br />what does the script exactly ? and how can i use with v17.01.2 ?</p></blockquote></div><p>updateGitRepo creates a temporary branch, switches to it, removes the current master branch and checks them out from the remote branch and switches &quot;back&quot; to it. It is needed, because otherwise git would like to merge the changes from the remote branch. I use the git rebase functionality to apply all my patches on top of the origin lede branch and overwrites my branch on github. So it confuses the git if you only use &quot;git pull&quot; for the cloned branch.</p><p>If you want to to use it with v17.01.2, you have to apply all changes made by me (cherry-pick) or something like that.</p><p>I tried to enable SMP and VCC but with no luck. There where some exceptions and kernel panics so I don&#039;t tried it further.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364206">
				<div class="post-metadata">
					<div class="post-num">Post #360</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						24 Aug 2017, 05:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>QAuge wrote:</cite><blockquote><div class="quotebox"><cite>metai wrote:</cite><blockquote><p>After setting those to more sensible values, it would be sufficient to &quot;turn off the backlight&quot; -- which turns off the LCD altogether, not only the backlight -- and turn it on again on keypress. No need to constantly stop and start lcd4linux itself.</p></blockquote></div><p>But it saves some memory for people, which doesn&#039;t need it and never turns them on.</p></blockquote></div><p>I feel it&#039;s not that much of an issue with 128 MB of RAM but of course you are correct. I measure lcd4linux at 4600 kB peak (with my current configuration) -- but I also measure your lcdController process at 6000 kB (Edit: I was able to replace that one with a small bash script, weighing in at ~1100 kB. So either more memory saved, or lcd4linux + auto-off for the &quot;price&quot; of just your auto-off LUA.)</p><div class="quotebox"><blockquote><p>Nevertheless if you provide an improved configuration, I will include this change. :-)</p></blockquote></div><p>I&#039;ll gladly submit it to you when I&#039;m done with what I have in mind. I&#039;m currently working on a complete replacement for the whole layout, tailored to the router&#039;s specific values (such as DSL up/down rates, ports population etc.) and, hopefully, with a rather nice layout.</p><p>I&#039;m also looking into replacing that ghastly startup animation. Which would make it the first OpenWrt/LEDE device to get a custom &quot;boot animation&quot;.</p><p>Thanks again for all your work, I feel this device is already pretty much brilliant now. I second the wish for a 17.01 stock image one could use with the official opkg repositories, but, eh, that would just be the cherry on top.</p><p>Edit: I do have problems setting the Wifi channels, though. I don&#039;t care much about the 2.4GHz Wifi, incidentally the default channel 11 is the one I want to set it to anyway. But especially my attempts to move 5GHz Wifi off channel 36 have been unsuccessful so far. I&#039;d be grateful for any help there.</p>											<p class="post-edited">(Last edited by <strong>metai</strong> on 25 Aug 2017, 07:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364259">
				<div class="post-metadata">
					<div class="post-num">Post #361</div>
					<div class="post-author">Samweis</div>
					<div class="post-datetime">
						24 Aug 2017, 19:26					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>biomajuss wrote:</cite><blockquote><p>Can somebody please help me with the Debricking process described in the wiki?!</p><p>So cat the u-boot.asc onto the Easybox was successful indicated by *** and then closing the connection. But what do I do after the cat?! Can please somebody help me <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>So now I&#039;am in the unlocked u-boot but how do I get it onto the persistent memory? With loady?</p></blockquote></div><p>Hi biomajuss,</p><p>I hope you have not given up yet, because you did not get an answer.</p><p>I have not gotten my hands on a Easybox 904 yet, but please have a look at the description of the debricking process for the ARV752DPW22. After you uploaded the u-boot image via serial connection, u-boot just lives in RAM.<br />You need to upload another u-boot version suited for flashing to NAND. Uploading can be done via tftp or, since you already have a serial connection, loadx or loady.<br />This loads the image to a RAM address. When it completes, it gives you the length of the file in hex numbers (&lt;size&gt;). Check whether the file was uploaded correctly with the crc32 command.<br />Then erase the flash section and copy from RAM to flash.<br />erase B0000000 +&lt;size&gt;<br />cp.b &lt;from&gt; B0000000 &lt;size&gt;<br />I assume the start of the flash will be at B0000000. &lt;size&gt; is the length of the file, and &lt;from&gt; the location in RAM you uploaded to.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364300">
				<div class="post-metadata">
					<div class="post-num">Post #362</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						25 Aug 2017, 04:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>metai wrote:</cite><blockquote><p>I&#039;m also looking into replacing that ghastly startup animation.</p></blockquote></div><p>HellooooOOoo nurse!<br /><span class="postimg"><img src="http://i.imgur.com/LoWV3as.jpg" alt="http://i.imgur.com/LoWV3as.jpg" /></span><br />That&#039;s the PoC, now for something more sensible to replace the whole animation.</p>											<p class="post-edited">(Last edited by <strong>metai</strong> on 25 Aug 2017, 05:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364308">
				<div class="post-metadata">
					<div class="post-num">Post #363</div>
					<div class="post-author">QAuge</div>
					<div class="post-datetime">
						25 Aug 2017, 09:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>metai wrote:</cite><blockquote><div class="quotebox"><cite>metai wrote:</cite><blockquote><p>I&#039;m also looking into replacing that ghastly startup animation.</p></blockquote></div><p>HellooooOOoo nurse!<br /><span class="postimg"><img src="http://i.imgur.com/LoWV3as.jpg" alt="http://i.imgur.com/LoWV3as.jpg" /></span><br />That&#039;s the PoC, now for something more sensible to replace the whole animation.</p></blockquote></div><p>Yeah - Congratulations!&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> The device is one step more opened.</p><p>In meantime, I switched to musl from uclibc to support the official repositories to install packages via opkg.<br />Next version will contain that change.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364320">
				<div class="post-metadata">
					<div class="post-num">Post #364</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						25 Aug 2017, 15:48					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>QAuge wrote:</cite><blockquote><p>The device is one step more opened.</p></blockquote></div><p>Well, it&#039;s not a crucial part by any means, but it always bothered me. So I&#039;ll do what I can.</p><div class="quotebox"><blockquote><p>In meantime, I switched to musl from uclibc to support the official repositories to install packages via opkg.<br />Next version will contain that change.</p></blockquote></div><p>That&#039;s absolutely great news. So that new version will just come with packages for basic operation (like other release images, maybe including lcd4linux), and we can add the ones we actually need (I don&#039;t need Asterisk, for example)? Are you going for the 17.01.2 release or a snapshot?</p>											<p class="post-edited">(Last edited by <strong>metai</strong> on 25 Aug 2017, 15:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364350">
				<div class="post-metadata">
					<div class="post-num">Post #365</div>
					<div class="post-author">manni</div>
					<div class="post-datetime">
						25 Aug 2017, 22:44					</div>
				</div>
				<div class="post-content content">
					<p>hi,<br />has everybody expiriences with Telekom VDSL100 Vectoring Lines ?<br />Here my values:</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Sync&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;AVM Speedtest</p><p>FB 7490&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 104/40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;94/35</p><p>EB 904&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 99/38&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 93/34<br />OEM opened SW</p><p>EB904&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;97/40&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <strong>44</strong>/31<br />OpenWrt QAuge</p><p>The performance of the Box with OpenWRT is not good. Only half of the possible download.<br />To connect the Line, there was a little handwork necessary.<br />The dsl_vr9_firmware from the OpenWrtBuild did not work for me.<br />From the following Site:<br />xdarklight.github.io/lantiq-xdsl-firmware-info/<br />i tried some, and the versions from the Zyxel and the Netgear device connected me.</p><p>Now, I don&#039;t know if i should look for a better xdsl firmware, or&nbsp; trying to make changes in the box configuration.</p><p>Someone has already experiences with this problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364379">
				<div class="post-metadata">
					<div class="post-num">Post #366</div>
					<div class="post-author">taxidriver</div>
					<div class="post-datetime">
						26 Aug 2017, 14:36					</div>
				</div>
				<div class="post-content content">
					<p>Hiya,</p><p>I have already made numerous attempts to get my WAN up, but although DSL-Status looks fine the connection to the ISP has never been successful yet. Only got the &quot;... timeout waiting for PADO packets&quot; messages and never knew how to react.</p><p>So if it&#039;s the DSL-firmware, could you please hint what file you downloaded from where and where you put that file not to speak of the other configuration changes that you needed to make maybe? Thanks in advance.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364381">
				<div class="post-metadata">
					<div class="post-num">Post #367</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						26 Aug 2017, 14:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>taxidriver wrote:</cite><blockquote><p>although DSL-Status looks fine the connection to the ISP has never been successful yet. Only got the &quot;... timeout waiting for PADO packets&quot; messages</p></blockquote></div><p>If you&#039;re on VDSL, did you set the correct VLAN ID on your PPPoE connection? For example<br /></p><div class="codebox"><pre><code>config interface &#039;wan&#039;
   option ifname &#039;ptm0.7&#039;
   ...</code></pre></div><p>if your ISP requires VLAN ID 7.</p>											<p class="post-edited">(Last edited by <strong>metai</strong> on 26 Aug 2017, 14:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364382">
				<div class="post-metadata">
					<div class="post-num">Post #368</div>
					<div class="post-author">taxidriver</div>
					<div class="post-datetime">
						26 Aug 2017, 15:19					</div>
				</div>
				<div class="post-content content">
					<p>How do I get to know that? I just stayed with the original configuration.<br />My connection is VDSL2-based and I didn&#039;t know that different ISPs make a different VLAN configuration necessary.<br />That&#039;s what the DSL Status displays:<br /><span class="postimg"><img src="http://up.picr.de/30183969ds.jpg" alt="http://up.picr.de/30183969ds.jpg" /></span></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364384">
				<div class="post-metadata">
					<div class="post-num">Post #369</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						26 Aug 2017, 16:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>taxidriver wrote:</cite><blockquote><p>My connection is VDSL2-based and I didn&#039;t know that different ISPs make a different VLAN configuration necessary.</p></blockquote></div><p>All of them do, at least here in Germany. O2/Telefonica and Telekom both conveniently use VLAN ID 7, you might want to try that first. Just edit your <em>/etc/config/network</em> in the one place I outlined above (don&#039;t edit &quot;ptm0&quot; in other places) and restart. It&#039;s really that simple, changing &quot;ptm0&quot; to &quot;ptm0.7&quot; assigns VLAN ID 7 to the modem connection.</p><div class="quotebox"><blockquote><p>That&#039;s what the DSL Status displays:</p></blockquote></div><p>Yes yes, the line itself is connected, that&#039;s clearly not the issue here.</p>											<p class="post-edited">(Last edited by <strong>metai</strong> on 26 Aug 2017, 16:24)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364406">
				<div class="post-metadata">
					<div class="post-num">Post #370</div>
					<div class="post-author">manni</div>
					<div class="post-datetime">
						26 Aug 2017, 22:10					</div>
				</div>
				<div class="post-content content">
					<p>@ taxidriver: your modem is up. you need no other dsl firmware.<br />As metai wrote: change ptm0 to ptm0.7</p><p>and dont forget to create the VLAN7:<br /></p><div class="codebox"><pre><code> config switch_vlan
    option device &#039;switch0&#039;
    option vlan &#039;7&#039;
    option vid &#039;7&#039;
    option ports &#039;4 6t&#039;</code></pre></div><p> </p><p>When you do this, yor trafic is tagged to ID 7 and the connection will be etablished</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364410">
				<div class="post-metadata">
					<div class="post-num">Post #371</div>
					<div class="post-author">metai</div>
					<div class="post-datetime">
						26 Aug 2017, 22:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>manni wrote:</cite><blockquote><p>and dont forget to create the VLAN7:</p></blockquote></div><p>That&#039;s unnecessary for an internal modem. The VLAN begins and ends inside the virtual modem interface, it never has to pass through the switch or get its VLAN from it.</p>											<p class="post-edited">(Last edited by <strong>metai</strong> on 26 Aug 2017, 22:59)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364411">
				<div class="post-metadata">
					<div class="post-num">Post #372</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						26 Aug 2017, 23:58					</div>
				</div>
				<div class="post-content content">
					<p>@manni<br />I think the main reason is the poor ~5 Years old vr9 chipset and the fact that it is not possible to support SMP + VMMC yet.<br />If you do not need FXS-ports you can disable the VMMC and enable SMP. see:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=360327#p360327">https://forum.openwrt.org/viewtopic.php … 27#p360327</a><br /><a href="https://forum.openwrt.org/viewtopic.php?pid=363984#p363984">https://forum.openwrt.org/viewtopic.php … 84#p363984</a></p><p>Did you have console access to the FB and eb904 (xdsl | lte ?) with opened hardware ?<br />can you put these commands and post the result here:<br /></p><div class="codebox"><pre><code>lsmod | grep vmmc</code></pre></div><div class="codebox"><pre><code>lsmod | grep tapi</code></pre></div><div class="codebox"><pre><code>cat /proc/cpuinfo</code></pre></div><p>I have the same problem and i am very interesting to know, how the competitors do it.<br />But 44Mbit/s is a littlebit low.<br />On ours i will try to extract the DSL-firmware from the FB-7490 or from the eb904 OEM box.<br />I use the DSL-Firmware from the equal FB-7360 that i get from my provider.<br />use </p><div class="codebox"><pre><code>option firmware &#039;path-to-the-dsl-fw&#039;</code></pre></div><p> to use them<br />and i form me that </p><div class="codebox"><pre><code>option tone &#039;av&#039;</code></pre></div><p> help.</p><p>other things that can help:<br />- otimised compiler options like 34Kc instead of 24Kc and -O3 instead of -Os<br />- looking at the webinterface cost 10Mbit/s speed, a dropbear connection cost speed too.</p><p>Have everybody test the lan-schwitch speed only (i can not test, because i have no Gbit connections) ?</p>											<p class="post-edited">(Last edited by <strong>Plonk34</strong> on 27 Aug 2017, 00:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364413">
				<div class="post-metadata">
					<div class="post-num">Post #373</div>
					<div class="post-author">taxidriver</div>
					<div class="post-datetime">
						27 Aug 2017, 00:13					</div>
				</div>
				<div class="post-content content">
					<p>Yes, metal was right. Simply changing the ptm0 into ptm0.7 resulted in a sucessful WAN connection. Thanks for that.<br />Now I&#039;m fighting with the WLAN access though. Trying to log in always fails..first the WLAN was only discovered a being WEP secured (although having &#039;psk2+aes&#039; in the config file....meanwhiile it identifies as being WPA2-protected but never accepts the WLAN password, so I keep plugging and unplugging the LAN cable. Is your WLAN working more properly?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364414">
				<div class="post-metadata">
					<div class="post-num">Post #374</div>
					<div class="post-author">Plonk34</div>
					<div class="post-datetime">
						27 Aug 2017, 00:33					</div>
				</div>
				<div class="post-content content">
					<p>@taxidriver<br />I was see them but it was never possible to connect them.<br />(i can&#039;t get an IP)<br />The 5GHz was working succefull.<br />i put the &quot;list ifname &#039;eth0.3&#039;&quot; and &quot;list ifname &#039;eth0.66&#039;&quot; to the &quot;config interface &#039;lan&#039;&quot; section.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p364427">
				<div class="post-metadata">
					<div class="post-num">Post #375</div>
					<div class="post-author">manni</div>
					<div class="post-datetime">
						27 Aug 2017, 13:47					</div>
				</div>
				<div class="post-content content">
					<p>@ plonk:<br />I have no access to my FritzBox and i won&#039;t toch it.</p><p>Here some Infos from the EB904xdsl OEMopened:<br /></p><div class="codebox"><pre><code>#
#
#
lsmod:
drv_vmmc              210107 16 
drv_tapi              194380 22 drv_isdn,cosic,drv_vmmc,drv_voip
drv_ifxos              15134  3 drv_vmmc,drv_tapi,drv_dsl_cpe_api
#
drv_tapi              194380 22 drv_isdn,cosic,drv_vmmc,drv_voip
drv_ifxos              15134  3 drv_vmmc,drv_tapi,drv_dsl_cpe_api
#
#
#
cpuinfo:
system type        : VR9
processor        : 0
cpu model        : MIPS 34Kc V5.6
BogoMIPS        : 331.77
wait instruction    : yes
microsecond timers    : yes
tlb_entries        : 16
extra interrupt vector    : yes
hardware watchpoint    : yes, count: 4, address/irw mask: [0x0ffc, 0x0ff8, 0x0ffb, 0x0ffb]
ASEs implemented    : mips16 dsp mt
shadow register sets    : 1
core            : 0
VCED exceptions        : not available
VCEI exceptions        : not available
#
#
#
/lib/firmware:
total 1378
drwxr-xr-x    2 root     root             3 Apr 20  2015 2.6.32.32
-rwxr-xr-x    1 root     root          6595 Nov 20  2009 LICENSE
lrwxrwxrwx    1 root     root            16 May 13  2015 ar9_firmware.bin -&gt; vr9_firmware.bin
-rwxr-xr-x    1 root     root        868700 Feb 19  2014 dsl_vr9_firmware_xdsl-05.06.07.06.01.07_05.05.04.02.01.02.bin
-rwxr-xr-x    1 root     root        533152 Jun 13  2011 fw_voip_vr9-2.3.1.7.0.bin
-rwxr-xr-x    1 root     root             3 Apr 15  2015 ter1x66_bbd.bin
-rwxr-xr-x    1 root     root           300 Nov 13  2010 vr9_bbd_fxo.bin
-rwxr-xr-x    1 root     root           388 Mar 16  2015 vr9_bbd_fxs.bin
-rwxr-xr-x    1 root     root           388 Mar 16  2015 vr9_bbd_fxs_germany.bin
lrwxrwxrwx    1 root     root            25 May 13  2015 vr9_firmware.bin -&gt; fw_voip_vr9-2.3.1.7.0.bin
lrwxrwxrwx    1 root     root            61 May 13  2015 xcpe_hw.bin -&gt; dsl_vr9_firmware_xdsl-05.06.07.06.01.07_05.05.04.02.01.02.bin
#
#
#
top speedtest:
[H[JMem: 106216K used, 6820K free, 0K shrd, 9536K buff, 49132K cached
CPU:  4.0% usr 12.3% sys  0.0% nic  0.0% idle  0.0% io  0.0% irq 83.6% sirq
Load average: 11.85 10.63 8.88 9/177 30390
[7m  PID  PPID USER     STAT   VSZ %MEM %CPU COMMAND[0m
11675 10552 root     S &lt;   5712  5.0  9.6 brnsip
10553 10552 root     S &lt;   5712  5.0  7.6 brnsip
30305 15969 root     R     1396  1.2  5.9 top
    3     2 root     RW       0  0.0  5.6 [ksoftirqd/0]
10161     1 root     R     5224  4.6  5.0 lcdwizard
11672 10552 root     S &lt;   5712  5.0  3.9 brnsip
10265     1 root     S &lt;   5712  5.0  2.5 brnsip
 9003     1 root     R     2856  2.5  2.2 /usr/sbin/snmpd -Lf /dev/null -p /var
 9457     1 root     R      896  0.7  1.3 /usr/sbin/dnsmasq --user=root -C /tmp
 9374     2 root     DW       0  0.0  1.3 [touch_panel]
10373   815 root     S &lt;   2632  2.3  1.0 /usr/sbin/midcore -d 0
 6085     2 root     DW       0  0.0  1.0 [daakproc]
  139     2 root     SW       0  0.0  1.0 [gpio-daemon]
15986 15901 root     S      712  0.6  0.8 /usr/sbin/inadyn --dyndns_system defa
11954 11952 root     S     6296  5.5  0.6 /usr/sbin/httpd-brn
  829   815 root     S &lt;   2632  2.3  0.6 /usr/sbin/midcore -d 0
 9695     1 root     R     1404  1.2  0.6 /bin/sh /etc/rc.d/S99runtask.sh boot
11953 11952 root     R     6296  5.5  0.5 /usr/sbin/httpd-brn
 7546     1 root     S     1416  1.2  0.5 /bin/sh /usr/sbin/arc_button.sh boot
 4974     2 root     SW       0  0.0  0.5 [pmex_ne]

 </code></pre></div><p>Some days ago, i tried the dsl_vr9 Firmware from the OEM Software in the OpenWRTBox.<br />I had a mysterious behavior.<br />The modem sync (showtime)<br />The ppp discovery completed (IP Address received)<br />After ca. 30 sec the connection shutdown. (Terminated with Signal 15)<br />Anyone kills the pppd.<br />I did not look for the reason, because it worked with an other firmware.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 15 of 19</div><nav><ul><li><a href="viewtopic.php%3Fid=44676&amp;p=1.html">1</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=13.html">13</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=14.html">14</a></li><li class="pagination-current"><span>15</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=16.html">16</a></li><li><a href="viewtopic.php%3Fid=44676&amp;p=17.html">17</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=44676&amp;p=19.html">19</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0.001 -->

</body>
</html>