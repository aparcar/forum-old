<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> very slow performance with file transfer over LAN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p371301">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ruuter</div>
					<div class="post-datetime">
						27 Jan 2018, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>Hello forum,</p><br /><p>I have 2 server in my LAN:</p><p>- <strong>HP-ProLiant Gen8</strong> for my office (running Ubuntu server 16.04 LTS) - connected with 4 m ethernet cable to rooter (Gigabit port)<br />- <strong>Odroid C2</strong> as private media server (running Kodi/LiebreElec 8.0) - connected with 15 m ethernet cable to rooter (Gigabit port)</p><p>I have 1 client in my LAN:</p><p>- <strong>Laptop: Lenovo W520</strong>, Linux Mint 18.1 (Mate 1.16) - connected with 5 GHz Wifi to rooter (4 m distance)</p><p>I have 1 rooter in my LAN:</p><p>- <strong>TP-Link TL-WDR4300</strong> v1, Firmware Version: OpenWrt Chaos Calmer 15.05.1/LuCI 15.05-149-g0d8bbd2 Release (git-15.363.78009-956be55), Kernel Version: 3.18.23</p><br /><p>Sometimes I perform file transfer from my client to the servers using Linux Mint file manager (Caja) and sftp or smb protocol.<br />The Caja transfer manager then shows only a rate between 600 kByte/s and 1.2 MByte/s for each file, so&nbsp; transferring of 1 DVD (4 GB) takes 1 - 2 hours.</p><p>For my expectations, the slowest link in the chain is the Wifi connection between laptop an rooter with 240 Mbit/s (~30 MByte/s). <span style="color: blue">Regarding possible overhead and error corrections I would expect a rate rather more than 1.2 MByte/s (maybe 10 to 20 MByte/s), depending on how many files I am transferring.</span></p><br /><p><span class="bbu"><strong>Investigations already done:</strong></span></p><p><strong>Client:</strong><br />- Wifi speed (according to network manager): 240 Mbit/s (~30 MByte/s).<br />- CPU usage during file transfer: 2 %</p><p><strong>Server HP ProLiant</strong><br />- CPU usage during file transfer: 2 %</p><p><strong>Server Odroid C2:</strong><br />- CPU usage during file transfer: 2 %</p><p><strong>Rooter TP-Link:</strong><br />- CPU usage during file transfer: 9 % (/bin/busybox top -bn1)</p><p><strong>transfer of single file vs. multiple files:</strong><br />- individual transfer rate slightly decreases from 1.2 Mb/s to ~0.7Mb/s but overall rate rises from 1.2 Mb/s to ~2.0 Mb/s, depending whether I transfer one or three files at the same time.</p><br /><p><span class="bbu"><strong>My questions:</strong></span></p><p>Is 1.2 MByte/s the maximum rate I can expect and I have to live with this?</p><p>Or is there something wrong/misconfigurated in the transfer chain?</p><p>If so, how can I trace this? <br />Where/how should I start searching?<br />How can I understand (and report here) the information of &quot;Realtime Graphs&quot; in LuCI?</p><br /><p>Thanks for tips and kind regards</p><p>Ruuter</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>