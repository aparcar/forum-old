<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Trouble mounting HDD/USB stick NSLU2</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p193062">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">EddieA</div>
					<div class="post-datetime">
						25 Feb 2013, 00:02					</div>
				</div>
				<div class="post-content content">
					<p>Hello everyone,</p><p>Recently I ventured into the exciting world of OpenWrt (and unix). Partly this is because of my work where they expect me to work in an unix like environment and also because I had access to an unused nslu2. </p><p>Anyway these past weeks I have been playing and tinkering with it (e.g. overclocking, learning basic cl codes and vi etc.) and one of the most basic things seems to be eluding, namely mounting a disk. These past days I was trying to mount a fat formatted usb stick. However the device keeps telling me the following:</p><div class="codebox"><pre><code>root@OpenWrt:/etc# mount -t fat /dev/sda1 /mnt/shares -o rw,sync
mount: mounting /dev/sda1 on /mnt/shares failed: No such device
root@OpenWrt:/etc# mount -t fat /dev/sda /mnt/shares -o rw,sync
mount: mounting /dev/sda on /mnt/shares failed: No such device</code></pre></div><p>It also does seem to recognize the disk and I therefore installed numerous packages which might be needed for properly mounting the device but nothing seemed to work. So I am hoping somebody here might know something in regard to some package I missed or some config file I need to edit.</p><p>Anyway here is an excerpt of the log (u guys always seem to ask for it) and a list of packages installed:</p><div class="codebox"><pre><code>ehci_hcd: USB 2.0 &#039;Enhanced&#039; Host Controller (EHCI) Driver
PCI: enabling device 0000:00:01.2 (0140 -&gt; 0142)
ehci_hcd 0000:00:01.2: EHCI Host Controller
ehci_hcd 0000:00:01.2: new USB bus registered, assigned bus number 1
ehci_hcd 0000:00:01.2: Enabling legacy PCI PM
ehci_hcd 0000:00:01.2: irq 26, io mem 0x48002000
ehci_hcd 0000:00:01.2: USB 2.0 started, EHCI 1.00
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 5 ports detected
nf_conntrack version 0.5.0 (469 buckets, 1876 max)
CONFIG_NF_CT_ACCT is deprecated and will be removed soon. Please use
nf_conntrack.acct=1 kernel parameter, acct=1 nf_conntrack module option or
sysctl net.netfilter.nf_conntrack_acct=1 to enable it.
ohci_hcd: USB 1.1 &#039;Open&#039; Host Controller (OHCI) Driver
PCI: enabling device 0000:00:01.0 (0140 -&gt; 0142)
ohci_hcd 0000:00:01.0: OHCI Host Controller
ohci_hcd 0000:00:01.0: new USB bus registered, assigned bus number 2
ohci_hcd 0000:00:01.0: irq 28, io mem 0x48000000
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 3 ports detected
PCI: enabling device 0000:00:01.1 (0140 -&gt; 0142)
ohci_hcd 0000:00:01.1: OHCI Host Controller
ohci_hcd 0000:00:01.1: new USB bus registered, assigned bus number 3
ohci_hcd 0000:00:01.1: irq 27, io mem 0x48001000
usb usb3: configuration #1 chosen from 1 choice
hub 3-0:1.0: USB hub found
hub 3-0:1.0: 2 ports detected
uhci_hcd: USB Universal Host Controller Interface driver
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
usbcore: registered new interface driver ums-alauda
usbcore: registered new interface driver ums-cypress
usbcore: registered new interface driver ums-datafab
usbcore: registered new interface driver ums-freecom
usb 3-1: new full speed USB device using ohci_hcd and address 2
usbcore: registered new interface driver ums-isd200
usbcore: registered new interface driver ums-jumpshot
usbcore: registered new interface driver ums-karma
usbcore: registered new interface driver ums-sddr09
usb 3-1: configuration #1 chosen from 1 choice
scsi0 : SCSI emulation for USB Mass Storage devices
usb-storage: device found at 2
usb-storage: waiting for device to settle before scanning
usbcore: registered new interface driver ums-sddr55
usbcore: registered new interface driver ums-usbat
scsi 0:0:0:0: Direct-Access     Creative NOMAD MUVO       0100 PQ: 0 ANSI: 4
sd 0:0:0:0: Attached scsi generic sg0 type 0
usb-storage: device scan complete
sd 0:0:0:0: [sda] 503808 512-byte logical blocks: (257 MB/246 MiB)
sd 0:0:0:0: [sda] Write Protect is off
sd 0:0:0:0: [sda] Mode Sense: 03 00 00 00
sd 0:0:0:0: [sda] Assuming drive cache: write through
sd 0:0:0:0: [sda] Assuming drive cache: write through
 sda: sda1
sd 0:0:0:0: [sda] Assuming drive cache: write through
sd 0:0:0:0: [sda] Attached SCSI removable disk</code></pre></div><div class="codebox"><pre><code>    Package name    Version
Remove    base-files    43.32-r29592
Remove    block-hotplug    0.1.0-2.2
Remove    block-mount    0.1.0-2.2
Remove    busybox    1.15.3-3.4
Remove    dnsmasq    2.55-6.1
Remove    dosfsck    3.0.11-1
Remove    dropbear    0.53.1-5
Remove    fconfig    20080329-1
Remove    hotplug2    1.0-beta-3
Remove    iptables    1.4.6-3.1
Remove    iptables-mod-conntrack    1.4.6-3.1
Remove    iptables-mod-nat    1.4.6-3.1
Remove    ixp4xx-microcode    2.4-2
Remove    kernel    2.6.32.27-1
Remove    kmod-crc-ccitt    2.6.32.27-1
Remove    kmod-crc16    2.6.32.27-1
Remove    kmod-fs-ext4    2.6.32.27-1
Remove    kmod-fs-mbcache    2.6.32.27-1
Remove    kmod-fs-vfat    2.6.32.27-1
Remove    kmod-ipt-conntrack    2.6.32.27-1
Remove    kmod-ipt-core    2.6.32.27-1
Remove    kmod-ipt-nat    2.6.32.27-1
Remove    kmod-ipt-nathelper    2.6.32.27-1
Remove    kmod-nls-base    2.6.32.27-1
Remove    kmod-nls-cp1250    2.6.32.27-1
Remove    kmod-nls-cp1251    2.6.32.27-1
Remove    kmod-nls-cp437    2.6.32.27-1
Remove    kmod-nls-cp775    2.6.32.27-1
Remove    kmod-nls-cp850    2.6.32.27-1
Remove    kmod-nls-cp852    2.6.32.27-1
Remove    kmod-nls-cp866    2.6.32.27-1
Remove    kmod-nls-iso8859-1    2.6.32.27-1
Remove    kmod-nls-iso8859-13    2.6.32.27-1
Remove    kmod-nls-iso8859-15    2.6.32.27-1
Remove    kmod-nls-utf8    2.6.32.27-1
Remove    kmod-ppp    2.6.32.27-1
Remove    kmod-pppoe    2.6.32.27-1
Remove    kmod-scsi-core    2.6.32.27-1
Remove    kmod-scsi-generic    2.6.32.27-1
Remove    kmod-usb-core    2.6.32.27-1
Remove    kmod-usb-ohci    2.6.32.27-1
Remove    kmod-usb-storage    2.6.32.27-1
Remove    kmod-usb-storage-extras    2.6.32.27-1
Remove    kmod-usb-uhci    2.6.32.27-1
Remove    kmod-usb2    2.6.32.27-1
Remove    libc    0.9.30.1-43.32
Remove    libcurl    7.21.7-1
Remove    libdlna    0.2.3-1
Remove    libevent2    2.0.12-1
Remove    libffmpeg    0.5.4-2
Remove    libgcc    4.3.3+cs-43.32
Remove    libip4tc    1.4.6-3.1
Remove    libiwinfo    18
Remove    libiwinfo-lua    18
Remove    liblua    5.1.4-7
Remove    libopenssl    0.9.8r-1
Remove    libpthread    0.9.30.1-43.32
Remove    librt    0.9.30.1-43.32
Remove    libuci    12012009.7-4
Remove    libuci-lua    12012009.7-4
Remove    libupnp    1.6.12-1
Remove    libxtables    1.4.6-3.1
Remove    lua    5.1.4-7
Remove    luci-app-samba    0.10.0-1
Remove    luci-app-ushare    0.10.0-1
Remove    luci-i18n-english    0.10.0-1
Remove    luci-lib-core    0.10.0-1
Remove    luci-lib-ipkg    0.10.0-1
Remove    luci-lib-lmo    0.10.0-1
Remove    luci-lib-nixio    0.10.0-1
Remove    luci-lib-sys    0.10.0-1
Remove    luci-lib-web    0.10.0-1
Remove    luci-mod-admin-core    0.10.0-1
Remove    luci-mod-admin-full    0.10.0-1
Remove    luci-proto-core    0.10.0-1
Remove    luci-proto-ppp    0.10.0-1
Remove    luci-sgi-cgi    0.10.0-1
Remove    luci-theme-base    0.10.0-1
Remove    luci-theme-openwrt    0.10.0-1
Remove    mtd    13
Remove    opkg    576-2
Remove    ppp    2.4.4-16.1
Remove    ppp-mod-pppoe    2.4.4-16.1
Remove    samba3    3.0.24-8
Remove    transmission-daemon    2.32-2
Remove    transmission-remote    2.32-2
Remove    transmission-web    2.32-2
Remove    uci    12012009.7-4
Remove    udevtrigger    106-1
Remove    uhttpd    28
Remove    ushare    1.1a-2
Remove    vsftpd    2.3.4-2
Remove    zlib    1.2.3-5</code></pre></div><p>Hopefully someone here knows and has the time to help me. Thanks in advance!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193554">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">EddieA</div>
					<div class="post-datetime">
						1 Mar 2013, 13:28					</div>
				</div>
				<div class="post-content content">
					<p>Bump.</p><p>Anyone?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193556">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">robthebrew</div>
					<div class="post-datetime">
						1 Mar 2013, 13:47					</div>
				</div>
				<div class="post-content content">
					<p>what says:</p><div class="codebox"><pre><code>ls /dev/sda</code></pre></div><p>This might help:<br /><a href="http://wiki.openwrt.org/doc/howto/usb.storage">http://wiki.openwrt.org/doc/howto/usb.storage</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193565">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">EddieA</div>
					<div class="post-datetime">
						1 Mar 2013, 16:22					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>robthebrew wrote:</cite><blockquote><p>what says:</p><div class="codebox"><pre><code>ls /dev/sda</code></pre></div><p>This might help:<br /><a href="http://wiki.openwrt.org/doc/howto/usb.storage">http://wiki.openwrt.org/doc/howto/usb.storage</a></p></blockquote></div><p>Will try it when I will get home from work. Also followed the how to usb storage the best I could.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193573">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">lizby</div>
					<div class="post-datetime">
						1 Mar 2013, 18:03					</div>
				</div>
				<div class="post-content content">
					<p>Also the output of &quot;df&quot;.&nbsp; And after &quot;opkg update&quot;, &quot;opkg install usb-utils&quot;, what does &quot;lsusb&quot; give you?</p><p>I assume you created /mnt/shares?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p193598">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">EddieA</div>
					<div class="post-datetime">
						2 Mar 2013, 00:55					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lizby wrote:</cite><blockquote><p>Also the output of &quot;df&quot;.&nbsp; And after &quot;opkg update&quot;, &quot;opkg install usb-utils&quot;, what does &quot;lsusb&quot; give you?</p><p>I assume you created /mnt/shares?</p></blockquote></div><p>Thanks! after I installed usb-utils I could mount the disk. It also shows up in df. Will see if i can write on it now</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>