<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Optimized and feature rich trunk build for select routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 20 Aug 2014 and 5 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 3 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
						<div class="notice">
				<p>Sorry, posts 51 to 51 are missing from our archive.</p>
			</div>
		
		
		
			<article class="post" id="p236942">
				<div class="post-metadata">
					<div class="post-num">Post #52</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 09:42					</div>
				</div>
				<div class="post-content content">
					<p>Check that you use udp4 and not udp in the config. Keep in mind that the default configuration is working, so if you want back to start just copy /rom/etc/config/openvpn to /etc/config/openvpn and restart the service.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236943">
				<div class="post-metadata">
					<div class="post-num">Post #53</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 09:47					</div>
				</div>
				<div class="post-content content">
					<p>That&#039;s exactly what I did... But it&#039;s still constantly restarting.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236945">
				<div class="post-metadata">
					<div class="post-num">Post #54</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 09:54					</div>
				</div>
				<div class="post-content content">
					<p>Set option verb to 9 and look for hints in the log.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236946">
				<div class="post-metadata">
					<div class="post-num">Post #55</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 10:09					</div>
				</div>
				<div class="post-content content">
					<p>Ah, I think the restart is because of the keepalive. Disable the keepalive option to turn off, it&#039;s restarting the tunnel on inactivity. I&#039;ll remove that in next build.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236947">
				<div class="post-metadata">
					<div class="post-num">Post #56</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 10:16					</div>
				</div>
				<div class="post-content content">
					<p>In the next build, could you also change the default OpenVPN port to a different one? It conflicts with the default SSL port.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236948">
				<div class="post-metadata">
					<div class="post-num">Post #57</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>It doesnt conflict, udp 443. Uhttpd is tcp 443.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236949">
				<div class="post-metadata">
					<div class="post-num">Post #58</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 10:23					</div>
				</div>
				<div class="post-content content">
					<p>Oh, derp.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236952">
				<div class="post-metadata">
					<div class="post-num">Post #59</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 10:34					</div>
				</div>
				<div class="post-content content">
					<p>I chose udp 443 because its more likely to be opened in hotspots.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236954">
				<div class="post-metadata">
					<div class="post-num">Post #60</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 10:38					</div>
				</div>
				<div class="post-content content">
					<p>Woohoo, I got VPN working! All it took was changing the client.ovpn server IP to ssl.mccoy.cf (Which points to my IPv6 and IPv4 IP address). It even works over LAN now.</p><p>Again, P.S: If you would like me to set up a mirror website, please get a free domain at Freenom (my account was blacklisted for no reason, I&#039;m not trying to just be pushy...)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236970">
				<div class="post-metadata">
					<div class="post-num">Post #61</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 14:20					</div>
				</div>
				<div class="post-content content">
					<p>Your WAN IP is supposed to be picked up automatically and put in the generated .ovpn, did that not happen?</p><p>I&#039;ll get around to signing up for a domain, if you&#039;re eager feel free to just register a domain for me I don&#039;t care about control <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> I&#039;m still not convinced it will be very helpful compared to the current plain directory view... Is it that hard to choose a release and download sysupgrade/factory image?</p><p><span style="color: #FF0000"><strong>LATEST RELEASE HAS A DEFAULT ROOT PASSWORD changeme</strong></span></p><p>Found the patch on the mailing list, haven&#039;t been able to test this build but it looks like the hash got created properly. So the root user has a default password now, this is why you won&#039;t be able to telnet after a clean flash.</p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 16 Jun 2014, 14:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236971">
				<div class="post-metadata">
					<div class="post-num">Post #62</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 14:23					</div>
				</div>
				<div class="post-content content">
					<p>It did pick up my IP and put it in OpenWRT.ovpn, but for some reason it didn&#039;t want to work without using my domain.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236972">
				<div class="post-metadata">
					<div class="post-num">Post #63</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 14:27					</div>
				</div>
				<div class="post-content content">
					<p>If your domain points to the same IP there should be no difference.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236973">
				<div class="post-metadata">
					<div class="post-num">Post #64</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 14:34					</div>
				</div>
				<div class="post-content content">
					<p>Whelp, I suppose I might as well try it with and without the IP. I&#039;ll report back soon...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236974">
				<div class="post-metadata">
					<div class="post-num">Post #65</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 14:46					</div>
				</div>
				<div class="post-content content">
					<p>Hmm, never mind. It now gets stuck at &quot;Adding routes&quot; either way...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236975">
				<div class="post-metadata">
					<div class="post-num">Post #66</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 14:52					</div>
				</div>
				<div class="post-content content">
					<p>Check your /etc/config/openvpn and your client .ovpn for differences in port or compress method. It would be nice if you could test a factory image with default settings, I&#039;m confused as to if you are having problems because you changed something manually or if there is something wrong in the image.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236976">
				<div class="post-metadata">
					<div class="post-num">Post #67</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 14:54					</div>
				</div>
				<div class="post-content content">
					<p>I copied everything back from /rom/etc/config/openvpn and tried to make sure that the ports, protocols, IPs, and compression all matched. Is there a way I can re-generate the OpenWRT.ovpn file?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236977">
				<div class="post-metadata">
					<div class="post-num">Post #68</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 15:00					</div>
				</div>
				<div class="post-content content">
					<p>Yes, just remove it and restart the openvpn service.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236978">
				<div class="post-metadata">
					<div class="post-num">Post #69</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 15:01					</div>
				</div>
				<div class="post-content content">
					<p>On server side it should be</p><div class="codebox"><pre><code># OpenVPN 2.4 syntax
compress lzo</code></pre></div><p>On client side it should be</p><div class="codebox"><pre><code># OpenVPN 2.3 syntax
comp-lzo</code></pre></div>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 16 Jun 2014, 15:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236980">
				<div class="post-metadata">
					<div class="post-num">Post #70</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 15:16					</div>
				</div>
				<div class="post-content content">
					<p>That doesn&#039;t make sense because the default config binds only to IPv4 (udp4).</p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 16 Jun 2014, 15:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236981">
				<div class="post-metadata">
					<div class="post-num">Post #71</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						16 Jun 2014, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>It looks like it has something to do with IPV6. I can connected to VPN over IPv6, but not my IPv4 address.<br/>Edit: waiiiiit a second... <br/></p><div class="quotebox"><blockquote><p>Could not determine IPv4/IPv6 protocol. Using AF_INET6</p></blockquote></div><p>/etc/config/openvpn:<br/></p><div class="quotebox"><blockquote><p>option proto udp</p></blockquote></div><p>So there&#039;s where I messed up. How do I get it to bond to both udp4 and udp6?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p236982">
				<div class="post-metadata">
					<div class="post-num">Post #72</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						16 Jun 2014, 15:28					</div>
				</div>
				<div class="post-content content">
					<p>I think you would need to run two different configurations to listen to both. IPv6 will at least require other addresses on the server/client tun interface as well. I suggest you go with the default IPv4 setup or dig into the documentation, have fun <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 16 Jun 2014, 15:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237044">
				<div class="post-metadata">
					<div class="post-num">Post #73</div>
					<div class="post-author">wesleyhey</div>
					<div class="post-datetime">
						17 Jun 2014, 04:13					</div>
				</div>
				<div class="post-content content">
					<p>re-posting as it seems my post got lost. I tried the default config but no luck it seems to set the port but I see nothing through, either the windows openvpn does not work, I am also trying to do this from my home network, I used to use PPP and it worked fine but want to swap to something more secure.</p><p>I have tried the default but that did not work, also it would be nice if the client file used the DDNS name as that is how I have mine set.</p>											<p class="post-edited">(Last edited by <strong>wesleyhey</strong> on 17 Jun 2014, 04:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237051">
				<div class="post-metadata">
					<div class="post-num">Post #74</div>
					<div class="post-author">arokh</div>
					<div class="post-datetime">
						17 Jun 2014, 08:21					</div>
				</div>
				<div class="post-content content">
					<p>Please post some details. What version of OpenVPN client are you using? Post your .ovpn (without the key), post your /etc/config/openvpn and server/client logs. If you are connecting from your own LAN that won&#039;t work. Try from the internet.</p><p>How do you figure I would make my build guess your DDNS name? It should be blank after a flash. Anyways, if you want to use a DDNS name just edit the configuration file. It should grab your WAN IP by default, which should get you up and running.</p>											<p class="post-edited">(Last edited by <strong>arokh</strong> on 17 Jun 2014, 11:53)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p237118">
				<div class="post-metadata">
					<div class="post-num">Post #75</div>
					<div class="post-author">bmccoy11</div>
					<div class="post-datetime">
						17 Jun 2014, 23:01					</div>
				</div>
				<div class="post-content content">
					<p>Any changes in r41224?</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 3 of 155</div><nav><ul><li><a href="viewtopic.php%3Fid=50914&amp;p=1.html">1</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=2.html">2</a></li><li class="pagination-current"><span>3</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=4.html">4</a></li><li><a href="viewtopic.php%3Fid=50914&amp;p=5.html">5</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=50914&amp;p=155.html">155</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>