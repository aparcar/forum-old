<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Using MR-3020 with USB dongle</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p365608">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Brad.b</div>
					<div class="post-datetime">
						20 Sep 2017, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>To start off with, I am a complete novice at this but It is something I&#039;ve always wanted to get into so here goes,</p><p>I&#039;m trying to set up the MR3020 with an external wifi USB aerial. <br />(Essentially I&#039;m making an internal network for my VW camper van so it can just drive up to a spot use the long-range aerial to connect to the wifi and then broadcast a local network within the van. A bit of a techy upgrade to a 1972 van)</p><p>I&#039;ve installed OpenWrt Attitude Adjustment 12.09-beta2 and the Luci web onto the TPlink MR3020 interface but I&#039;m struggling to get it to recognise an external USB aerial. </p><p>The one I&#039;m using is this KuWFi 150Mbps Ralink RT3070 Max Distance Outdoor. The first result on googling that should bring up the Amazon page</p><br /><p>Is there a way to get this setup within Luci, I&#039;m not too great with the text interface in putty yet. If not then please explain away and I&#039;m willing to learn it.</p><p>Thank you in Advance</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365640">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						21 Sep 2017, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>AA is a very old version.&nbsp; It will probably still work but could have security issues.</p><p>You will need to install the driver for the card.&nbsp; I think that card uses kmod-rt2800-usb.&nbsp; There are different ways to install drivers, the most straightforward is to use the online package manager.&nbsp; </p><p>The router must be connected to the Internet, for example by using the built in radio as a client on a wifi system.</p><p>Go to the System -- Software page and click update lists.&nbsp; Then search for and install kmod-rt2800-usb and rt2800-usb-firmware.</p><p>Reboot the router with the wifi USB device plugged in.&nbsp; You should now have two radios under Network -- Wireless.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365650">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Brad.b</div>
					<div class="post-datetime">
						21 Sep 2017, 21:13					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve just upgraded it to Chaos Calmer 15.05.1 however if i go to install the kmod-rt2800-usb and rt2800-usb-firmware packages it displays </p><p>Unknown package &#039;kmod-rt2800-usb&#039;<br />Unknown package &#039;rt2800-usb-firmware&#039;<br />Collected errors:<br /> * opkg_install_cmd: Cannot install package kmod-rt2800-usb.<br />Collected errors:<br /> * opkg_install_cmd: Cannot install package rt2800-usb-firmware.</p><p>Any ideas as to what i&#039;m doing wrong with it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365651">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						21 Sep 2017, 21:16					</div>
				</div>
				<div class="post-content content">
					<p>Did you run opkg update first?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365675">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">rj-45</div>
					<div class="post-datetime">
						22 Sep 2017, 08:07					</div>
				</div>
				<div class="post-content content">
					<p>what is the output of:<br /></p><div class="codebox"><pre><code>opkg update 
opkg list | grep rt2800</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365686">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Brad.b</div>
					<div class="post-datetime">
						22 Sep 2017, 11:22					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the help, it currently comes up with cannot install package but i&#039;m struggling getting the thing connected to a network at the moment. </p><p>Where I am I have to use the long range aerial to even connect the laptop so I&#039;ll go find somewhere with good wifi at the weekend to update package lists and install the above-mentioned packages.</p><p>I&#039;ll let you know how it goes.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365688">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">tunk</div>
					<div class="post-datetime">
						22 Sep 2017, 13:02					</div>
				</div>
				<div class="post-content content">
					<p>It has a 4MB flash disk and there may not be enough free space to install packages.<br />What&#039;s the output of <strong>df</strong>?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365735">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">Brad.b</div>
					<div class="post-datetime">
						23 Sep 2017, 02:34					</div>
				</div>
				<div class="post-content content">
					<p>Right I got the box set up to the wifi and managed to update the package list. installed kmod-rt2800-usb but rt2800-usb-firmware doesn&#039;t appear as an available package and won&#039;t download.</p><p>Not sure what df means? Very new to this.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365737">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">mk24</div>
					<div class="post-datetime">
						23 Sep 2017, 03:21					</div>
				</div>
				<div class="post-content content">
					<p>It may not be necessary, or in CC it is included with the kmod.&nbsp; Try rebooting with the adapter plugged in and see if you have two radios now.</p><p><strong>df</strong> is a terminal command that shows how much &quot;disk&quot; space is available on your flash chip, which serves as the disk-like permanent storage.</p>											<p class="post-edited">(Last edited by <strong>mk24</strong> on 23 Sep 2017, 03:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p365738">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">Brad.b</div>
					<div class="post-datetime">
						23 Sep 2017, 03:26					</div>
				</div>
				<div class="post-content content">
					<p>Ah yes the reboot got it to work. Comes up with two radios now, although for some reason it won&#039;t connect to the wifi through the second radio, it&#039;s signal strength when scanned is 90% but when connected it drops to 0%. </p><p>If I was looking to have it so it uses radio 2 to pick up the wifi signal would I then be able to broadcast on radio 1 to act as an access point. Essential making it a router with an external aerial.</p><p>Thanks for all your help so far, it&#039;s very much appreciated</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366045">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Brad.b</div>
					<div class="post-datetime">
						28 Sep 2017, 16:04					</div>
				</div>
				<div class="post-content content">
					<p>Anyone here knows why the thing would have just crashed. It&#039;s not letting me access either the web interface or the putty one, just comes up as connection timed out. Very odd</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p366058">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">RangerZ</div>
					<div class="post-datetime">
						28 Sep 2017, 19:21					</div>
				</div>
				<div class="post-content content">
					<p>I assume you also need USB Core Services for this device, at least I have always included it.<br /><a href="https://wiki.openwrt.org/doc/howto/usb.essentials">https://wiki.openwrt.org/doc/howto/usb.essentials</a></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>