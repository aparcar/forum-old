<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> mutt is not working with msmtp/ssmtp</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 20 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p140281">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">luckluck</div>
					<div class="post-datetime">
						30 Jul 2011, 14:14					</div>
				</div>
				<div class="post-content content">
					<p>i am currently using Buffalo WZR-HP-AG300H with OpenWrt Firmware Attitude Adjustment (r27797)</p><p>i try to use mutt with msmtp/ssmtp ,and have proper install of mutt<br />&nbsp; &nbsp; &nbsp; &nbsp; </p><br /><p>root@OpenWrt:~# opkg install mutt<br />Installing mutt (1.5.21-1) to root...<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/mutt_1.5.21-1_ar71xx.ipk">http://downloads.openwrt.org/snapshots/ … ar71xx.ipk</a>.<br />Installing libncurses (5.7-5) to root...<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/libncurses_5.7-5_ar71xx.ipk">http://downloads.openwrt.org/snapshots/ … ar71xx.ipk</a>.<br />Installing terminfo (5.7-5) to root...<br />Downloading <a href="http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/terminfo_5.7-5_ar71xx.ipk">http://downloads.openwrt.org/snapshots/ … ar71xx.ipk</a>.<br />Configuring terminfo.<br />Configuring libncurses.<br />Configuring mutt.<br />------------</p><p>when i try to mail a test email like some this <br />&quot;mutt -s &quot;ppp0_log&quot; {email acc.}@yahoo.com.hk &lt; /tmp/ppp0.log&quot;</p><p>it return a mesage like this whether i am using msmtp or ssmtp(i have already config msmtp and ssmtp with reference in google):</p><p>mutt: can&#039;t load library &#039;libncursesw.so.5&quot; </p><p>i&#039;m newbies in openwrt/linux, what should i in oder to let my mutt work properly?</p><p>thanks.</p>											<p class="post-edited">(Last edited by <strong>luckluck</strong> on 30 Jul 2011, 15:46)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140286">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">luckluck</div>
					<div class="post-datetime">
						30 Jul 2011, 15:58					</div>
				</div>
				<div class="post-content content">
					<p>i install the&nbsp; &nbsp; &nbsp; libncursesw, then the error message disappear, i originally think that&nbsp; libncurses is the same as libncursesw</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140294">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">luckluck</div>
					<div class="post-datetime">
						30 Jul 2011, 18:33					</div>
				</div>
				<div class="post-content content">
					<p>another error occur, i&#039;m using mutt with msmtp setting provided by <a href="https://forum.openwrt.org/viewtopic.php?id=18669">https://forum.openwrt.org/viewtopic.php?id=18669</a></p><div class="codebox"><pre><code>account default

host smtp.gmail.com
port 587
auth on
user account@gmail.com
password password

auto_from off
from account@gmail.com

tls on
tls_starttls on
tls_certcheck off

logfile
syslog LOG_MAIL</code></pre></div><p>my muttrc setting as fallow</p><div class="codebox"><pre><code>set sendmail=&quot;/usr/bin/msmtp&quot;
set from=&quot;hkdfshop@gmail.com&quot;

set use_from=yes 


set rfc2047_parameters=yes</code></pre></div><p>i try to test&nbsp; mutt by this code</p><div class="codebox"><pre><code>echo &quot;test&quot; | mutt -s &quot;my_first_test&quot; holuck@gmail.com</code></pre></div><p>but error return </p><div class="codebox"><pre><code>Error sending message, child exited 127 (Exec error.).
Could not send the message.</code></pre></div><p>i google the error message but seen i can not find solution in mynewbies level</p><p>so frustrated</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140296">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">luckluck</div>
					<div class="post-datetime">
						30 Jul 2011, 18:56					</div>
				</div>
				<div class="post-content content">
					<p>when i try to execute msmtp to send an email in ssh , it return an error , this may be the reason that give&quot;Error sending message&quot; in mutt</p><div class="codebox"><pre><code>root@OpenWrt:/etc# msmtp holuck@gmail.com
Segmentation fault</code></pre></div><p>i just want to send mails out by openwrt, why it is so difficult to do this? help!!</p>											<p class="post-edited">(Last edited by <strong>luckluck</strong> on 30 Jul 2011, 20:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140320">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">luckluck</div>
					<div class="post-datetime">
						31 Jul 2011, 07:22					</div>
				</div>
				<div class="post-content content">
					<p>finally i need to use ssmtp with mutt to do my job , linux enviroment is quit hard for newbies!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140337">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">philchetcuti</div>
					<div class="post-datetime">
						31 Jul 2011, 13:00					</div>
				</div>
				<div class="post-content content">
					<p>Try to narrow your problem down. Can you send an email with just ssmtp?<br />Don&#039;t forget that ssmtp needs a properly configured revaliases file.<br />That file is located at</p><p>/etc/ssmtp/revaliases</p><p>heres my file </p><p># sSMTP aliases<br /># <br /># Format:&nbsp; &nbsp; local_account:outgoing_address:mailhub<br />#<br /># Example: root:your_login@your.domain:mailhub.your.domain[:port]<br /># where [:port] is an optional port number that defaults to 25.<br />root:myemailaddress@gmail.com:smtp.gmail.com:587<br />localusername:myemailaddress@gmail.com:smtp.gmail.com:587<br />#<br />#</p><p>You&#039;ll also need a properly configured ssmtp.conf file located at</p><p>/etc/ssmtp/ssmtp.conf</p><p>heres my file</p><p>#<br /># /etc/ssmtp.conf -- a config file for sSMTP sendmail.<br />#<br />root=myemailaddress@gmail.com<br />mailhub=smtp.gmail.com:587<br />hostname=myemailaddress@gmail.com<br />FromLineOverride=YES<br />UseSTARTTLS=YES<br />AuthUser=myemailaddress<br />AuthPass=myemailpassword<br />#<br />#</p><br /><p>So, start with making those changes and see if you have ssmtp working, then move on to configuring mutt. But if all you need is the ability to send mail, then ssmtp is all you really need.</p><br /><p>To test ssmtp by itself create a file to test with, heres a sample file, lets name it dump</p><br /><p>From:myemailaddress@gmail.com<br />Subject:My subject line</p><p>My email body</p><br /><p>Note: make sure that there is a blank line between the Subject line and the main body or message.</p><p>Then to test do as follows</p><p>ssmtp myemailaddress@gmail.com &lt; dump</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140348">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">luckluck</div>
					<div class="post-datetime">
						31 Jul 2011, 15:31					</div>
				</div>
				<div class="post-content content">
					<p>thank you for your reply , i am using ssmtp with mutt just fine now with your setting advised</p><p>i wonder why msmtp gives &quot;Segmentation fault&quot; errror</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>