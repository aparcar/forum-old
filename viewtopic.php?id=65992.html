<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> 802.1x WPA-EAP Win client sending local acct name not username entered</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 16 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p330475">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">evanl</div>
					<div class="post-datetime">
						4 Jul 2016, 17:06					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I&#039;m attempting to authenticate wifi users via 802.1X / WPA Enterprise on a unit running OpenWrt.</p><p>This is going well for mobile devices, but upon attempting to connect / authenticate from a Windows device, I&#039;m finding that in the Packetfence RADIUS audit log I can see that the user name being presented to Packetfence is the Windows local account name, rather than the user name I&#039;m entering as part of the username/password pair in the WPA/EAP login panel.</p><p>In this case is the user name &#039;Developer&#039;.</p><p>I&#039;m seeing the following lines in the pf RADIUS Audit Log:<br />User-Name = &quot;Developer&quot;<br />Stripped-User-Name = &quot;Developer&quot;&nbsp; &nbsp; </p><p>I don&#039;t know whether Windows is sending both usernames and I need to configure OpenWrt to use the right one, or whether it&#039;s purely a problem on the Windows side </p><p>Any tips are greatly appreciated!<br />thanks Evan</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p331054">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">evanl</div>
					<div class="post-datetime">
						10 Jul 2016, 17:19					</div>
				</div>
				<div class="post-content content">
					<p>For anyone with a similar problem - it turns out the answer is that I hadn&#039;t created and configured a Wireless Profile under Windows. The important thing (other than setting up obvious connection type attributes etc) is to disable the setting &#039;Automatically use my Windows logon name and password (and domain if any).&#039;. This is located in the properties page for the profile, under the Security tab, then the Settings button next to Choose a network authentication method (with Microsoft Protected EAP (PEAP) selected), then the Configure button next to Select Authentication Method with &#039;Secured password (EAP-MSCHAP-v2)&#039; selected. (I&#039;m writing this partly so I can find it again if I have to..)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>