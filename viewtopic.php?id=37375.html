<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WAN interface won&#039;t come up after reboot (WBMR-HP-G300H)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p169420">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						8 Jun 2012, 12:44					</div>
				</div>
				<div class="post-content content">
					<p>HI,</p><p>I am currently running openwrt (r31426) and wanted to add a couple of new features (dyndns/usb mounting) and decided to install the latest build from trunk. </p><p>I built it and installed it and tried recovering my config files which I&#039;d previously backed up. However, the WAN port wouldn&#039;t connect to my ISP. All of the settings were correct. I decidede to reflash and start the config from scratch. After doing this I managed to get the WAN port to connect and all appeared well. However when I rebooted the WAN refused to connect. All settings were exactly the same.</p><p>Has anyone seen this behaviour?</p><p>Luckily I kept an old copy of flash image and reverted back to that but I really need to upgrade my openwrt.</p><p>M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169442">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						8 Jun 2012, 18:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>scaryAardvark wrote:</cite><blockquote><p>HI,</p><p>I am currently running openwrt (r31426) and wanted to add a couple of new features (dyndns/usb mounting) and decided to install the latest build from trunk. </p><p>I built it and installed it and tried recovering my config files which I&#039;d previously backed up. However, the WAN port wouldn&#039;t connect to my ISP. All of the settings were correct. I decidede to reflash and start the config from scratch. After doing this I managed to get the WAN port to connect and all appeared well. However when I rebooted the WAN refused to connect. All settings were exactly the same.</p><p>Has anyone seen this behaviour?</p><p>Luckily I kept an old copy of flash image and reverted back to that but I really need to upgrade my openwrt.</p><p>M.</p></blockquote></div><p>you need to be more specific about your problem. I had a problem that it was not possible to connect to the isp using my usb modem <a href="https://dev.openwrt.org/ticket/11567">https://dev.openwrt.org/ticket/11567</a>. As far as I know no one yet integrated the patch (they are busy with upgrading the kernel version each day most probably) so it could be that you stumble the same problem. But it is hard to tell from your description</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169443">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						8 Jun 2012, 18:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi Flux,</p><p>I cant really be more specific. </p><p>I flashed the latest squashfs image I created direct from trunk. Once the router rebooted I uploaded a configuration backup I had taken just prior to flashing the lastest version. Once the router rebooted again it wouldn&#039;t connect to my ISP (BT Broadband).</p><p>The same configuration had been working fine prior to flashing the latest openwrt.</p><p>I then reflashed to remove any trace of the backup configuration and once the router rebooted I then manually set up the WAN connection and it connected and was working fine. However, I decided to reboot the router again without changing anything and when it came back up it refused to connect to the WAN. I checked the configuration and it appeared correct.</p><p>I did notice that when it was working, i.e. when I&#039;d manually set up the WAN connection, that the pppd process was running. However when I rebooted it, the pppd process wasn&#039;t running.</p><p>I tried to run the pppd process manually and it appeared to get the IP address from BT but it didn&#039;t seem to want to route any traffic. i.e. the RX/TX counters didn&#039;t increase from zero.</p><p>I reflashed back to my original squashfs image taken at the beginning of May and reloaded the same configuration I&#039;d tried earlier and it worked fine and this is the configuration I&#039;m currently running with.</p><p>I&#039;d really like to be able to update to the latest version so I can add some additional packages .</p><p>M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169445">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						8 Jun 2012, 19:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>scaryAardvark wrote:</cite><blockquote><p>I then reflashed to remove any trace of the backup configuration and once the router rebooted I then manually set up the WAN connection and it connected and was working fine. However, I decided to reboot the router again without changing anything and when it came back up it refused to connect to the WAN. I checked the configuration and it appeared correct.</p></blockquote></div><p>try the patch in the ticket</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169446">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						8 Jun 2012, 19:10					</div>
				</div>
				<div class="post-content content">
					<p>The ticket seems to be about a USB modem. I&#039;ll give it a shot though</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169447">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						8 Jun 2012, 19:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>scaryAardvark wrote:</cite><blockquote><p>The ticket seems to be about a USB modem. I&#039;ll give it a shot though</p></blockquote></div><p>no, it is a general problem with the &#039;device&#039; name been corrupted. If your interface is started by a hotplug script and it has a variable named device then this patch should help</p><p>post here &#039;grep -HEnr device /etc/hotplug.d/&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169644">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						10 Jun 2012, 17:22					</div>
				</div>
				<div class="post-content content">
					<p>This is the grep of my current config, the one that is working correctly<br /></p><div class="quotebox"><blockquote><p>root@OpenWrt:~# grep -HEnr device /etc/hotplug.d/<br />/etc/hotplug.d/atm/20-atm-modem:26:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;logger &quot;Found no matching interface for DSL device $DEVICENAME&quot;<br />/etc/hotplug.d/firmware/10-rt2x00-eeprom:19:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rt2x00_eeprom_die &quot;no mtd device found for partition $part&quot;<br />/etc/hotplug.d/iface/10-routes:71:# Skip fake devices (e.g. relayd)<br />/etc/hotplug.d/iface/10-routes:130:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local device=$(uci_get_state network &quot;$INTERFACE&quot; device)<br />/etc/hotplug.d/iface/10-routes:132:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for ifn in $(ifconfig | sed -ne &quot;s/^\(\($DEVICE${device:+\|$device}\|br-$INTERFACE\):[^[:space:]]\+\).*/\1/p&quot;); do<br />/etc/hotplug.d/iface/20-firewall:5:# interface is available as INTERFACE, the real device as DEVICE.<br />/etc/hotplug.d/iface/30-teql:14:&nbsp; &nbsp; logger Adding device $DEVICE to TEQL master $teql<br />/etc/hotplug.d/net/10-net:12:&nbsp; &nbsp;# PPP devices are configured by pppd, no need to run setup_interface here<br />/etc/hotplug.d/net/10-net:35:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;config_get ifs &quot;$ifc&quot; device<br />/etc/hotplug.d/net/10-net:51:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;config_get ifs &quot;$ifc&quot; device<br />/etc/hotplug.d/net/10-net:58:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;uci_set_state &quot;network&quot; &quot;$ifc&quot; device &quot;$ifs&quot;</p></blockquote></div><p>and here is the grep of the most up to date version of openwrt which doesn&#039;t reconnect wan on reboot.<br /></p><div class="quotebox"><blockquote><p>/etc/hotplug.d/block/10-swap:14:&nbsp; &nbsp; device=`basename $DEVPATH`<br />/etc/hotplug.d/block/10-swap:25:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local mds_mount_device<br />/etc/hotplug.d/block/10-swap:26:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local sds_swap_device<br />/etc/hotplug.d/block/10-swap:28:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local use_device<br />/etc/hotplug.d/block/10-swap:32:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mds_mount_device=&quot;$3&quot;<br />/etc/hotplug.d/block/10-swap:36:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sds_swap_device=&quot;$2&quot;<br />/etc/hotplug.d/block/10-swap:45:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; config_get_mount_section_by_device &quot;/dev/$device&quot;<br />/etc/hotplug.d/block/10-swap:48:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # skip trying swap if this device is defined as a mount point<br />/etc/hotplug.d/block/10-swap:49:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ -z &quot;$mds_mount_device&quot; ] &amp;&amp; {<br />/etc/hotplug.d/block/10-swap:54:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; config_get_swap_section_by_device &quot;/dev/$device&quot;<br />/etc/hotplug.d/block/10-swap:55:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use_device=&quot;$sds_swap_device&quot; <br />/etc/hotplug.d/block/10-swap:59:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ -z &quot;$use_device&quot; ] &amp;&amp; [ &quot;$anon_swap&quot; -eq 1 ] &amp;&amp; {<br />/etc/hotplug.d/block/10-swap:60:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use_device=&quot;/dev/$device&quot; &amp;&amp; do_swap=1<br />/etc/hotplug.d/block/10-swap:64:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ -n &quot;$use_device&quot; ] &amp;&amp; [ &quot;$do_swap&quot; -eq 1 ] &amp;&amp; {<br />/etc/hotplug.d/block/10-swap:65:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grep -q &quot;$use_device&quot; /proc/swaps || grep -q &quot;$use_device&quot; /proc/mounts || {<br />/etc/hotplug.d/block/10-swap:66:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swapon &quot;$use_device&quot;<br />/etc/hotplug.d/block/10-swap:72:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grep -q &quot;/dev/$device&quot; /proc/swaps &amp;&amp; {<br />/etc/hotplug.d/block/10-swap:73:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; swapoff &quot;/dev/$device&quot;<br />/etc/hotplug.d/block/20-fsck:15:&nbsp; &nbsp; device=`basename $DEVPATH`<br />/etc/hotplug.d/block/20-fsck:24:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local mds_mount_device<br />/etc/hotplug.d/block/20-fsck:27:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local sds_swap_device<br />/etc/hotplug.d/block/20-fsck:28:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; local use_device<br />/etc/hotplug.d/block/20-fsck:37:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mds_mount_device=&quot;$3&quot;<br />/etc/hotplug.d/block/20-fsck:43:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sds_swap_device=&quot;$2&quot;<br />/etc/hotplug.d/block/20-fsck:51:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; config_get_mount_section_by_device &quot;/dev/$device&quot;<br />/etc/hotplug.d/block/20-fsck:52:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use_device=&quot;$mds_mount_device&quot;<br />/etc/hotplug.d/block/20-fsck:59:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ -z &quot;$use_device&quot; ] &amp;&amp; {<br />/etc/hotplug.d/block/20-fsck:64:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; config_get_swap_section_by_device &quot;/dev/$device&quot;<br />/etc/hotplug.d/block/20-fsck:65:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use_device=&quot;$sds_swap_device&quot; &amp;&amp; do_fsck=0<br />/etc/hotplug.d/block/20-fsck:69:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; grep -q &quot;/dev/$device&quot; /proc/swaps || grep -q &quot;/dev/$device&quot; /proc/mounts || {<br />/etc/hotplug.d/block/20-fsck:70:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [ &quot;$anon_fsck&quot; -eq 1 ] &amp;&amp; [ -z &quot;$use_device&quot; ] &amp;&amp; {<br />/etc/hotplug.d/block/20-fsck:71:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use_device=&quot;/dev/$device&quot; &amp;&amp; do_fsck=1 &amp;&amp; mds_mount_fstype=&quot;&quot; &amp;&amp; hotplug_blkid_fstype_match=0<br />/etc/hotplug.d/block/20-fsck:76:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; libmount_fsck &quot;$use_device&quot; &quot;$fsck_type&quot; &quot;$do_fsck&quot;<br />/etc/hotplug.d/block/40-mount:13:&nbsp; &nbsp; device=`basename $DEVPATH`<br />/etc/hotplug.d/block/40-mount:23:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local mds_mount_device<br />/etc/hotplug.d/block/40-mount:25:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local sds_swap_device<br />/etc/hotplug.d/block/40-mount:26:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;local use_device<br />/etc/hotplug.d/block/40-mount:35:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mds_mount_device=&quot;$3&quot;<br />/etc/hotplug.d/block/40-mount:41:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;sds_swap_device=&quot;$2&quot;<br />/etc/hotplug.d/block/40-mount:48:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;config_get_mount_section_by_device &quot;/dev/$device&quot;<br />/etc/hotplug.d/block/40-mount:49:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;use_device=&quot;$mds_mount_device&quot;<br />/etc/hotplug.d/block/40-mount:52:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;grep -q &quot;/dev/$device&quot; /proc/swaps || grep -q &quot;/dev/$device&quot; /proc/mounts || {<br />/etc/hotplug.d/block/40-mount:56:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;logger -t &#039;fstab&#039; &quot;Mount enabled for $mds_mount_device but it doesn&#039;t have a defined mountpoint (target)&quot;<br />/etc/hotplug.d/block/40-mount:61:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[ -z &quot;$use_device&quot; ] &amp;&amp; {<br />/etc/hotplug.d/block/40-mount:66:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;config_get_swap_section_by_device &quot;/dev/$device&quot;<br />/etc/hotplug.d/block/40-mount:67:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;use_device=&quot;$sds_swap_device&quot;<br />/etc/hotplug.d/block/40-mount:71:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;grep -q &quot;/dev/$device&quot; /proc/swaps || grep -q &quot;/dev/$device&quot; /proc/mounts || {<br />/etc/hotplug.d/block/40-mount:72:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[ &quot;$anon_mount&quot; -eq 1 -a -z &quot;$use_device&quot; ] &amp;&amp; {<br />/etc/hotplug.d/block/40-mount:73:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;case &quot;$device&quot; in<br />/etc/hotplug.d/block/40-mount:76:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;( mkdir -p /mnt/$device &amp;&amp; mount /dev/$device /mnt/$device ) 2&gt;&amp;1 | tee /proc/self/fd/2 | logger -t &#039;fstab&#039;<br />/etc/hotplug.d/block/40-mount:84:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;umount /dev/$device<br />/etc/hotplug.d/firmware/10-rt2x00-eeprom:19:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rt2x00_eeprom_die &quot;no mtd device found for partition $part&quot;<br />/etc/hotplug.d/iface/00-netstate:5:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;uci_toggle_state network &quot;$INTERFACE&quot; device &quot;$(uci -q get network.$INTERFACE.ifname)&quot;<br />/etc/hotplug.d/iface/10-sysctl:1:# Skip fake devices (e.g. relayd)<br />/etc/hotplug.d/iface/20-firewall:5:# interface is available as INTERFACE, the real device as DEVICE.<br />/etc/hotplug.d/iface/30-teql:14:&nbsp; &nbsp; logger Adding device $DEVICE to TEQL master $teql</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169647">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						10 Jun 2012, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>Wahey!!.. You are a star !!.</p><p>Thank you flux.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169648">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jow</div>
					<div class="post-datetime">
						10 Jun 2012, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>I believe your issue is addressed with <a href="https://dev.openwrt.org/changeset/32146">https://dev.openwrt.org/changeset/32146</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169708">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						11 Jun 2012, 09:44					</div>
				</div>
				<div class="post-content content">
					<p>Flux, I&#039;ve been writing shell scripts for quite a few years and am intrigued as to how not declaring a variable with the &quot;local&quot; keyword would cause this issue. </p><p>Would you be kind enough to share your thoughts on this and why it fixes the issue.</p><p>oh, and thanks for helping</p><p>Regards<br />Mark.</p>											<p class="post-edited">(Last edited by <strong>scaryAardvark</strong> on 11 Jun 2012, 10:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169734">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">flux</div>
					<div class="post-datetime">
						11 Jun 2012, 15:02					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>scaryAardvark wrote:</cite><blockquote><p>Flux, I&#039;ve been writing shell scripts for quite a few years and am intrigued as to how not declaring a variable with the &quot;local&quot; keyword would cause this issue. </p><p>Would you be kind enough to share your thoughts on this and why it fixes the issue.</p><p>oh, and thanks for helping</p><p>Regards<br />Mark.</p></blockquote></div><p>well, if you source another script it will run in the same shell and will be able to access all variable that you have defined in your script. And if it doesn&#039;t declare variables as local ones it will corrupt yours if their names collide</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p169740">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">scaryAardvark</div>
					<div class="post-datetime">
						11 Jun 2012, 16:37					</div>
				</div>
				<div class="post-content content">
					<p>Thanks again. Makes sense now .</p><p>M.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>