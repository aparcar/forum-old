<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Midnight Commander doesn&#039;t display UTF-8 correctly</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p341284">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Palermo</div>
					<div class="post-datetime">
						16 Oct 2016, 18:20					</div>
				</div>
				<div class="post-content content">
					<p>Hi Everyone,</p><p>I installed mc (4.8.14) on CHAOS CALMER (15.05.1, r48532) but the cyrillic alphabet displays incorrectly when I connect via PuTTY. I see <strong>*??????_??????????.txt</strong> instead of <strong>имя_файла.txt</strong>.</p><p>PuTTY configuration:<br /><strong>Remote character set: UTF-8</strong></p><p>When I execute ls command I get correct names:<br /><strong>root@OpenWrt:/mnt/sda1/test# ls<br />имя_файла.txt</strong></p><p>Could you please help me solve the problem?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341300">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">tmo26</div>
					<div class="post-datetime">
						16 Oct 2016, 21:00					</div>
				</div>
				<div class="post-content content">
					<p>Post the output of<br /></p><div class="codebox"><pre><code>opkg list-installed kmod-nls*</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341303">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">Palermo</div>
					<div class="post-datetime">
						16 Oct 2016, 21:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>tmo26 wrote:</cite><blockquote><p>Post the output of<br /></p><div class="codebox"><pre><code>opkg list-installed kmod-nls*</code></pre></div></blockquote></div><p>root@OpenWrt:~# opkg list-installed kmod-nls*<br />kmod-nls-base - 3.18.23-1<br />kmod-nls-cp1251 - 3.18.23-1<br />kmod-nls-cp866 - 3.18.23-1<br />kmod-nls-koi8r - 3.18.23-1<br />kmod-nls-utf8 - 3.18.23-1</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341332">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">bolvan</div>
					<div class="post-datetime">
						17 Oct 2016, 10:08					</div>
				</div>
				<div class="post-content content">
					<p>As I remember default compilation settings miss many things.<br />One of them is ability to use Ctrl+O and run commands from MC, another - utf support.<br />They can be enabled in &quot;make menuconfig&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341442">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Palermo</div>
					<div class="post-datetime">
						18 Oct 2016, 10:01					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>bolvan wrote:</cite><blockquote><p>As I remember default compilation settings miss many things.<br />One of them is ability to use Ctrl+O and run commands from MC, another - utf support.<br />They can be enabled in &quot;make menuconfig&quot;.</p></blockquote></div><p>I made a build based on the latest version of OpenWrt (49970) and MC (4.8.18). I enabled &#039;Compile with full language support&#039; and included kmod-nls-* packages. Now the cyrillic alphabet displays correctly.</p><p>Thank you all!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p341541">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Palermo</div>
					<div class="post-datetime">
						19 Oct 2016, 11:35					</div>
				</div>
				<div class="post-content content">
					<p>I did the same for the build based on CHAOS CALMER and the issue persists. I tried to build MC (4.8.18-1), libncursesw (5.9-3) (libiconv-full_1.11.1-3) from the latest version of OpenWRT but they could not help me solve the problem. I also tried to replace &#039;disable-charset&#039; by &#039;enable-charset&#039; and add &#039;enable-utf8&#039; in Makefile for MC and again it could not help.<br />I&#039;m really disappointed about not being able to find out. The latest version of OpenWRT is not stable, for example, I had a problem with wifi.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>