<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Buffalo WHR-G54S flaky LAN behaviors?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 27 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p51594">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						1 Jul 2007, 08:42					</div>
				</div>
				<div class="post-content content">
					<p>I just got a Buffalo WHR-G54S which I am trying to set up as an access point in my existing LAN, connecting to my D-Link DSL-G604T which already runs Kamikaze and acts as my WAN router.&nbsp; I&#039;m trying to use Whiterussian 0.9 (actually the latest X-WRT release) just to get a nice web interface, since it requires a 2.4 kernel anyway for wireless...</p><p>I am having a number of problems which may all be related... this experience is entirely different than when I set up a Linksys WRT54GL with the same X-WRT version of Whiterussian 0.9!</p><p>1. Wired LAN traffic between my laptop connected to a WHR-G54S LAN port and a desktop system connected (through another switch) to another WHR-G54S LAN port is extremely slow and unstable.&nbsp; I see at most 2 MB/s via SSH, whereas doing the same thing across my DSL-G604T yields 12 MB/s and I can even get around 20 MB/s across my gigabit switch. There&#039;s definitely something fishy with how this LAN switch is functioning...</p><p>2. Sometimes when I insert the LAN uplink cable to a WHR-G54S LAN (or WAN) port, the link status LED flickers rapdily instead of turning on solid. Nothing seems to work in this case, and I have to try again.&nbsp; It seems to come on solid if I reboot the WHR-G54S while the cable is already inserted.</p><p>3. After being connected all night, traffic no longer seems to cross the WHR-G54S switch.&nbsp; I cannot get a DHCP address from my LAN (DHCP is disabled on the WHR-G54S) and I cannot even ping the WHR-G54S from the rest of my LAN. I can ping if I connect directly to the WHR-G54S LAN port.</p><p>4. I couldn&#039;t get the WAN port of the WHR-G54S to work at all with OpenWRT.&nbsp; I tried to set it up as a standard NAT-router at first just to familiarize myself with how it worked compared to my other devices. However, I did make this work with the original Buffalo firmware so I think the hardware is OK.&nbsp; Is it possible that the default OpenWRT VLAN configuration is incorrect for this device?</p><p>5. My Fedora 7 laptop (with madwifi-ng) has problems authenticating via WPA with the WHR-G54S, requiring me to manually &quot;disconnect&quot; once via wpa_gui before it works. Otherwise it just loops in authentication timeouts. However, it did not do this with the WRT54GL running the same OpenWRT firmware.&nbsp; Are these two platforms sufficiently different in hardware to explain different WPA behaviors?</p><p>I should point out, I saw the same performance issues as in (1) with the Buffalo firmware.&nbsp; I am wondering whether the table of hardware which says &quot;in CPU&quot; for the LAN switch means that the CPU is handling all LAN traffic bridging? How/why?&nbsp; I don&#039;t see enough ports showing via ifconfig to indicate full software bridging. I did not see the other problems with the Buffalo firmware, but I did not work with it for very long before TFTP installing the OpenWRT firmware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51595">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						1 Jul 2007, 08:54					</div>
				</div>
				<div class="post-content content">
					<p>Aha, I just tried swapping around my LAN topology a bit more... when I connect my gigabit switch to the WHR-G54S LAN port, the LED comes on solid and I can get about 10 MB/s ssh traffic between my laptop and a system on the LAN (crossing the WHR-G54S LAN switch).</p><p>So, it seems that the WHR-G54S and the DSL-G604T are not happy connecting to each other via LAN ports... has anybody seen things like this before?</p>											<p class="post-edited">(Last edited by <strong>karl</strong> on 1 Jul 2007, 08:54)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51627">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">karl</div>
					<div class="post-datetime">
						2 Jul 2007, 08:32					</div>
				</div>
				<div class="post-content content">
					<p>Just to follow up... the WHR-G54S WPA behavior seems better now too.&nbsp; Whatever was happening when the two DSL-G604t and WHR-G54S routers were connected and the link not working right seems to have impacted WPA stability as well as the wired LAN performance! Very odd.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>