<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to patch .diff files</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 29 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p218489">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">dusty</div>
					<div class="post-datetime">
						26 Nov 2013, 02:41					</div>
				</div>
				<div class="post-content content">
					<p>Hi all, </p><p>I would like to tell you that I recently started to mess with compiling and have some basics about programming and compiling but I consider myself a newbie about it all.</p><p>I have been reading through the wiki parts related to buildroot (installation, usage and working with patches) but I still don&#039;t have a clue on how to apply a .diff file that &quot;teslamint&quot; shared in <a href="https://forum.openwrt.org/viewtopic.php?id=43515">this link</a>. It talks about .patch files but I don&#039;t know if they have the same content as .diff files.</p><p>What I am trying to do is to reuse the work teslamint did about creating this patch to be able to compile a firmware that can be loaded into a D-link DIR-615 I1 revision, as it also has an atheros chipset but won&#039;t allow to update with a firmware that belongs to a DIR-615 C1.</p><p>Thanks in advance for your help.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218545">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						26 Nov 2013, 15:31					</div>
				</div>
				<div class="post-content content">
					<p>I would patch it via git, just inside the buildroot directory do: git apply mypatch.diff<br />this also works if the buildroot isn&#039;t downloaded via git.</p><p>But the 1.diff file does not patch correctly anymore against the latest trunk, and you have to use atitude adjustment.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218573">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						26 Nov 2013, 21:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>dusty wrote:</cite><blockquote><p>I have been reading through the wiki parts related to buildroot (installation, usage and working with patches) but I still don&#039;t have a clue on how to apply a .diff file that &quot;teslamint&quot; shared in <a href="https://forum.openwrt.org/viewtopic.php?id=43515">this link</a>. It talks about .patch files but I don&#039;t know if they have the same content as .diff files.</p></blockquote></div><p>As pointed out above, you probably need to know how to create your own new patch file. Perusing this <a href="http://wiki.openwrt.org/doc/devel/patches">working with patches</a> will definitely make your work more efficient.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p218585">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">zloop</div>
					<div class="post-datetime">
						27 Nov 2013, 00:01					</div>
				</div>
				<div class="post-content content">
					<p>The .diff that teslamint posted is very &quot;dirty&quot; it contains patches of files that have nothing to do with hardware support of a<br />D-link DIR-615 I1.</p><p>since it is hosted on github there is a cleaner diff available - clicking on the commit and add .patch to the url</p><p>try: <a href="https://github.com/teslamint/openwrt/commit/d58f6f6e4f6e1c0c24e6718db1980bbe7adae25d.patch">https://github.com/teslamint/openwrt/co â€¦ e25d.patch</a></p><p>applying the patch with git on trunk buildroot should be easier than the 1.diff posted</p><p>If it does not apply cleanly it is often due to the &quot;environment&quot; of the patchfile not matching the target : that means the +/- 3 lines around the changes are not matching and therefore it cannot be applied automatically<br />In that case you just have to add/edit the line yourself.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>