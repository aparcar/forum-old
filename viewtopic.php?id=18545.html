<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Using Blackberry Bold with OpenWrt (on Asus WL-520GU)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p80067">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">cgrenier</div>
					<div class="post-datetime">
						21 Jan 2009, 23:47					</div>
				</div>
				<div class="post-content content">
					<p>I started to use OpenWrt a bit ago, and I configured it with success to suit my needs. When I got my new WiFi enabled Blackberry, I successfully peered it with my router but almost no packets were going through. Even disabling all security protocols didn&#039;t help. My laptop was not having this issue. I re-flashed my Asus router to stock firmware to see if it was hardware problem, and it worked flawlessly then. Discussing this trouble with my colleagues I found a strange link between those using *NIX based AP and this trouble. (PFSense, Gigafast WF719-CAPR, OpenWrt) Anybody aware of this trouble ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80867">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">sven_thomsen</div>
					<div class="post-datetime">
						1 Feb 2009, 21:51					</div>
				</div>
				<div class="post-content content">
					<p>Same here. I &#039;m using a DD-WRT-based router right now, works with no problems.</p><p>OpenWRT and Blackberry WiFi won&#039;t work.</p><p>I&#039;m trying to drill into this problem, but found no solution so far.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80868">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">kupesoft</div>
					<div class="post-datetime">
						1 Feb 2009, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>I once had a problem with my Nokia N800 simply not working with an atheros-based router I made. It&#039;s probably the Blackberry&#039;s fault.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80869">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">sven_thomsen</div>
					<div class="post-datetime">
						1 Feb 2009, 22:12					</div>
				</div>
				<div class="post-content content">
					<p>OK, Atheros may be a hint: I&#039;m testing with a Netgear WGT634U.</p><p>I&#039;ll try to test with a Broadcom in the next days.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80961">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">mbadaire</div>
					<div class="post-datetime">
						2 Feb 2009, 23:52					</div>
				</div>
				<div class="post-content content">
					<p>My BB Bold does work with my asus WL 500g deluxe using kernel 2.4 with wpa psk.<br />The wifi network is connected and i can even connect to ssh.<br />What happen when you try to connect?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p81747">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">cgrenier</div>
					<div class="post-datetime">
						12 Feb 2009, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>Either I obtain a DHCP succesfully or set a static IP, I manage to reach (ping) my BB from another station of the network one time out of 100 ... So it&#039;s mostly packet loss but it&#039;s connected to the router. It&#039;s not a signal quality problem, I made sure of that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p82225">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">Arch13</div>
					<div class="post-datetime">
						20 Feb 2009, 00:54					</div>
				</div>
				<div class="post-content content">
					<p>While neither here nor there, I will point out that the Iphone successfully peers with a WGT634U running 8.09RC1 that utilizes an Atheros chipset (IE Madwifi)<br />Could this be a limitation of the blackberry&#039;s wifi chipset?</p><p>To test the all *nix theory, find a WGT634U with stock firmware and see if it peers, IIRC even the stock firmware in linux based. Or better, try to peer with a stock WNR netgear device based off of OpenWRT.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87002">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jrydval</div>
					<div class="post-datetime">
						30 Apr 2009, 11:49					</div>
				</div>
				<div class="post-content content">
					<p>Just to let you know:</p><p>- I use Asus 500gP with Kamikaze 7.XX and my Blackberry works fine even with WPA/PSK enabled on the router.<br />- I also use Alix board with CM9 Wifi card and Kamikaze 8.09 and it works fine with iPod, PSP and several notebooks, but not with Blackberry Bold - the phone obtains IP address, but is not able to communicate. I will attach a tcpdump later, because it seems to be a bit strange - like dialog of two deaf sides - both sides (Blackberry and rcp.eu.blackberry.com) are repeating still the same TCP packet (sequence numbers, size, ... are still the same).</p><p>Any hint welcomed</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p87028">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">jrydval</div>
					<div class="post-datetime">
						30 Apr 2009, 19:36					</div>
				</div>
				<div class="post-content content">
					<p>The promised tcpdump from Alix Kamikaze box with CM9 card. The Brebera is the Blackberry Bold...</p><div class="codebox"><pre><code>root@ry2lRouter:~# tcpdump -i br-lan host brebera
tcpdump: verbose output suppressed, use -v or -vv for full protocol decode
listening on br-lan, link-type EN10MB (Ethernet), capture size 96 bytes
14:28:40.240808 IP 192.168.7.1.67 &gt; brebera.68: BOOTP/DHCP, Reply, length 301
14:28:40.310841 IP 192.168.7.1.67 &gt; brebera.68: BOOTP/DHCP, Reply, length 301
14:28:41.323861 IP 192.168.7.1.67 &gt; brebera.68: BOOTP/DHCP, Reply, length 301
14:28:41.662327 arp who-has 192.168.7.1 (Broadcast) tell brebera
14:28:41.662392 arp reply 192.168.7.1 is-at 00:0b:6b:de:56:74 (oui Unknown)
... BES server connection attempt deleted...
14:29:22.298095 arp who-has brebera tell 192.168.7.1
14:29:36.338566 IP brebera &gt; 192.168.7.1: ICMP echo request, id 41537, seq 0, length 9
14:29:36.348096 arp who-has brebera tell 192.168.7.1
14:29:36.353049 arp reply brebera is-at 192.168.7.107
14:29:36.353076 IP 192.168.7.1 &gt; brebera: ICMP echo reply, id 41537, seq 0, length 9
14:29:46.297104 IP brebera.50084 &gt; rcp.eu.blackberry.com.443: S 1285441758:1285441758(0) win 65535 &lt;mss 1360&gt;
14:29:46.359047 IP rcp.eu.blackberry.com.443 &gt; brebera.50084: S 3720499773:3720499773(0) ack 1285441759 win 4080 &lt;mss 1380&gt;
14:29:48.319571 IP brebera.50084 &gt; rcp.eu.blackberry.com.443: S 1285441758:1285441758(0) win 65535 &lt;mss 1360&gt;
14:29:49.358010 IP rcp.eu.blackberry.com.443 &gt; brebera.50084: S 3720499773:3720499773(0) ack 1285441759 win 4080 &lt;mss 1380&gt;
14:29:50.362008 IP brebera.50084 &gt; rcp.eu.blackberry.com.443: S 1285441758:1285441758(0) win 65535 &lt;mss 1360&gt;
14:29:54.439585 IP brebera.50084 &gt; rcp.eu.blackberry.com.443: S 1285441758:1285441758(0) win 65535 &lt;mss 1360&gt;
14:29:55.353671 IP rcp.eu.blackberry.com.443 &gt; brebera.50084: S 3720499773:3720499773(0) ack 1285441759 win 4080 &lt;mss 1380&gt;
14:29:58.543452 IP brebera.50084 &gt; rcp.eu.blackberry.com.443: S 1285441758:1285441758(0) win 65535 &lt;mss 1360&gt;
14:30:02.348083 arp who-has brebera tell 192.168.7.1
14:30:06.737296 IP brebera.50084 &gt; rcp.eu.blackberry.com.443: S 1285441758:1285441758(0) win 65535 &lt;mss 1360&gt;

...now it reached a timeout or number of re-tries and tries to establish new connection...

14:30:24.750692 IP brebera.49852 &gt; rcp.eu.blackberry.com.443: S 318644347:318644347(0) win 65535 &lt;mss 1360&gt;
14:30:24.818090 arp who-has brebera tell 192.168.7.1
14:30:26.772759 IP brebera.49852 &gt; rcp.eu.blackberry.com.443: S 318644347:318644347(0) win 65535 &lt;mss 1360&gt;
14:30:26.818089 arp who-has brebera tell 192.168.7.1
14:30:28.810776 IP brebera.49852 &gt; rcp.eu.blackberry.com.443: S 318644347:318644347(0) win 65535 &lt;mss 1360&gt;
14:30:31.349358 IP brebera &gt; 192.168.7.1: ICMP echo request, id 41537, seq 256, length 9
14:30:31.358095 arp who-has brebera tell 192.168.7.1
14:30:31.362318 arp reply brebera is-at 192.168.7.107
14:30:31.362344 IP 192.168.7.1 &gt; brebera: ICMP echo reply, id 41537, seq 256, length 9
14:30:32.894293 IP brebera.49852 &gt; rcp.eu.blackberry.com.443: S 318644347:318644347(0) win 65535 &lt;mss 1360&gt;
14:30:36.994291 IP brebera.49852 &gt; rcp.eu.blackberry.com.443: S 318644347:318644347(0) win 65535 &lt;mss 1360&gt;
14:30:45.196248 IP brebera.49852 &gt; rcp.eu.blackberry.com.443: S 318644347:318644347(0) win 65535 &lt;mss 1360&gt;</code></pre></div><p>Is there an oracle who is able to guess the problem from this sniplet?</p><p>Update:<br />I also tried to switch off encryption and surprise, surprise - it works ok. So problem is probably in an encryption compatibility issue...</p>											<p class="post-edited">(Last edited by <strong>jrydval</strong> on 30 Apr 2009, 20:00)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>