<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> IP address via DHCP to LAN port</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p52284">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">nathan_vanan</div>
					<div class="post-datetime">
						13 Jul 2007, 18:06					</div>
				</div>
				<div class="post-content content">
					<p>Hello All,<br />I have the following setup:<br />- WRT54GL Router in Client mode (sta)<br />- Kamikaze 7.06<br />- Another router (AP mode) connected to the Internet</p><p>And I want to achieve this:<br />I want to connect a latptop to one of the LAN ports of the WRT54GL router, and <br />I want the laptop to get an IP address via the DHCP server running from the <br />Router that is connected to the Internet.</p><p>Right now, I am getting an IP address but I could not ping the Router running <br />in AP mode nor any internet site. And, this IP address is assigned by the WRT54GL<br />router not by the router connected to the internet. I tried putting the WRT54GL<br />router in &quot;wet&quot; mode, no luck. </p><p>What am I missing here ?<br />Please post your configuration along with your solution.</p><p>Thanks in advance,<br />nathan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52290">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">wcastillo</div>
					<div class="post-datetime">
						13 Jul 2007, 22:33					</div>
				</div>
				<div class="post-content content">
					<p>You didn&#039;t mention if you had the dhcp server turned off on the WRT54GL that is in Client Mode.&nbsp; Check to make sure dnsmasq is not running on the WRT54GL router... </p><p>sh# ps aux</p><p>and look for something similar to the following line:<br /> 2112 nobody&nbsp; &nbsp; &nbsp; 464 S&nbsp; &nbsp;dnsmasq -C /etc/dnsmasq.conf</p><p>If it is, you can try, &quot;/etc/init.d/dnsmasq stop&quot; and get the laptop to release its current ip and get a new one.&nbsp; </p><p>Hope that helps a bit.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52396">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">nathan_vanan</div>
					<div class="post-datetime">
						16 Jul 2007, 16:40					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for your response. <br />I tried that, and the laptop could not receive a valid IP address now.<br />Am I missing anything else ?</p><p>Thanks,</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p52405">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">wcastillo</div>
					<div class="post-datetime">
						16 Jul 2007, 20:16					</div>
				</div>
				<div class="post-content content">
					<p>Ok.. sorry about that previous post... not an expert with setting up a router as a wireless client.&nbsp; However, a few things come to my mind.&nbsp; If i remember correctly, the router that is connected to the ap as a wireless client, can only send its own mac address to the ap.&nbsp; Thus, if you have a laptop connected to the lan port of the (client) router, the (ap) router wont see the laptop&#039;s mac address, but instead see the mac address of the (client) router.&nbsp; This means that the laptop can&#039;t get an ip address from the (ap) router, instead the (client) router will get an ip address from the (ap) router, and the dhcp server on the (client) router will give an ip addres to the laptop.&nbsp; The laptop should have an ip address on a different subnet than the (ap) router, like 192.168.2.x.&nbsp; If you really want the laptop to get an ip address from the (ap) router, I think you would have to setup a wireless bridge instead.</p><p>Again, not an expert in setting up a router to be a wireless client, but I hope it can help.</p><p>Thanks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>