<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Buildroot questions</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p22613">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">Craven</div>
					<div class="post-datetime">
						12 Mar 2006, 03:42					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m a beginner at this so please go easy on me...</p><p>After running &quot;make menuconfig&quot; where is the list of packages to be included stored?&nbsp; I noticed every package got downloaded and built, even ones I did not select in &quot;make menuconfig&quot;.&nbsp; ImageBuilder uses the files under target/linux/imagebuilder/lists but I do not want to use ImageBuilder.&nbsp; Does a completely custom build use another file somewhere?&nbsp; I want to build firmware without dhcp.&nbsp; Later I want to include dnsmasq and after that I might want to try another dns package.&nbsp; Is there a file that I can easily modify to pick up these package changes when I do a custom build?&nbsp; If I re-run &quot;make menuconfig&quot; and de-select dnsmasq would that be enough?&nbsp; FWIW I do not like &quot;make menuconfig&quot;.&nbsp; Never have, even for just building regular Linux kernels.&nbsp; I find it confusing.&nbsp; That doesn&#039;t mean I won&#039;t use it when necessary. <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>After running &quot;make&quot; I see .bin files for openwrt-wa840g, we800g, wr850g, wrt54g, wrt54gs, wrt54g3g, wrt54gs_v4 and wrtsl54gs.&nbsp; Squashfs and jffs2.&nbsp; I am only interested in building a squashfs flavor firmware for the wrt54gs.&nbsp; Is there a makefile target or config file somewhere that will turn off generation of all the other binaries?</p><p>Dropbear.&nbsp; I will always have dropbear.&nbsp; Always.&nbsp; What is the best way to preserve dropbear_rsa_host_key, dropbear_dsa_host_key and the public keys for my other boxes, authorized_keys on the target filesystem?&nbsp; The /etc/dropbear directory is not in the skeleton fs at packages/base-files/default.&nbsp; Can I just add a dropbear subdir there, put the files in it and have them get picked up for ever more?</p><p>Thanks in advance.</p>											<p class="post-edited">(Last edited by <strong>Craven</strong> on 12 Mar 2006, 04:07)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p22632">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Craven</div>
					<div class="post-datetime">
						12 Mar 2006, 12:11					</div>
				</div>
				<div class="post-content content">
					<p>Well, I answered one of my own questions re. the dropbear authorized_keys file.&nbsp; Yes, that works if I add it to package/base-files/default/etc/dropbear and rebuild.&nbsp; It becomes &quot;sticky&quot; there and is automatically on the router after the new firmware is loaded.</p><p>I also verified FWIW that re-flash via the webif works over a wireless connection.&nbsp; Not a recommended procedure but it works.&nbsp; I got lazy after a few hard-wired boot_wait tftp upgrades.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p42790">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">johncass</div>
					<div class="post-datetime">
						16 Feb 2007, 19:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>Does anyone know how to select which packages kamikaze creates during a make?</p><p>On more recent versions, menuconfig offers an option to create only squashfs or jffs2 but I would like to _only_ create the openwrt-brcm-2.6-squashfs.trx and not bother creating the device-specific .bin files.</p><br /><p>any ideas?</p><p>Thanks</p><p>john</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>