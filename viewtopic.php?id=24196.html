<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Storage question ..</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 8 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p106418">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">oleg106</div>
					<div class="post-datetime">
						8 Apr 2010, 23:57					</div>
				</div>
				<div class="post-content content">
					<p>I am getting out of space error installing a package.&nbsp; /overlay has 2.3M left .. I don&#039;t recall this being an issue with backfire RCs.&nbsp; Should I be changing the destination?</p><p>This is on DIR-825 B1 w/ squashfs</p><p>Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.3M&nbsp; &nbsp; &nbsp; 1.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 30.3M&nbsp; &nbsp; &nbsp; 1.1M&nbsp; &nbsp; &nbsp;29.2M&nbsp; &nbsp;4% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />/dev/mtdblock4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.8M&nbsp; &nbsp; &nbsp; 2.3M&nbsp; &nbsp; &nbsp; 1.5M&nbsp; 61% /overlay<br />mini_fo:/overlay&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.3M&nbsp; &nbsp; &nbsp; 1.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /<br />~ #</p><br /><p>~ # opkg install xmail<br />Installing xmail (1.26-1) to root...<br />Collected errors:<br /> * verify_pkg_installable: Only have 0kb available on filesystem /, pkg xmail needs 503<br /> * opkg_install_cmd: Cannot install package xmail.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106419">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Dogge</div>
					<div class="post-datetime">
						8 Apr 2010, 23:59					</div>
				</div>
				<div class="post-content content">
					<p>It has 1.5M free and not 2.3M.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106421">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">oleg106</div>
					<div class="post-datetime">
						9 Apr 2010, 00:08					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Dogge wrote:</cite><blockquote><p>It has 1.5M free and not 2.3M.</p></blockquote></div><p>Yep .. 1.5M, but not 0.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106424">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						9 Apr 2010, 00:30					</div>
				</div>
				<div class="post-content content">
					<p>The error message is saying that there is 0 available on filesystem &quot;/&quot; which is true, you do have 0 available on &quot;/&quot;.&nbsp; Is your overlay root path set properly?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106777">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">oleg106</div>
					<div class="post-datetime">
						13 Apr 2010, 18:43					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>The error message is saying that there is 0 available on filesystem &quot;/&quot; which is true, you do have 0 available on &quot;/&quot;.&nbsp; Is your overlay root path set properly?</p></blockquote></div><p>I am not sure .. I just installed the release as usual and no it won&#039;t install packages .. not sure what&#039;s changed.</p><br /><br /><p>/ # mount<br />rootfs on / type rootfs (rw)<br />/dev/root on /rom type squashfs (ro,relatime)<br />proc on /proc type proc (rw,relatime)<br />sysfs on /sys type sysfs (rw,relatime)<br />tmpfs on /tmp type tmpfs (rw,nosuid,nodev,relatime,size=30988k)<br />tmpfs on /dev type tmpfs (rw,relatime,size=512k)<br />devpts on /dev/pts type devpts (rw,relatime,mode=600)<br />/dev/mtdblock4 on /overlay type jffs2 (rw,relatime)<br />mini_fo:/overlay on / type mini_fo (rw,relatime)<br />debugfs on /sys/kernel/debug type debugfs (rw,relatime)</p><br /><p>/ # df -h<br />Filesystem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Size&nbsp; &nbsp; &nbsp; Used Available Use% Mounted on<br />/dev/root&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.3M&nbsp; &nbsp; &nbsp; 1.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /rom<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 30.3M&nbsp; &nbsp; &nbsp; 1.1M&nbsp; &nbsp; &nbsp;29.2M&nbsp; &nbsp;4% /tmp<br />tmpfs&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;512.0K&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; 512.0K&nbsp; &nbsp;0% /dev<br />/dev/mtdblock4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 3.8M&nbsp; &nbsp; &nbsp; 2.2M&nbsp; &nbsp; &nbsp; 1.6M&nbsp; 57% /overlay<br />mini_fo:/overlay&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1.3M&nbsp; &nbsp; &nbsp; 1.3M&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0 100% /</p><br /><p>/ # cat /etc/opkg.conf<br />src/gz packages <a href="http://downloads.openwrt.org/backfire/10.03-beta/ar71xx/packages">http://downloads.openwrt.org/backfire/1 â€¦ x/packages</a><br />dest root /<br />dest ram /tmp<br />lists_dir ext /var/opkg-lists<br />option overlay_root /jffs</p><br /><p>/ # opkg install xmail<br />Installing xmail (1.26-1) to root...<br />Collected errors:<br /> * verify_pkg_installable: Only have 0kb available on filesystem /, pkg xmail needs 503<br /> * opkg_install_cmd: Cannot install package xmail.</p><br /><br /><br /><br /><br /><p>If I change dest root to /overlay it starts installing but fails later on because the path is wrong.</p><p>Any idea?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106778">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						13 Apr 2010, 18:49					</div>
				</div>
				<div class="post-content content">
					<p>I think you want to change overlay_root (not dest root) to &quot;/overlay&quot; instead of &quot;/jffs&quot;. I don&#039;t have a backfire device up yet but on my Kamikaze installs overlay_root is set to &quot;/jffs&quot; and that filesystem exists. Looks like the new name for that filesystem must be &quot;/overlay&quot; in which case your overlay_root should be set to &quot;/overlay&quot;.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106892">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">oleg106</div>
					<div class="post-datetime">
						15 Apr 2010, 00:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>I think you want to change overlay_root (not dest root) to &quot;/overlay&quot; instead of &quot;/jffs&quot;. I don&#039;t have a backfire device up yet but on my Kamikaze installs overlay_root is set to &quot;/jffs&quot; and that filesystem exists. Looks like the new name for that filesystem must be &quot;/overlay&quot; in which case your overlay_root should be set to &quot;/overlay&quot;.</p></blockquote></div><p>That worked, thanks.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>