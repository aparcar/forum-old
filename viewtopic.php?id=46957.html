<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Cant Unbrick my WR703N</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p215597">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">bdh1689</div>
					<div class="post-datetime">
						24 Oct 2013, 21:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys im trying to recover my WR703N, but i dont know why i cant send the file to my router, or atleast that is the problem that i have.</p><p>I read the wiki and some threads about this in the web and i think i have all ready to recover my router but after TPL the router and get the &quot;hornet&quot;&nbsp; is just dont send the file.... </p><p>here is a console log... using putty and realterm and tftpd32 </p><div class="codebox"><pre><code>U-Boot 1.1.4 (Feb 28 2012 - 11:58:24)

AP121 (ar9330) U-boot

DRAM:  32 MB
led turning on for 1s...
id read 0x100000ff
flash size 4194304, sector count = 64
Flash:  4 MB
Using default environment

In:    serial
Out:   serial
Err:   serial
Net:   ag7240_enet_initialize...
No valid address in Flash. Using fixed address
No valid address in Flash. Using fixed address
: cfg1 0x5 cfg2 0x7114
eth0: 00:03:7f:09:0b:ad
ag7240_phy_setup
eth0 up
: cfg1 0xf cfg2 0x7214
eth1: 00:03:7f:09:0b:ad
athrs26_reg_init_lan
ATHRS26: resetting s26
ATHRS26: s26 reset done
ag7240_phy_setup
eth1 up
eth0, eth1
Autobooting in 1 seconds
hornet&gt; tftpboot 0x81000000 openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin
eth1 link down
dup 1 speed 100
Using eth0 device
TFTP from server 192.168.1.100; our IP address is 192.168.1.111
Filename &#039;openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin&#039;.
Load address: 0x81000000
Loading: T T T T T T T T T T
Retry count exceeded; starting again
eth1 link down
Using eth0 device
TFTP from server 192.168.1.100; our IP address is 192.168.1.111
Filename &#039;openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin&#039;.
Load address: 0x81000000
Loading: T T T T T T T T T T
Retry count exceeded; starting again</code></pre></div><p>I put the firmware at the same directory of the tftp32 program just in case i need to be there... and putty program too.&nbsp; all of them at: C:\Program Files\Tftpd32</p><div class="codebox"><pre><code>hornet&gt; tftpboot 0x81000000 openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin
hornet&gt; erase 0x9f020000 +0x3c0000
hornet&gt; cp.b 0x81000000 0x9f020000 0x3c0000
hornet&gt; bootm 9f020000</code></pre></div><p>I tried the other commands and at least it let me &quot;erase&quot; </p><div class="codebox"><pre><code> hornet&gt; erase 0x9f020000 +0x3c0000

First 0x2 last 0x3d sector size 0x10000                                       61
Erased 60 sectors</code></pre></div><p>but dont have and idea what more i need to do...<br />any ideas or suggestion will be appreciated.<br />Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215600">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Oct 2013, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>did you paste every single line or the whole block?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215601">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">bdh1689</div>
					<div class="post-datetime">
						24 Oct 2013, 22:19					</div>
				</div>
				<div class="post-content content">
					<p>if you are asking if I tried all the commands at the same time.. nop.</p><p>like here:</p><div class="codebox"><pre><code>Autobooting in 1 seconds
hornet&gt; tftpboot 0x81000000 openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin
eth1 link down
dup 1 speed 100</code></pre></div><p>after see there no process I tried the &quot;erase&quot; command</p>											<p class="post-edited">(Last edited by <strong>bdh1689</strong> on 24 Oct 2013, 22:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215602">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						24 Oct 2013, 22:23					</div>
				</div>
				<div class="post-content content">
					<p>Do you have tftp server running? image cannot be downloaded from PC. Some times routers uses Wan port for download firmware</p>											<p class="post-edited">(Last edited by <strong>neryba</strong> on 24 Oct 2013, 22:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215605">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">bdh1689</div>
					<div class="post-datetime">
						24 Oct 2013, 22:44					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>neryba wrote:</cite><blockquote><p>Do you have tftp server running? image cannot be downloaded from PC. Some times routers uses Wan port for download firmware</p></blockquote></div><p>how do i know?</p><p>Im not familiar with tftp, just one time i use windows tftp to unbrick my WRT160NL with a command like this: tftp -i host PUT code.bin</p><p>but this time i think its not the same?</p><p>here are the programs that i have open...</p><p> <span class="postimg"><img src="http://i41.tinypic.com/2lcrx3s.jpg" alt="PunBB bbcode test" /></span></p><p>the log on the tftpd32 dont display nothing...</p><p>About the Wan port... this mini router just have 1 port that act like Wan/Lan if im not wrong... <br /><span class="postimg"><img src="http://wiki.openwrt.org/_media/media/toh/tp-link/tl-wr703n/tl-wr703n.jpg" alt="PunBB bbcode test" /></span></p>											<p class="post-edited">(Last edited by <strong>bdh1689</strong> on 24 Oct 2013, 22:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215606">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						24 Oct 2013, 22:48					</div>
				</div>
				<div class="post-content content">
					<p>turn off firewall on PC, maybe it blocks service</p>											<p class="post-edited">(Last edited by <strong>neryba</strong> on 24 Oct 2013, 22:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215609">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">bdh1689</div>
					<div class="post-datetime">
						24 Oct 2013, 23:03					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>neryba wrote:</cite><blockquote><p>turn off firewall on PC, maybe it blocks service</p></blockquote></div><p>Turn off Firewall and Antivirus... reboot PC<br />Tried...Not sucessfully</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215610">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						24 Oct 2013, 23:13					</div>
				</div>
				<div class="post-content content">
					<p>check connection between router and PC, also you can try another <a href="http://www.solarwinds.com/products/freetools/free_tftp_server.aspx">TFTP server</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215611">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">bdh1689</div>
					<div class="post-datetime">
						24 Oct 2013, 23:37					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>neryba wrote:</cite><blockquote><p>check connection between router and PC, also you can try another <a href="http://www.solarwinds.com/products/freetools/free_tftp_server.aspx">TFTP server</a></p></blockquote></div><p>Using the new program...</p><p>downloaded, installed.. TFTP server service started UDP69<br />change the directory to where i have saved the openwrt fw.</p><p>PC with static IP:192.168.1.100<br />Cable between the PC and router</p><p>Get the Uboot and type tpl... to get &quot;hornet&gt;&quot;</p><p>type again the command:</p><div class="codebox"><pre><code>Autobooting in 1 seconds
hornet&gt; tftpboot 0x81000000 openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin
eth1 link down
dup 1 speed 100
Using eth0 device
TFTP from server 192.168.1.100; our IP address is 192.168.1.111
Filename &#039;openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin&#039;.
Load address: 0x81000000
Loading: T T T T T T T T T T
Retry count exceeded; starting again</code></pre></div><p>again the same <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /> </p><br /><p>BTW thanks for all your help!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215613">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						24 Oct 2013, 23:54					</div>
				</div>
				<div class="post-content content">
					<p>could you try also connecting an ethernet switch between pc and wr703, THEN start tftpd32.</p><p>you can use any router or so that has at least 2 lan ports.</p><p>also, try a simple filename like &quot;code.bin&quot;</p><p>last but not least, sometimes uboot does not like certain NIC, try another pc if you can.</p>											<p class="post-edited">(Last edited by <strong>nebbia88</strong> on 24 Oct 2013, 23:55)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215644">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">cave</div>
					<div class="post-datetime">
						25 Oct 2013, 13:15					</div>
				</div>
				<div class="post-content content">
					<p>instructions</p><br /><p><a href="http://cavebeat.blogspot.ca/2012/09/unbrick-wr703n.html">http://cavebeat.blogspot.ca/2012/09/unbrick-wr703n.html</a><br />and original<br /><a href="http://forums.openpilot.org/blog/52/entry-92-unbrick-wr703n-wifi-router/">http://forums.openpilot.org/blog/52/ent … fi-router/</a></p><div class="quotebox"><cite>fertito wrote:</cite><blockquote><p>Hello,<br />if like myself you push the thing a little too far, you should find this usefull <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>If nothing is responding anymore on your router :</p><p>locate the GND, TX and RX on the board :<br />Posted Image</p><p>solder some wire on it, this is very difficult, because it is really small and the solder doesn&#039;t stick well on it. Once it is done, glue everything and let some easy access wire, that could be usefull after.</p><p>Plug a 3.3V ttl serial adapter (pl2303, ftdi, ...) on the wire and open a serial terminal (minicom, realterm, docklight, ...) @ 115200/8/N/1/XON-XOFF.</p><p>power on the wr703n and quiclky send &quot;tpl&quot; followed by enter to the terminal, this will make the wr703n enter in rescue U-boot hornet.</p><p>install a small tftp server on your computer (ex: <a href="http://tftpd32.jounin.net/)">http://tftpd32.jounin.net/)</a> and plug an ethernet cable between your computer and the wr703n.<br />Configure the IP adress of your computer to 192.168.1.100 and put the file<br />openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin<br />on the tftp server.</p><p>On the serial terminal enter the following lines :</p><p>hornet&gt; tftpboot 0x81000000 openwrt-ar71xx-generic-tl-wr703n-v1-squashfs-factory.bin<br />hornet&gt; erase 0x9f020000 +0x3c0000<br />hornet&gt; cp.b 0x81000000 0x9f020000 0x3c0000<br />hornet&gt; bootm 9f020000</p><br /><p>wait until it has uploaded and another extra couple of second before reset.</p><p>unplug the power, wait a bit, replug, the system should be freshly working...</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p215665">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">bdh1689</div>
					<div class="post-datetime">
						25 Oct 2013, 18:02					</div>
				</div>
				<div class="post-content content">
					<p>@nebbia88<br />Tried connect my main router to my wr703 and another cable from my main router to my computer and dont work. </p><p>I already tried change the fw name to another one more easier but no luck.</p><p>Just need to try this with another PC/Windows.<br />++++++++++++++++++++</p><p>@cave <br />thats the same instructions that im using,<br />The problem is i cant send the file.<br />Maybe PC/router problem, but i cant find a solution yet.</p><br /><p>@anarchy99 <br />Can you explain me with more details?<br />Use another IP range in the PC?<br />Im not an expert with this things, i just know a little about network and know how to follow instructions hehe.</p><p>Again thanks to all!</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>