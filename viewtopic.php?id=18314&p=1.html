<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Trendnet TEW-632BRP, TEW-652BRP, DLink DIR-615 C1, CC WLN2206 working!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 29 Mar 2018 and 29 Apr 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 14</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=18314&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=18314&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=18314&amp;p=14.html">14</a></li></ul></nav></div>
			
		
		
			<article class="post" id="p79111">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						6 Jan 2009, 17:52					</div>
				</div>
				<div class="post-content content">
					<p>Wanted to start a new thread focused on these models.&nbsp; These routers are all virtually identical based on the Atheros AP81 router platform with Atheros AR9102 WiFi chip (2x2 MIMO).&nbsp; They are rather inexpensive here in the USA, they have been on sale several times for $25.&nbsp; They have 32MB of RAM, 4MB of FLASH, and AR9132 (MIPS) processor running at 400Mhz.&nbsp; They use u-boot bootloader and have a recovery mode that uses http. <a href="http://wiki.x-wrt.org/index.php/Trendnet_TEW-632BRP">Good details over on the x-wrt.org site</a>&nbsp; Stock firmware hacking: <a href="http://www.bitsum.com/forum/index.php?&amp;topic=45.0;wap2">http://www.bitsum.com/forum/index.php?& … =45.0;wap2</a></p><p>OpenWrt trunk will build firmware for these routers, flashable via the web interface.&nbsp; <a href="http://forum.openwrt.org/viewtopic.php?pid=78923">Thread on the local forum on how to compile and build OpenWrt for these routers</a></p><p>1) Trendnet TEW-632BRP version A1.1R, AP81-AR9130-RT-070614-00<br />2) Trendnet TEW-632BRP version A1.0R, AP81-AR9130-RT-070614-00<br />3) Trendnet TEW-652BRP, AP81-AR9130-RT-080609-05<br />4) DLink DIR-615 revision C1, AP81-AR9130-RT-080609-05.&nbsp; IMPORTANT: Earlier revisions of this router are not Atheros based, a major change was made.<br />5) Cameo Communications WLN2206, FCC ID is same as Trendnet TEW-632BRP according to SmallNetBuilder website</p><p>On the DD-WRT forum people have had good results putting the D-Link DIR-615 C1 factory firmware onto the Trendnet TEW-652BRP. <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=236493">dd-wrt forum thread</a>.</p><p>Previous OpenWrt thread: <a href="http://forum.openwrt.org/viewtopic.php?id=17992">Recent changes means support for TRENDnet TEW-632BRP?</a></p><p>FCC internals information on router: <a href="https://fjallfoss.fcc.gov/oetcf/eas/reports/ViewExhibitReport.cfm?mode=Exhibits&amp;RequestTimeout=500&amp;calledFromFrame=N&amp;application_id=725906&amp;fcc_id=%27KA2DIR615B2%27">https://fjallfoss.fcc.gov/oetcf/eas/rep … IR615B2%27</a></p><p>:______________________________:</p><p>Warning about flashing the router using the recovery mode:&nbsp; There are some issues with how the switch behaves in recovery mode. I suggest you only connect it to the computer you are flashing from.</p><p>While in recovery mode, the switch tends to bring down my 8-port managed Dell gigabit switch! Tends to take about 45 seconds and my network dies.&nbsp; &nbsp;The recovery mode isn&#039;t a full OS and probably does a minimal job initializing the switch hardware. I also think it sets the MAC on the network port to something like all zeros.&nbsp; Someone on the DD-WRT lost LAN connection mid-flash and bricked a router.&nbsp; I suspect this issue. </p><p>I&#039;ve had no such issues flashing from within OpenWrt, this is only when using the recovery website boot of the router.</p><p>:| :| :| :| :| :| :| :| :| :| :| :| :| :| :| :|<br /><strong>STATUS, KNOWN ISSUES, ToDo with current OpenWrt</strong></p><p>This is the first router to work with ath9k and AHB bus.&nbsp; The ath9k driver is entirely free but not very mature.&nbsp; Atheros and Trendnet have NOT released the source code for the madwifi driver that the original router firmware uses - so everything is having to be done from scratch in ath9k.</p><p>Open source is about contributing to the community; please do testing, please contact Atheros and ask them for madwifi driver source code for the AR9100 chips (ath_ahb driver), please consider donations of hardware or money to OpenWrt developers, hostapd developers, ath9k developers.&nbsp; I am making a list of issues so we can see where the effort needs to go.</p><p>To me, it is exciting to have a router that often sells for $25 that has modern WiFi support, entirely free software, respectable amount of RAM and CPU speed.&nbsp; It will take a little time to get these working the way we want, please help out!&nbsp; These routers are already working as an Access Point under OpenWrt!</p><p>WARNING1: Do not try to activate 5Ghz mode - your chips don&#039;t support it (it is a 2.4Ghz only router), and one user reported this bricked his router!</p><p>1. It is early in the game.&nbsp; Consider this alpha or early beta testing until some people chime in with positive experience ;) use at your own risk.&nbsp; The good news is that the flash process works well on these routers and you can easily put back on the factory firmware using the recovery mode.</p><p>2. When the WiFi interface goes up it resets the eth0 cabled interfaces and causes them to go down for a couple seconds.&nbsp; It will drop my telnet session for example.&nbsp; Not a fatal problem, but something to resolve.</p><p>3a. [s]The ath9k wireless driver is only working at 54Mbps on these routers.&nbsp; Very new code in ath9k, so hopefully this will improve within a week or two.[/s]&nbsp; <strong>UPDATE: You can change the config and Makefile for hostapd and we have been able to get 130Mbps rate with OpenWrt and ath9k, see the ar9102/ar9103 thread</strong></p><p>3b.&nbsp; [s]The ath9k driver currently has high CPU usage (hostapd softirq).&nbsp; Expect wireless to max out at 750KBps (~9mbps WiFi througput) on heavy file copies.&nbsp; Performance tuning for CPU usage ath9k AHB bus is still underway. [/s] As of build 14334, this seems resolved!&nbsp; Recent checkins to improve hostapd performance and to disable the WiFi LED light have resolved this issue.&nbsp; report your results please.</p><p>4. [s]Make sure your flash size comes out something like 3866624 bytes, don&#039;t go over that too much.&nbsp; I bricked a Trendnet TEW-652BRP flashing it with a 4653056 byte build.&nbsp; After flash, u-boot and recovery flash mode are gone.&nbsp; I had enabled kernel symbols on 2.6.28 and some other stuff and didn&#039;t pay attention to the file size ;)[/s] SVN 13878 has an improved sanity check to prevent this. thanks.</p><p>5. [s]Once you put OpenWrt on the router, I haven&#039;t found a way to flash the router from within OpenWrt (please post if you know how). [/s]&nbsp; You can flash new OpenWrt firmware from within running OpenWrt.&nbsp; SCP or WGET the firmware into the router, then use: &quot;mtd -r write openwrt-ar71xx-tew-652brp-squashfs.bin firmware&quot;.&nbsp; Or you can use the recovery boot loader built into the router:&nbsp; hold down the reset button for 40 seconds after you connect power.&nbsp; You should be able to connect with a web browser via 192.168.0.1 IP address (the uploads on this recovery boot webpage expect the D-Link binary signature footer).</p><p>6.&nbsp; [s]On OpenWrt I see an eth0 interface for the switch ports (works on any of the switch ports), are we missing eth1 driver for the WAN interface?[/s] UPDATE: I developed a patch and now the eth1 interface is working! Submitted 2009-01-23.</p><p>7. ifconfig on the wireless wlan0 interface shows MAC address other than the one for the system?</p><p>8. Wireless station mode (client mode) not performing well.&nbsp; I&#039;ve used the router in Access Point mode with &quot;OK&quot; results - but station mode drops to 1Mbps rate and erratic ping times.&nbsp; A couple of us have submitted reports to the ath9k-devel mailing list.&nbsp; These ath9k drivers on AHB bus routers has only been tested here by like 20 people in the world, chime in!&nbsp; Thread on this forum about client mode: <a href="http://forum.openwrt.org/viewtopic.php?id=18377">http://forum.openwrt.org/viewtopic.php?id=18377</a></p><p>9. NICE TO HAVE: WDS not yet implemented in ath9k driver.&nbsp; Seeking patches, testing reports, research.&nbsp; Participate!&nbsp; The ath9k-devel mailing list in early February 2009 confirmed it is not yet implemented.</p><p>9a.&nbsp; NICE TO HAVE:&nbsp; hostapd 0.6.8 does not yet implement a way to specify N-only mode for these routers (reject G clients).&nbsp; see: <a href="https://lists.ath9k.org/pipermail/ath9k-devel/2009-February/001223.html">https://lists.ath9k.org/pipermail/ath9k … 01223.html</a></p><p>10. [s]On Trendnet 652: The WLAN LED light does not work with current ath9k driver.&nbsp; The original vendor firmware has param wireless_led_gpio=7 on madwifi driver.&nbsp; There is also a /proc/ar531x/gpio/tricolor_led.[/s] - seems to be working when tested build 14334.&nbsp; UPDATE:&nbsp; It has since been disabled due to the high CPU usage it caused.&nbsp; See #3b above.</p><p>11. On Trendnet 652: OpenWrt has no knowledge of the reset and WPS buttons on the router.&nbsp; Ignores them.&nbsp; In original vendor firmware, there is a /proc/ar531x/gpio/push_button.&nbsp; NOTE from juhosg:&nbsp; for buttons you need the kmod-input-core, kmod-input-polldev, kmod-input-gpio-buttons, kmod-button-hotplug packages;&nbsp; then the buttons will generate a hotplug event, and you can use hotplug rules: <a href="https://dev.openwrt.org/ticket/3522">https://dev.openwrt.org/ticket/3522</a></p><p>12. [s]Now on two Trednet 652 routers this has shown up:&nbsp; the driver may segfault on &quot;wifi up&quot; for some routers.&nbsp; We believe this has something to do with the specific MAC address of the router and a bug in ath9k driver.&nbsp; &nbsp;We have two identical 652&#039;s with similar serial numbers, we unbox them and make everything identical - same flash bin - and one segfaults and one does not.&nbsp; output of the crash is shown here: <a href="http://forum.openwrt.org/viewtopic.php?pid=78928#p78928">http://forum.openwrt.org/viewtopic.php?pid=78928#p78928</a>[/s]&nbsp; This has been corrected in newer builds.&nbsp; It seems that the factory eprom of the ar9102 chips on some routers had nonsense (broadcast) MAC addresses.&nbsp; The vendor firware used a MAC stored elsewhere that OpenWrt ignores.&nbsp; There is a patch in trunk to deal with this better, works fine on two known routers that had this issue.</p><p>13. Buttons.&nbsp; Has anyone tested if &#039;reset config&#039; button works with OpenWrt Kamikaze?&nbsp; I assume some scripts have to be button-aware in our OpenWrt build?&nbsp; Any testing and howto appreciated.</p><p>14. UCI and LUCI currently has no real config knowledge of 802.11n specific features:&nbsp; 20/40 band, N-only mode.&nbsp; New programming will have to be added to OpenWrt.</p><p>15. as of 2009-03-01, Lark and I both confirm an issue of the router rebooting after startup.&nbsp; It seems if the ath9k driver is started too soon after router boot it is unstable.&nbsp; Solution for now is to disable wireless with UCI and after boot manually enable and start it. A script with sleep would also probably work.</p><p>16. I find interacting with the WiFi disrupts the LAN ports at times.&nbsp; The OpenWrt bridge seems to interact badly.&nbsp; A &quot;wifi down&quot; followed by &quot;wifi&quot; will disrupt the LAN ports.&nbsp; Illustration: <a href="http://openwrt.pastebin.com/f318e5431">http://openwrt.pastebin.com/f318e5431</a></p><p>HW1.&nbsp; Last of all, make sure your router isn&#039;t overheating.&nbsp; Trendnet made the case nice and easy to open, but didn&#039;t design the vents very well for convection cooling.&nbsp; Info on dd-wrt thread: <a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?t=43228&amp;start=150">http://www.dd-wrt.com/phpBB2/viewtopic. … ;start=150</a>&nbsp; Although I personally have had no issues I&#039;ve noticed and I have 4 of these routers.... but I&#039;m not using them real heavy at the moment.</p><p>Thank you to the OpenWrt team, especially Gabor Juhos.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 2 Mar 2009, 02:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79145">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Bartman007</div>
					<div class="post-datetime">
						7 Jan 2009, 04:03					</div>
				</div>
				<div class="post-content content">
					<p>They use the default profile for each platform. If I recall correctly those do not include ath9k or ath9k-new for ar71xx (or only orion includes ath9k-new)</p><p>If it is desired I could probably maintain ar71xx builds with ath9k in my people directory on the openwrt servers. As this would be binary compatible with the snapshots I wouldn&#039;t have to generate all the packages so they could be built more often and with less effort. (It currently takes ~36 hours to pump out all the snapshots on a quadcore machine.)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79230">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						8 Jan 2009, 00:21					</div>
				</div>
				<div class="post-content content">
					<p>Bartman007 - I&#039;m sure everyone who gets the AP81 routers firmware (the ones mentioned in this thread) will want the ath9k driver.&nbsp; madwifi doesn&#039;t work at all.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79237">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						8 Jan 2009, 01:35					</div>
				</div>
				<div class="post-content content">
					<p>Heads up that the Trendnet website shows TWO models for the TEW-632BRP, they have different firmware downloads.&nbsp; But I ran strings on the binary and they both end with the same AP81 ID string.&nbsp; Wierd.&nbsp; <a href="http://www.trendnet.com/downloads/list_subcategory.asp?SUBTYPE_ID=1295">http://www.trendnet.com/downloads/list_ … PE_ID=1295</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79486">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						11 Jan 2009, 20:26					</div>
				</div>
				<div class="post-content content">
					<p>Fry&#039;s electronics in the USA has the Trendnet TEW-652BRP on sale for $25 (no rebates) in-store only.&nbsp; <a href="http://shopping.dallasnews.com/ROP/ads.aspx?advid=2519&amp;adid=7422950&amp;subid=24869522">Advertisement link</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79496">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						12 Jan 2009, 00:21					</div>
				</div>
				<div class="post-content content">
					<p>Ok, I&#039;ve had some requests for a working OpenWRT binary for these routers.&nbsp; The snapshots don&#039;t include the ath9k driver.&nbsp; So I&#039;ve decided to post binaries I compiled.</p><p>USE AT YOUR OWN RISK, consider this risky testing!&nbsp; Files can be downloaded here: <a href="http://sites.google.com/site/stephengutknecht/">http://sites.google.com/site/stephengutknecht/</a></p><p>I recommend you build your own, I did it, you can too <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" />&nbsp; Please read the first topic on this thread to see the list of known issues.&nbsp; If you have never used OpenWRT before, i don&#039;t recommend you rush and reprogram your router.&nbsp; This is not for novice users.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 12 Jan 2009, 03:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79528">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">codier</div>
					<div class="post-datetime">
						12 Jan 2009, 19:45					</div>
				</div>
				<div class="post-content content">
					<p>&gt;_&lt;&nbsp; that means I have to wait.. I am novice user</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79589">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						13 Jan 2009, 20:18					</div>
				</div>
				<div class="post-content content">
					<p>I updated my builds to svn14023 and uploaded: <a href="http://sites.google.com/site/stephengutknecht/">http://sites.google.com/site/stephengutknecht/</a></p><p>This includes iw 0.9.7 update.&nbsp; But &quot;iw --version&quot; returns nonsense.&nbsp; &quot;iw info&quot; only shows 54Mbps maximum - where my client machine is clearly connecting to this router at 130 (running OpenWRT).&nbsp; Anyone know why iw isn&#039;t seeing the higher rates?</p><p>Anyone have information to share regarding what might be needed to get eth1 (WAN) interface working?</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 13 Jan 2009, 21:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79602">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">lrod</div>
					<div class="post-datetime">
						14 Jan 2009, 00:39					</div>
				</div>
				<div class="post-content content">
					<p>Not sure why ifconfig is showing a mac of 88:02:51:09:52:24 for wlan0 when the true mac is completely different. </p><p>Anyone think this could be causing my problem when trying to connect to a Juniper SSG5 in sta mode?&nbsp; </p><p>Works great in AP mode though, thanks for the upload RoundSparrow!!!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79619">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">codier</div>
					<div class="post-datetime">
						14 Jan 2009, 15:49					</div>
				</div>
				<div class="post-content content">
					<p>by the way RoundSparrow. question here.<br />is the WDS working in the most updated build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79621">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						14 Jan 2009, 15:57					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>codier wrote:</cite><blockquote><p>is the WDS working in the most updated build?</p></blockquote></div><p>Nobody has tried it.&nbsp; ath9k AP mode is new, so not sure if that is in there yet.&nbsp; Their driver page says &quot;Already part of mac80211&quot;, so maybe it isn&#039;t much to add to ath9k?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79622">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">codier</div>
					<div class="post-datetime">
						14 Jan 2009, 16:21					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>RoundSparrow wrote:</cite><blockquote><div class="quotebox"><cite>codier wrote:</cite><blockquote><p>is the WDS working in the most updated build?</p></blockquote></div><p>Nobody has tried it.&nbsp; ath9k AP mode is new, so not sure if that is in there yet.&nbsp; Their driver page says &quot;Already part of mac80211&quot;, so maybe it isn&#039;t much to add to ath9k?</p></blockquote></div><p>I see..<br />sigh, I can&#039;t help anything here for testing.. sigh...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79626">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">unknwon</div>
					<div class="post-datetime">
						14 Jan 2009, 17:49					</div>
				</div>
				<div class="post-content content">
					<p>warning, don`t select the 5GhZ channels on the wlan configuration page.&nbsp; I did this one of my tew-632 units, and bricked it.&nbsp; was able to get the recovery mode page and reload the firmware, but now every time i enable Wireless it reboots the router into recovery mode.</p><p>Looks like i`ll have to RMA the unit <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p><p>Also i know someone was asking how to flash the firmware once you have openwrt on the unit.&nbsp; the following command will work<br />&quot;mtd -r write openwrt.bin firmware&quot;</p><p>Firmware is the partition that needs to be updated.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79629">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						14 Jan 2009, 18:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>unknwon wrote:</cite><blockquote><p>warning, don`t select the 5GhZ channels on the wlan configuration page.&nbsp; I did this one of my tew-632 units, and bricked it.&nbsp; was able to get the recovery mode page and reload the firmware, but now every time i enable Wireless it reboots the router into recovery mode.</p></blockquote></div><p>I updated the first post with your new information, thank you.&nbsp; Try putting the original factory firmware back on?&nbsp; How exactly did you enable 5Ghz, what config file did you change?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79632">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">unknwon</div>
					<div class="post-datetime">
						14 Jan 2009, 19:27					</div>
				</div>
				<div class="post-content content">
					<p>used the web interface in openwrt, and than selected on the drop down menu.&nbsp; i know not a smart move.&nbsp; i`ve flashed it back with the default factory firmware, but it too will just reboot back to the recovery mode as the factory firmware has the wireless enabled by default.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79687">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">unknwon</div>
					<div class="post-datetime">
						16 Jan 2009, 02:28					</div>
				</div>
				<div class="post-content content">
					<p>ok, it seems i was able to unbrick the unit and i`m now able to connect to my other router with the unit using WPA-PSK <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; still have gotten it completely working with in client mode.&nbsp; here`s hoping..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79739">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">codier</div>
					<div class="post-datetime">
						16 Jan 2009, 22:54					</div>
				</div>
				<div class="post-content content">
					<p>is it possible to flash from openwrt f/w back to 632BRP/615 C1 f/w?<br />if can, how to do it?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79754">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						17 Jan 2009, 05:18					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>codier wrote:</cite><blockquote><p>is it possible to flash from openwrt f/w back to 632BRP/615 C1 f/w?<br />if can, how to do it?</p></blockquote></div><p>easily done, use the recovery boot.&nbsp; Disconnect power, hold reset, connect power.&nbsp; Hold reset for at least 30 seconds.&nbsp; Connect&nbsp; web browser to 192.168.0.1 (you will need to set your computer to same IP subnet).</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 21 Jan 2009, 05:29)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79983">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">codier</div>
					<div class="post-datetime">
						20 Jan 2009, 18:39					</div>
				</div>
				<div class="post-content content">
					<p>what is recovery boot ?<br />I am assume Kamikaze has a page that can load bin file so I can use 615 c1 bin write into it then hold reset for 30 seconds then <br />the new f/w will apply?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79984">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">falkyre</div>
					<div class="post-datetime">
						20 Jan 2009, 19:04					</div>
				</div>
				<div class="post-content content">
					<p>Recovery boot is what RoundSparrow said.</p><p>Press the reset button at the back for 30 seconds while you power on your router.&nbsp; Once you do that, set your IP of your computer that&#039;s attached to the router to something in the 192.168.0.x subnet and point your browser to 192.168.0.1.&nbsp; You&#039;ll be given a page that will only allow you to upload firmware.&nbsp; Upload your bin file and let the router do it&#039;s thing and you are set.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80057">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">codier</div>
					<div class="post-datetime">
						21 Jan 2009, 21:51					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>falkyre wrote:</cite><blockquote><p>Recovery boot is what RoundSparrow said.</p><p>Press the reset button at the back for 30 seconds while you power on your router.&nbsp; Once you do that, set your IP of your computer that&#039;s attached to the router to something in the 192.168.0.x subnet and point your browser to 192.168.0.1.&nbsp; You&#039;ll be given a page that will only allow you to upload firmware.&nbsp; Upload your bin file and let the router do it&#039;s thing and you are set.</p></blockquote></div><p>I see.<br />just so curious, cause normal router like d-link, don&#039;t even need to press the reset button for 30 second. 192.168.0.1(router ip) is always available there to let user upload firmware. </p><p>so kamikaze doesn&#039;t? it will always need recovery boot to be able to bring up the router IP?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80059">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">falkyre</div>
					<div class="post-datetime">
						21 Jan 2009, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>The recovery reboot is for emergency&#039;s I guess is the best way of putting it.&nbsp; If your other firmware, openwrt or whatever, doesn&#039;t allow you in AND you don&#039;t over right the recovery portion, then pressing the reset button for 30 seconds gets you the emergency screen.</p><p>The IP that the recovery boot uses is 192.168.0.1 and will always be there (unless you really brick the router bad).</p><p>Right now, RoundSparrow has not found a way to reflash from kamikaze on these routers.&nbsp; I have no doubt that it will come.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80061">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						21 Jan 2009, 22:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>codier wrote:</cite><blockquote><p>I see. just so curious, cause normal router like d-link, don&#039;t even need to press the reset button for 30 second. 192.168.0.1 (router ip) is always available there to let user upload firmware. <br />so kamikaze doesn&#039;t? it will always need recovery boot to be able to bring up the router IP?</p></blockquote></div><p>You seem to be mixing up a few issues.&nbsp; These are complex issues, we gave you the simple answer the first time <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p><p>The 192.168.0.1 recovery IP Address is hard-coded into the router base firmware and not something you can change.&nbsp; It works even if you flash a broken build onto the system (assuming you don&#039;t overwrite the recovery flash, make sure you never flash &gt; 3.8MB on this router). It isn&#039;t normal router function when booted this way, it is only a way to flash the routers.&nbsp; Many other routers, like Linksys WRT54G, normally use tftp pull for recovery mode.&nbsp; &nbsp;I don&#039;t think these particular routers in this thread support tftp recovery.</p><p>Yes, you can flash a new firmware from the running OpenWRT.&nbsp; In this thread directions were posted on how to flash a newer version of OpenWRT from OpenWRT using mtd command.&nbsp; However, flashing back to factory firmware (from running OpenWRT) is something I don&#039;t believe anyone has tried.&nbsp; Flashing can be risky business, I already bricked one router by not paying close attention (flashed 4.8MB onto the router and overwrote u-boot and recovery flash; can probably only be recovered from JTAG which on Atheros is rare experience).&nbsp; So you better know what the heck you are doing or be willing to take some risks (I donate one $25 TrendNet to the router gods).</p><p>I encourage you to realize you are on <strong>bleeding edge</strong> with these routers.&nbsp; OpenWRT seems to draw people with older hardware, we are the pioneers here on 802.11n with OpenWRT.&nbsp; Only 10 or so people in the world are running OpenWRT on them and experimenting.&nbsp; You are participating in an open source project, a lot of learning and trial and error can be required.&nbsp; Weeks and months down the road, it will hopefully be simpler and better documented.&nbsp; For now, we need people participating, testing, and experimenting.</p><p>Be glad these specific routers have a nice web browser recovery mode, it is a lot easier than getting the tftp process on most routers.</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 21 Jan 2009, 22:21)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80080">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						22 Jan 2009, 04:57					</div>
				</div>
				<div class="post-content content">
					<p>I uploaded new builds to: <a href="http://sites.google.com/site/stephengutknecht/">http://sites.google.com/site/stephengutknecht/</a>&nbsp; - I also noted on first post that the WAN LED isn&#039;t working with ath9k.&nbsp; This build is svn14142, I updated hostapd to 0.6.7 but not iw command.&nbsp; I had no problems flashing from within openwrt to upgrade!&nbsp; used command: &quot;mtd -r write openwrt-ar71xx-tew-652brp-squashfs.bin firmware&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p80083">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">RoundSparrow</div>
					<div class="post-datetime">
						22 Jan 2009, 06:12					</div>
				</div>
				<div class="post-content content">
					<p>ok, so I dig deeper into why no WAN port.&nbsp; I don&#039;t really understand the original drivers or hardware.&nbsp; Is it two Ethernet devices with different drivers or is it a single port with a switch trick?</p><p>currently on OpenWRT build 14142, we are getting:</p><div class="codebox"><pre><code>ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xb9000000, irq 4
eth0: connected to 0 PHYs</code></pre></div><p>I notice that irq 5 seems notably unused, from svn 14142:</p><div class="codebox"><pre><code>root@OpenWrt:/# cat /proc/interrupts
           CPU0       
  2:        149            MIPS  ath9k
  4:         31            MIPS  eth0
  6:          0            MIPS  cascade [AR71XX MISC]
  7:       2234            MIPS  timer
 10:          0     AR71XX MISC  cascade [AR71XX GPIO]
 11:        110     AR71XX MISC  serial</code></pre></div><p>Ok, I booted up the D-Link vendor firmware on the Trendnet 652:</p><div class="codebox"><pre><code>/ # cat /proc/interrupts
           CPU0       
  2:       1160            MIPS  wifi0
  4:          0            MIPS  eth0
  5:          0            MIPS  eth1
  6:          0            MIPS  cascade
  7:      40593            MIPS  timer
 18:          0     AR7100 MISC  cascade
 19:        538     AR7100 MISC  serial
 44:          1     AR7100 GPIO  SW JUMPSTART</code></pre></div><p>I&#039;ve seen on the Routerboard threads (<a href="http://forum.openwrt.org/viewtopic.php?id=14765">http://forum.openwrt.org/viewtopic.php?id=14765</a>) a dmesg like this:</p><div class="codebox"><pre><code>ag71xx_mdio: probed
eth0: Atheros AG71xx at 0xba000000, irq 5
eth1: Atheros AG71xx at 0xb9000000, irq 4</code></pre></div><p>Help ;)</p>											<p class="post-edited">(Last edited by <strong>RoundSparrow</strong> on 22 Jan 2009, 16:32)</p>
									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 1 of 14</div><nav><ul><li class="pagination-current"><span>1</span></li><li><a href="viewtopic.php%3Fid=18314&amp;p=2.html">2</a></li><li><a href="viewtopic.php%3Fid=18314&amp;p=3.html">3</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=18314&amp;p=14.html">14</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>