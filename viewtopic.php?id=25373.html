<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link WR741ND / WR941ND / WR1043ND serial connection</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p111722">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">0x00</div>
					<div class="post-datetime">
						22 Jun 2010, 13:08					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>I would like to build custom images of OpenWRT for TP-Link WR741ND / WR941ND / WR1043ND routers, while at the same time change kernel sources. This will surely result in some unbootable images. I would prefer a software solution by creating a u-boot saveenv partition – as I described in my post on this board a few days ago , but I can’t do this myself:</p><div class="quotebox"><blockquote><p>mtd0 is boot, mtd1 is kernel, mtd2 is rootfs. They don&#039;t contain a valid &quot;saveenv&quot;, do they? But it shouldn&#039;t be too hard to create a mtd1 0x4000 big partition (squeezed between u-boot and kernel), containing a valid saveenv environment. Or rather mtd2 partition between kernel and rootfs as 0x00020000 is hard coded as kernel&#039;s start address. But that I think, this can be changed in saveenv to eg. 0x00024000, so that mtd2 kernel could start from there. Anyhow, it would be better to modify u-boot code, as 0x4000 bytes would be saved.<br />Link: <a href="https://forum.openwrt.org/viewtopic.php?pid=111557#p111557">https://forum.openwrt.org/viewtopic.php … 57#p111557</a></p></blockquote></div><p>So the next best thing is serial connection. From *WRT forums I found the following specs:<br />WR741ND v1 - VCC (3.3V) , GND, RX, TX,<br />WR941ND Pin, 3.3v serial, 2&nbsp; RX, 3&nbsp; TX, 4&nbsp; VCC (+3.3v), 5&nbsp; Gnd,<br />WR1043ND – same levels.</p><p>My question is about 3.3V VCC, since I cannot find a converter cable that would support it. There is an “oldwiki” page on OpenWRT – <a href="http://wiki.openwrt.org/oldwiki/openwrtdocs/customizing/hardware/serial_console">http://wiki.openwrt.org/oldwiki/openwrt … al_console</a> citing examples of TTL 3.3V prebuilt USB cables. The problem is that the mentioned FTDI TTL-232R-3V3, FTDI TTL-232R-3V3, FTDI TTL-232R-3V3-AJ and FTDI TTL-232R-3V3-WE cables have a 5V VCC, not a 3.3V VCC. There’s a mistake on the cited <a href="http://apple.clickandbuild.com/cnb/shop/ftdichip?productID=68&amp;op=catalogue-product_info-null&amp;prodCategoryID=47">http://apple.clickandbuild.com/cnb/shop … egoryID=47</a> page, since the FTDI datasheet clearly states that:<br /></p><div class="quotebox"><blockquote><p>The TTL-232R-5V-WE and TTL-232R-3V3-WE cables are both un-terminated; they are bare and tinned wires. The difference between the two cables is that the TTL-232R-5V-WE operates at +5V levels (signals and power supply) and <strong>the TTL-232R-3V3-WE operates at +3.3V levels (signals only, VCC=+5V).</strong> <br />Source: <a href="http://www.ftdichip.com/Documents/DataSheets/Modules/DS_TTL-232R_CABLES_V201.pdf">http://www.ftdichip.com/Documents/DataS … S_V201.pdf</a> , pdf page 14.</p></blockquote></div><p>I would be really glad, if someone can point me to a USB &lt;-&gt; TTL converter cable with open ended wires, similar to TTL-232R-3V3-WE, but with 3.3V VCC levels. Preferably, it should be available in Germany.</p><p>Thanks, and happy OpenWRTing.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111724">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">supertom64</div>
					<div class="post-datetime">
						22 Jun 2010, 14:00					</div>
				</div>
				<div class="post-content content">
					<p>you can use a ca-42 clone cable <br /><a href="http://buffalo.nas-central.org/index.php/Use_a_Nokia_Serial_Cable_on_an_ARM9_Linkstation">http://buffalo.nas-central.org/index.ph … inkstation</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111729">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">0x00</div>
					<div class="post-datetime">
						22 Jun 2010, 14:38					</div>
				</div>
				<div class="post-content content">
					<p>Thanks. I&#039;ll get the Nokia CA-42 clone cable then. The instructions in the links for CA-42 seem to be quite straightforward, and it seems that +3.3V VCC is present.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p111748">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">jescombe</div>
					<div class="post-datetime">
						22 Jun 2010, 18:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>0x00 wrote:</cite><blockquote><p>Hello!I would be really glad, if someone can point me to a USB &lt;-&gt; TTL converter cable with open ended wires, similar to TTL-232R-3V3-WE, but with 3.3V VCC levels. Preferably, it should be available in Germany.</p></blockquote></div><p>Remember you won&#039;t want to connect the 3.3v Vcc from the header to the USB-TTL cable anyway. Just ground and the signal wires... </p><p>That FTDI cable supports 3.3v logic levels, the 5v Vcc is just there to power your embedded board (from the USB bus) if you require it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140942">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">Sidra</div>
					<div class="post-datetime">
						10 Aug 2011, 09:29					</div>
				</div>
				<div class="post-content content">
					<p>Is pullup resistior required for Tx in TP-link 741ND?? for connecting&nbsp; to serial port??</p>											<p class="post-edited">(Last edited by <strong>Sidra</strong> on 10 Aug 2011, 09:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140947">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hugo1789</div>
					<div class="post-datetime">
						10 Aug 2011, 11:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jescombe wrote:</cite><blockquote><div class="quotebox"><cite>0x00 wrote:</cite><blockquote><p>Hello!I would be really glad, if someone can point me to a USB &lt;-&gt; TTL converter cable with open ended wires, similar to TTL-232R-3V3-WE, but with 3.3V VCC levels. Preferably, it should be available in Germany.</p></blockquote></div><p>Remember you won&#039;t want to connect the 3.3v Vcc from the header to the USB-TTL cable anyway. Just ground and the signal wires... </p><p>That FTDI cable supports 3.3v logic levels, the 5v Vcc is just there to power your embedded board (from the USB bus) if you require it.</p></blockquote></div><p>If your cable works with 5v logic levels, it outputs 5v on tx which I don&#039;t know whether that destroys your router or not. Just place a small resistor (lets say 50 Ohms or so) between the cables TX and the routers RX pin. I also cannot recommend connecting VCC, as jescombe said, it&#039;s just not nescessary. If you really insist on connecting VCC from a 5V cable, insert 2 or 3 diodes between cable and router (that should drop VCC to 3.6 or 2.9v).</p><p>If your cable is a TTL-232R-3V3-WE, that&#039;s already a 3.3V cable. Just connect GND, RX and TX and you are ready to go <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p140948">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">MBS</div>
					<div class="post-datetime">
						10 Aug 2011, 11:32					</div>
				</div>
				<div class="post-content content">
					<p>No pullup required. Just use a 3,3V cable. <a href="http://wiki.openwrt.org/doc/hardware/port.serial">http://wiki.openwrt.org/doc/hardware/port.serial</a></p>											<p class="post-edited">(Last edited by <strong>MBS</strong> on 10 Aug 2011, 11:37)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>