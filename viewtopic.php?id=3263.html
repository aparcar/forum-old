<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Wl-500gx: No CFE prompt via Serial Console?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 30 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p15363">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">tscoreninja</div>
					<div class="post-datetime">
						14 Nov 2005, 11:03					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I have successfully built a serial port interface for my Asus Wl500gx using a MAX232 chip. Attaching a serial console, I do see the CFE and Kernel boot messages just fine. However, I am unable to interrupt the boot process by pressing &quot;CTRL-C&quot; during the boot process. Tried a lot of times, so I do not think timing is an issue. Has anybody here successfully used &quot;CTRL-C&quot; or some other trick to get to the CFE command line with the WL500gx from serial console? </p><p>I suspect that the nvram variable &quot;rescueflag=disable&quot; has something to do with it. See CFE output at<br /><a href="http://downloads.openwrt.org/docs/hardware/asus/wl-500gd/cfe.txt">http://downloads.openwrt.org/docs/hardw … gd/cfe.txt</a>&nbsp; and <br /><a href="http://downloads.openwrt.org/docs/hardware/asus/wl-500gd/nvram.txt">http://downloads.openwrt.org/docs/hardw … /nvram.txt</a> .<br />Running strings on the CFE binary and grep for rescue and ctrl-c, I do see the following matches <br /></p><div class="codebox"><pre><code>rescueflag
Rescue Flag disable.
nvram set rescueflag=disable
Rescue Flag enable.
Null Rescue Flag.
Hello!! Enter Rescue Mode: (by Force)
Hello!! Enter Rescue Mode: (Check error)
Automatic startup canceled via Ctrl-C</code></pre></div><p>Any ideas how dangerous it would be to set &quot;rescueflag=enable&quot; (yes, I know this will always be at my own risk)? </p><p>On the other hand, I might also have made an error while soldering the serial converter, and might be chasing ghosts... Thus, has anybody any experience with this?</p><p>You may ask why I want to do this: as the CFE seems to allow to boot a kernel via network via tftp, and the wl500gx has a USB connector for storage (think different root filesystems), it would be the ideal setup for playing around with an experimental firmware, and still being able to reboot back into the stable firmware. Apart from that, this knowledge might help people who bricked their device. And it would be possible to testdrive different firmwares (at least if one can use the same kernel for all of them). </p><p>Thanks for any ideas in advance,<br />TSCoreNinja</p><br /><br /><br /><p><a href="http://downloads.openwrt.org/docs/hardware/asus/wl-500gd/nvram.txt">http://downloads.openwrt.org/docs/hardw … /nvram.txt</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15369">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nbd</div>
					<div class="post-datetime">
						14 Nov 2005, 15:25					</div>
				</div>
				<div class="post-content content">
					<p>Ctrl+C should always work. Did you check that you can actually transmit something to the router over serial? Try logging in after the thing has booted...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p15427">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">tscoreninja</div>
					<div class="post-datetime">
						15 Nov 2005, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>Looks like the transmission from computer to serial is broken. BTW, I am still using Olegs firmware for this thing, and there is no getty app in busybox there, allowing a log in via serial console. However, cat&#039;ing a file into the serial works one way, and not the other. I am somewhat at loss why this does not work, as the wiring seems to be correct from a quick check... Need to do some thorough testing.</p>											<p class="post-edited">(Last edited by <strong>tscoreninja</strong> on 15 Nov 2005, 10:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p149077">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">incredibledan</div>
					<div class="post-datetime">
						20 Nov 2011, 16:59					</div>
				</div>
				<div class="post-content content">
					<p>Hello, </p><p>i have an similar problem with no cfe prompt by holding down ctr+c.</p><p><a href="http://www.dd-wrt.com/phpBB2/viewtopic.php?p=649010&amp;highlight=#649010">http://www.dd-wrt.com/phpBB2/viewtopic. … ht=#649010</a></p><br /><br /><p>did you have found a soluton or the reason?</p><p>greetz dan</p>											<p class="post-edited">(Last edited by <strong>incredibledan</strong> on 20 Nov 2011, 17:01)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>