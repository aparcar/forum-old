<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Kamikaze on Meraki Mini (original version)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 17 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p102936">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">agcme</div>
					<div class="post-datetime">
						15 Feb 2010, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m trying to get Kamikaze installed on an older Meraki Mini.&nbsp; I have built Kamikaze from source with the target set for Atheros 231x/5312 [2.6] and set it up on the TFTP server so I could test it by loading to RAM on the Meraki.&nbsp; However, according to the serial port on the Meraki, the boot process stops and then just sits.&nbsp; Here&#039;s a copy of the output from the serial console:</p><p>RedBoot&gt; load -r -d -b 0x80041000 -m tftp -h 192.168.84.9 openwrt-atheros-vmlinux.gz<br />Raw file loaded 0x80041000-0x80275084, assumed entry at 0x80041000<br />RedBoot&gt; exec<br />Now booting linux kernel:<br /> Base address 0x80030000 Entry 0x80041000<br /> Cmdline :<br />Linux version 2.6.26.8 (agcme@testsys) (gcc version 4.1.2) #1 Sat Feb 13 03:13:27 PST 2010<br />CPU revision is: 00019064 (MIPS 4KEc)<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;8192<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0:&nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;8192<br />Built 1 zonelists in Zone order, mobility grouping on.&nbsp; Total pages: 8128<br />Kernel command line: console=ttyS0,115200 rootfstype=squashfs,jffs2 init=/etc/preinit<br />Primary instruction cache 16kB, VIPT, 4-way, linesize 16 bytes.<br />Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 16 bytes<br />PID hash table entries: 128 (order: 7, 512 bytes)<br />console [ttyS0] enabled<br />Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)<br />Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Memory: 29860k/32768k available (1838k kernel code, 2908k reserved, 296k data, 124k init, 0k highmem)<br />SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />Mount-cache hash table entries: 512<br />net_namespace: 484 bytes<br />NET: Registered protocol family 16<br />Radio config found at offset 0x10000(0x100)<br />AR531x PCI init...<br />done<br />PCI: fixing up device 0,3,0<br />PCI: Failed to allocate mem resource #1:4000000@84000000 for 0000:00:00.0<br />PCI: Failed to allocate mem resource #1:4000000@84000000 for 0000:00:03.0<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 1024 (order: 1, 8192 bytes)<br />TCP bind hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP: Hash tables configured (established 1024 bind 1024)<br />TCP reno registered<br />NET: Registered protocol family 1<br />ar531x: Registering GPIODEV device<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; Â© 2001-2006 Red Hat, Inc.<br />msgmni has been set to 58<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />gpiodev: gpio device registered with major 254<br />gpiodev: gpio platform device registered with access mask FFFFFFFF<br />Serial: 8250/16550 driver $Revision: 1.90 $ 1 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0xb1100003 (irq = 37) is a 16550A<br />eth0: Atheros AR231x: 00:18:0a:01:06:69, irq 4<br />ar2313_eth_mii: probed<br />eth0: attached PHY driver [Generic PHY] (mii_bus:phy_addr=0:01)<br />cmdlinepart partition parsing not available<br />Searching for RedBoot partition table in spiflash at offset 0x7d0000<br />5 RedBoot partitions found on MTD device spiflash<br />Creating 5 MTD partitions on &quot;spiflash&quot;:<br />0x00000000-0x00030000 : &quot;RedBoot&quot;<br />0x00030000-0x00050000 : &quot;stage2&quot;<br />0x007d0000-0x007df000 : &quot;FIS directory&quot;<br />0x007df000-0x007e0000 : &quot;RedBoot config&quot;<br />0x007e0000-0x00800000 : &quot;boardconfig&quot;<br />TCP vegas registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Cannot open root device &quot;&lt;NULL&gt;&quot; or unknown-block(0,0)<br />Please append a correct &quot;root=&quot; boot option; here are the available partitions:<br />1f00&nbsp; &nbsp; &nbsp; &nbsp; 192 mtdblock0 (driver?)<br />1f01&nbsp; &nbsp; &nbsp; &nbsp; 128 mtdblock1 (driver?)<br />1f02&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;60 mtdblock2 (driver?)<br />1f03&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 4 mtdblock3 (driver?)<br />1f04&nbsp; &nbsp; &nbsp; &nbsp; 128 mtdblock4 (driver?)<br />Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)<br />eth0: Configuring MAC for half duplex</p><br /><p>At this point the boot stops and the Meraki does not respond either by the serial console or by the network cable.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>