<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> jffs2 mount fail on DIR-400 with newest openwrt trunk rev. 12276</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 5 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p72099">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">macpaul</div>
					<div class="post-datetime">
						11 Aug 2008, 10:49					</div>
				</div>
				<div class="post-content content">
					<p>Both failed with linux-2.6.26.2 or linux-2.6.23.17 once you flash the newly built rootfs.<br />I guess 2.6.26.2 hasn&#039;t been porting finish yet. The following is the booting log.<br />All type of rootfs neither squash nor jffs/ubnt2/ubnt5 fails.<br />I&#039;ve already make clean and rebuild openwrt..</p><p>Linux version 2.6.26.2 (macpaul@debian) (gcc version 4.1.2) #1 Mon Aug 11 15:28:46 CST 2008<br />CPU revision is: 00019064 (MIPS 4KEc)<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />User-defined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;4096<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0:&nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;4096<br />Built 1 zonelists in Zone order, mobility grouping off.&nbsp; Total pages: 4064<br />Kernel command line: console=ttyS0,9600 rootfstype=squashfs,jffs2 init=/etc/preinit mem=16M<br />Primary instruction cache 16kB, VIPT, 4-way, linesize 16 bytes.<br />Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 16 bytes<br />PID hash table entries: 64 (order: 6, 256 bytes)<br />console [ttyS0] enabled<br />Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Memory: 13628k/16384k available (1823k kernel code, 2756k reserved, 299k data, 124k init, 0k highmem)<br />SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />Mount-cache hash table entries: 512<br />net_namespace: 484 bytes<br />NET: Registered protocol family 16<br />Radio config found at offset 0xf8(0x1f8)<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />TCP: Hash tables configured (established 512 bind 512)<br />TCP reno registered<br />NET: Registered protocol family 1<br />ar531x: Registering GPIODEV device<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; ï¿½Â© 2001-2006 Red Hat, Inc.<br />msgmni has been set to 26<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />gpiodev: gpio device registered with major 254<br />gpiodev: gpio platform device registered with access mask FFFFFFFF<br />Serial: 8250/16550 driver $Revision: 1.90 $ 1 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0xb1100003 (irq = 37) is a 16550A<br />eth0: Atheros AR231x: 00:1e:58:2d:a7:48, irq 4<br />ar2313_eth_mii: probed<br />eth0: Marvell 88E6060 PHY driver attached.<br />eth0: attached PHY driver [Marvell 88E6060] (mii_bus:phy_addr=0:1f)<br />cmdlinepart partition parsing not available<br />Searching for RedBoot partition table in spiflash at offset 0x3d0000<br />Searching for RedBoot partition table in spiflash at offset 0x3e0000<br />6 RedBoot partitions found on MTD device spiflash<br />eth0: Configuring MAC for full duplex<br />Creating 6 MTD partitions on &quot;spiflash&quot;:<br />0x00000000-0x00030000 : &quot;RedBoot&quot;<br />0x00030000-0x00040000 : &quot;Config&quot;<br />0x00040000-0x000f0000 : &quot;vmlinux.bin.l7&quot;<br />0x000f0000-0x003e0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=200000, len=1E0000<br />0x00200000-0x003e0000 : &quot;rootfs_data&quot;<br />0x003e0000-0x003ef000 : &quot;FIS directory&quot;<br />0x003f0000-0x00400000 : &quot;Calibration&quot;<br />Registered led device: gpio0<br />Registered led device: gpio1<br />Registered led device: wlan<br />Registered led device: gpio3<br />Registered led device: gpio4<br />Registered led device: gpio7<br />nf_conntrack version 0.5.0 (1024 buckets, 4096 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP vegas registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000000: 0xac24 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000004: 0x7949 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000008: 0xfc58 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000000c: 0x7292 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000010: 0x2158 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000014: 0x5318 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000018: 0x94c0 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x0000001c: 0x2248 instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000020: 0xacaf instead<br />jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000024: 0xa2b3 instead<br />Further such events for this erase block will not be printed<br />Old JFFS2 bitmask found at 0x0000a734<br />You cannot use older JFFS2 filesystems with newer kernels</p>											<p class="post-edited">(Last edited by <strong>macpaul</strong> on 11 Aug 2008, 10:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p72165">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">macpaul</div>
					<div class="post-datetime">
						12 Aug 2008, 07:10					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ve tested svn revision 12099 with 2.6.23.17 could boot DIR-400 and mount jffs successfully. But r12100 will lead mount fail (2.6.26)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73000">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">macpaul</div>
					<div class="post-datetime">
						4 Sep 2008, 12:30					</div>
				</div>
				<div class="post-content content">
					<p>Finally I booted DIR-400 and came over the JFFS2 mount problem by &quot;DISABLE GPIO&quot;. It was really strange but it works. I have no time to find what the reason is but I&#039;ll share the kernel config of openwrt first. Madwifi with new hal also works under AP mode without WEP.</p><p>1. kernel config of kernel 2.6.26.3 of DIR-400 with openwrt trunk r12507 (new madwifi hal)</p><p>CONFIG_32BIT=y<br /># CONFIG_64BIT is not set<br />CONFIG_AR2313=y<br /># CONFIG_ARCH_HAS_ILOG2_U32 is not set<br /># CONFIG_ARCH_HAS_ILOG2_U64 is not set<br />CONFIG_ARCH_POPULATES_NODE_MAP=y<br /># CONFIG_ARCH_SUPPORTS_MSI is not set<br />CONFIG_ARCH_SUPPORTS_OPROFILE=y<br />CONFIG_ARCH_SUSPEND_POSSIBLE=y<br />CONFIG_ATHEROS=y<br />CONFIG_ATHEROS_AR5312=y<br />CONFIG_ATHEROS_AR5315=y<br /># CONFIG_ATHEROS_AR5315_PCI is not set<br /># CONFIG_ATM is not set<br /># CONFIG_ATMEL is not set<br />CONFIG_BASE_SMALL=0<br /># CONFIG_BCM47XX is not set<br />CONFIG_BITREVERSE=y<br /># CONFIG_BROADCOM_PHY is not set<br /># CONFIG_BT is not set<br />CONFIG_CEVT_R4K=y<br />CONFIG_CLASSIC_RCU=y<br />CONFIG_CMDLINE=&quot;console=ttyS0,9600 rootfstype=squashfs,jffs2 root=/dev/mtdblock3 init=/etc/preinit mem=16M&quot;<br />CONFIG_CPU_BIG_ENDIAN=y<br />CONFIG_CPU_HAS_LLSC=y<br />CONFIG_CPU_HAS_PREFETCH=y<br />CONFIG_CPU_HAS_SYNC=y<br /># CONFIG_CPU_LITTLE_ENDIAN is not set<br /># CONFIG_CPU_LOONGSON2 is not set<br />CONFIG_CPU_MIPS32=y<br />CONFIG_CPU_MIPS32_R1=y<br /># CONFIG_CPU_MIPS32_R2 is not set<br /># CONFIG_CPU_MIPS64_R1 is not set<br /># CONFIG_CPU_MIPS64_R2 is not set<br />CONFIG_CPU_MIPSR1=y<br /># CONFIG_CPU_NEVADA is not set<br /># CONFIG_CPU_R10000 is not set<br /># CONFIG_CPU_R3000 is not set<br /># CONFIG_CPU_R4300 is not set<br /># CONFIG_CPU_R4X00 is not set<br /># CONFIG_CPU_R5000 is not set<br /># CONFIG_CPU_R5432 is not set<br /># CONFIG_CPU_R6000 is not set<br /># CONFIG_CPU_R8000 is not set<br /># CONFIG_CPU_RM7000 is not set<br /># CONFIG_CPU_RM9000 is not set<br /># CONFIG_CPU_SB1 is not set<br />CONFIG_CPU_SUPPORTS_32BIT_KERNEL=y<br />CONFIG_CPU_SUPPORTS_HIGHMEM=y<br /># CONFIG_CPU_TX39XX is not set<br /># CONFIG_CPU_TX49XX is not set<br /># CONFIG_CPU_VR41XX is not set<br />CONFIG_CSRC_R4K=y<br />CONFIG_DEVPORT=y<br /># CONFIG_DM9000 is not set<br />CONFIG_DMA_NEED_PCI_MAP_STATE=y<br />CONFIG_DMA_NONCOHERENT=y<br /># CONFIG_E1000E_ENABLED is not set<br /># CONFIG_FIXED_PHY is not set<br />CONFIG_FS_POSIX_ACL=y<br />CONFIG_GENERIC_CLOCKEVENTS=y<br />CONFIG_GENERIC_CLOCKEVENTS_BUILD=y<br />CONFIG_GENERIC_CMOS_UPDATE=y<br /># CONFIG_GENERIC_FIND_FIRST_BIT is not set<br />CONFIG_GENERIC_FIND_NEXT_BIT=y<br /># CONFIG_GENERIC_GPIO=y<br /># CONFIG_GENERIC_HARDIRQS_NO__DO_IRQ is not set<br /># CONFIG_GPIO_DEVICE=y<br />CONFIG_HAS_DMA=y<br />CONFIG_HAS_IOMEM=y<br />CONFIG_HAS_IOPORT=y<br /># CONFIG_HAVE_DMA_ATTRS is not set<br />CONFIG_HAVE_IDE=y<br /># CONFIG_HAVE_KPROBES is not set<br /># CONFIG_HAVE_KRETPROBES is not set<br />CONFIG_HAVE_OPROFILE=y<br /># CONFIG_HERMES is not set<br /># CONFIG_HOSTAP is not set<br /># CONFIG_HW_HAS_PCI is not set<br />CONFIG_HW_RANDOM=y<br /># CONFIG_I2C is not set<br /># CONFIG_IBM_NEW_EMAC_EMAC4 is not set<br /># CONFIG_IBM_NEW_EMAC_RGMII is not set<br /># CONFIG_IBM_NEW_EMAC_TAH is not set<br /># CONFIG_IBM_NEW_EMAC_ZMII is not set<br />CONFIG_ICPLUS_PHY=y<br /># CONFIG_IDE is not set<br />CONFIG_INITRAMFS_SOURCE=&quot;&quot;<br />CONFIG_IPV6_NDISC_NODETYPE=y<br /># CONFIG_IPW2100 is not set<br /># CONFIG_IPW2200 is not set<br />CONFIG_IRQ_CPU=y<br /># CONFIG_IWLWIFI_LEDS is not set<br /># CONFIG_LEDS_ALIX is not set<br /># CONFIG_LEDS_GPIO=y<br /># CONFIG_LEMOTE_FULONG is not set<br />CONFIG_LZO_COMPRESS=m<br />CONFIG_LZO_DECOMPRESS=m<br /># CONFIG_MACH_ALCHEMY is not set<br /># CONFIG_MACH_DECSTATION is not set<br /># CONFIG_MACH_JAZZ is not set<br /># CONFIG_MACH_VR41XX is not set<br /># CONFIG_MDIO_BITBANG is not set<br /># CONFIG_MEDIA_ATTACH is not set<br />CONFIG_MIPS=y<br /># CONFIG_MIPS_ATLAS is not set<br /># CONFIG_MIPS_COBALT is not set<br />CONFIG_MIPS_L1_CACHE_SHIFT=5<br /># CONFIG_MIPS_MALTA is not set<br />CONFIG_MIPS_MT_DISABLED=y<br /># CONFIG_MIPS_MT_SMP is not set<br /># CONFIG_MIPS_MT_SMTC is not set<br /># CONFIG_MIPS_SEAD is not set<br /># CONFIG_MIPS_SIM is not set<br />CONFIG_MTD=y<br /># CONFIG_MTD_ABSENT is not set<br />CONFIG_MTD_BLKDEVS=y<br />CONFIG_MTD_BLOCK=y<br /># CONFIG_MTD_BLOCK2MTD is not set<br />CONFIG_MTD_CFI=y<br />CONFIG_MTD_CFI_ADV_OPTIONS=y<br />CONFIG_MTD_CFI_AMDSTD=y<br /># CONFIG_MTD_CFI_BE_BYTE_SWAP is not set<br /># CONFIG_MTD_CFI_GEOMETRY is not set<br />CONFIG_MTD_CFI_I1=y<br />CONFIG_MTD_CFI_I2=y<br /># CONFIG_MTD_CFI_I4 is not set<br /># CONFIG_MTD_CFI_I8 is not set<br /># CONFIG_MTD_CFI_INTELEXT is not set<br /># CONFIG_MTD_CFI_LE_BYTE_SWAP is not set<br />CONFIG_MTD_CFI_NOSWAP=y<br /># CONFIG_MTD_CFI_STAA is not set<br />CONFIG_MTD_CFI_UTIL=y<br />CONFIG_MTD_CHAR=y<br /># CONFIG_MTD_CMDLINE_PARTS is not set<br />CONFIG_MTD_COMPLEX_MAPPINGS=y<br /># CONFIG_MTD_CONCAT is not set<br /># CONFIG_MTD_DEBUG is not set<br /># CONFIG_MTD_DOC2000 is not set<br /># CONFIG_MTD_DOC2001 is not set<br /># CONFIG_MTD_DOC2001PLUS is not set<br />CONFIG_MTD_GEN_PROBE=y<br /># CONFIG_MTD_JEDECPROBE is not set<br />CONFIG_MTD_MAP_BANK_WIDTH_1=y<br /># CONFIG_MTD_MAP_BANK_WIDTH_16 is not set<br />CONFIG_MTD_MAP_BANK_WIDTH_2=y<br /># CONFIG_MTD_MAP_BANK_WIDTH_32 is not set<br />CONFIG_MTD_MAP_BANK_WIDTH_4=y<br /># CONFIG_MTD_MAP_BANK_WIDTH_8 is not set<br /># CONFIG_MTD_MTDRAM is not set<br /># CONFIG_MTD_ONENAND is not set<br /># CONFIG_MTD_OTP is not set<br />CONFIG_MTD_PARTITIONS=y<br /># CONFIG_MTD_PCI is not set<br /># CONFIG_MTD_PHRAM is not set<br />CONFIG_MTD_PHYSMAP=y<br />CONFIG_MTD_PHYSMAP_BANKWIDTH=0<br />CONFIG_MTD_PHYSMAP_LEN=0x0<br />CONFIG_MTD_PHYSMAP_START=0x0<br /># CONFIG_MTD_PLATRAM is not set<br /># CONFIG_MTD_PMC551 is not set<br /># CONFIG_MTD_RAM is not set<br />CONFIG_MTD_REDBOOT_DIRECTORY_BLOCK=-3<br />CONFIG_MTD_REDBOOT_PARTS=y<br />CONFIG_MTD_REDBOOT_PARTS_READONLY=y<br /># CONFIG_MTD_ROM is not set<br /># CONFIG_MTD_SLRAM is not set<br />CONFIG_MTD_SPIFLASH=y<br />CONFIG_MVSWITCH_PHY=y<br /># CONFIG_NET_PCI is not set<br /># CONFIG_NET_VENDOR_3COM is not set<br /># CONFIG_NO_IOPORT is not set<br /># CONFIG_OCF_OCF is not set<br />CONFIG_PAGEFLAGS_EXTENDED=y<br /># CONFIG_PAGE_SIZE_16KB is not set<br />CONFIG_PAGE_SIZE_4KB=y<br /># CONFIG_PAGE_SIZE_64KB is not set<br /># CONFIG_PAGE_SIZE_8KB is not set<br /># CONFIG_PCI is not set<br /># CONFIG_PCIPCWATCHDOG is not set<br /># CONFIG_PCI_DOMAINS is not set<br /># CONFIG_PCSPKR_PLATFORM is not set<br />CONFIG_PHYLIB=y<br /># CONFIG_PMC_MSP is not set<br /># CONFIG_PMC_YOSEMITE is not set<br /># CONFIG_PNX8550_JBS is not set<br /># CONFIG_PNX8550_STB810 is not set<br /># CONFIG_PRISM54 is not set<br /># CONFIG_QSEMI_PHY is not set<br /># CONFIG_REALTEK_PHY is not set<br />CONFIG_RFKILL_LEDS=y<br />CONFIG_RTC_LIB=y<br />CONFIG_RWSEM_GENERIC_SPINLOCK=y<br />CONFIG_SCHED_NO_NO_OMIT_FRAME_POINTER=y<br />CONFIG_SCSI_WAIT_SCAN=m<br /># CONFIG_SERIAL_8250_EXTENDED is not set<br />CONFIG_SERIAL_8250_NR_UARTS=1<br />CONFIG_SERIAL_8250_RUNTIME_UARTS=1<br /># CONFIG_SGI_IP22 is not set<br /># CONFIG_SGI_IP27 is not set<br /># CONFIG_SGI_IP28 is not set<br /># CONFIG_SGI_IP32 is not set<br /># CONFIG_SIBYTE_BIGSUR is not set<br /># CONFIG_SIBYTE_CARMEL is not set<br /># CONFIG_SIBYTE_CRHINE is not set<br /># CONFIG_SIBYTE_CRHONE is not set<br /># CONFIG_SIBYTE_LITTLESUR is not set<br /># CONFIG_SIBYTE_RHONE is not set<br /># CONFIG_SIBYTE_SENTOSA is not set<br /># CONFIG_SIBYTE_SWARM is not set<br />CONFIG_SLABINFO=y<br /># CONFIG_SMSC_PHY is not set<br /># CONFIG_SOFT_WATCHDOG is not set<br /># CONFIG_SPARSEMEM_STATIC is not set<br /># CONFIG_SPARSEMEM_VMEMMAP_ENABLE is not set<br />CONFIG_SSB_POSSIBLE=y<br />CONFIG_SYSVIPC_SYSCTL=y<br />CONFIG_SYS_HAS_CPU_MIPS32_R1=y<br />CONFIG_SYS_SUPPORTS_32BIT_KERNEL=y<br />CONFIG_SYS_SUPPORTS_ARBIT_HZ=y<br />CONFIG_SYS_SUPPORTS_BIG_ENDIAN=y<br /># CONFIG_THERMAL is not set<br /># CONFIG_THERMAL_HWMON is not set<br />CONFIG_TICK_ONESHOT=y<br /># CONFIG_TOSHIBA_JMR3927 is not set<br /># CONFIG_TOSHIBA_RBTX4927 is not set<br /># CONFIG_TOSHIBA_RBTX4938 is not set<br />CONFIG_TRAD_SIGNALS=y<br />CONFIG_USB=m<br /># CONFIG_USB_EHCI_HCD is not set<br /># CONFIG_USB_ISIGHTFW is not set<br />CONFIG_USB_STORAGE_CYPRESS_ATACB=y<br /># CONFIG_USB_UHCI_HCD is not set<br />CONFIG_USB_WDM=m<br /># CONFIG_VGASTATE is not set<br />CONFIG_VIDEO_ALLOW_V4L1=y<br />CONFIG_VIDEO_MEDIA=m<br />CONFIG_VIDEO_V4L1=m<br />CONFIG_VIDEO_V4L2=m<br />CONFIG_VIDEO_V4L2_COMMON=m<br />CONFIG_ZONE_DMA_FLAG=0<br />CONFIG_ATHEROS_WDT=y</p><p>2. dmesg of DIR-400 with openwrt trunk r12507<br />RedBoot&gt; load -r -b %{FREEMEMLO} fon/openwrt-fon-r12448/openwrt-atheros-vmlinux.lzma<br />Using default protocol (TFTP)<br />Raw file loaded 0x8003fc00-0x800efbff, assumed entry at 0x8003fc00<br />RedBoot&gt; fis create -l 0xb0000 -f 0xbfc40000 -e 0x80041000 -r 0x80041000 vmlinux.bin.l7<br />An image named &#039;vmlinux.bin.l7&#039; exists - continue (y/n)? y<br />... Erase from 0xbfc40000-0xbfcf0000: ...........<br />... Program from 0x8003fc00-0x800efc00 at 0xbfc40000: ...........<br />prog_ok<br />flash_addr = 0xbfc40000<br />mem_addr = 0x80041000<br />entry_addr = 0x80041000<br />length = 0xb0000<br />img_size = 0xb0000<br />... Erase from 0xbffe0000-0xbfff0000: .<br />... Program from 0x80ff0000-0x81000000 at 0xbffe0000: .<br />RedBoot&gt; reset<br />+flash_hwr_init: flash device - id=21<br />Ethernet eth0: MAC address 00:1e:58:2d:a7:47<br />IP: 192.168.0.1/255.255.255.0, Gateway: 0.0.0.0<br />Default server: 192.168.0.100</p><p>RedBoot(tm) bootstrap and debug environment [ROMRAM]<br />Non-certified release, version UNKNOWN - built 16:18:06, Aug 21 2007</p><p>Copyright (C) 2000, 2001, 2002, 2003, 2004 Red Hat, Inc.</p><p>Board: ap61<br />RAM: 0x80000000-0x82000000, [0x8003fb80-0x80fe1000] available<br />FLASH: 0xbfc00000 - 0xbfff0000, 64 blocks of 0x00010000 bytes each.<br />board MAC = 13-44-21-33-20-08<br />== Executing boot script in 2.000 seconds - enter ^C to abort<br />RedBoot&gt; fis load -l vmlinux.bin.l7<br />Image loaded from 0x80041000-0x80272086<br />RedBoot&gt; exec<br />Now booting linux kernel:<br /> Base address 0x80030000 Entry 0x80041000<br /> Cmdline :<br />Linux version 2.6.26.3 (macpaul@debian) (gcc version 4.1.2) #1 Thu Sep 4 16:37:45 CST 2008<br />CPU revision is: 00019064 (MIPS 4KEc)<br />Determined physical RAM map:<br /> memory: 02000000 @ 00000000 (usable)<br />User-defined physical RAM map:<br /> memory: 01000000 @ 00000000 (usable)<br />Initrd not found or empty - disabling initrd<br />Zone PFN ranges:<br />&nbsp; Normal&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;4096<br />Movable zone start PFN for each node<br />early_node_map[1] active PFN ranges<br />&nbsp; &nbsp; 0:&nbsp; &nbsp; &nbsp; &nbsp; 0 -&gt;&nbsp; &nbsp; &nbsp;4096<br />Built 1 zonelists in Zone order, mobility grouping off.&nbsp; Total pages: 4064<br />Kernel command line: console=ttyS0,9600 rootfstype=squashfs,jffs2 root=/dev/mtdblock3 init=/etc/preinit mem=16M<br />Primary instruction cache 16kB, VIPT, 4-way, linesize 16 bytes.<br />Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 16 bytes<br />PID hash table entries: 64 (order: 6, 256 bytes)<br />console [ttyS0] enabled<br />Dentry cache hash table entries: 2048 (order: 1, 8192 bytes)<br />Inode-cache hash table entries: 1024 (order: 0, 4096 bytes)<br />Memory: 13628k/16384k available (1822k kernel code, 2756k reserved, 300k data, 124k init, 0k highmem)<br />SLUB: Genslabs=6, HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<br />Mount-cache hash table entries: 512<br />net_namespace: 484 bytes<br />NET: Registered protocol family 16<br />Radio config found at offset 0xf8(0x1f8)<br />NET: Registered protocol family 2<br />IP route cache hash table entries: 1024 (order: 0, 4096 bytes)<br />TCP established hash table entries: 512 (order: 0, 4096 bytes)<br />TCP bind hash table entries: 512 (order: -1, 2048 bytes)<br />TCP: Hash tables configured (established 512 bind 512)<br />TCP reno registered<br />NET: Registered protocol family 1<br />ar531x: Registering GPIODEV device<br />squashfs: version 3.0 (2006/03/15) Phillip Lougher<br />Registering mini_fo version $Id$<br />JFFS2 version 2.2. (NAND) (SUMMARY)&nbsp; ï¿½Â© 2001-2006 Red Hat, Inc.<br />msgmni has been set to 26<br />io scheduler noop registered<br />io scheduler deadline registered (default)<br />Serial: 8250/16550 driver $Revision: 1.90 $ 1 ports, IRQ sharing disabled<br />serial8250: ttyS0 at MMIO 0xb1100003 (irq = 37) is a 16550A<br />eth0: Atheros AR231x: 00:1e:58:2d:a7:48, irq 4<br />ar2313_eth_mii: probed<br />eth0: Marvell 88E6060 PHY driver attached.<br />eth0: attached PHY driver [Marvell 88E6060] (mii_bus:phy_addr=0:1f)<br />cmdlinepart partition parsing not available<br />Searching for RedBoot partition table in spiflash at offset 0x3d0000<br />Searching for RedBoot partition table in spiflash at offset 0x3e0000<br />6 RedBoot partitions found on MTD device spiflash<br />eth0: Configuring MAC for full duplex<br />Creating 6 MTD partitions on &quot;spiflash&quot;:<br />0x00000000-0x00030000 : &quot;RedBoot&quot;<br />0x00030000-0x00040000 : &quot;Config&quot;<br />0x00040000-0x000f0000 : &quot;vmlinux.bin.l7&quot;<br />0x000f0000-0x003e0000 : &quot;rootfs&quot;<br />mtd: partition &quot;rootfs&quot; set to be root filesystem<br />mtd: partition &quot;rootfs_data&quot; created automatically, ofs=1F0000, len=1F0000<br />0x001f0000-0x003e0000 : &quot;rootfs_data&quot;<br />0x003e0000-0x003ef000 : &quot;FIS directory&quot;<br />0x003f0000-0x00400000 : &quot;Calibration&quot;<br />nf_conntrack version 0.5.0 (1024 buckets, 4096 max)<br />ip_tables: (C) 2000-2006 Netfilter Core Team<br />TCP vegas registered<br />NET: Registered protocol family 17<br />802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;<br />All bugs added by David S. Miller &lt;davem@redhat.com&gt;<br />VFS: Mounted root (squashfs filesystem) readonly.<br />Freeing unused kernel memory: 124k freed<br />Please be patient, while OpenWrt loads ...<br />Algorithmics/MIPS FPU Emulator v1.5<br />- preinit -<br />Press CTRL-C for failsafe<br />switching to jffs2<br />mini_fo: using base directory: /<br />mini_fo: using storage directory: /jffs<br />- init -</p><p>Please press Enter to activate this console.</p><br /><p>BusyBox v1.11.1 (2008-09-03 11:34:57 CST) built-in shell (ash)<br />Enter &#039;help&#039; for a list of built-in commands.</p><p>&nbsp; _______&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;________&nbsp; &nbsp; &nbsp; &nbsp; __<br /> |&nbsp; &nbsp; &nbsp; &nbsp;|.-----.-----.-----.|&nbsp; |&nbsp; |&nbsp; |.----.|&nbsp; |_<br /> |&nbsp; &nbsp;-&nbsp; &nbsp;||&nbsp; _&nbsp; |&nbsp; -__|&nbsp; &nbsp; &nbsp;||&nbsp; |&nbsp; |&nbsp; ||&nbsp; &nbsp;_||&nbsp; &nbsp;_|<br /> |_______||&nbsp; &nbsp;__|_____|__|__||________||__|&nbsp; |____|<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |__| W I R E L E S S&nbsp; &nbsp;F R E E D O M<br /> KAMIKAZE (bleeding edge, r12507) -------------------<br />&nbsp; * 10 oz Vodka&nbsp; &nbsp; &nbsp; &nbsp;Shake well with ice and strain<br />&nbsp; * 10 oz Triple sec&nbsp; mixture into 10 shot glasses.<br />&nbsp; * 10 oz lime juice&nbsp; Salute!<br /> ---------------------------------------------------<br />root@OpenWrt:/# PPP generic driver version 2.4.2<br />device eth0.0 entered promiscuous mode<br />device eth0 entered promiscuous mode<br />br-lan: port 1(eth0.0) entering learning state<br />br-lan: topology change detected, propagating<br />br-lan: port 1(eth0.0) entering forwarding state<br />wlan: trunk<br />ath_hal: module license &#039;Proprietary&#039; taints kernel.<br />ath_hal: 2008-08-15 (AR5212, AR5312, RF5111, RF5112, RF2316, RF2317, REGOPS_FUNC, TX_DESC_SWAP, DFS, XR)<br />ath_rate_minstrel: Minstrel automatic rate control algorithm 1.2 (trunk)<br />ath_rate_minstrel: look around rate set to 10%<br />ath_rate_minstrel: EWMA rolloff level set to 75%<br />ath_rate_minstrel: max segment size in the mrr set to 6000 us<br />wlan: mac acl policy registered<br />ath_ahb: trunk<br />Atheros HAL provided by OpenWrt, DD-WRT and MakSat Technologies<br />wifi0: 11b rates: 1Mbps 2Mbps 5.5Mbps 11Mbps<br />wifi0: 11g rates: 1Mbps 2Mbps 5.5Mbps 11Mbps 6Mbps 9Mbps 12Mbps 18Mbps 24Mbps 36Mbps 48Mbps 54Mbps<br />wifi0: H/W encryption support: WEP AES AES_CCM TKIP<br />ath_ahb: wifi0: Atheros 2317 WiSoC REV2: mem=0xb0000000, irq=3</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p73666">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">vemax78</div>
					<div class="post-datetime">
						22 Sep 2008, 13:00					</div>
				</div>
				<div class="post-content content">
					<p>Confirm the problem of JFFS2 with svn trunk 12646 version and Linux 2.6.26.3. <br />I have a Access Point with Atheros AR2317 SoC. I had remove from ./trunk/target/linux/atheros/config-2.6.26</p><p>CONFIG_GENERIC_GPIO<br />CONFIG_GPIO_DEVICE<br />CONFIG_LEDS_GPIO</p><p>Openwrt work without this config option of Kernel.</p><br /><p>Ciao<br />Massimo</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>