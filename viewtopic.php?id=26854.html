<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> GCC-4.4.1 (Code Sorcery) + EABI + uClibc-0.9.30.1 fails to compile</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 14 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p118613">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						6 Oct 2010, 19:42					</div>
				</div>
				<div class="post-content content">
					<p>I just wanted to let developers here know that compiling gcc-4.4.1+cs with Enable EABI support + uClibc-0.9.30.1 for a Marvell Kirkwood platform returns the following error messages. Hopefully, it will get fixed.<br /></p><div class="codebox"><pre><code>make[6]: Entering directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.30.1_eabi/gcc-4.4.1-final/gcc&#039;
rm -f jc1
gcc   -DIN_GCC -DCROSS_DIRECTORY_STRUCTURE  -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -Wcast-qual -Wold-style-definition -Wc++-compat -Wmissing-format-attribute -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings   -DHAVE_CONFIG_H  -o jc1 \
        java/class.o java/decl.o java/expr.o java/constants.o java/lang.o java/typeck.o java/except.o java/verify-glue.o java/verify-impl.o java/zextract.o java/jcf-io.o java/win32-host.o java/jcf-parse.o java/mangle.o java/mangle_name.o java/builtins.o java/resource.o java/jcf-depend.o java/jcf-path.o java/boehm.o java/java-gimplify.o main.o  libbackend.a ../libcpp/libcpp.a ../libdecnumber/libdecnumber.a -L../zlib -lz  ../libcpp/libcpp.a   ../libiberty/libiberty.a ../libdecnumber/libdecnumber.a attribs.o   -L/opt/tmp/openwrt-svn-trunk/staging_dir/host/lib -L/opt/tmp/openwrt-svn-trunk/staging_dir/host/lib -lmpfr -lgmp
libbackend.a(targhooks.o): In function `hook_cxx_ttype_ref_in_bit0&#039;:
targhooks.c:(.text+0x5d1): undefined reference to `pointer_int_sum&#039;
collect2: ld returned 1 exit status
make[6]: *** [jc1] Error 1
make[6]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.30.1_eabi/gcc-4.4.1-final/gcc&#039;
make[5]: *** [all-gcc] Error 2
make[5]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.30.1_eabi/gcc-4.4.1-final&#039;
make[4]: *** [all] Error 2
make[4]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.30.1_eabi/gcc-4.4.1-final&#039;
make[3]: *** [/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.30.1_eabi/gcc-4.4.1-final/.built] Error 2
make[3]: Leaving directory `/opt/tmp/openwrt-svn-trunk/toolchain/gcc/final&#039;
make[2]: *** [toolchain/gcc/final/compile] Error 2
make[2]: Leaving directory `/opt/tmp/openwrt-svn-trunk&#039;
make[1]: *** [/opt/tmp/openwrt-svn-trunk/staging_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.30.1_eabi/stamp/.toolchain_install] Error 2
make[1]: Leaving directory `/opt/tmp/openwrt-svn-trunk&#039;
make: *** [prepare] Error 2</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121342">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						17 Nov 2010, 18:20					</div>
				</div>
				<div class="post-content content">
					<p>Today, I did an <em>svn up</em> to my local OpenWRT SVN Development trunk to r24019. I did another try to compile gcc-4.4.3 and it still has the same problem as shown below:<br /></p><div class="codebox"><pre><code>make[5]: Nothing to be done for `all&#039;.
make[5]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/build-x86_64-suse-linux/fixincludes&#039;
make[5]: Entering directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/zlib&#039;
true &quot;AR_FLAGS=rc&quot; &quot;CC_FOR_BUILD=gcc&quot; &quot;CFLAGS=&quot; &quot;CXXFLAGS=-g -O2&quot; &quot;CFLAGS_FOR_BUILD=&quot; &quot;CFLAGS_FOR_TARGET=-Os -pipe -march=armv5te -mtune=marvell-f -funit-at-a-time -fhonour-copts -msoft-float&quot; &quot;INSTALL=/usr/bin/install -c&quot; &quot;INSTALL_DATA=/usr/bin/install -c -m 644&quot; &quot;INSTALL_PROGRAM=/usr/bin/install -c&quot; &quot;INSTALL_SCRIPT=/usr/bin/install -c&quot; &quot;LDFLAGS=&quot; &quot;LIBCFLAGS=&quot; &quot;LIBCFLAGS_FOR_TARGET=-Os -pipe -march=armv5te -mtune=marvell-f -funit-at-a-time -fhonour-copts -msoft-float&quot; &quot;MAKE=make&quot; &quot;MAKEINFO=makeinfo --split-size=5000000 --split-size=5000000 &quot; &quot;PICFLAG=&quot; &quot;PICFLAG_FOR_TARGET=&quot; &quot;SHELL=/bin/sh&quot; &quot;EXPECT=expect&quot; &quot;RUNTEST=runtest&quot; &quot;RUNTESTFLAGS=&quot; &quot;exec_prefix=/opt/tmp/openwrt-svn-trunk/staging_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi&quot; &quot;infodir=/opt/tmp/openwrt-svn-trunk/staging_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/info&quot; &quot;libdir=/opt/tmp/openwrt-svn-trunk/staging_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/lib&quot; &quot;prefix=/opt/tmp/openwrt-svn-trunk/staging_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi&quot; &quot;tooldir=/opt/tmp/openwrt-svn-trunk/staging_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/arm-openwrt-linux-uclibcgnueabi&quot; &quot;AR=ar&quot; &quot;AS=as&quot; &quot;CC=gcc&quot; &quot;CXX=g++&quot; &quot;LD=/usr/lib64/gcc/x86_64-suse-linux/4.5/../../../../x86_64-suse-linux/bin/ld&quot; &quot;LIBCFLAGS=&quot; &quot;NM=nm&quot; &quot;PICFLAG=&quot; &quot;RANLIB=ranlib&quot; &quot;DESTDIR=&quot; DO=all multi-do # make
make[5]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/zlib&#039;
make[5]: Entering directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/libcpp&#039;
make[5]: Nothing to be done for `all&#039;.
make[5]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/libcpp&#039;
make[5]: Entering directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/libdecnumber&#039;
make[5]: Nothing to be done for `all&#039;.
make[5]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/libdecnumber&#039;
make[5]: Entering directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/gcc&#039;
rm -f jc1
gcc   -DIN_GCC -DCROSS_DIRECTORY_STRUCTURE  -W -Wall -Wwrite-strings -Wstrict-prototypes -Wmissing-prototypes -Wcast-qual -Wold-style-definition -Wc++-compat -Wmissing-format-attribute -pedantic -Wno-long-long -Wno-variadic-macros -Wno-overlength-strings   -DHAVE_CONFIG_H  -o jc1 \
        java/class.o java/decl.o java/expr.o java/constants.o java/lang.o java/typeck.o java/except.o java/verify-glue.o java/verify-impl.o java/zextract.o java/jcf-io.o java/win32-host.o java/jcf-parse.o java/mangle.o java/mangle_name.o java/builtins.o java/resource.o java/jcf-depend.o java/jcf-path.o java/boehm.o java/java-gimplify.o main.o  libbackend.a ../libcpp/libcpp.a ../libdecnumber/libdecnumber.a -L../zlib -lz  ../libcpp/libcpp.a   ../libiberty/libiberty.a ../libdecnumber/libdecnumber.a attribs.o   -L/opt/tmp/openwrt-svn-trunk/staging_dir/host/lib -L/opt/tmp/openwrt-svn-trunk/staging_dir/host/lib -lmpfr -lgmp
libbackend.a(targhooks.o): In function `hook_cxx_ttype_ref_in_bit0&#039;:
targhooks.c:(.text+0x5d1): undefined reference to `pointer_int_sum&#039;
collect2: ld returned 1 exit status
make[5]: *** [jc1] Error 1
make[5]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/gcc&#039;
make[4]: *** [all-gcc] Error 2
make[4]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final&#039;
make[3]: *** [all] Error 2
make[3]: Leaving directory `/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final&#039;
make[2]: *** [/opt/tmp/openwrt-svn-trunk/build_dir/toolchain-arm_v5te_gcc-4.4.1+cs_uClibc-0.9.31_eabi/gcc-4.4.1-final/.built] Error 2
make[2]: Leaving directory `/opt/tmp/openwrt-svn-trunk/toolchain/gcc/final&#039;
make[1]: *** [toolchain/gcc/final/compile] Error 2
make[1]: Leaving directory `/opt/tmp/openwrt-svn-trunk&#039;
make: *** [toolchain/gcc/final/compile] Error 2</code></pre></div><p>Is anyone working to fix this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121627">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">speedercat</div>
					<div class="post-datetime">
						21 Nov 2010, 17:53					</div>
				</div>
				<div class="post-content content">
					<p>I get the same error for AR7 at toolchain/gcc/final/compile using the following toolchain options:</p><p>GCC 4.4.1 with Code Sorcery enhancements<br />Support for Graphite<br />System version of PPL and cLooG<br />Stack Smashing support<br />C++ compiler and libstdc++<br />Java compiler/classpath<br />uClibc 0.9.32 with nptl support</p><p>You&#039;ve received the error for an ARM platform while I&#039;m working on a mipsel platform, so it might mean there&#039;s an issue with GCC 4.4.x.&nbsp; I&#039;ll try disabling some of the options, although the recompile will take a bit.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p121775">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						23 Nov 2010, 16:16					</div>
				</div>
				<div class="post-content content">
					<p>Well, at least I am not alone here. Cheers.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>