<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Support for Marvell 88F5xx81 based routers</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 18 Jan 2014 and 6 May 2018.
										Unfortunately there are posts – most likely complete pages – missing.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p63513">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						16 Feb 2008, 11:56					</div>
				</div>
				<div class="post-content content">
					<p>update: the git-repository got merged into the mainline kernel in the last merge window to 2.6.25-rc1</p><p>just search for &quot;orion&quot; on the 2.6.25-rc1-changelog: <a href="http://kernel.org/pub/linux/kernel/v2.6/testing/ChangeLog-2.6.25-rc1">http://kernel.org/pub/linux/kernel/v2.6 … 2.6.25-rc1</a></p><p>also there is already a discussion how to get further support in the kernel (DMA engine, crypto engine):<br/><a href="http://thread.gmane.org/gmane.linux.ports.arm.kernel/38512">http://thread.gmane.org/gmane.linux.por … rnel/38512</a> </p><p>guys...do the stuff i mentioned in the post before and create a new setup file. you guys will be able to boot the vanilla kernel then in the future when the setup file was submitted to kernel.org!</p><p>it already works for our orion based linkstations.</p>											<p class="post-edited">(Last edited by <strong>mindbender</strong> on 16 Feb 2008, 12:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63528">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						16 Feb 2008, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;ll take a look at the Linksys-sources and post some info here...</p><p>EDIT: I registered the Linksys-Router WRT350N v2 @ <a href="http://www.arm.linux.org.uk/developer/machines/">http://www.arm.linux.org.uk/developer/machines/</a><br/>EDIT2: Someone else should do the setup-file part, it&#039;s a bit too complicated for me to search for everything...<br/>EDIT3: I resumed working on it, not so difficult as i thought...</p>											<p class="post-edited">(Last edited by <strong>Davidkra</strong> on 17 Feb 2008, 04:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63579">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						17 Feb 2008, 20:53					</div>
				</div>
				<div class="post-content content">
					<p>i believe that most of the info is already on the first page of this thread. at least the flash map was already posted there which is a good start.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63642">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						18 Feb 2008, 20:35					</div>
				</div>
				<div class="post-content content">
					<p>First version of the modified kernel available at <a href="http://repo.or.cz/w/wrt350n-kernel.git">http://repo.or.cz/w/wrt350n-kernel.git</a></p><p>WARNING: Highly experimental!!!</p>											<p class="post-edited">(Last edited by <strong>Davidkra</strong> on 18 Feb 2008, 20:36)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63672">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">Watha</div>
					<div class="post-datetime">
						19 Feb 2008, 05:47					</div>
				</div>
				<div class="post-content content">
					<p>It doesn&#039;t compile:<br/>arch/arm/kernel/vmlinux.lds.S:6:37: error: asm-generic/vmlinux.lds.h: No such file or directory</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63716">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						19 Feb 2008, 19:47					</div>
				</div>
				<div class="post-content content">
					<p>hmm... odd...&nbsp; the file exists...</p>											<p class="post-edited">(Last edited by <strong>Davidkra</strong> on 19 Feb 2008, 19:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63723">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						19 Feb 2008, 21:40					</div>
				</div>
				<div class="post-content content">
					<p>update your git tree, i made some important changes</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63740">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">Watha</div>
					<div class="post-datetime">
						20 Feb 2008, 02:38					</div>
				</div>
				<div class="post-content content">
					<p>Same error, and <a href="http://repo.or.cz/w/wrt350n-kernel.git?a=tree;f=include/asm-generic;h=7811b627cee46bf8875937cdacb16c3ed04af3ca;hb=master">http://repo.or.cz/w/wrt350n-kernel.git? … ;hb=master</a> doesn&#039;t list vmlinux.lds.h.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63771">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						20 Feb 2008, 20:23					</div>
				</div>
				<div class="post-content content">
					<p>it should be there now.</p>											<p class="post-edited">(Last edited by <strong>Davidkra</strong> on 20 Feb 2008, 20:23)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63773">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						20 Feb 2008, 20:31					</div>
				</div>
				<div class="post-content content">
					<p>BTW, if you would like to have write access, register @ repo.or.cz (if not already done) and give me your username so i can give yow the appropriate permissions</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63831">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						21 Feb 2008, 18:30					</div>
				</div>
				<div class="post-content content">
					<p>Did you already test it? If so, could you send me your ,config?</p><p>EDIT: BTW, madwifi (svn) works in 11g mode almost flawlessly on the AR5416.</p>											<p class="post-edited">(Last edited by <strong>Davidkra</strong> on 21 Feb 2008, 19:13)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63899">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">Watha</div>
					<div class="post-datetime">
						22 Feb 2008, 19:56					</div>
				</div>
				<div class="post-content content">
					<p>I had some trouble with my toolchain (I&#039;m using foonas&#039; bitbake config) but eventually got it compiled, however it&#039;s not detecting the machine type - on boot it says &quot;Machine: Buffalo/Revogear Kurobox Pro&quot; and if I turn off the other machine types it just hangs once the bootloader finishes. What are you using to compile the kernel and make an image?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63922">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						23 Feb 2008, 02:10					</div>
				</div>
				<div class="post-content content">
					<p>a codesourcery toolchain for uclinux and mkimage from openwrt. you could possibly use the eabi toolchain instead of the uclinux one because the arm926 has a mmu</p>											<p class="post-edited">(Last edited by <strong>Davidkra</strong> on 23 Feb 2008, 02:51)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63974">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						24 Feb 2008, 18:47					</div>
				</div>
				<div class="post-content content">
					<p>Watha: if the rootfs in flash is based on uclinux then the kernel needs to be compiled with uclinux as well i think. foonas uses glibc. you should use foonas-em instead of foonas as it is based on uclibc but more important the foonas-em rootfs is stored inside the kernel file as a initramfs. this has the advantage that the kernel is totally independent from the stuff in flash.</p><p>so in case you want to continue using bitbake switch over to foonas-em instead. the kernel you loaded in the past was a foonas-em kernel. </p><p>although foonas-em is the wrong thing regarding openwrt it is the perfect way to test kernels.</p><p>ignore this post in case you already use foonas-em.</p>											<p class="post-edited">(Last edited by <strong>mindbender</strong> on 24 Feb 2008, 18:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63990">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">Watha</div>
					<div class="post-datetime">
						24 Feb 2008, 23:08					</div>
				</div>
				<div class="post-content content">
					<p>Yeah, I&#039;m using foonas-em, which I think is using glibc eabi. The problem is it&#039;s somewhat inflexible (requires a git tag instead of just a repo, can&#039;t seem to update git repos itself) and I don&#039;t really understand how it works so I&#039;m probably missing something in the build to make the new machine type be detected.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63998">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">mindbender</div>
					<div class="post-datetime">
						25 Feb 2008, 01:54					</div>
				</div>
				<div class="post-content content">
					<p>foonas-em now uses uclibc. you might think about updating everything.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64005">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">Watha</div>
					<div class="post-datetime">
						25 Feb 2008, 07:27					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://svn.foonas.org/filedetails.php?repname=foonas&amp;path=%2Ftrunk%2Fopenembedded%2Fconf%2Fdistro%2Ffoonas-em.conf">http://svn.foonas.org/filedetails.php?r … as-em.conf</a> still has <br/>FOONAS_MODE ?= &quot;glibc&quot;, the log message on the last update says &quot;all / distro: Change maintainer email, make foonas-iscsi use uclibc for the time being&quot;.</p><p>I still have no idea what&#039;s wrong with my build, Davidkra could you upload your image and I&#039;ll test that?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64044">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						25 Feb 2008, 19:00					</div>
				</div>
				<div class="post-content content">
					<p>ok, i uploaded it to the git repo as &quot;/images/uImage&quot;</p><p>BTW beware I didn&quot;t set any of the boot options!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64389">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						1 Mar 2008, 22:19					</div>
				</div>
				<div class="post-content content">
					<p>something new?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64902">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						10 Mar 2008, 17:22					</div>
				</div>
				<div class="post-content content">
					<p>Watha?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64918">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">Watha</div>
					<div class="post-datetime">
						11 Mar 2008, 01:17					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, haven&#039;t had time to test your image yet. I&#039;ll try it this weekend, if not earlier. You might want to get the people in <a href="http://www.linksysinfo.org/forums/showthread.php?t=54109">this thread on linksysinfo.org</a> to try out your kernel as well.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65337">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						18 Mar 2008, 18:42					</div>
				</div>
				<div class="post-content content">
					<p>and, what are the results? does it boot??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65481">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						21 Mar 2008, 00:34					</div>
				</div>
				<div class="post-content content">
					<p>still nothing new???</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65508">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">Davidkra</div>
					<div class="post-datetime">
						21 Mar 2008, 12:31					</div>
				</div>
				<div class="post-content content">
					<p>i think i&#039;ll no longer port the linux kernel to the WRT350N v2, lack of time <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p65516">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">Pearl</div>
					<div class="post-datetime">
						21 Mar 2008, 14:35					</div>
				</div>
				<div class="post-content content">
					<p>Hello Davidkra,</p><p>that&#039;s a pitty. i was watching this forum cause 2 weeks ago i bought a wrt350n v2. but i am really missing a sshd in/on it (like dropbear). Is there any change you can extend the the firmware and&nbsp; add the sshd to it. I really like this function so that i am able to do &quot;wakeup on lan&quot; and tunneling with ssh on this router.</p>									</div>
			</article>

			
		
			
		
	
	<div class="pagination"><div class="pagination-number">Page 2 of 46</div><nav><ul><li><a href="viewtopic.php%3Fid=12358&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=3.html">3</a></li><li><a href="viewtopic.php%3Fid=12358&amp;p=4.html">4</a></li><li class="pagination-ellipsis"><span>...</span></li><li><a href="viewtopic.php%3Fid=12358&amp;p=46.html">46</a></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>