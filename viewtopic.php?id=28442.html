<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TP-Link MR-3420, how to failsafe?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 1 May 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p127154">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">elitesga</div>
					<div class="post-datetime">
						2 Feb 2011, 18:40					</div>
				</div>
				<div class="post-content content">
					<p>Hi guys, received today my MR3420 and I dont know how to get in failsafe.<br />The following things i did.<br />I builded a Openwrt Firmware and flashed it via TP-Link Webinterface.<br />Everything worked fine.<br />But i needed some other kernelmodul so i decided to build a new firmware.<br />Loaded it up to the router and flashed the sysupgrade.bin with the following command.</p><p>mtd -r write /tmp/sysupgrade.bin firmware</p><p>However nothing worked anymore.<br />So i decided to get it into failsafe mode.(Pressing reset button at startup)<br />I can ping it, i can also telnet to it in failsafemode but in telnet, i dont see anything.<br />So i decided to add the serialport.<br />I opened the case, added the pins and connected a usb serialcable with pl2303 chipset on it.<br />But i dont see anything with serial.</p><p>Can anyone give me a hint what to do?</p><p>Or is my device dead?</p><p>And what did i wrong?</p><br /><p>greets Elite</p><br /><p>and sorry for the bad english <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127175">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">elitesga</div>
					<div class="post-datetime">
						2 Feb 2011, 23:10					</div>
				</div>
				<div class="post-content content">
					<p>Okay, only my serialcable was dead.<br />But which baudrate need I to set for the MR-3420?</p><p>Is there a way to autodetect it?</p><br /><p>greets elite</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127337">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">DerMicha</div>
					<div class="post-datetime">
						4 Feb 2011, 21:02					</div>
				</div>
				<div class="post-content content">
					<p>Try:<br />115200 , 8 , 1 , none flow controll</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127339">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">elitesga</div>
					<div class="post-datetime">
						4 Feb 2011, 21:07					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t work for me.</p><p>I tested some common settings like 9600, 56000,115200,38400,14400 ... with/without flowcontrol but it dont work.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127603">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">DerMicha</div>
					<div class="post-datetime">
						7 Feb 2011, 21:18					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code>with pl2303 chipset on it..</code></pre></div><p>Mhh not sure whether this Chipset working..?<br />I`am always use Nokia, Siemens or tiny Plantine from ebay with 3,3 volt MAX232 ttl chips.</p><p>The 115200,8,1,none Settings from above working definitely correct on my 3420.</p><p>3,3 Volt are connect to the Roter?<br />Rx &amp; Tx pins replace?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p127693">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">elitesga</div>
					<div class="post-datetime">
						8 Feb 2011, 17:58					</div>
				</div>
				<div class="post-content content">
					<p>Got it working now.<br />However i needed to add a Pullup resistor like on the wiki of the device wr741nd(http://wiki.openwrt.org/toh/tp-link/tl-wr741nd).<br />I used a 12k Pullup resistor.</p><p>Password to get into uboot prompt is tpl.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141670">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">LocoMatt</div>
					<div class="post-datetime">
						19 Aug 2011, 03:44					</div>
				</div>
				<div class="post-content content">
					<p>if i installed open wrt with no graphical interface until i figured out that i need it to re flash the device i deleted some files because i had no space left to copy the original firmware and now the sis led is blinking continuously without any kind of access to the device. Is there any way to get it working without opening and modifying the router? please help me it`s brand new and i ruined a whole day reading how to fix it but only to brick it more...<br />p.s. i understand that tftp is a solution and it`s hard to catch the boot loader or something but if i can`t connect putty or winscp anymore is it still a solution?</p>											<p class="post-edited">(Last edited by <strong>LocoMatt</strong> on 19 Aug 2011, 03:48)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141685">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">LocoMatt</div>
					<div class="post-datetime">
						19 Aug 2011, 12:33					</div>
				</div>
				<div class="post-content content">
					<p>ok so the reset button worked form mee too got telnet connected running like this&nbsp; root@(none) but any command eds up like this <br />root@(none):/# mount_root<br />switching to jffs2<br />/bin/busybox: can&#039;t load library &#039;libc.so.0&#039;<br />/bin/busybox: can&#039;t load library &#039;libc.so.0&#039;<br />root@(none):/# passwd<br />passwd: can&#039;t load library &#039;libc.so.0&#039;<br />root@(none):/# uci get network.lan.ipaddr<br />uci: can&#039;t load library &#039;libc.so.0&#039;<br />any ideeas?:)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p141718">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">LocoMatt</div>
					<div class="post-datetime">
						19 Aug 2011, 21:26					</div>
				</div>
				<div class="post-content content">
					<p>anyone please i know it`s still fixable via Ethernet cable but i don`t know what method to use please come with a viable solution.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>