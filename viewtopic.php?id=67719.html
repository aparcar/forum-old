<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Bandwidth monitoring</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 11 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p339110">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">ronin</div>
					<div class="post-datetime">
						25 Sep 2016, 03:53					</div>
				</div>
				<div class="post-content content">
					<p>Hi</p><p>I&#039;m looking solution for monitoring bandwidth per host in CL.</p><p>I tested Yamon 3, Bandwidthd, wrtbwmon, vnstat and iftop.</p><p>Bandwidthd is cool, but available only from web.<br />Vnstat way cooler with bandwidth statistic, but can&#039;t show stats per host.</p><p>Can you help me with finding solution, please ? <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339111">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">jmlacroix</div>
					<div class="post-datetime">
						25 Sep 2016, 04:01					</div>
				</div>
				<div class="post-content content">
					<p>You can also look at Darkstat: not as cool as Bandwidthd, but can provide the bandiwdthd per host.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339293">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">ronin</div>
					<div class="post-datetime">
						27 Sep 2016, 02:21					</div>
				</div>
				<div class="post-content content">
					<p>How to install darkstat ?</p><p>There is no package from official repo</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339347">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">sinneo</div>
					<div class="post-datetime">
						27 Sep 2016, 16:09					</div>
				</div>
				<div class="post-content content">
					<p>or you can try wtBRMon</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339379">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">ronin</div>
					<div class="post-datetime">
						27 Sep 2016, 19:26					</div>
				</div>
				<div class="post-content content">
					<p>I tried wtbrmon, and i don&#039;t like it, it&#039;s base on qos.</p><p>I want try darkstat, but i can&#039;t find package.</p><p>I found github.com/openwrt/packages/tree/master/net/darkstat<br />But i don&#039;t know how to install on openwrt CC</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339608">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">jmlacroix</div>
					<div class="post-datetime">
						29 Sep 2016, 02:42					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>ronin wrote:</cite><blockquote><p>I tried wtbrmon, and i don&#039;t like it, it&#039;s base on qos.</p><p>I want try darkstat, but i can&#039;t find package.</p><p>I found github.com/openwrt/packages/tree/master/net/darkstat<br />But i don&#039;t know how to install on openwrt CC</p></blockquote></div><p>Yes: that is the correct link to have the latest version of darkstat.&nbsp; Unfortunately, it is only available as a package in Trunk.<br />I submitted it for CC, but they do not want to add anything new in CC,therefore my pull request is still sitting there!&nbsp; In any case it would only be available to compile in CC even if the pull request would be accepted!</p><p>If you want to try it, I can compile it for CC if you would like, but you will have to provide me with the router model.&nbsp; If you want to compile it yourself, the files found in Github for trunk compile fine for CC.</p>											<p class="post-edited">(Last edited by <strong>jmlacroix</strong> on 29 Sep 2016, 02:44)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339627">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						29 Sep 2016, 07:45					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for suggesting darkstat. Just experimented with it for a few minutes and here&#039;s a list of cons/pros over vnstat.</p><p>1. darkstat is independent from Luci, so if you don&#039;t (want to) have Luci installed, darkstat is a better option than vnstat; if you like everything in Luci -- vnstat is a better option.<br />2. darkstat can only listen on one interface per instance, so if you want it listening on two interfaces, you will have to set up two sections in the config with different ports (I&#039;ve looked at the init script and it looks like it&#039;d work, but I haven&#039;t tested it).<br />3. vnstat doesn&#039;t list hosts like darkstat does, however darkstat only lists IPs and doesn&#039;t seem to resolve them (maybe there&#039;s a setting I didn&#039;t set).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339723">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">jmlacroix</div>
					<div class="post-datetime">
						30 Sep 2016, 00:25					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>stangri wrote:</cite><blockquote><p>2. darkstat can only listen on one interface per instance, so if you want it listening on two interfaces, you will have to set up two sections in the config with different ports (I&#039;ve looked at the init script and it looks like it&#039;d work, but I haven&#039;t tested it).</p><p>3. vnstat doesn&#039;t list hosts like darkstat does, however darkstat only lists IPs and doesn&#039;t seem to resolve them (maybe there&#039;s a setting I didn&#039;t set).</p></blockquote></div><p>I am not sure if darkstat can monitor multiple interface.&nbsp; It would be possible to create two instances, but this would require modifications to the init script.</p><p>The lack of resove of the IP is not something related to darkstat, but something in the OpenWrt setup, and I do not know what it is!&nbsp; I have a router with both darkstat and bandwidthd and none of them resolve the IP addresses correctly, although darkstat can resolve a few IP (4-5).</p><p>I have not investigated much on this behavior.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p339732">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">stangri</div>
					<div class="post-datetime">
						30 Sep 2016, 03:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>jmlacroix wrote:</cite><blockquote><p> It would be possible to create two instances, but this would require modifications to the init script.</p></blockquote></div><p>You&#039;re right, I&#039;ve tried changing the config by adding another section and it doesn&#039;t look like it gets picked up. init script will need to be modified to allow multiple instances. <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>