<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Howto: WiFi client bridge for Atheros, possibly others</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p105243">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">projectgus</div>
					<div class="post-datetime">
						25 Mar 2010, 10:56					</div>
				</div>
				<div class="post-content content">
					<p>FWIW, I put together a quick howto for patching OpenWRT 8.09 to use ARPNAT, allowing it to act as a WiFi client bridge for wired devices.</p><p><a href="http://projectgus.com/wireless-client-bridging-with-openwrt/">http://projectgus.com/wireless-client-b â€¦ h-openwrt/</a></p><p>The patch originally comes from the Gargoyle router project.</p><p>So far I&#039;ve used it successfully on a Fonera and an Asus WL-500gP. I&#039;ve taken a few performance measurements, and while there is a performance cost from doing this it doesn&#039;t seem excessive (I haven&#039;t taken the time to compare it with using WDS or IP routing, only with directly accessing to the router.)</p><p>IMHO, this is a very easy way to join several wired segments into one large single network, if the wireless devices aren&#039;t all happy speaking WDS (or if you don&#039;t want to lose half your wireless bandwidth between nodes.)</p><p>The only hassles I&#039;ve had are related to DHCP, and are described in the blog post.</p><p>Hth. I also hope the OpenWRT devs consider formalising ARPNAT support (even if only as a config option) in the future. Patches submitted in the past have been rejected outright, claiming performance problems.</p>											<p class="post-edited">(Last edited by <strong>projectgus</strong> on 25 Mar 2010, 11:00)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105258">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">One23</div>
					<div class="post-datetime">
						25 Mar 2010, 14:40					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m running a WRT610N wired to 4 devices (desktop Win Ult 64, XP Home, NetGear 8-port) my ASUS K52F Wifi cannot connect.&nbsp; Unable to establish wifi connection.&nbsp; Wired connection is ok.&nbsp; Is router overloaded?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105287">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">projectgus</div>
					<div class="post-datetime">
						26 Mar 2010, 01:07					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t know why you posted here, because this has nothing to do with client bridging. Are you running OpenWRT on the WRT610N?</p><p>My guess is an encryption problem, between different hardware/driver WPA combinations. Try turning off encryption on the WRT610N, then if everything works try turning it back on, or trying different types of WPA (psk and/or psk2, on the OpenWRT side.)</p><p>If this doesn&#039;t work, please post a new thread in the General Discussion forum (make sure you include the version of OpenWRT that you are running.)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105301">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">youngjd</div>
					<div class="post-datetime">
						26 Mar 2010, 10:51					</div>
				</div>
				<div class="post-content content">
					<p>a good news.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105332">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">PatErley</div>
					<div class="post-datetime">
						26 Mar 2010, 22:05					</div>
				</div>
				<div class="post-content content">
					<p>rockin!&nbsp; I&#039;ve got a multi-vif client/ap setup right now, gonna try to get arpnat working for this following your recipe.</p><p>Right now my topology is:</p><p>ADSL &lt;=&gt; AP1 (x86) &lt;=nat=&gt; AP2 (mips) &lt;=nat=&gt; some clients</p><p>so multi-tier nat kinda borks upnp and broadcast discovery.&nbsp; Thanks for the pointers to arpnat.</p><p>Pat</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p106849">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">grogi</div>
					<div class="post-datetime">
						14 Apr 2010, 16:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>PatErley wrote:</cite><blockquote><p>Right now my topology is:</p><p>ADSL &lt;=&gt; AP1 (x86) &lt;=nat=&gt; AP2 (mips) &lt;=nat=&gt; some clients</p><p>so multi-tier nat kinda borks upnp and broadcast discovery.&nbsp; Thanks for the pointers to arpnat.</p><p>Pat</p></blockquote></div><p>Why would you use double NAT, which is absolutely insane! <br />Just put the &quot;some client&quot; in different subnet and configure the routing and firewall rules, so that the clients connecting to AP1 cannot access those behind AP2.</p>											<p class="post-edited">(Last edited by <strong>grogi</strong> on 14 Apr 2010, 16:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p139249">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">drekthar</div>
					<div class="post-datetime">
						16 Jul 2011, 16:21					</div>
				</div>
				<div class="post-content content">
					<p>Thankyou for ur time in making the guide very brilliant and simple <br />nice job</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p147208">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">podo</div>
					<div class="post-datetime">
						1 Nov 2011, 13:36					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the guide! Appeared to be much of help for&nbsp; me.</p>											<p class="post-edited">(Last edited by <strong>podo</strong> on 22 Jun 2012, 12:10)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>