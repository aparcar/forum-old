<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> wireless client bridge mode different ssid</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p221801">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">iamus</div>
					<div class="post-datetime">
						6 Jan 2014, 12:51					</div>
				</div>
				<div class="post-content content">
					<p>I have a mifi device that is my gateway to the internet.  I have got a TP-Link router that I would like to have as a client wireless bridge to the mifi device.<br /> <br />I think the best option for me would be to  use the Masquerade method explained here <a href="http://wiki.openwrt.org/doc/recipes/routedclient#using.masquerade,">http://wiki.openwrt.org/doc/recipes/rou … asquerade,</a> where I basically have the TP-link router with OpenWrt connect to the mifi access point wirelessly. <br /> <br />My main issue, however, is after reading how to do the configuration I’m not sure whether or not I’m am able to have an SSID on the TP-link device that is different from the mifi device. <br /> <br />Is it possible in any way to have the two devices have two difference SSIDS?  I would like all my devices in a particular room to connect to the TP-LINK router and having the same SSIDs might prevent me from doing that.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221802">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						6 Jan 2014, 12:59					</div>
				</div>
				<div class="post-content content">
					<p>sure you can.</p><p> <a href="https://forum.openwrt.org/viewtopic.php?id=39077">https://forum.openwrt.org/viewtopic.php?id=39077</a></p><p>follow the non-bridged mode unless you really need it...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221878">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">iamus</div>
					<div class="post-datetime">
						7 Jan 2014, 08:39					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the response,&nbsp; but can I have 2 different WiFi-iface for one device?&nbsp; it looks whenever I have 2 the bottom one overwrites the upper. </p><p>Should they both have the same network?&nbsp; e.g &#039;lan&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221924">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						7 Jan 2014, 17:07					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>iamus wrote:</cite><blockquote><p>Thanks for the response,&nbsp; but can I have 2 different WiFi-iface for one device?&nbsp; it looks whenever I have 2 the bottom one overwrites the upper. </p><p>Should they both have the same network?&nbsp; e.g &#039;lan&#039;</p></blockquote></div><p>Sure you can have 2 different wifi-iface for one radio, but if you do give them both the same name the last entry is used, the previous ones will be overwritten.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221994">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">iamus</div>
					<div class="post-datetime">
						7 Jan 2014, 23:22					</div>
				</div>
				<div class="post-content content">
					<p>ok, I&#039;m getting closer. I have a connection to the internet from the router since I&#039;m connected to the mifi.&nbsp; And I can see the second ssid being broadcasted from the router itself.&nbsp; </p><p>But the problem is I can&#039;t seem to lease dhcp addresses either by connecting directly to the router or by connecting to its wifi interface.&nbsp; When I connect through the cable, I statically set the interface on the laptop to the same subnet and I can ping the router, however, I cannot do the same when I try the wireless interface.&nbsp; </p><br /><p>is there a log I can look at to troubleshoot this?&nbsp; /var/log seems to be empty </p><p>thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p221999">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">nebbia88</div>
					<div class="post-datetime">
						7 Jan 2014, 23:37					</div>
				</div>
				<div class="post-content content">
					<p>maybe post your config (network and wireless, hiding passwords <img src="https://forum.openwrt.org/img/smilies/tongue.png" width="15" height="15" alt="tongue" />)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222260">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">iamus</div>
					<div class="post-datetime">
						10 Jan 2014, 07:50					</div>
				</div>
				<div class="post-content content">
					<p>Sorry it took me a while, the router was behaving weirdly and I lost access.&nbsp; Had to figure out how to boot in failsafe moe and reset</p><p><strong>/etc/config/wireless</strong></p><div class="quotebox"><blockquote><p>config wifi-device&nbsp; radio0<br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;mac80211<br />&nbsp; &nbsp; &nbsp; &nbsp; option channel&nbsp; 11<br />&nbsp; &nbsp; &nbsp; &nbsp; option hwmode&nbsp; &nbsp;11ng<br />&nbsp; &nbsp; &nbsp; &nbsp; option path&nbsp; &nbsp; &nbsp;&#039;platform/ath9k&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option htmode&nbsp; &nbsp;HT20<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;SHORT-GI-40<br />&nbsp; &nbsp; &nbsp; &nbsp; list ht_capab&nbsp; &nbsp;DSSS_CCK-40<br />&nbsp; &nbsp; &nbsp; &nbsp; # REMOVE THIS LINE TO ENABLE WIFI:<br />&nbsp; &nbsp; &nbsp; &nbsp; option disabled 0</p><br /><br /><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;hades&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;&nbsp; &nbsp; &nbsp; &nbsp; # Set wep, psk or psk2 for WEP, WPA or WPA2<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;sta&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;wwan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;smoker&#039;</p><p>config wifi-iface<br />&nbsp; &nbsp; &nbsp; &nbsp; option device &#039;radio0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mode &#039;ap&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ssid &#039;poseidon&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option encryption &#039;psk2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option key &#039;smoker&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;lan&#039;</p></blockquote></div><br /><br /><br /><p><strong>/etc/config/network</strong></p><div class="quotebox"><blockquote><p>config interface &#039;loopback&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;lo&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;127.0.0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.0.0.0&#039;</p><p>#config globals &#039;globals&#039;<br />#&nbsp; &nbsp; &nbsp; &nbsp;option ula_prefix &#039;fdf9:27d8:ca6c::/48&#039;</p><p>config interface &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option type &#039;bridge&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;static&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr &#039;192.168.2.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask &#039;255.255.255.0&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option gateway &#039;192.168.1.1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ip6assign &#039;60&#039;</p><p>config interface &#039;wwan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname &#039;eth0.2&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto &#039;dhcp&#039;<br />~</p></blockquote></div><br /><p><strong>/etc/config/dhcp</strong></p><br /><div class="quotebox"><blockquote><p>config dnsmasq<br />&nbsp; &nbsp; &nbsp; &nbsp; option domainneeded&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option boguspriv&nbsp; &nbsp; &nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option filterwin2k&nbsp; &nbsp; &nbsp; 0&nbsp; # enable for dial on demand<br />&nbsp; &nbsp; &nbsp; &nbsp; option localise_queries 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option rebind_protection 1&nbsp; # disable if upstream must serve RFC1918 addresses<br />&nbsp; &nbsp; &nbsp; &nbsp; option rebind_localhost 1&nbsp; # enable for RBL checking and similar services<br />&nbsp; &nbsp; &nbsp; &nbsp; #list rebind_domain example.lan&nbsp; # whitelist RFC1918 responses for domains<br />&nbsp; &nbsp; &nbsp; &nbsp; option local&nbsp; &nbsp; &#039;/lan/&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option domain&nbsp; &nbsp;&#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option expandhosts&nbsp; &nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option nonegcache&nbsp; &nbsp; &nbsp; &nbsp;0<br />&nbsp; &nbsp; &nbsp; &nbsp; option authoritative&nbsp; &nbsp; 1<br />&nbsp; &nbsp; &nbsp; &nbsp; option readethers&nbsp; &nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasefile&nbsp; &nbsp; &nbsp; &nbsp; &#039;/tmp/dhcp.leases&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option resolvfile&nbsp; &nbsp; &nbsp; &nbsp;&#039;/tmp/resolv.conf.auto&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; #list server&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#039;/mycompany.local/1.2.3.4&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; #option nonwildcard&nbsp; &nbsp; &nbsp;1<br />&nbsp; &nbsp; &nbsp; &nbsp; #list interface&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;br-lan<br />&nbsp; &nbsp; &nbsp; &nbsp; #list notinterface&nbsp; &nbsp; &nbsp; lo<br />&nbsp; &nbsp; &nbsp; &nbsp; #list bogusnxdomain&nbsp; &nbsp; &nbsp;&#039;64.94.110.11&#039;</p><p>config dhcp lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option interface&nbsp; &nbsp; &nbsp; &nbsp; lan<br />&nbsp; &nbsp; &nbsp; &nbsp; option start&nbsp; &nbsp; 100<br />&nbsp; &nbsp; &nbsp; &nbsp; option limit&nbsp; &nbsp; 150<br />&nbsp; &nbsp; &nbsp; &nbsp; option leasetime&nbsp; &nbsp; &nbsp; &nbsp; 12h</p><p>config dhcp wwan<br />&nbsp; &nbsp; &nbsp; &nbsp; option interface&nbsp; &nbsp; &nbsp; &nbsp; wwan<br />&nbsp; &nbsp; &nbsp; &nbsp; option ignore&nbsp; &nbsp;1<br />~<br />~</p></blockquote></div><p><strong>/etc/config/firewall</strong></p><div class="quotebox"><blockquote><p>config defaults<br />option syn_flood &#039;1&#039;<br />option input &#039;ACCEPT&#039;<br />option output &#039;ACCEPT&#039;<br />option forward &#039;REJECT&#039;</p><p>config zone<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option input &#039;ACCEPT&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option forward &#039;REJECT&#039;</p><p>config zone<br />&nbsp; &nbsp; &nbsp; &nbsp; option name &#039;wan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option input &#039;REJECT&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option output &#039;ACCEPT&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option forward &#039;REJECT&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option masq &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option mtu_fix &#039;1&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option network &#039;wan wwan&#039;</p><p>config forwarding<br />&nbsp; &nbsp; &nbsp; &nbsp; option src &#039;lan&#039;<br />&nbsp; &nbsp; &nbsp; &nbsp; option dest &#039;wan&#039;<br />~<br />~</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222261">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">iamus</div>
					<div class="post-datetime">
						10 Jan 2014, 07:55					</div>
				</div>
				<div class="post-content content">
					<p><strong>cpuinfo and version</strong></p><p>I find it weird that it says barrier breaker since I downloaded attitude adjustment</p><br /><br /><br /><div class="quotebox"><blockquote><p>BARRIER BREAKER (Bleeding Edge, r39211)<br /> -----------------------------------------------------<br />&nbsp; * 1/2 oz Galliano&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Pour all ingredients into<br />&nbsp; * 4 oz cold Coffee&nbsp; &nbsp; &nbsp; &nbsp; an irish coffee mug filled<br />&nbsp; * 1 1/2 oz Dark Rum&nbsp; &nbsp; &nbsp; &nbsp;with crushed ice. Stir.<br />&nbsp; * 2 tsp. Creme de Cacao<br /> -----------------------------------------------------</p><p>Linux version 3.10.24 (openwrt@OpenWRT) (gcc version 4.6.4 (OpenWrt/Linaro GCC 4.6-2013.05 r39211) ) #1 Thu Jan 9 09:45:20 MST 2014</p><p>root@OpenWrt:/# cat /proc/cpuinfo<br />system type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: Atheros AR9132 rev 2<br />machine&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: TP-LINK TL-WR1043ND<br />processor&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 0<br />cpu model&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: MIPS 24Kc V7.4<br />BogoMIPS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 265.42<br />wait instruction&nbsp; &nbsp; &nbsp; &nbsp; : yes<br />microsecond timers&nbsp; &nbsp; &nbsp; : yes<br />tlb_entries&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: 16<br />extra interrupt vector&nbsp; : yes<br />hardware watchpoint&nbsp; &nbsp; &nbsp;: yes, count: 4, address/irw mask: [0x0000, 0x0ff8, 0x0ff8, 0x0ff8]<br />isa&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: mips1 mips2 mips32r1 mips32r2<br />ASEs implemented&nbsp; &nbsp; &nbsp; &nbsp; : mips16<br />shadow register sets&nbsp; &nbsp; : 1<br />kscratch registers&nbsp; &nbsp; &nbsp; : 0<br />core&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : 0<br />VCED exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available<br />VCEI exceptions&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;: not available</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222279">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">neryba</div>
					<div class="post-datetime">
						10 Jan 2014, 09:50					</div>
				</div>
				<div class="post-content content">
					<p>remove <strong> option ifname &#039;eth0.2&#039;</strong> from wwan interface.<br />also you need add bssid option to </p><div class="codebox"><pre><code>config wifi-iface
    option ssid &#039;hades&#039; </code></pre></div><p>may be this also could be a problem: you selected wrong channel, change it to &#039;auto&#039;.<br />Atheros doesn&#039;t support wireless bridge, use pseudobridge [link]<a href="http://wiki.openwrt.org/doc/recipes/relayclient">http://wiki.openwrt.org/doc/recipes/relayclient</a>[/link]</p>											<p class="post-edited">(Last edited by <strong>neryba</strong> on 10 Jan 2014, 09:50)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222328">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">iamus</div>
					<div class="post-datetime">
						10 Jan 2014, 18:50					</div>
				</div>
				<div class="post-content content">
					<p>Think this router is just not good enough,&nbsp; I can&#039;t even get dhcp when I connect to Ethernet.&nbsp; Is there any recommended router with openwrt for what I need to do?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222342">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">FriedZombie</div>
					<div class="post-datetime">
						10 Jan 2014, 22:11					</div>
				</div>
				<div class="post-content content">
					<p>different thread an device, bassicly the same discussion: <a href="https://forum.openwrt.org/viewtopic.php?pid=221920">https://forum.openwrt.org/viewtopic.php?pid=221920</a><br />Also maybe gargoyle is better suited for what you expect, wifi bridging and a simpler gui: <a href="http://www.gargoyle-router.com/">http://www.gargoyle-router.com/</a></p><p>Also you did install Barier breaker/trunk release and not Atitude adjustment.</p><p>Anyway, what you want to accomplis is rather simple (as well under luci).<br />What I recommend is reset openwrt to factory defaults first.<br /></p><ol class="decimal"><li><p>Log into the luci webgui</p></li><li><p>Click on <a href="http://192.168.1.1/admin/network/wireless">wifi</a> under the network tab</p></li><li><p>Click on edit behind the wirless network</p></li><li><p>Set all settings for your private wifi network as desired (security and ssid)</p></li><li><p>Save and apply the settings</p></li><li><p>Enable the wifi radio, by clicking the enable button behind the wifi network</p></li><li><p>Click on the scan button</p></li><li><p>In the list that appears, click on &#039;Join network&#039; for the appropriate network you want to connect to</p></li><li><p>Untick &#039;Replace wireless configuration&#039;</p></li><li><p>Fillout the WPA/WEP passphrase if that&#039;s needed</p></li><li><p>Click on submit</p></li><li><p>And save and apply the unsaved changes</p></li></ol><p>Happy mifi internetting.</p>											<p class="post-edited">(Last edited by <strong>FriedZombie</strong> on 11 Jan 2014, 04:10)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p222488">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">iamus</div>
					<div class="post-datetime">
						12 Jan 2014, 18:25					</div>
				</div>
				<div class="post-content content">
					<p>FriedZombie,</p><p>Thanks for the input.&nbsp; It works now <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />&nbsp; I also flashed attitude adjustment.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>