<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> New unofficial whiterussian firmware</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 31 Mar 2018 and 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=10519&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p47971">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						7 May 2007, 19:25					</div>
				</div>
				<div class="post-content content">
					<p>at home:</p><div class="codebox"><pre><code>nas -P /var/run/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 66 -r [key] -h 127.0.0.1 -p 1812 -t 36000 -s [pid] -w 6 -g 14400</code></pre></div><p>at work:</p><div class="codebox"><pre><code>nas -P /var/run/nas.lan.pid -l br0 -H 34954 -i eth1 -A -m 132 -k [key] -s [pid] -w 6 -g 14400</code></pre></div><p>I should also note that I installed the old nas first, then overwote the 3 files you mentioned.&nbsp; Did it this way in order to get the scripts that come with the old nas.</p>											<p class="post-edited">(Last edited by <strong>netprince</strong> on 7 May 2007, 19:31)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47981">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">solca</div>
					<div class="post-datetime">
						7 May 2007, 21:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>netprince wrote:</cite><blockquote><p>...</p><p>I should also note that I installed the old nas first, then overwote the 3 files you mentioned.&nbsp; Did it this way in order to get the scripts that come with the old nas.</p></blockquote></div><p>Hmm, you should install the whiterussian packages for <a href="http://downloads.openwrt.org/whiterussian/0.9/packages/non-free/wl_3.90.37-1_mipsel.ipk">wl</a> and <a href="http://downloads.openwrt.org/whiterussian/0.9/packages/non-free/nas_3.90.37-17_mipsel.ipk">nas</a> because of the scripts and files, kamikaze scripts will not work on whiterussian.</p><p>Then you overwrite the wl, nas and libbcmcrypto.so files and you are done.</p><p>I build this patch just to overcome the stability problems, it&#039;s a kind of bandage for whiterussian, but kamikaze has all of this resolved plus is a lot better.</p><p>So people please, always consider using kamikaze instead as it&#039;s the future.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47987">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						7 May 2007, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>I can&#039;t really see using Kamikaze in production network, considering the rapid change and lack of documentation at this point.&nbsp; Bulk of the Wiki documents WhiteRussian as far as I can see.</p><p>The work in this thread is very important work. I would love to see it result in a &quot;last gasp&quot; more stable release of WhiteRussian.&nbsp; Unless Kamikaze is starting to approach an RC1 status which I haven&#039;t read anything about.</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 7 May 2007, 22:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47991">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">mbm</div>
					<div class="post-datetime">
						7 May 2007, 23:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vincentfox wrote:</cite><blockquote><p>I can&#039;t really see using Kamikaze in production network, considering the rapid change and lack of documentation at this point.&nbsp; Bulk of the Wiki documents WhiteRussian as far as I can see.</p><p>The work in this thread is very important work. I would love to see it result in a &quot;last gasp&quot; more stable release of WhiteRussian.&nbsp; Unless Kamikaze is starting to approach an RC1 status which I haven&#039;t read anything about.</p></blockquote></div><p>The Whiterussian tree is old, and it&#039;s obsolete. It was was showing signs of aging around RC4 and has been declining ever since. It was a mistake to let Whiterussian continue so long. Kamikaze kept pace with the new kernels, updated busybox, new drivers, all sorts of bells and whistles while Whiterussian remained relatively inert.</p><p>The plan had always been to switch over to Kamikaze; in fact we were supposed to have switched over to kamikaze over a year ago, but we got caught up in one of those pointless discussions along the lines of &quot;kamikaze isn&#039;t ready yet&quot;, so there were more Whiterussian releases, basically just stalling for time. Eventually we came to the decision that Whiterussian was just too old to maintain so 0.9 was intended as the &quot;it&#039;s dead jim&quot; release.</p><p>While I can appreciate the work solca has done copying various bits of Kamikaze back into Whiterussian, you have no idea how frustrating it is to be faced with another Whiterussian release. I know this will result in the &quot;but kamikaze isn&#039;t ready yet&quot; (it already has,) but you need to understand that Whiterussian is dead, and unless we can get the users to move on, OpenWrt itself is dead.</p><p>If you&#039;re waiting for an invitation to use Kamikaze, it&#039;s this post. Let&#039;s not stall things any further with Whiterussian; we need help from the users if we&#039;re ever going to get Kamikaze out.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p47992">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						7 May 2007, 23:35					</div>
				</div>
				<div class="post-content content">
					<p>Hmm, I didn&#039;t realize the devs were keeping such a close eye on this thread.&nbsp; Apologies for my speculation.&nbsp; In any case I think this and the parent thread served a very useful purpose in exploring this issue with Broadcom drivers.&nbsp; I learned some interesteing things along the way just seeing it explored in this way.</p><p>Is there any kind of timeline for something for lack of a better term called RC1?&nbsp; As a non-developer it&#039;s a bit intimidating to pick what snapshot to use.&nbsp; Probably I am worrying too much, but picking among date-coded firmware I have no idea whether this one or that one will brick my WRT. I at least have some reasonable assurance something labelled RC has been flashed by enough people to be less risky.&nbsp; I don&#039;t even really care if there&#039;s a new RC every couple of weeks randomly chosen from snapshots, but picking these out simplifies things immensely for a user population when discussing issues.</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 7 May 2007, 23:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48017">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						8 May 2007, 11:01					</div>
				</div>
				<div class="post-content content">
					<p>I just wanted to second vincentfox&#039;s thoughts.&nbsp; I have been waiting for kamikaze to reach some sort of RC status as well.&nbsp; I&#039;ve got quite a time investment in scripts for whiterussian.&nbsp; &nbsp;The scripts depend heavily on nvram vars, so much of that will need to be rewritten/adjusted/retested.&nbsp; I have been waiting for things to settle down before I begin the task.&nbsp; </p><p>This is just an idea: I realize that kamikaze stretches across a larger set of hardware, but perhaps the broadcom support could be wrapped up into a kamikaze-broadcom-beta release.&nbsp; It might persuade more whiterussian users to make the switch.&nbsp; Also, the devs wouldn&#039;t have to rush the support for other hardware.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48020">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						8 May 2007, 11:30					</div>
				</div>
				<div class="post-content content">
					<p>Yeah that sounds more like it, a beta.&nbsp; But I have no intent of going too far down this path. The devs will do what is best.&nbsp; The important thing I wanted to get across, is something a little more solid and less of a moving target than nightly snapshots is what will sell users on flashing Kamikaze onto their routers.&nbsp; I care not what form it takes.&nbsp; With that comment I will shut my mouth on this topic as I know how I hate kibitzing when I am doing real work, I imagine the devs here feel the same.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48063">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">kebab</div>
					<div class="post-datetime">
						8 May 2007, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>Good news, with Solcas version 3 patch applied to SVN, the boot problems I was experiencing with images generated through image builder seem to be resolved. Association with Intel 2200BG adapters also seems to work well. Thanks yet again for all your effort solca.</p><p>@mbm<br />I fully agree that we should all move over to Kamikaze sooner rather than later. I tried to do this my self last week and downloaded a daily snapshot image and ImageBuilder. I was truly impressed and set up 2 Broadcom test units, a Belkin F5D7231-4P and Buffalo WHR-G54S. Both these routers had previously run Whiterussian with no problems, but under the Kamikaze snapshot images they were unable to get a WAN IP address from my Netgear DG824 ADSL router. Kamikaze simply relayed DHCP addresses from my ADSL router to my PC&#039;s. I found a thread with a similar problem and posted my own experience.</p><p><a href="http://forum.openwrt.org/viewtopic.php?id=8435">http://forum.openwrt.org/viewtopic.php?id=8435</a></p><p>Unfortunately, this problem forced me to move back to Whiterussian. I think the point here, is that Whiterussian has proven itself in a production evironment and moving over to Kamikaze can still prove to be problematic. I am personally very keen to move over (once I can reliably get WAN IP addresses), you guy&#039;s have done an excellent job with Kamikaze and it is definitely far superior to Whiterussian.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48064">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">thepeople</div>
					<div class="post-datetime">
						8 May 2007, 23:04					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kebab wrote:</cite><blockquote><p>Good news, with Solcas version 3 patch applied to SVN, the boot problems I was experiencing with images generated through image builder seem to be resolved. Association with Intel 2200BG adapters also seems to work well. Thanks yet again for all your effort solca.</p><p>@mbm<br />I fully agree that we should all move over to Kamikaze sooner rather than later. I tried to do this my self last week and downloaded a daily snapshot image and ImageBuilder. I was truly impressed and set up 2 Broadcom test units, a Belkin F5D7231-4P and Buffalo WHR-G54S. Both these routers had previously run Whiterussian with no problems, but under the Kamikaze snapshot images they were unable to get a WAN IP address from my Netgear DG824 ADSL router. Kamikaze simply relayed DHCP addresses from my ADSL router to my PC&#039;s. I found a thread with a similar problem and posted my own experience.</p><p><a href="http://forum.openwrt.org/viewtopic.php?id=8435">http://forum.openwrt.org/viewtopic.php?id=8435</a></p></blockquote></div><p>Please open a ticket for this issue if there is not one <a href="https://dev.openwrt.org">https://dev.openwrt.org</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48072">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">solca</div>
					<div class="post-datetime">
						9 May 2007, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>My take on the Whiterussian vs Kamikaze issue:</p><p>Kamikaze is better than Whiterussian, period.</p><p>But IMHO Kamikaze have 2 fundamental flaws:</p><p>-Forgetting the WRTs.&nbsp; I must said OpenWRT (as it&#039;s name implies) was first a broadcom derived devices project, you can&#039;t simply drop support for something so successful like the NVRAM variable storage.&nbsp; The more I think about it, the more I like it&#039;s simplicity and functional approach.&nbsp; You can flash whatever firmware you want, your valuable settings are there.&nbsp; You need to upgrade, downgrade, whatever you decide your data is there.&nbsp; Kamikaze with all the bells and whistles will not support the NVRAM approach.&nbsp; I must say think about it again, at least for the broadcom derived devices.&nbsp; I was thinking in a new tool that if installed will overwrite anything necessary in /etc from NVRAM storage.&nbsp; In this way people could decide if they stay with NVRAM or switch to a file based configuration.&nbsp; People, please let me know if some of you would find it useful.</p><p>-Kamikaze is like Debian Sid, everyday will be updates for it, I myself run Sid on personal boxen, but my production servers run Debian stable/oldstable.&nbsp; OpenWRT is like any other distro and it needs to frozen up the repos and work on stabilization like everybody else, and then release something that will not change except for security/stability.</p><p>So Kamikaze must fill this 2 holes, do it properly and will continue to be the most successful firmware for WRTs and now all kind of devices.</p><p>In the meantime personally I&#039;ll focus on helping Kamikaze as I know it&#039;s better, simply that for my production environments is not there yet, so I&#039;ll continue maintaining my unofficial patch until Kamikaze become ready for action.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48074">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">booBot</div>
					<div class="post-datetime">
						9 May 2007, 01:16					</div>
				</div>
				<div class="post-content content">
					<p>I really would <strong>love</strong> to switch from <strong>WR RC6</strong> to <strong>Kamikaze</strong> but I&#039;m bound to the <strong>WRT54GL v1.0</strong>.<br />And I need WPA2-Enterprize to work here...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48076">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						9 May 2007, 02:04					</div>
				</div>
				<div class="post-content content">
					<p>Solca,</p><p>Are you planning to continue hosting this patched version of the v0.9 firmware images on Galileo for now?</p><p>I am planning to flash some new WRT units soon. Just wondering if I and others should squirrel away copies now in case this is just a momentary thing for you.</p><p>@booBot, Kamikaze not supported on GL v1.0?&nbsp; I was planning to test Kamikaze tomorrow I guess I need to catch up on what it will actually work on.</p>											<p class="post-edited">(Last edited by <strong>vincentfox</strong> on 9 May 2007, 02:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48078">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">solca</div>
					<div class="post-datetime">
						9 May 2007, 03:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>vincentfox wrote:</cite><blockquote><p>Solca,</p><p>Are you planning to continue hosting this patched version of the v0.9 firmware images on Galileo for now?</p></blockquote></div><p>vincentfox, if you want a backup, do it with the patch, anyway I&#039;m using the firmware so I&#039;ll keep it there for a while.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48103">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">netprince</div>
					<div class="post-datetime">
						9 May 2007, 15:59					</div>
				</div>
				<div class="post-content content">
					<p>I tried out the new driver, it works much better with respect to my intel clients.&nbsp; The only problem I have now is the same lc described, I&#039;ve had both routers lose network access overnight.&nbsp; &nbsp; Both of which are for my own personal testing, so there was no load.&nbsp; </p><div class="quotebox"><cite>lc wrote:</cite><blockquote><p>Now that wireless runs rock-stable I bumped into another issue. In my previous posts I wrote that even though the reboots have disappeared, a few devices seemed to have crashed. I did more research and actually the devices did not crash - only the network became non-functional.</p><p>This occurs at locations with real heavy usage - therefore very seldom. I managed to save a log - here are the essential lines:</p><div class="codebox"><pre><code>May  6 12:31:06 wrt kern.err chillispot[703]: radius.c: 1269: 132 (No buffer space available) sendto() failed!
May  6 12:31:06 wrt kern.warn kernel: NET: 494 messages suppressed.
May  6 12:31:06 wrt kern.warn kernel: dst cache overflow</code></pre></div><p>Results of free:<br /></p><div class="codebox"><pre><code>              total         used         free       shared      buffers
  Mem:        14284        13512          772            0          412
 Swap:            0            0            0
Total:        14284        13512          772</code></pre></div><p>The dst cache very well explained here: <a href="http://www.mail-archive.com/netdev@vger.kernel.org/msg02107.html">http://www.mail-archive.com/netdev@vger … 02107.html</a> - it is a routing cache.&nbsp; When it overflows the device can&#039;t communicate anymore after a while.</p><p>According to /proc/sys/net/ipv4/route/max_size is 8192</p><p>I am not sure whether this is a problem or if the little WRT devices just reach their limits under extreme conditions. Also it might not be related to solca&#039;s version at all. In the past the devices simply rebooted before this cache could overflow.</p><p>EDIT: The number of entries given by &quot;ip route ls cache&quot; is normal when the cache overflows.</p><p>What is your opinion about it (should it be moved to a new thread?)?</p><p>lc</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48109">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">lc</div>
					<div class="post-datetime">
						9 May 2007, 18:53					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>solca wrote:</cite><blockquote><p>My take on the Whiterussian vs Kamikaze issue:</p><p>Kamikaze is better than Whiterussian, period.</p><p>But IMHO Kamikaze have 2 fundamental flaws:</p><p>-Forgetting the WRTs.&nbsp; I must said OpenWRT (as it&#039;s name implies) was first a broadcom derived devices project, you can&#039;t simply drop support for something so successful like the NVRAM variable storage.&nbsp; The more I think about it, the more I like it&#039;s simplicity and functional approach.&nbsp; You can flash whatever firmware you want, your valuable settings are there.&nbsp; You need to upgrade, downgrade, whatever you decide your data is there.&nbsp; Kamikaze with all the bells and whistles will not support the NVRAM approach.&nbsp; I must say think about it again, at least for the broadcom derived devices.&nbsp; I was thinking in a new tool that if installed will overwrite anything necessary in /etc from NVRAM storage.&nbsp; In this way people could decide if they stay with NVRAM or switch to a file based configuration.&nbsp; People, please let me know if some of you would find it useful.</p><p>-Kamikaze is like Debian Sid, everyday will be updates for it, I myself run Sid on personal boxen, but my production servers run Debian stable/oldstable.&nbsp; OpenWRT is like any other distro and it needs to frozen up the repos and work on stabilization like everybody else, and then release something that will not change except for security/stability.</p><p>So Kamikaze must fill this 2 holes, do it properly and will continue to be the most successful firmware for WRTs and now all kind of devices.</p><p>In the meantime personally I&#039;ll focus on helping Kamikaze as I know it&#039;s better, simply that for my production environments is not there yet, so I&#039;ll continue maintaining my unofficial patch until Kamikaze become ready for action.</p></blockquote></div><p>I agree with Solca. NVRAM: This is a huge advantage of WR. I flash something and the settings are still there. Solcas proposal how this can be dealt with in kamikaze makes sense. His point about stability can even be found on dev.openwrt.org: WR is called &quot;stable branch&quot;, kamikaze &quot;development branch&quot;. So I hope that kamikaze will reach an RC1 state soon.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48113">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">vincentfox</div>
					<div class="post-datetime">
						9 May 2007, 20:16					</div>
				</div>
				<div class="post-content content">
					<p>I have found the NVRAM feature to be an advantage in our community WISP. I feel reasonably confident about flashing a remote WRT unit up to a new WhiteRussian and it just works without a lot of post-install redo.&nbsp; For Kamikaze I will have to find some equivalent way to backup all relevant network settings and restore them after a flash.&nbsp; It&#039;s not insurmountable, but it&#039;s an issue that will require some man-hours and documentation on the problem.&nbsp; The worst case of physical router swaps to upgrade is not desirable, some of these WRT are in locations requiring climbing and physical hazards that I prefer to avoid whenever possible.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48120">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">JimWright</div>
					<div class="post-datetime">
						9 May 2007, 21:42					</div>
				</div>
				<div class="post-content content">
					<p>Well, this thread is getting further and further off topic, <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" />, but I would expect that since the settings are all based on config files it should be possible to easily dump these to a central machine and then push them to a new WRT when setting it up fresh.</p><p>It would probably be good to move further Kamikaze talk over to Kamikaze discussions forum.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48283">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">lc</div>
					<div class="post-datetime">
						12 May 2007, 13:00					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>netprince wrote:</cite><blockquote><p>I tried out the new driver, it works much better with respect to my intel clients.&nbsp; The only problem I have now is the same lc described, I&#039;ve had both routers lose network access overnight.&nbsp; &nbsp; Both of which are for my own personal testing, so there was no load.</p></blockquote></div><p>I started a new thread for this issue: <a href="http://forum.openwrt.org/viewtopic.php?pid=48282">http://forum.openwrt.org/viewtopic.php?pid=48282</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48777">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">solca</div>
					<div class="post-datetime">
						20 May 2007, 10:44					</div>
				</div>
				<div class="post-content content">
					<p>New <a href="http://forum.openwrt.org/viewtopic.php?pid=47293#p47293">patch</a> version, in this patch I try to minimize differences with upstream Whiterussian just to be able to load the newest propietary Broadcom&#039;s wl driver.&nbsp; That should solve the ebtables memleak, and the shfs and fuse builds.</p><p>Next version will decouple ip_conntrack from the kernel in order to load it dynamically as not everybody just bridging or routing need it.&nbsp; In this way it will not waste precious resources.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48804">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">acoul</div>
					<div class="post-datetime">
						20 May 2007, 21:36					</div>
				</div>
				<div class="post-content content">
					<p>Nice work solca, Congrats !!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48809">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">solca</div>
					<div class="post-datetime">
						20 May 2007, 22:46					</div>
				</div>
				<div class="post-content content">
					<p>Version 5 is out now.&nbsp; As the changelog suggests it convert all netfilter&#039;s static modules to external loadable modules, this is extremely useful when you are just routing or bridging and you don&#039;t need firewall functionality, specially the (in)famous ip_conntrack module which tracks every single connection even when you don&#039;t have a single iptables rule, that&#039;s why very important to avoid it at all costs.</p><p>If nothing major shows up this is my last patch in the series, I think it is in very good shape as it stabilizes Whiterussian without regressions and all changes are orthogonal and clean, IMHO it should land in Whiterussian svn but that&#039;s not my call.</p><p>Thanks to all for the testing and support!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48821">
				<div class="post-metadata">
					<div class="post-num">Post #47</div>
					<div class="post-author">lc</div>
					<div class="post-datetime">
						21 May 2007, 09:52					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for v5!!</p><p>I ran into a problem with v5 (and v4): When installing this qos script <a href="http://files.eschauzier.org/qos-re_1.05_all.ipk">http://files.eschauzier.org/qos-re_1.05_all.ipk</a> the following error messages come up:</p><div class="codebox"><pre><code>Configuring qos-re
RTNETLINK answers: Invalid argument
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: Invalid argument
We have an error talking to the kernel
RTNETLINK answers: Invalid argument
We have an error talking to the kernel
RTNETLINK answers: Invalid argument
We have an error talking to the kernel
RTNETLINK answers: Invalid argument
We have an error talking to the kernel
RTNETLINK answers: Invalid argument
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: No such file or directory
RTNETLINK answers: Invalid argument
We have an error talking to the kernel
RTNETLINK answers: Invalid argument
We have an error talking to the kernel
RTNETLINK answers: Invalid argument
We have an error talking to the kernel
RTNETLINK answers: Invalid argument
We have an error talking to the kernel</code></pre></div><p>I use the the same kernel config/moduls as usual. What could be responsible for this?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48857">
				<div class="post-metadata">
					<div class="post-num">Post #48</div>
					<div class="post-author">solca</div>
					<div class="post-datetime">
						21 May 2007, 19:34					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lc wrote:</cite><blockquote><p>I ran into a problem with v5 (and v4): When installing this qos script <a href="http://files.eschauzier.org/qos-re_1.05_all.ipk">http://files.eschauzier.org/qos-re_1.05_all.ipk</a> the following error messages come up:</p><div class="codebox"><pre><code>Configuring qos-re
RTNETLINK answers: Invalid argument</code></pre></div><p>I use the the same kernel config/moduls as usual. What could be responsible for this?</p></blockquote></div><p>Do you install the &#039;Traffic Schedulers (kmod_sched)&#039; and probably the &#039;Intermediate Queueing device (kmod_imq)&#039; packages?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48860">
				<div class="post-metadata">
					<div class="post-num">Post #49</div>
					<div class="post-author">lc</div>
					<div class="post-datetime">
						21 May 2007, 19:50					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>solca wrote:</cite><blockquote><div class="quotebox"><cite>lc wrote:</cite><blockquote><p>I ran into a problem with v5 (and v4): When installing this qos script <a href="http://files.eschauzier.org/qos-re_1.05_all.ipk">http://files.eschauzier.org/qos-re_1.05_all.ipk</a> the following error messages come up:</p><div class="codebox"><pre><code>Configuring qos-re
RTNETLINK answers: Invalid argument</code></pre></div><p>I use the the same kernel config/moduls as usual. What could be responsible for this?</p></blockquote></div><p>Do you install the &#039;Traffic Schedulers (kmod_sched)&#039; and probably the &#039;Intermediate Queueing device (kmod_imq)&#039; packages?</p></blockquote></div><p>Yes, both packages are installed. I have been digging into this for a few hours - I hope I&#039;ll find out what&#039;s happening. By the way, your v3 is still up and running for almost 3 days now. To test v5 I first must solve this problem. Maybe it is a package incompatibility issue.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p48862">
				<div class="post-metadata">
					<div class="post-num">Post #50</div>
					<div class="post-author">solca</div>
					<div class="post-datetime">
						21 May 2007, 21:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>lc wrote:</cite><blockquote><p>Yes, both packages are installed. I have been digging into this for a few hours - I hope I&#039;ll find out what&#039;s happening. By the way, your v3 is still up and running for almost 3 days now. To test v5 I first must solve this problem. Maybe it is a package incompatibility issue.</p></blockquote></div><p>I try that package, it just warn me that I need this packages:</p><p>kmod-sched kmod-ipt-conntrack iptables-mod-conntrack kmod-ipt-ipopt iptables-mod-ipopt kmod-ipt-extra iptables-mod-extra ip kmod-imq iptables-mod-imq tc kmod-ipt-filter iptables-mod-filter</p><p>No error messages in logread or dmesg:</p><p>imq driver loaded.<br />IPP2P v0.8.1_rc1 loading<br />HTB init, kernel part version 3.17<br />HTB: quantum of class 10040 is small. Consider r2q change.<br />HTB init, kernel part version 3.17</p><p>and tc reports:</p><p>root@wrt:~# tc class show dev vlan1<br />class htb 1:1 root rate 50000bit ceil 50000bit burst 4799b cburst 4799b<br />class htb 1:10 parent 1:1 leaf 8001: prio 1 rate 25000bit ceil 50000bit burst 1599b cburst 1599b<br />class htb 1:20 parent 1:1 leaf 8002: prio 2 rate 10000bit ceil 50000bit burst 1600b cburst 1599b<br />class htb 1:30 parent 1:1 leaf 8003: prio 3 rate 10000bit ceil 50000bit burst 1600b cburst 1599b<br />class htb 1:40 parent 1:1 leaf 8004: prio 4 rate 5000bit ceil 50000bit burst 1600b cburst 1599b<br />root@wrt:~# tc class show dev imq0<br />class htb 1:1 root rate 100000bit ceil 100000bit burst 4799b cburst 4799b<br />class htb 1:10 parent 1:1 leaf 8005: prio 1 rate 50000bit ceil 100000bit burst 1599b cburst 1599b<br />class htb 1:20 parent 1:1 leaf 8006: prio 2 rate 20000bit ceil 100000bit burst 1600b cburst 1599b<br />class htb 1:30 parent 1:1 leaf 8007: prio 3 rate 20000bit ceil 100000bit burst 1600b cburst 1599b<br />class htb 1:40 parent 1:1 leaf 8008: prio 4 rate 10000bit ceil 75000bit burst 1600b cburst 1599b</p><p>So it seems to work correctly here.</p><p>Are you sure you have all that dependencies installed and when you build your own firmware do you first issue &#039;make dirclean&#039; to clean the new build?</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=10519&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>