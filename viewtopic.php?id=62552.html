<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Create two interfaces: Normal and VPN</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 31 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p310293">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">peterfarge</div>
					<div class="post-datetime">
						4 Feb 2016, 17:31					</div>
				</div>
				<div class="post-content content">
					<p>Hallo Forum,</p><p>I have a TPLink 1043nd with Chaos Chalmer. Additional I have bought a VPN account from a provider. Now I want set up two router interfaces for my network:<br />-- 192.168.0.1 for the normal traffic. This is the current configuration after the flashing with OpenWrt.<br />and<br />-- 192.168.0.2 for the VPN traffic. Every computer of my network that has this IP address as the default route gets his traffic routed through the VPN Server.</p><p>I have installed openvpn in openwrt. I have copied the openvpn config files to the router and now the connection stays. Every traffic goes through the VPN server. So this is not what I want. Internet says that I have to set &quot;route-nopull&quot; in the openvpn config file. Now the traffic on 192.168.0.1 goes into the internet (without bothering the vpn server). I&#039;m experimenting to create a new interface with 192.160.0.2 as static interface and put it into the eth1 group (where the 192.168.0.1 resists), but I cant ping this new interface. After a reboot: I have bricked my router and I have to debrick it via the failsafe method. So it would be nice if someone can give me a working hint how to setup openvpn as an additional interface.</p><br /><p>Thanks</p><p>Peter</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310323">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">golialive</div>
					<div class="post-datetime">
						4 Feb 2016, 22:07					</div>
				</div>
				<div class="post-content content">
					<p>Hey there.</p><p>I assume the opposing side of your VPN is known and stable? That&#039;s a prerequisit for using &quot;route-nopull&quot; in general.</p><p>You could give this one a try:<br /><a href="https://forum.openwrt.org/viewtopic.php?pid=291147#p291147">https://forum.openwrt.org/viewtopic.php â€¦ 47#p291147</a></p><p>This example (which actually works here) relies on having 192.168.100.19 as VPN ip address of the VPN endpoint on the provider side.<br />The $sourceIpAddress is the IP address of one of my computers here.<br />The $destinationIpAddress is the IP address somwhere in the internet I want to only reach through VPN. Just drop that if you want to route $sourceIpAdress entirely.</p><p>The benefits of such a routing mechanism:<br />* You don&#039;t need to configure it on your clients but only in your router.<br />* You can, as shown, route individual targets. Like 8.8.8.8 through the VPN but 8.8.4.4 not.</p><p>Regards,<br />Stephan.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p310437">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">peterfarge</div>
					<div class="post-datetime">
						5 Feb 2016, 23:18					</div>
				</div>
				<div class="post-content content">
					<p>Thanks for the advice, I will try it in the weekend <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>