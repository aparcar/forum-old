<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Dell Truemobile 2300 and Kamikazi (2.4)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 19 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p50948">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">GoatBoy</div>
					<div class="post-datetime">
						21 Jun 2007, 07:51					</div>
				</div>
				<div class="post-content content">
					<p>I tried upgrading from Whiterussian to Kamikazi on my Dell Truemobile 2300.&nbsp; </p><p>When the thing powered up, I was unable to access the router on any ports; I tried both 192.168.1.1 and 192.168.2.1 on all of them.&nbsp; I could neither ping nor telnet the device.</p><p>I suspect that the combination of the different interfaces plus the change away from NVRAM settings is causing this.&nbsp; Can Kamikazi detect what kind of hardware it lands on and configure the interfaces accordingly?</p><br /><br /><br /><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p51020">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">GoatBoy</div>
					<div class="post-datetime">
						22 Jun 2007, 05:45					</div>
				</div>
				<div class="post-content content">
					<p>Well, I tried out a fix from swalker, but that still didn&#039;t get it working.</p><p>Here are the nvram and ifconfig settings while under Whiterussian.&nbsp; Any ideas?</p><div class="codebox"><pre><code>root@OpenWrt:/# nvram show
os_ram_addr=80001000
wan_device=vlan1
et0macaddr=00:90:4c:49:00:2c
boot_wait=on
watchdog=1000
wl0_infra=1
et0mdcport=0
pmon_ver=PMON 3.11.48.7
wl0_ifname=eth2
vlan0ports=1 2 3 4 5*
wl0_mode=ap
os_flash_addr=bfc40000
boardtype=bcm94710ap
et1macaddr=00:90:4c:4a:00:2c
lan_netmask=255.255.255.0
wl0_ssid=typicalmacintoshuser
et1mdcport=1
tftp_ipaddr=192.168.2.1
wan_proto=dhcp
lan_ifnames=eth0 eth2
clkfreq=125
lan_ipaddr=192.168.2.1
lan_proto=static
sdram_config=0x0000
vlan1ports=0 5
scratch=a0180000
lan_ifname=br0
sdram_refresh=0x8040
sdram_ncdl=0x00000000
et0phyaddr=30
wan_ifname=eth1
wl0_radio=1
sdram_init=0x0419
dl_ram_addr=a0001000
et1phyaddr=1
boardnum=44
size: 680 bytes (32088 left)

root@OpenWrt:/# ifconfig
br0       Link encap:Ethernet  HWaddr 00:90:4B:35:80:2A
          inet addr:192.168.2.1  Bcast:192.168.2.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:164 errors:0 dropped:0 overruns:0 frame:0
          TX packets:123 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:7616 (7.4 KiB)  TX bytes:9379 (9.1 KiB)

eth0      Link encap:Ethernet  HWaddr 00:90:4C:49:00:2C
          UP BROADCAST RUNNING PROMISC ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:162 errors:0 dropped:0 overruns:0 frame:0
          TX packets:127 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:10440 (10.1 KiB)  TX bytes:15551 (15.1 KiB)
          Interrupt:3

eth1      Link encap:Ethernet  HWaddr 00:90:4C:4A:00:2C
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:4

eth2      Link encap:Ethernet  HWaddr 00:90:4B:35:80:2A
          UP BROADCAST RUNNING ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:573
          TX packets:4 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000
          RX bytes:0 (0.0 B)  TX bytes:1052 (1.0 KiB)
          Interrupt:6 Base address:0x2000

lo        Link encap:Local Loopback
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p53197">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">GoatBoy</div>
					<div class="post-datetime">
						1 Aug 2007, 08:16					</div>
				</div>
				<div class="post-content content">
					<p>So did anyone ever look into this?&nbsp; I&#039;d be more than happy to try something out if anyone has any suggestions.</p><p>Thanks!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p54793">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">EOC_Jason</div>
					<div class="post-datetime">
						30 Aug 2007, 07:05					</div>
				</div>
				<div class="post-content content">
					<p>Yeah I had problems with Kamikazi also a few months ago. My guess is an initial configuration issue since the 2300 uses different settings than like the WRT. I had to revert back to the White Russian build. I think I had to do the &#039;short the pins&#039; trick on the flash chip to get the system to respond even... Wasn&#039;t a plesant experience. White Russian + backported apps does all I want so I&#039;m happy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p56903">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">swalker</div>
					<div class="post-datetime">
						2 Oct 2007, 23:42					</div>
				</div>
				<div class="post-content content">
					<p>You might try again with 7.09 since a <a href="https://dev.openwrt.org/changeset/9015">tm2300 vlan change</a> was checked in.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58108">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">seppmeier70</div>
					<div class="post-datetime">
						27 Oct 2007, 14:35					</div>
				</div>
				<div class="post-content content">
					<p>i tried it with the 7.09 but after flashing the Firmware the Router starts nomaly ( Power LED is on) <br />But i cant connect to the router. I have used 2.6 and 2.4er Kernel with the same result.<br />Can someone help ??</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58175">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">oguzhane</div>
					<div class="post-datetime">
						29 Oct 2007, 00:46					</div>
				</div>
				<div class="post-content content">
					<p>I have the same exact problems.&nbsp; Been following the various kamikaze builds and just like goatboy I can&#039;t get the device to respond in any way and always have to revert back to whiterussian.&nbsp; On the hardware wiki page it says that the tm2300 might not listen on any of the lan ports and just wireless instead at first, so I went and disabled wireless security just in case but wireless wasn&#039;t started up either.</p><p>Btw, I tried both the brcm-47xx kernel 2.6 and also the brcm-2.4 images.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58176">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">oguzhane</div>
					<div class="post-datetime">
						29 Oct 2007, 01:37					</div>
				</div>
				<div class="post-content content">
					<p>One more thing.&nbsp; On that&nbsp; <a href="https://dev.openwrt.org/changeset/9015">https://dev.openwrt.org/changeset/9015</a> tm2300 vlan fix, the script is looking for /proc/diag/model&nbsp; &nbsp; The /proc/diag directory seems to be created via the &quot;diag&quot; kernel module.&nbsp; &nbsp;Under whiterussian, this module does not install. </p><p>#insmod diag<br />Using /lib/modules/2.4.30/diag.o<br />insmod: init_module: diag: No such device</p><p>dmesg shows</p><p>diag: Router model not detected.</p><p>Looking at diag.o&nbsp; &nbsp;</p><p>strings diag.o | grep 2300<br />shows<br />Dell TrueMobile 2300</p><p>so it&#039;s in the code somewhere but the code isn&#039;t doing the detection right.&nbsp; &nbsp;</p><p>I&#039;ll look at the diag code to see what&#039;s up.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58180">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">oguzhane</div>
					<div class="post-datetime">
						29 Oct 2007, 02:35					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, please ignore my previous post.&nbsp; I was using WhiteRussian rc6.&nbsp; it&#039;s fine in 0.9.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58186">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">seppmeier70</div>
					<div class="post-datetime">
						29 Oct 2007, 11:14					</div>
				</div>
				<div class="post-content content">
					<p>Hello,<br />so we cant use the Kamaikaze Version ?? Is that right ??<br />Greetings</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p58604">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">GoatBoy</div>
					<div class="post-datetime">
						7 Nov 2007, 08:24					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, but I just tried 7.09 and it still doesn&#039;t work.&nbsp; I can reflash and go back to Whiterussian and it works just fine, but when I flash to 7.09 I just don&#039;t get any network response from any of the interfaces.&nbsp; I tried mtd, tftp, and via the Whiterussian web interface.</p><p>When it boots up, it looks like the power led comes on at first, and then turns off.&nbsp; The wireless LED never powers up either.</p><p>Who was it that confirmed the TM 2300 working on the twiki on the hardware page?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59595">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">oguzhane</div>
					<div class="post-datetime">
						27 Nov 2007, 17:56					</div>
				</div>
				<div class="post-content content">
					<p>Bumping this thread up.</p><p>Anyone have any insight as to what may be happening here.&nbsp; &nbsp;Does anyone have the TM2300 working with Kamikaze?</p><p>Also, is there perhaps a debug version of kamikaze that we can use to test.&nbsp; (Perhaps dmesg messages being put in nvram or something) so that we can at least get at them after re-flashing back to white-russian.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59749">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">MinXu</div>
					<div class="post-datetime">
						30 Nov 2007, 01:22					</div>
				</div>
				<div class="post-content content">
					<p>Take a look at my post <a href="http://forum.openwrt.org/viewtopic.php?id=13540">http://forum.openwrt.org/viewtopic.php?id=13540</a> and see if that helps</p><p>After flashing the router, you&#039;ll need to run</p><p>tcpdump&nbsp; &nbsp;to monitor traffic to/from router, assuming you are connected directly to router<br />vconfig&nbsp; &nbsp; &nbsp;to add vlan 0&nbsp; (you&#039;ll get a warning that it might not work w/ certain switches/routers, but you are connected directly to the router)<br />ping&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ping 192.168.1.1 before adding the vlan, see if tcpdump sees any arp from the router on a different vlan (it should be 0, but if it&#039;s not, you can vconfig add it)<br />telnet&nbsp; &nbsp; &nbsp; &nbsp;to reconfigure your router with the proper Lan interfaces</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p59843">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">oguzhane</div>
					<div class="post-datetime">
						2 Dec 2007, 06:24					</div>
				</div>
				<div class="post-content content">
					<p>Wow, Thanks MinXu,</p><p>That worked for me.&nbsp; I was able to get my tm2300 up and going with 7.09 2.4brcm</p><p>TM2300 was trying to use vlan1 so I ended up doing the following on my linux box (via eth0) directly connected to the router with nothing else running.&nbsp; At first, have the router powered off.</p><p>ifconfig eth0 192.168.1.10 up<br />vconfig add eth0 1<br />ifconfig eth0.1 192.168.1.10 up</p><p>I could not get the router to ever come up with 192.168.1.1&nbsp; so instead I started a dhcp server on my linux box.&nbsp; With&nbsp; /etc/dhcpd.conf&nbsp; having a&nbsp; &nbsp;subnet defined for 192.168.1.0&nbsp; &nbsp; range was from 1.1 to 1.5 </p><p>Then&nbsp; <br />dhcpd eth0.1</p><p>Started the router.&nbsp; &nbsp;</p><p>It picked up an address of 192.168.1.4</p><p>Then I was able to telnet it&nbsp; <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p><p>Set the password, and then changed /etc/config/network to..</p><p>#### VLAN configuration<br />#config switch eth0&nbsp; &nbsp; <br />#&nbsp; &nbsp; &nbsp; &nbsp;option vlan0&nbsp; &nbsp; &quot;0 1 2 3 5*&quot;<br />#&nbsp; &nbsp; &nbsp; &nbsp;option vlan1&nbsp; &nbsp; &quot;4 5&quot;&nbsp; &nbsp; &nbsp; &nbsp;</p><br /><p>#### Loopback configuration<br />config interface loopback&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&quot;lo&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;127.0.0.1<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; 255.0.0.0</p><br /><p>#### LAN configuration<br />config interface lan&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; option type&nbsp; &nbsp; &nbsp;bridge<br />#&nbsp; &nbsp; &nbsp; &nbsp;option ifname&nbsp; &nbsp;&quot;eth0.0&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&quot;eth0&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; static<br />&nbsp; &nbsp; &nbsp; &nbsp; option ipaddr&nbsp; &nbsp;192.168.1.1<br />&nbsp; &nbsp; &nbsp; &nbsp; option netmask&nbsp; 255.255.255.0</p><br /><p>#### WAN configuration<br />config interface&nbsp; &nbsp; &nbsp; &nbsp; wan<br />#&nbsp; &nbsp; &nbsp; &nbsp;option ifname&nbsp; &nbsp;&quot;eth0.1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option ifname&nbsp; &nbsp;&quot;eth1&quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; option proto&nbsp; &nbsp; dhcp</p><p>And power cycled just to be sure, and now it came back up properly as 192.168.1.1&nbsp; and I got rid of my vlan on the linux box via</p><p>vconfig rem eth0.1<br />killall dhcpd</p><p>And got me a proper address via&nbsp; &nbsp;<br />dhclient eth0</p><p>Can someone make sure the network settings for TM2300 are set as such.</p><p>Thanks</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p60097">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">GoatBoy</div>
					<div class="post-datetime">
						7 Dec 2007, 08:54					</div>
				</div>
				<div class="post-content content">
					<p>OK, I can set up the vlan and use either dhcp or just ping it to use 192.168.1.1, but either way, I get a connection refused when I try to telnet or ssh into the machine.</p><p>It would seem to me that it shouldn&#039;t come up with telnet services enabled at first on this interface, right?&nbsp; I don&#039;t see how you guys managed to telnet into it in the first place.</p><p>In either case, it might be nice if this were fixed in the image...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p60104">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">MinXu</div>
					<div class="post-datetime">
						7 Dec 2007, 12:05					</div>
				</div>
				<div class="post-content content">
					<p>If you used the stock image (from the openwrt.org download page, standard broadcom image(, I believe you should be able to telnet to port 23 normally just like any other freshly flashed.&nbsp; Also, for a freshly flashed image, the only interface the router is performing DHCP on is the WAN side.&nbsp; So if you did happen to assign it 192.168.1.1, it would be extremely confusing for the router to respond to you.&nbsp; So:</p><p>1.&nbsp; Use tcpdump (windump doesn&#039;t seem to work, possibly the driver is delivering only untagged packets or packets specifically tagged to the vlan you are listening on, etc,.. don&#039;t know about wireshark on win32) on linux to listen to response when you ping 192.168.1.1&nbsp; &nbsp;If it doens&#039;t respond, you really only have 4 vlan ports to ping it on:&nbsp; &nbsp;0 1 2 3, so you can vconfig add eth0 0&nbsp; , .. 3 etc</p><p>2&nbsp; &nbsp;Once you have that working, telneting is the proper way to configure it.&nbsp; And telnet will be open/enabled by default to allow someone in to configure it.&nbsp; It is possible to set it up ssh with a default password (there&#039;s one image specifically made for buffalo wpa-g54 that starts with ssh, didn&#039;t work for my wla-g54 tho), but telnet is more ubiquitous (if you aren&#039;t using vista).</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p60133">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">GoatBoy</div>
					<div class="post-datetime">
						8 Dec 2007, 07:12					</div>
				</div>
				<div class="post-content content">
					<p>Ahh ok.&nbsp; I kind of misunderstood the instructions...&nbsp; I got it working now.&nbsp; Thanks.</p><br /><p>Now if only webif would work...&nbsp; it&#039;s detecting the wrong device...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>