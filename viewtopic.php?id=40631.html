<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Tinyproxy Transparent !!!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 23 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p183731">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						20 Nov 2012, 08:33					</div>
				</div>
				<div class="post-content content">
					<p>When Transparent forwarding to Tinyproxy via &quot;iptables -t nat -A PREROUTING -i tun0 -p tcp -m tcp --dport 80 -j REDIRECT --to-ports 8888&quot;,&nbsp; no effect and some time router reboot. Why I don&#039;t know?<br />Please help me.</p><p>Thank you very much.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183733">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						20 Nov 2012, 08:49					</div>
				</div>
				<div class="post-content content">
					<p>by <a href="http://wiki.openwrt.org/doku.php?id=oldwiki:proxy.tinyproxy">http://wiki.openwrt.org/doku.php?id=old … .tinyproxy</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183740">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">unhammer</div>
					<div class="post-datetime">
						20 Nov 2012, 10:29					</div>
				</div>
				<div class="post-content content">
					<p>1. This seems to be in the wrong forum</p><p>2. I realize the openwrt developers are wizards, but they will probably need to see your config files</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183742">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						20 Nov 2012, 10:47					</div>
				</div>
				<div class="post-content content">
					<p>Thank u.<br />Which config files, tinyproxy.conf, firewall or others?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183743">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						20 Nov 2012, 10:49					</div>
				</div>
				<div class="post-content content">
					<p>BTW,&nbsp; include the .config?<br />Thank u</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183744">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						20 Nov 2012, 11:04					</div>
				</div>
				<div class="post-content content">
					<p>You can see it remotely via the free teamviwer.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183817">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						21 Nov 2012, 03:13					</div>
				</div>
				<div class="post-content content">
					<p>help me.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p183833">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						21 Nov 2012, 10:14					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://nf.mail.163.com/netfolder/web/showShareFile.do?k=FX%2BK2J2UZcWTHhTYYlfaeOPYFDPEKuTubWrrw%2FFIQO0RlVuso8BUU9AQEaF7k9Pk6PNy%2B1WxI3Y%3D">http://nf.mail.163.com/netfolder/web/sh … B1WxI3Y%3D</a></p><p>CODE: uwhIcD5l</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184078">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">msam</div>
					<div class="post-datetime">
						23 Nov 2012, 12:56					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />My configuration for transparent Tinyproxy with URL filter:<br />Lan network address is 192.168.1.1.To help you can install luci-app-tinyproxy package.</p><p>file /etc/config/tinyproxy</p><p>config tinyproxy<br />&nbsp; &nbsp; option User &#039;nobody&#039;<br />&nbsp; &nbsp; option Group &#039;nogroup&#039;<br />&nbsp; &nbsp; option Port &#039;8888&#039;<br />&nbsp; &nbsp; option Timeout &#039;600&#039;<br />&nbsp; &nbsp; option DefaultErrorFile &#039;/usr/share/tinyproxy/default.html&#039;<br />&nbsp; &nbsp; option StatFile &#039;/usr/share/tinyproxy/stats.html&#039;<br />&nbsp; &nbsp; option MaxClients &#039;100&#039;<br />&nbsp; &nbsp; option MinSpareServers &#039;5&#039;<br />&nbsp; &nbsp; option MaxSpareServers &#039;20&#039;<br />&nbsp; &nbsp; option StartServers &#039;10&#039;<br />&nbsp; &nbsp; option MaxRequestsPerChild &#039;0&#039;<br />&nbsp; &nbsp; option ViaProxyName &#039;tinyproxy&#039;<br />&nbsp; &nbsp; list ConnectPort &#039;443&#039;<br />&nbsp; &nbsp; list ConnectPort &#039;563&#039;<br />&nbsp; &nbsp; option enabled &#039;1&#039;<br />&nbsp; &nbsp; option FilterExtended &#039;1&#039;<br />&nbsp; &nbsp; option Filter &#039;/lib/uci/upload/cbid.tinyproxy.cfg02822b.Filter&#039;<br />&nbsp; &nbsp; option FilterURLs &#039;1&#039;<br />&nbsp; &nbsp; option LogLevel &#039;Connect&#039;<br />&nbsp; &nbsp; option Syslog &#039;1&#039;<br />&nbsp; &nbsp; option enable &#039;1&#039;<br />&nbsp; &nbsp; option Allow &#039;192.168.1.0/24&#039;</p><p>Append tthis redirect&nbsp; rule to file&nbsp; /etc/config/firewall&nbsp; </p><p>config redirect<br />&nbsp; &nbsp; option _name &#039;proxy&#039;<br />&nbsp; &nbsp; option src &#039;lan&#039;<br />&nbsp; &nbsp; option proto &#039;tcp&#039;<br />&nbsp; &nbsp; option src_dport &#039;80&#039;<br />&nbsp; &nbsp; option dest_port &#039;8888&#039;<br />&nbsp; &nbsp; option src_dip &#039;!192.168.1.1&#039;<br />&nbsp; &nbsp; option dest_ip &#039;192.168.1.1&#039;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p184419">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">hellin_zhang</div>
					<div class="post-datetime">
						27 Nov 2012, 03:30					</div>
				</div>
				<div class="post-content content">
					<p>Thank u. But why the router reboot, somebody tell me no kmod-natXXX and iptables-natXXX, and so so, but how to do.</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>