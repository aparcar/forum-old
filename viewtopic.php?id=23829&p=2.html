<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Backfire 10.03 Beta</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							between 27 Jul 2017 and 24 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=23829&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			
		
		
			<article class="post" id="p104645">
				<div class="post-metadata">
					<div class="post-num">Post #26</div>
					<div class="post-author">hutchman</div>
					<div class="post-datetime">
						15 Mar 2010, 02:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>hutchman wrote:</cite><blockquote><p>Yes, please ... how do I build Backfire from SVN???&nbsp; Is is just trunk?&nbsp; I grabbed trunk but couldn&#039;t get it to build.</p></blockquote></div><p>OK, I must have got a bad trunk or something as the last few checkouts have been fine.</p><p>I&#039;m good to go now.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104690">
				<div class="post-metadata">
					<div class="post-num">Post #27</div>
					<div class="post-author">microcris</div>
					<div class="post-datetime">
						15 Mar 2010, 22:57					</div>
				</div>
				<div class="post-content content">
					<p>Hi there <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p><p>It still don&#039;t work in my WL500GP V2</p><p>I Flashed it&nbsp; (with Backfire 10.03 Beta), enabled&nbsp; the wireless in the config file, reloaded the network configuration and pufff I lost connection with the router.<br/>I also tried with the last snapshot and the result is the same <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad"/><br/>I reboot the router, the AIR led gets on past 2 secs gets off and I can&#039;t communicate with the router <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad"/></p>											<p class="post-edited">(Last edited by <strong>microcris</strong> on 15 Mar 2010, 22:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104762">
				<div class="post-metadata">
					<div class="post-num">Post #28</div>
					<div class="post-author">ea_umea</div>
					<div class="post-datetime">
						17 Mar 2010, 09:24					</div>
				</div>
				<div class="post-content content">
					<p>Works great on my D-Link DIR-825. Using a 2GB usbstick as rootfs. Good work! <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104860">
				<div class="post-metadata">
					<div class="post-num">Post #29</div>
					<div class="post-author">kode54</div>
					<div class="post-datetime">
						19 Mar 2010, 16:20					</div>
				</div>
				<div class="post-content content">
					<p>I take it that b43 does not support multiple ESSID / virtual interfaces yet?</p><p>EDIT: Boo, this beta seems to be unstable on my Buffalo WHR-G54S. It locks up and reboots itself under simple tasks such as trying to install the QoS scripts package, or attempting to use luci-flash to reflash to an older firmware while keeping the configuration. Backing down to 8.09.2 until a future date.</p>											<p class="post-edited">(Last edited by <strong>kode54</strong> on 19 Mar 2010, 17:42)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104894">
				<div class="post-metadata">
					<div class="post-num">Post #30</div>
					<div class="post-author">sbued</div>
					<div class="post-datetime">
						20 Mar 2010, 17:15					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><blockquote><p>Nope, doesn&#039;t appear to work with WRT54G v1.1. I have two of these devices and it is interesting that on one of the two it shows the wireless interface on the &quot;iwconfig&quot; command but the 2nd one doesn&#039;t detect any wireless at all. Weird.</p></blockquote></div><p>I have a WRT54G v1.0 which works ok with backfire brcm47xx plus kmod-b43legacy.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104898">
				<div class="post-metadata">
					<div class="post-num">Post #31</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						20 Mar 2010, 19:24					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sbued wrote:</cite><blockquote><div class="quotebox"><blockquote><p>Nope, doesn&#039;t appear to work with WRT54G v1.1. I have two of these devices and it is interesting that on one of the two it shows the wireless interface on the &quot;iwconfig&quot; command but the 2nd one doesn&#039;t detect any wireless at all. Weird.</p></blockquote></div><p>I have a WRT54G v1.0 which works ok with backfire brcm47xx plus kmod-b43legacy.</p></blockquote></div><p>Thanks, I&#039;ll try that!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104959">
				<div class="post-metadata">
					<div class="post-num">Post #32</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						21 Mar 2010, 23:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi!</p><p>I was able to compile and flash the Backfire r20324 on my WRT54GL, which replaced the old Kamikaze 7.09. It basically works ok, but there&#039;s some questions I wasn&#039;t able to solve:</p><p>1. On reboot, WiFi drivers can&#039;t find firmware, the same problem as in the post #14 here: <a href="https://forum.openwrt.org/viewtopic.php?pid=89032#p89032">https://forum.openwrt.org/viewtopic.php â€¦ 032#p89032</a>.</p><p>But if i run</p><p>wifi down<br/>wifi up</p><p>the WiFi loads firmware with no problem and works okay. Is it a bug?</p><p>2. How to make WiFi NOT to turn on the SES LED? I want to use it for PPTP connection status, via the PPP up/down scripts (BTW, why there&#039;s no standard LEDs in the /sys/class/leds/ path (wlan, power, ses_orange, etc)? I want the SES to blink when the wan is up and to light steady when ppp0 is up - I did it already on DIR-300, very handy).</p><p>3. Can&#039;t change any switch settings with robocfg, e.g. any command gives same error:</p><p>[SOLVED]</p><p>P.S. If there is more appropriate topic to for such questions, please suggest.</p>											<p class="post-edited">(Last edited by <strong>smokie</strong> on 22 Mar 2010, 00:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p104961">
				<div class="post-metadata">
					<div class="post-num">Post #33</div>
					<div class="post-author">tiagochs</div>
					<div class="post-datetime">
						21 Mar 2010, 23:57					</div>
				</div>
				<div class="post-content content">
					<p>I tried to install the binary version of Backfire 10.3 (I couldn&#039;t use openwrt-wrt150n-squashfs.bin&nbsp; <br/>so i used the openwrt-brcm47xx-squashfs.trx) on a linksys router (WRT150N), however the wireless device is not recognized (even iwconfig doesn&#039;t find any wireless devices.). <br/>When I used the kamikaze i needed to install kmod-brcm-wl-mimo package to make the wireless device to be recognized.<br/>Am I doing forgetting to do something?<br/>Sorry for my bad english. If anyone could help me, I would be very grateful.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105008">
				<div class="post-metadata">
					<div class="post-num">Post #34</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Mar 2010, 20:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>sbued wrote:</cite><blockquote><div class="quotebox"><blockquote><p>Nope, doesn&#039;t appear to work with WRT54G v1.1. I have two of these devices and it is interesting that on one of the two it shows the wireless interface on the &quot;iwconfig&quot; command but the 2nd one doesn&#039;t detect any wireless at all. Weird.</p></blockquote></div><p>I have a WRT54G v1.0 which works ok with backfire brcm47xx plus kmod-b43legacy.</p></blockquote></div><p>I installed the brcm47xx image from the backfire downloads site and it seems whenever I try to change the network config it reboots and does a firstboot and wipes everything back to defaults. I guess I&#039;ll download the latest trunk and see if that behaves any differently.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105012">
				<div class="post-metadata">
					<div class="post-num">Post #35</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						22 Mar 2010, 21:14					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>I installed the brcm47xx image from the backfire downloads site and it seems whenever I try to change the network config it reboots and does a firstboot and wipes everything back to defaults.</p></blockquote></div><p>I had the same problem, that&#039;s because the jffs partition couldn&#039;t be created (see logread). So the OpenWrt just has no space to store its settings. But it indeed reboots frequently, I think the Luci is too heavy for the device and the memory is exhausted during configuration actions (or there&#039;s too little space in /jffs, don&#039;t know). You may try to disable watchdog deamon, but it helps a little - it takes too much time for the device to come to consciousness itself, so rebooting is faster. Ah, and it boots much longer too (comparing to 7.09)...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105014">
				<div class="post-metadata">
					<div class="post-num">Post #36</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						22 Mar 2010, 21:24					</div>
				</div>
				<div class="post-content content">
					<p>So, anyone please point me where to look to disable the WiFi-driven SES LED in the sources, I&#039;ll do the rest myself (it&#039;s a bit annoying, wanna get back the old behavior).</p><p>And, though it&#039;s a more general question, what chains to use to add VPN pass-through rules to the firewall? I have the rules from my old config, but the firewall here is a bit different.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105018">
				<div class="post-metadata">
					<div class="post-num">Post #37</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Mar 2010, 21:54					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>smokie wrote:</cite><blockquote><div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>I installed the brcm47xx image from the backfire downloads site and it seems whenever I try to change the network config it reboots and does a firstboot and wipes everything back to defaults.</p></blockquote></div><p>I had the same problem, that&#039;s because the jffs partition couldn&#039;t be created (see logread). So the OpenWrt just has no space to store its settings. But it indeed reboots frequently, I think the Luci is too heavy for the device and the memory is exhausted during configuration actions (or there&#039;s too little space in /jffs, don&#039;t know). You may try to disable watchdog deamon, but it helps a little - it takes too much time for the device to come to consciousness itself, so rebooting is faster. Ah, and it boots much longer too (comparing to 7.09)...</p></blockquote></div><p>Yeah, I just installed the latest trunk (r20348) and luci doesn&#039;t work at all on it. If I try and change something simple in the config and reboot it seems to do a firstboot again. </p><p>dmesg shows a lot of these:</p><div class="codebox"><pre><code>Jan  1 00:01:54 OpenWrt user.notice kernel: jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0000: 0x8585 instead
Jan  1 00:01:54 OpenWrt user.notice kernel: jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0004: 0x0c0c instead
Jan  1 00:01:54 OpenWrt user.notice kernel: jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e0008: 0xb1b1 instead
Jan  1 00:01:54 OpenWrt user.notice kernel: jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x000e000c: 0x8585 instead</code></pre></div><p>Looks like jffs doesn&#039;t even get mounted:</p><div class="codebox"><pre><code>root@OpenWrt:/# df
Filesystem           1K-blocks      Used Available Use% Mounted on
/dev/root                 1920      1920         0 100% /rom
tmpfs                     6704        40      6664   1% /tmp
tmpfs                      512         0       512   0% /dev
root                      6700        64      6636   1% /tmp/root
mini_fo:/tmp/root         1920      1920         0 100% /</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105019">
				<div class="post-metadata">
					<div class="post-num">Post #38</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Mar 2010, 22:08					</div>
				</div>
				<div class="post-content content">
					<p>This looks like the problem I am having:</p><p><a href="https://dev.openwrt.org/ticket/5071">https://dev.openwrt.org/ticket/5071</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105020">
				<div class="post-metadata">
					<div class="post-num">Post #39</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						22 Mar 2010, 22:12					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><p>Yeah, I just installed the latest trunk (r20348) and luci doesn&#039;t work at all on it. If I try and change something simple in the config and reboot it seems to do a firstboot again.</p><p>Looks like jffs doesn&#039;t even get mounted:</p></blockquote></div><p>To solve this, I flashed the original LinkSys firmware (damn, how fast it is!), then flashed original 10.03 Beta, it worked ok. So I decided to give it another try, and checked out everything from scratch again. Then it flashed and jffs was mounted correctly. Dunno what was the reason. The mtd table looks strange even now, some regions seem overlapped, but it works. Today was the first day I left it unattended, uptime is 22hrs and counting <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/> I disabled the lucid though, to give it more memory.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105021">
				<div class="post-metadata">
					<div class="post-num">Post #40</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Mar 2010, 22:22					</div>
				</div>
				<div class="post-content content">
					<p>Well, the jffs mounts with the 2.4 kernel but not with the 2.6. I have a v1.1 router too (same as in the bug report) and I think that could possibly be the difference.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105026">
				<div class="post-metadata">
					<div class="post-num">Post #41</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						22 Mar 2010, 22:45					</div>
				</div>
				<div class="post-content content">
					<p>I forgot to mention that before flashing Linksys firmware I erased everything except the cfe partition with mtd. And always flashed via CFE TFTP. And now I have successfully working Backfire r20324 (brcm47xx target).</p>											<p class="post-edited">(Last edited by <strong>smokie</strong> on 22 Mar 2010, 22:49)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105029">
				<div class="post-metadata">
					<div class="post-num">Post #42</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						22 Mar 2010, 23:24					</div>
				</div>
				<div class="post-content content">
					<p>I just tried &quot;mtd -r erase linux&quot; followed by a tftp upload of r20348 and I get the same thing:</p><div class="codebox"><pre><code>jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000000: 0xdede instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00001000: 0xdede instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00010000: 0xdede instead
jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00020000: 0xdede instead
Cowardly refusing to erase blocks on filesystem with no valid JFFS2 nodes
empty_blocks 14, bad_blocks 0, c-&gt;nr_blocks 17</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105032">
				<div class="post-metadata">
					<div class="post-num">Post #43</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						22 Mar 2010, 23:52					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>Void Main wrote:</cite><blockquote><div class="codebox"><pre><code>jffs2_scan_eraseblock(): Magic bitmask 0x1985 not found at 0x00000000: 0xdede instead</code></pre></div></blockquote></div><p>Mmm, I actually had another error, something about a boundary a partition must start at. Don&#039;t remember exactly. Maybe your firmware size is too large?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105034">
				<div class="post-metadata">
					<div class="post-num">Post #44</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						23 Mar 2010, 00:00					</div>
				</div>
				<div class="post-content content">
					<p>It&#039;s the firmware off the download site so I would think it shouldn&#039;t be a problem.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105218">
				<div class="post-metadata">
					<div class="post-num">Post #45</div>
					<div class="post-author">Void Main</div>
					<div class="post-datetime">
						24 Mar 2010, 23:44					</div>
				</div>
				<div class="post-content content">
					<p>I&#039;m a little embarrassed as I see the bugs listed in the changes link in the original post so they are known and I just must have missed them:</p><p><a href="https://dev.openwrt.org/milestone/Backfire%2010.03-rc1">https://dev.openwrt.org/milestone/Backfire%2010.03-rc1</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105226">
				<div class="post-metadata">
					<div class="post-num">Post #46</div>
					<div class="post-author">smokie</div>
					<div class="post-datetime">
						25 Mar 2010, 02:43					</div>
				</div>
				<div class="post-content content">
					<p>Don&#039;t be, RC1 did not yet exist at the time of your post <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile"/></p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 2 of 2</div><nav><ul><li><a href="viewtopic.php%3Fid=23829&amp;p=1.html">1</a></li><li class="pagination-current"><span>2</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>