<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> Pulseaudio wont run?!</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Mar 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p166021">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">pcace</div>
					<div class="post-datetime">
						28 Apr 2012, 20:29					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>i try to install Pulseaudio on my new 703N (TP-Link). It installes fine, but when i try to run pulseaudio i get:</p><br /><p>&nbsp; &nbsp; </p><div class="codebox"><pre><code>W: [pulseaudio] main.c: This program is not intended to be run as root (unless --system is specified).
D: [pulseaudio] core-rtclock.c: Timer slack is set to 50 us.
D: [pulseaudio] core-util.c: setpriority() worked.
I: [pulseaudio] core-util.c: Successfully gained nice level -11.
I: [pulseaudio] main.c: This is PulseAudio 1.1
D: [pulseaudio] main.c: Compilation host: mips-openwrt-linux-gnu
D: [pulseaudio] main.c: Compilation CFLAGS: -Os -pipe -mips32r2 -mtune=mips32r2 -fno-caller-saves -fhonour-copts -Wno-error=unused-but-set-variable -msoft-float -I/builds/openwrt/slave/ar71xx/build/staging_dir/target-mips_r2_uClibc-0.9.33/usr/lib/libiconv-stub/include -I/builds/openwrt/slave/ar71xx/build/staging_dir/target-mips_r2_uClibc-0.9.33/usr/lib/libintl-stub/include -std=gnu99  -Wall -W -Wextra -Wno-long-long -Wvla -Wno-overlength-strings -Wunsafe-loop-optimizations -Wundef -Wformat=2 -Wlogical-op -Wsign-compare -Wformat-security -Wmissing-include-dirs -Wformat-nonliteral -Wpointer-arith -Winit-self -Wdeclaration-after-statement -Wfloat-equal -Wmissing-prototypes -Wredundant-decls -Wmissing-declarations -Wmissing-noreturn -Wshadow -Wendif-labels -Wcast-align -Wstrict-aliasing -Wwrite-strings -Wno-unused-parameter -ffast-math -Wp,-D_FORTIFY_SOURCE=2 -fno-common -fdiagnostics-show-option
D: [pulseaudio] main.c: Running on host: Linux mips 3.3.3 #1 Fri Apr 27 17:44:02 PDT 2012
D: [pulseaudio] main.c: Found 1 CPUs.
I: [pulseaudio] main.c: Page size is 4096 bytes
D: [pulseaudio] main.c: Compiled with Valgrind support: no
D: [pulseaudio] main.c: Running in valgrind mode: no
D: [pulseaudio] main.c: Running in VM: no
D: [pulseaudio] main.c: Optimized build: yes
D: [pulseaudio] main.c: All asserts enabled.
I: [pulseaudio] main.c: Machine ID is Keksschachtel.
I: [pulseaudio] main.c: Using runtime directory /root/.pulse/Keksschachtel-runtime.
I: [pulseaudio] main.c: Using state directory /root/.pulse.
I: [pulseaudio] main.c: Using modules directory /usr/lib/pulse-1.1/modules.
I: [pulseaudio] main.c: Running in system mode: no
I: [pulseaudio] main.c: Fresh high-resolution timers available! Bon appetit!
D: [pulseaudio] memblock.c: Using shared memory pool with 1024 slots of size 4.0 KiB each, total size is 4.0 MiB, maximum usable slot size is 4056
I: [pulseaudio] module-device-restore.c: Successfully opened database file &#039;/root/.pulse/Keksschachtel-device-volumes&#039;.
I: [pulseaudio] module.c: Loaded &quot;module-device-restore&quot; (index: #0; argument: &quot;&quot;).
I: [pulseaudio] module-stream-restore.c: Successfully opened database file &#039;/root/.pulse/Keksschachtel-stream-volumes&#039;.
D: [pulseaudio] protocol-dbus.c: Interface org.PulseAudio.Ext.StreamRestore1 added for object /org/pulseaudio/stream_restore1
I: [pulseaudio] module.c: Loaded &quot;module-stream-restore&quot; (index: #1; argument: &quot;&quot;).
I: [pulseaudio] module-card-restore.c: Successfully opened database file &#039;/root/.pulse/Keksschachtel-card-database&#039;.
I: [pulseaudio] module.c: Loaded &quot;module-card-restore&quot; (index: #2; argument: &quot;&quot;).
I: [pulseaudio] module.c: Loaded &quot;module-augment-properties&quot; (index: #3; argument: &quot;&quot;).
D: [pulseaudio] cli-command.c: Checking for existence of &#039;/usr/lib/pulse-1.1/modules/module-udev-detect.so&#039;: success
W: [pulseaudio] core-error.c: Unable to convert error string to locale, filtering.
E: [pulseaudio] module-udev-detect.c: inotify_init1() failed: Invalid argument
E: [pulseaudio] module.c: Failed to load module &quot;module-udev-detect&quot; (argument: &quot;&quot;): initialization failed.
E: [pulseaudio] main.c: Module load failed.
E: [pulseaudio] main.c: Failed to initialize daemon.
I: [pulseaudio] module.c: Unloading &quot;module-device-restore&quot; (index: #0).
I: [pulseaudio] module.c: Unloaded &quot;module-device-restore&quot; (index: #0).
D: [pulseaudio] core-subscribe.c: Dropped redundant event due to remove event.
I: [pulseaudio] module.c: Unloading &quot;module-stream-restore&quot; (index: #1).
D: [pulseaudio] protocol-dbus.c: Interface org.PulseAudio.Ext.StreamRestore1 removed from object /org/pulseaudio/stream_restore1
I: [pulseaudio] module.c: Unloaded &quot;module-stream-restore&quot; (index: #1).
D: [pulseaudio] core-subscribe.c: Dropped redundant event due to remove event.
I: [pulseaudio] module.c: Unloading &quot;module-card-restore&quot; (index: #2).
I: [pulseaudio] module.c: Unloaded &quot;module-card-restore&quot; (index: #2).
D: [pulseaudio] core-subscribe.c: Dropped redundant event due to remove event.
I: [pulseaudio] module.c: Unloading &quot;module-augment-properties&quot; (index: #3).
I: [pulseaudio] module.c: Unloaded &quot;module-augment-properties&quot; (index: #3).
D: [pulseaudio] core-subscribe.c: Dropped redundant event due to remove event.
I: [pulseaudio] main.c: Daemon terminated.</code></pre></div><p>This is the error Message:<br /></p><div class="codebox"><pre><code>E: [pulseaudio] module-udev-detect.c: inotify_init1() failed: Invalid argument
E: [pulseaudio] module.c: Failed to load module &quot;module-udev-detect&quot; (argument: &quot;&quot;): initialization failed.
E: [pulseaudio] main.c: Module load failed.
E: [pulseaudio] main.c: Failed to initialize daemon.</code></pre></div><p>I also tried to install udev (udevd) manualy, and start it before starting pulseaudio.</p><br /><p>In the openwrt Wiki i found that script:</p><div class="codebox"><pre><code>#!/bin/sh
udevd --daemon
chmod 0777 /dev/snd/*
mkdir -p /var/lib/pulse
pulseaudio --system --disallow-module-loading --disallow-exit --no-cpu-limit &amp;
socat TCP-LISTEN:4000,fork UNIX-CONNECT:/tmp/run/pulse/native &amp;</code></pre></div><p>When i try to run that, openwrt complains that there is no user/group &quot;pulse&quot;<br />Than i added the user and group pulse but now when i run the script i get:</p><br /><div class="codebox"><pre><code>root@Keksschachtel:/mnt/sda2/scripts# ./pulseaudioserver.sh: line 6: socat: not found
N: [pulseaudio] main.c: Running in system mode, forcibly disabling SHM mode!
N: [pulseaudio] main.c: Running in system mode, forcibly disabling exit idle time!
D: [pulseaudio] core-rtclock.c: Timer slack is set to 50 us.
D: [pulseaudio] core-util.c: setpriority() worked.
I: [pulseaudio] core-util.c: Successfully gained nice level -11.
I: [pulseaudio] main.c: Found user &#039;pulse&#039; (UID 1000) and group &#039;pulse&#039; (GID 1000).
E: [pulseaudio] main.c: GID of user &#039;pulse&#039; and of group &#039;pulse&#039; don&#039;t match.</code></pre></div><p>What should be the GID and UID?</p><p>Is there something wrong with the Pulseaudio package?</p><br /><p>Thanks,</p><p>Pcace</p><p>PS.: Sorry for my bad english</p>											<p class="post-edited">(Last edited by <strong>pcace</strong> on 3 May 2012, 01:43)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166376">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">pcace</div>
					<div class="post-datetime">
						3 May 2012, 01:43					</div>
				</div>
				<div class="post-content content">
					<p>No Idea?</p><p>Pcace</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p166782">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">pcace</div>
					<div class="post-datetime">
						8 May 2012, 00:09					</div>
				</div>
				<div class="post-content content">
					<p>Still no idea? <br />Is there really noone with that Problem?!</p><p>What did i wrong?</p><p>Thanks,</p><p>Pcace</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>