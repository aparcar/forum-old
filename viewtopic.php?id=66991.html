<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> TL-WR941ND Bricked : All Leds blinking (SOLVED)</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 21 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p335049">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">duardbr</div>
					<div class="post-datetime">
						19 Aug 2016, 15:32					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />I installed the wrong BIN file and now my router is blinking all leds for 2 seconds ... I cant access it by WAN anymore ... what I need to do to recover my router ? </p><p>TP-Link TL-WR941ND</p><p><a href="https://www.youtube.com/watch?v=0GkL_lMsSfk">https://www.youtube.com/watch?v=0GkL_lMsSfk</a></p><p>Can I make some serial cable tool with this 2 cables : </p><p><span class="postimg"><img src="http://i.imgur.com/CcE965u.jpg" alt="http://i.imgur.com/CcE965u.jpg" /></span></p><p><span class="postimg"><img src="http://i.imgur.com/JWdWm88.jpg" alt="http://i.imgur.com/JWdWm88.jpg" /></span></p><p>Its possible ? <br /><span class="postimg"><img src="http://i.imgur.com/dfwEyWS.jpg" alt="http://i.imgur.com/dfwEyWS.jpg" /></span><br /><span class="postimg"><img src="http://i.imgur.com/ErAAxaG.jpg" alt="http://i.imgur.com/ErAAxaG.jpg" /></span></p>											<p class="post-edited">(Last edited by <strong>duardbr</strong> on 15 Sep 2016, 20:33)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335053">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						19 Aug 2016, 16:11					</div>
				</div>
				<div class="post-content content">
					<p>TBH, I don&#039;t have nor know any TL-WR941ND. However, I used this inexpensive <a href="http://www.aliexpress.com/item/Free-Shipping-PL2303HX-module-Download-line-on-STC-microcontroller-USB-to-TTL-Programming-unit-In-the/32531264756.html">PL2303HX</a> module to connect a serial port on my embedded devices, i.e. Seagate GoFLEX NET/Home, PogoPlug Pro 02, etc., to a USB port on my computer to do the trouble shooting.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335060">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">duardbr</div>
					<div class="post-datetime">
						19 Aug 2016, 16:45					</div>
				</div>
				<div class="post-content content">
					<p>I just bought this piece, but only comes in 1-5 September, you could give me more details of how I have to use it on the router card?</p><p><span class="postimg"><img src="http://i.imgur.com/o7qzkTQ.png" alt="http://i.imgur.com/o7qzkTQ.png" /></span></p><p>Conversor Usb Serial Rs232 Ttl Pl2303hx Arduino Mini Nano</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335072">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">mazilo</div>
					<div class="post-datetime">
						19 Aug 2016, 18:27					</div>
				</div>
				<div class="post-content content">
					<p>I Just plug it into a USB port on my computer and run minicom. When the first time you run minicom, it may point to the wrong port and/or device and you will need to configure your minicom to point to the right device. As with the embedded device, I connect GND (PL2303HX) -&gt; GND (Embedded device), RX (PL2303HX) -&gt; TX (Embedded device), and TX (PL2303HX) -&gt; RX (Embedded device). That&#039;s all there to it.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335122">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">webtron</div>
					<div class="post-datetime">
						20 Aug 2016, 01:30					</div>
				</div>
				<div class="post-content content">
					<p>You might get away with just using tftp recovery. <a href="http://forum.tp-link.com/showthread.php?81462-How-to-recovery-the-router-when-you-bricked-it">http://forum.tp-link.com/showthread.php … bricked-it</a></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p335185">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">freewifimarketing.net</div>
					<div class="post-datetime">
						20 Aug 2016, 18:16					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>duardbr wrote:</cite><blockquote><p>I just bought this piece, but only comes in 1-5 September, you could give me more details of how I have to use it on the router card?</p><p><span class="postimg"><img src="http://i.imgur.com/o7qzkTQ.png" alt="http://i.imgur.com/o7qzkTQ.png" /></span></p><p>Conversor Usb Serial Rs232 Ttl Pl2303hx Arduino Mini Nano</p></blockquote></div><p>with serial port, unbrick is just a peace of cake</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p336240">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">duardbr</div>
					<div class="post-datetime">
						28 Aug 2016, 16:49					</div>
				</div>
				<div class="post-content content">
					<p>I only see this strange characters , what I do wrong ?</p><br /><div class="codebox"><pre><code>➜  ~ sudo picocom -b 115200 /dev/ttyUSB0
picocom v1.7

port is        : /dev/ttyUSB0
flowcontrol    : none
baudrate is    : 115200
parity is      : none
databits are   : 8
escape is      : C-a
local echo is  : no
noinit is      : no
noreset is     : no
nolock is      : no
send_cmd is    : sz -vv
receive_cmd is : rz -vv
imap is        : 
omap is        : 
emap is        : crcrlf,delbs,

Terminal ready
���������&lt;������&gt;������&gt;����_~����������_�&gt;n�������&gt;��ρ����������������~�?���_~a��}�~�}��߿��&lt;�ؿ?��������������|������������������&gt;������?�����?���������������|������ �?����^�������������|����o�����������������������Y������~�.����?�_���?�~��������8� ��|��������������~��x�������?00���&gt;��~��?������&gt;~�����~��~��x�����������?�?~�\��&lt;&gt;x��������p����&gt;���߁��������&gt;�?������������?�������?���.������?�����?��&gt;���x��g����������?&gt;���y~��8?�������^~����^���~������y?������y��&gt;}������������x������1�0�����~���� ����?����}��x~�����?����������������0������=���������}�|����x0����.���������~������̞��x����~�����|��������&gt;����&gt;����������~�������H?����?���0���������������?�����0��������?x�������~�����������&gt;0&gt;~�����������&gt;�������������&gt;?���?~������������~������x����??��������{�&gt;�?&gt;~���������?����!���?~���a~�����0y�������x�����~��x�������8���c�~��&lt;��ء���~C�������|}��������������������y�x��������~�����&gt;��~���?�a������~������~&gt;���������������������~����&gt;�_���~��������a�����~��������������?��������|�|�������?|���=��?�������8�������������?~�����0�����~�~^�n�������������y���~�~�����x������x?������}�����?�����������������~^����������������~�������&gt;?&gt;�������}��������������?�������������_������y~��������������������s�ߟ�&gt;��������������?���������0�x�~�x&gt;������?�7��������|��������������?�_�?�1�x�����p�������_��������&gt;����������~���\�?��1�������������?��������|����?���������������(|����������������}��&gt;��������x�a���������������?��^��������������~��~�����~��������������~��&gt;�&gt;���ߞ�Q��x����
FATAL: term closed</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p336269">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">slh</div>
					<div class="post-datetime">
						28 Aug 2016, 20:55					</div>
				</div>
				<div class="post-content content">
					<p>Baudrate for AP81 is 9600 bps.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338286">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">duardbr</div>
					<div class="post-datetime">
						14 Sep 2016, 22:47					</div>
				</div>
				<div class="post-content content">
					<p>Im getting error on trying to ERASE</p><p>After open the serial connection my env is that</p><div class="codebox"><pre><code>wasp&gt; printenv
bootargs=console=ttyS0,115200 root=31:02 rootfstype=jffs2 init=/sbin/init mtdparts=ath-nor0:128k(u-boot),1024k(kernel),2816k(rootfs),64k(config),64k(art)
bootcmd=bootm 0x9f020000
bootdelay=1
baudrate=115200
ethaddr=0xba:0xbe:0xfa:0xce:0x08:0x41
ipaddr=192.168.1.111
serverip=192.168.1.100
dir=
lu=tftp 0x81000000 ${dir}u-boot.bin&amp;&amp;erase 0x9f000000 +$filesize&amp;&amp;cp.b $fileaddr 0x9f000000 $filesize
lf=tftp 0x81000000 ${dir}${bc}-squashfs&amp;&amp;erase 0x9f120000 +$filesize&amp;&amp;cp.b $fileaddr 0x9f120000 $filesize
stdin=serial
stdout=serial
stderr=serial
ethact=eth0

Environment size: 555/65532 bytes</code></pre></div><p>Then I start Tftp32 with the correct img file</p><div class="codebox"><pre><code>wasp&gt; tftpboot
enet1 port1 up
dup 1 speed 1000
*** Warning: no boot file name; using &#039;6F01A8C0.img&#039;
Using eth1 device
TFTP from server 192.168.1.100; our IP address is 192.168.1.111
Filename &#039;6F01A8C0.img&#039;.
Load address: 0x81000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ##############
done
Bytes transferred = 4063744 (3e0200 hex)
wasp&gt;</code></pre></div><p>this is my printenv at this poing<br /></p><div class="codebox"><pre><code>wasp&gt; printenv bootcmd
bootcmd=bootm 0x9f020000</code></pre></div><p>After that I will try to ERASE, but Im getting error</p><p> erase 0xbf020000 +0x3e0200 </p><div class="codebox"><pre><code>▒▒ɽ▒▒ end address (0xbf4001ff) not in flash!
Bad address format
wasp&gt;</code></pre></div><p>I need some help on that, please.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338288">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">duardbr</div>
					<div class="post-datetime">
						14 Sep 2016, 22:58					</div>
				</div>
				<div class="post-content content">
					<p>The same error when I try to upload the openwrt firmware</p><div class="codebox"><pre><code>wasp&gt; tftpboot 0x80000000 openwrt-ar71xx-generic-tl-wr941nd-v6-squashfs-factory.                 bin
enet1 port1 up
dup 1 speed 1000
Using eth1 device
TFTP from server 192.168.1.100; our IP address is 192.168.1.111
Filename &#039;openwrt-ar71xx-generic-tl-wr941nd-v6-squashfs-factory.bin&#039;.
Load address: 0x80000000
Loading: #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         #################################################################
         ######################################################
done
Bytes transferred = 3932160 (3c0000 hex)
wasp&gt; erase 0xbf020000 +0x3c0000
Error: end address (0xbf3dffff) not in flash!
Bad address format
wasp&gt;</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338290">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">duardbr</div>
					<div class="post-datetime">
						14 Sep 2016, 23:03					</div>
				</div>
				<div class="post-content content">
					<p>I found my error about ERASE , the correct memory address is<br />erase 0x9f020000 +0x3c0000</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p338363">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">duardbr</div>
					<div class="post-datetime">
						15 Sep 2016, 20:33					</div>
				</div>
				<div class="post-content content">
					<p>My router is recovered !</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>