<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> tftp for OpenWRT?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 4 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p19689">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">MrUmunhum</div>
					<div class="post-datetime">
						24 Jan 2006, 22:17					</div>
				</div>
				<div class="post-content content">
					<p>Does anyone know of a Tftp package for OpenWRT?</p><p>I would like to run an Tftp server on a WRT54G to be used for PXE booting of other devices.</p><p>Thanks for your time.</p>											<p class="post-edited">(Last edited by <strong>MrUmunhum</strong> on 24 Jan 2006, 22:19)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19696">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						25 Jan 2006, 00:12					</div>
				</div>
				<div class="post-content content">
					<p>There is no binary TFTPD package for White Russian. But it can easily be packported from Kamikaze using OpenWrt&#039;s SDK.</p><p>To backport the atftp (client and server) package from Kamikaze do:</p><div class="codebox"><pre><code>cd /tmp
wget http://downloads.openwrt.org/whiterussian/newest/OpenWrt-SDK-Linux-i686-1.tar.bz2
bzcat OpenWrt-SDK-Linux-i686-1.tar.bz2 | tar -xf -
cd OpenWrt-SDK-Linux-i686-1/package/
svn co https://svn.openwrt.org/openwrt/trunk/openwrt/package/atftp/
cd ..
make atftp-clean &amp;&amp; make atftp-compile

ls -al bin/packages
-rw-r--r--  1 openwrt-dev openwrt-dev 18249 2006-01-24 23:03 atftp_0.7-1_mipsel.ipk
-rw-r--r--  1 openwrt-dev openwrt-dev 31819 2006-01-24 23:03 atftpd_0.7-1_mipsel.ipk</code></pre></div><p>That&#039;s it. Have fun.</p>											<p class="post-edited">(Last edited by <strong>olli</strong> on 25 Jan 2006, 00:14)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19698">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">MrUmunhum</div>
					<div class="post-datetime">
						25 Jan 2006, 00:59					</div>
				</div>
				<div class="post-content content">
					<p>Olli,</p><p>&nbsp; Thanks for the reply.&nbsp; I did the install which ran OK, but at execution time I get:</p><p>root@Router_9:~# atftpd --help <br />atftpd: can&#039;t load library &#039;libpcre.so.0&#039;<br />root@Router_9:~#</p><p>&nbsp; Would you know when I can get this file?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19699">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">olli</div>
					<div class="post-datetime">
						25 Jan 2006, 01:03					</div>
				</div>
				<div class="post-content content">
					<p>Seems there is a dependency missing. Please do:<br /></p><div class="codebox"><pre><code>ipkg install libpcre</code></pre></div>											<p class="post-edited">(Last edited by <strong>olli</strong> on 25 Jan 2006, 03:28)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p19700">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">MrUmunhum</div>
					<div class="post-datetime">
						25 Jan 2006, 01:05					</div>
				</div>
				<div class="post-content content">
					<p>Olli,</p><p>&nbsp; Found it on <a href="http://downloads.openwrt.org/whiterussian/packages/">http://downloads.openwrt.org/whiterussian/packages/</a>.&nbsp; Install this packages and it runs OK now.<br />At least the help runs.</p><p>&nbsp; Thanks for your time.</p>											<p class="post-edited">(Last edited by <strong>MrUmunhum</strong> on 25 Jan 2006, 01:06)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p21327">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">mangoo</div>
					<div class="post-datetime">
						22 Feb 2006, 10:20					</div>
				</div>
				<div class="post-content content">
					<p>Here you can find a tftp-server: <a href="http://www2.wpkg.org/openwrt/">http://www2.wpkg.org/openwrt/</a> (and some other server-oriented packages).</p><p>You need to run it through xinetd:</p><p># cat /etc/xinetd.d/tftp<br /># default: off<br /># description: The tftp server serves files using the trivial file transfer \<br />#&nbsp; &nbsp; &nbsp; &nbsp;protocol.&nbsp; The tftp protocol is often used to boot diskless \<br />#&nbsp; &nbsp; &nbsp; &nbsp;workstations, download configuration files to network-aware printers, \<br />#&nbsp; &nbsp; &nbsp; &nbsp;and to start the installation process for some operating systems.<br />service tftp<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp; disable = no<br />&nbsp; &nbsp; &nbsp; &nbsp; socket_type&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= dgram<br />&nbsp; &nbsp; &nbsp; &nbsp; protocol&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = udp<br />&nbsp; &nbsp; &nbsp; &nbsp; wait&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = yes<br />&nbsp; &nbsp; &nbsp; &nbsp; user&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = root<br />&nbsp; &nbsp; &nbsp; &nbsp; server&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /usr/sbin/tftpd<br />&nbsp; &nbsp; &nbsp; &nbsp; server_args&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= -s /var/lib/tftpboot<br />&nbsp; &nbsp; &nbsp; &nbsp; per_source&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 11<br />&nbsp; &nbsp; &nbsp; &nbsp; cps&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= 100 2<br />&nbsp; &nbsp; &nbsp; &nbsp; flags&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= IPv4<br />}</p><br /><p># cat /etc/services |grep tft<br />tftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;69/tcp&nbsp; &nbsp; # Trivial File Transfer<br />tftp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;69/udp&nbsp; &nbsp; # Trivial File Transfer</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p30951">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">TomT</div>
					<div class="post-datetime">
						23 Jul 2006, 01:41					</div>
				</div>
				<div class="post-content content">
					<p>Sorry, I am also a total newbe at this.<br />and i only seem to follow the DumbME guide,, LOL</p><p>I am looking at post number 7 of this thread, about running it through xinetd.</p><p>Can&nbsp; someone please explain this one a little more as i can not figure out how to do this.</p><p>till now i have been a total windows flunkie,, and trying my best to learn something better.</p><p>Regards<br />Tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p30962">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">TomT</div>
					<div class="post-datetime">
						23 Jul 2006, 09:24					</div>
				</div>
				<div class="post-content content">
					<p>brianez21<br />Thank you for the info,&nbsp; I am working with it trying to figure it out and get it working,&nbsp; </p><p>I am just not really sure what i am doing, this is the first ipkg i have installed and am totally new to anything other than windows. so its a major experience for me.</p><p>thanks again,,<br />Tom</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p35066">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">xtra121</div>
					<div class="post-datetime">
						8 Oct 2006, 20:51					</div>
				</div>
				<div class="post-content content">
					<p>finally work it out !!</p><p>added an &quot;a&quot; in the line</p><p>server&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = /usr/sbin/atftpd</p><p>(as this is the name of the file located in /usr/sbin)</p><p>created file service with :</p><p>tftp&nbsp; &nbsp; 69/tcp<br />tftp&nbsp; &nbsp; 69/udp<br />tftp-mcast&nbsp; &nbsp; &nbsp; 1758/tcp<br />tftp-mcast&nbsp; &nbsp; &nbsp; 1758/udp</p><p>created folder /atftpboot (and put the file to be transmetted in this folder)<br />and <br />chmod 777 /atftpboot</p><p>note that atftp is client package and atftpd is server</p><p>use atftp --daemon to make listening on port </p><p>tested with TFTPD32 v3.01 (windows system) works fine</p><br /><p>sources : this post ! and <a href="http://www.debianadmin.com/atftp-server-and-client-installation-and-configuration.html">http://www.debianadmin.com/atftp-server â€¦ ation.html</a></p><p>thanks ... still gotta find out how to launch the daemon on start up any solution ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p35861">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">KillingFrost</div>
					<div class="post-datetime">
						22 Oct 2006, 17:22					</div>
				</div>
				<div class="post-content content">
					<p>ok igot it working with the atftpd package<br />BUT some dependencies are missing : libpcre libpthread libreadline u have to install them manually<br />AND you have to creathe the /etc/services files with <br />tftp&nbsp; &nbsp; 69/tcp<br />tftp&nbsp; &nbsp; 69/udp</p><p>i netbooted my Sparc succesfully with it</p><p>to start it on boot: 2 solution<br />1 add the line &quot;atftd --daemon /whateveryourfolderis&quot; in a scrip in /etc/init.d/<br />2 wrtie an additionnal script&nbsp; example S50atftpd containing the command mentionned earlier and dont forget to chmod +x S50atftpd<br />in Sxx scripts xx indicates a time in seconds after the beginning of the boot at wich time the script is executed</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>