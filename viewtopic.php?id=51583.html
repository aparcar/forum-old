<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> can&#039;t load library &#039;libpcre.so.1&#039; + opkg install libpcre = fail .so.0</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p240072">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">n8raider</div>
					<div class="post-datetime">
						12 Jul 2014, 18:24					</div>
				</div>
				<div class="post-content content">
					<p>last week i was playing arround with my router and wanted to setup php+mysql and made it like <a href="http://wiki.openwrt.org/doc/uci/uhttpd">here</a>.<br />i went to failsafe, did a firstboot and installed the last factory image from trunk, so i don`t have any problems with this anymore.<br />maybe someone has an idea why this happend and what to do against (i won?t try this again <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /> )</p><p>router:<br /></p><div class="codebox"><pre><code>Model    TP-Link TL-WDR4300 v1
Firmware Version    OpenWrt Barrier Breaker r41553 / LuCI Trunk (svn-r10457)
Kernel Version    3.10.44 </code></pre></div><div class="codebox"><pre><code>root@MeinWrt:~# opkg install php5 php5-cgi
Installing php5 (5.4.27-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/php5_5.4.27-1_ar71xx.ipk.
Installing libxml2 (2.9.1-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/libxml2_2.9.1-1_ar71xx.ipk.
Installing php5-cgi (5.4.27-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/php5-cgi_5.4.27-1_ar71xx.ipk.
Configuring libxml2.
Configuring php5.
Configuring php5-cgi.
root@MeinWrt:~# /usr/bin/php-cgi /mnt/usbstick/www/info.php
/usr/bin/php-cgi: can&#039;t load library &#039;libpcre.so.1&#039;
root@MeinWrt:~# opkg list *pcre*
libpcre - 8.35-2 - A Perl Compatible Regular Expression library
libpcre - 8.11-2
libpcrecpp - 8.35-2 - C++ wrapper for Perl Compatible Regular Expression library
root@MeinWrt:~# opkg install libpcre
Upgrading libpcre on root from 8.11-2 to 8.35-2...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/libpcre_8.35-2_ar71xx.ipk.
Removing obsolete file /usr/lib/libpcre.so.0.
Removing obsolete file /usr/lib/libpcre.so.0.0.1.
Removing obsolete file /usr/lib/libpcreposix.so.0.0.0.
Configuring libpcre.
root@MeinWrt:~# /usr/bin/php-cgi /mnt/usbstick/www/info.php
X-Powered-By: PHP/5.4.27
Content-type: text/html

&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;DTD/xhtml1-transitional.dtd&quot;&gt;

&lt;&lt;snip, works!&gt;&gt;

root@MeinWrt:~# opkg list mysql*
mysql-server - 5.1.73-1 - MySQL Server
root@MeinWrt:~# opkg install mysql-server
Installing mysql-server (5.1.73-1) to root...
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/mysql-server_5.1.73-1_ar71xx.ipk.
wget: can&#039;t load library &#039;libpcre.so.0&#039;
Collected errors:
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/mysql-server_5.1.73-1_ar71xx.ipk, wget returned 16.
 * opkg_install_pkg: Failed to download mysql-server. Perhaps you need to run &#039;opkg update&#039;?
 * opkg_install_cmd: Cannot install package mysql-server.
root@MeinWrt:~# opkg update
Downloading http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/Packages.gz.
wget: can&#039;t load library &#039;libpcre.so.0&#039;
Collected errors:
 * opkg_download: Failed to download http://downloads.openwrt.org/snapshots/trunk/ar71xx/packages/Packages.gz, wget returned 16.</code></pre></div>											<p class="post-edited">(Last edited by <strong>n8raider</strong> on 12 Jul 2014, 18:59)</p>
									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>