<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> porting to upvel ur-312n4g</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 12 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p228965">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						1 Apr 2014, 15:05					</div>
				</div>
				<div class="post-content content">
					<p>I have <a href="http://upvel.ru/items/ur-312n4g.html">this device</a>. It has ugly <a href="http://downloads.upvel.ru/UR-312N4G/Firmware/">firmware</a>...</p><p>Photos <a href="http://yadi.sk/d/Kdao4xlSLbg3v">http://yadi.sk/d/Kdao4xlSLbg3v</a></p><p>key features:<br />+ very compact<br />+ two ethernet 100baseT<br />+ usb <br />+ N wifi <br />+ onboard power supply<br />+ bootloader seems to be u-boot<br />- rt5350f soc<br />- no console pins</p><p>Now I want to use it for mjpeg-streamer.</p><p>Stock firmware has telnet. </p><p>cats from /proc<br /></p><div class="codebox"><pre><code># cat /proc/partitions 
major minor  #blocks  name

  31     0       8192 mtdblock0
  31     1        192 mtdblock1
  31     2         64 mtdblock2
  31     3         64 mtdblock3
  31     4       3584 mtdblock4
  31     5        192 mtdblock5

# cat /proc/meminfo
MemTotal:        28132 kB
MemFree:          8268 kB
Buffers:             0 kB
Cached:          11788 kB
SwapCached:          0 kB
Active:           3084 kB
Inactive:         9436 kB
SwapTotal:           0 kB
SwapFree:            0 kB
Dirty:               0 kB
Writeback:           0 kB
AnonPages:         760 kB
Mapped:            864 kB
Slab:             5972 kB
SReclaimable:     1788 kB
SUnreclaim:       4184 kB
PageTables:        164 kB
NFS_Unstable:        0 kB
Bounce:              0 kB
CommitLimit:     14064 kB
Committed_AS:     2376 kB
VmallocTotal:  1048404 kB
VmallocUsed:      1008 kB
VmallocChunk:  1047396 kB

# cat /proc/mounts 
rootfs / rootfs rw 0 0
proc /proc proc rw 0 0
none /var ramfs rw 0 0
none /etc ramfs rw 0 0
none /tmp ramfs rw 0 0
none /media ramfs rw 0 0
none /sys sysfs rw 0 0
none /dev/pts devpts rw 0 0
none /proc/bus/usb usbfs rw 0 0
mdev /dev ramfs rw 0 0
devpts /dev/pts devpts rw 0 0

# cat /proc/mtd 
dev:    size   erasesize  name
mtd0: 00800000 00010000 &quot;ALL&quot;
mtd1: 00030000 00010000 &quot;Bootloader&quot;
mtd2: 00010000 00010000 &quot;Config&quot;
mtd3: 00010000 00010000 &quot;Factory&quot;
mtd4: 00380000 00010000 &quot;Kernel&quot;
mtd5: 00030000 00010000 &quot;RW_FS&quot;

# cat /proc/cpuinfo 
system type             : Ralink SoC
processor               : 0
cpu model               : MIPS 24K V4.12
BogoMIPS                : 239.61
wait instruction        : yes
microsecond timers      : yes
tlb_entries             : 32
extra interrupt vector  : yes
hardware watchpoint     : yes
ASEs implemented        : mips16 dsp
VCED exceptions         : not available
VCEI exceptions         : not available</code></pre></div><p>Config and Factory - tar (tar.gz) with configuration files</p><p>In firmware i found &quot;include&quot; for kernel.<br />extracted rootfs (2MB) <a href="http://yadi.sk/d/Y_FzzBp4LbYrh">http://yadi.sk/d/Y_FzzBp4LbYrh</a></p><p>Firmware file is u-boot legacy uImage conataining LZMA with kernel. It writed to mtd4 on update.<br />rootfs attached to kernel (not partitioned) as LZMA compressed CPIO</p><p>How to examine GPIO for leds and Buttons? How to make config for Ethernet?<br />I cant turn it to recovery mode...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228966">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						1 Apr 2014, 15:40					</div>
				</div>
				<div class="post-content content">
					<div class="codebox"><pre><code># ifconfig 
br0       Link encap:Ethernet  HWaddr D4:BF:7F:38:37:E4  
          inet addr:192.168.10.1  Bcast:192.168.10.255  Mask:255.255.255.0
          inet6 addr: fe80::d6bf:7fff:fe38:37e4/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:49296 errors:0 dropped:0 overruns:0 frame:0
          TX packets:51467 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:3805810 (3.6 MiB)  TX bytes:18428122 (17.5 MiB)

eth2      Link encap:Ethernet  HWaddr D4:BF:7F:38:37:E5  
          inet6 addr: fe80::d6bf:7fff:fe38:37e5/64 Scope:Link
          UP BROADCAST RUNNING PROMISC MULTICAST  MTU:1500  Metric:1
          RX packets:49296 errors:0 dropped:0 overruns:0 frame:0
          TX packets:51738 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:4693138 (4.4 MiB)  TX bytes:18787782 (17.9 MiB)
          Interrupt:3 

eth2.1    Link encap:Ethernet  HWaddr D4:BF:7F:38:37:E5  
          inet6 addr: fe80::d6bf:7fff:fe38:37e5/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:49296 errors:0 dropped:0 overruns:0 frame:0
          TX packets:51470 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:4002994 (3.8 MiB)  TX bytes:18634224 (17.7 MiB)

eth2.2    Link encap:Ethernet  HWaddr D4:BF:7F:38:37:E6  
          inet6 addr: fe80::d6bf:7fff:fe38:37e6/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:263 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:153150 (149.5 KiB)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

ra0       Link encap:Ethernet  HWaddr D4:BF:7F:38:37:E4  
          inet6 addr: fe80::d6bf:7fff:fe38:37e4/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:24251 errors:0 dropped:0 overruns:0 frame:0
          TX packets:306 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:5300867 (5.0 MiB)  TX bytes:0 (0.0 B)
          Interrupt:4 

# brctl show
bridge name     bridge id               STP enabled     interfaces
br0             8000.d4bf7f3837e4       no              ra0
                                                        eth2.1</code></pre></div>											<p class="post-edited">(Last edited by <strong>eri</strong> on 1 Apr 2014, 15:41)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228973">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						1 Apr 2014, 17:54					</div>
				</div>
				<div class="post-content content">
					<p>there is two testpoints near soc. serial?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p228989">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						1 Apr 2014, 22:05					</div>
				</div>
				<div class="post-content content">
					<p>it is serial</p><p>boot log<br /></p><div class="codebox"><pre><code>U-Boot 1.1.3 (Mar 31 2011 - 18:31:42)

Board: Ralink APSoC DRAM:  32 MB
relocate_code Pointer at: 81fb4000
spi_wait_nsec: 42 
spi device id: c8 40 16 c8 40 (4016c840)
Warning: un-recognized chip ID, please update bootloader!
raspi_read: from:30000 len:1000 
.*** Warning - bad CRC, using default environment

============================================ 
Ralink UBoot Version: 3.5.2.0
-------------------------------------------- 
ASIC 5350_MP (Port5&lt;-&gt;None)
DRAM_CONF_FROM: Boot-Strapping 
DRAM_TYPE: SDRAM 
DRAM_SIZE: 256 Mbits
DRAM_WIDTH: 16 bits
DRAM_TOTAL_WIDTH: 16 bits
TOTAL_MEMORY_SIZE: 32 MBytes
Flash component: SPI Flash
Date:Mar 31 2011  Time:18:31:42
============================================ 
icache: sets:256, ways:4, linesz:32 ,total:32768
dcache: sets:128, ways:4, linesz:32 ,total:16384 

 ##### The CPU freq = 360 MHZ #### 
 estimate memory size =32 Mbytes

Please choose the operation: 
   1: Load system code to SDRAM via TFTP. 
   2: Load system code then write to Flash via TFTP. 
   3: Boot system code via Flash (default).
   4: Entr boot command line interface.
   7: Load Boot Loader code then write to Flash via Serial. 
   9: Load Boot Loader code then write to Flash via TFTP. 
 0 
   
3: System Boot system code via Flash.
## Booting image at bc050000 ...
raspi_read: from:50000 len:40 
.   Image Name:   Linux Kernel Image
   Created:      2014-02-28   9:37:20 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    3409134 Bytes =  3.3 MB
   Load Address: 80000000
   Entry Point:  8041e000
raspi_read: from:50040 len:3404ee 
.....................................................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 8041e000) ...
## Giving linux memsize in MB, 32

Starting kernel ...


LINUX started...

 THIS IS ASIC
Linux version 2.6.21 (warlock@localhost.localdomain) (gcc version 3.4.2) #9 Fri Feb 28 13:37:16 MSK 2014

 The CPU frequency set to 360 MHz
CPU revision is: 0001964c
Determined physical RAM map:
 memory: 02000000 @ 00000000 (usable)
Initrd not found or empty - disabling initrd
Built 1 zonelists.  Total pages: 8128
Kernel command line: console=ttyS1,57600n8 root=/dev/ram0
Primary instruction cache 32kB, physically tagged, 4-way, linesize 32 bytes.
Primary data cache 16kB, 4-way, linesize 32 bytes.
Synthesized TLB refill handler (20 instructions).
Synthesized TLB load handler fastpath (32 instructions).
Synthesized TLB store handler fastpath (32 instructions).
Synthesized TLB modify handler fastpath (31 instructions).
Cache parity protection disabled
cause = c0808028, status = 11000000
PID hash table entries: 128 (order: 7, 512 bytes)
calculating r4koff... 0015f900(1440000)
CPU frequency 360.00 MHz
Using 180.000 MHz high precision timer.
Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
Memory: 26044k/32768k available (3310k kernel code, 6724k reserved, 901k data, 2088k init, 0k highmem)
Mount-cache hash table entries: 512
NET: Registered protocol family 16
SCSI subsystem initialized
usbcore: registered new interface driver usbfs
usbcore: registered new interface driver hub
usbcore: registered new device driver usb
deice id : c8 40 16 c8 40 (4016c840)
Time: MIPS clocksource has been installed.
Warning: un-recognized chip ID, please update SPI driver!
GD25Q64BSIG(c8 4017c840) (8192 Kbytes)
mtd .name = raspi, .size = 0x00800000 (8M) .erasesize = 0x00010000 (64K) .numeraseregions = 0
Creating 6 MTD partitions on &quot;raspi&quot;:
0x00000000-0x00800000 : &quot;ALL&quot;
0x00000000-0x00030000 : &quot;Bootloader&quot;
0x00030000-0x00040000 : &quot;Config&quot;
0x00040000-0x00050000 : &quot;Factory&quot;
0x00050000-0x003d0000 : &quot;Kernel&quot;
0x003d0000-0x00400000 : &quot;RW_FS&quot;
NET: Registered protocol family 2
IP route cache hash table entries: 1024 (order: 0, 4096 bytes)
TCP established hash table entries: 1024 (order: 1, 8192 bytes)
TCP bind hash table entries: 1024 (order: 0, 4096 bytes)
TCP: Hash tables configured (established 1024 bind 1024)
TCP reno registered
detected lzma initramfs
detected lzma initramfs
initramfs: LZMA lc=3,lp=0,pb=2,dictSize=1048576,origSize=9700352
LZMA initramfs by Ming-Ching Tiew &lt;mctiew@yahoo.com&gt;.....................................................................................................................................................RT3xxx EHCI/OHCI init.
JFFS2 version 2.2. (NAND) (SUMMARY)  (C) 2001-2006 Red Hat, Inc.
fuse init (API version 7.8)
io scheduler noop registered (default)
Ralink gpio driver initialized
spidrv_major = 217
HDLC line discipline: version $Revision: #1 $, maxframe=4096
N_HDLC line discipline registered.
Serial: 8250/16550 driver $Revision: #1 $ 2 ports, IRQ sharing disabled
serial8250: ttyS0 at MMIO 0xb0000500 (irq = 37) is a 16550A
serial8250: ttyS1 at MMIO 0xb0000c00 (irq = 12) is a 16550A
RAMDISK driver initialized: 16 RAM disks of 16384K size 1024 blocksize
loop: loaded (max 8 devices)
rdm_major = 253
Ralink APSoC Ethernet Driver Initilization. v3.0  256 rx/tx descriptors allocated, mtu = 1500!
GMAC1_MAC_ADRH -- : 0x0000d4bf
GMAC1_MAC_ADRL -- : 0x7f3837e5
PROC INIT OK!
usbcore: registered new interface driver asix
usbcore: registered new interface driver cdc_ether
usbcore: registered new interface driver rndis_host
cdc_ncm: 14-Mar-2012
usbcore: registered new interface driver cdc_ncm
usbcore: registered new interface driver qmi_wwan
PPP generic driver version 2.4.2
PPP BSD Compression module registered
PPP MPPE Compression module registered
NET: Registered protocol family 24
PPPoL2TP kernel driver, V0.18.3
PPTP driver version 0.8.1


=== pAd = c005b000, size = 622440 ===

&lt;-- RTMPAllocAdapterBlock, Status=0
block2mtd: version $Revision: #1 $
rt3xxx-ehci rt3xxx-ehci: Ralink EHCI Host Controller
rt3xxx-ehci rt3xxx-ehci: new USB bus registered, assigned bus number 1
rt3xxx-ehci rt3xxx-ehci: irq 18, io mem 0x101c0000
rt3xxx-ehci rt3xxx-ehci: USB 0.0 started, EHCI 1.00, driver 10 Dec 2004
usb usb1: configuration #1 chosen from 1 choice
hub 1-0:1.0: USB hub found
hub 1-0:1.0: 1 port detected
rt3xxx-ohci rt3xxx-ohci: RT3xxx OHCI Controller
rt3xxx-ohci rt3xxx-ohci: new USB bus registered, assigned bus number 2
rt3xxx-ohci rt3xxx-ohci: irq 18, io mem 0x101c1000
usb usb2: configuration #1 chosen from 1 choice
hub 2-0:1.0: USB hub found
hub 2-0:1.0: 1 port detected
usbcore: registered new interface driver cdc_acm
drivers/usb/class/cdc-acm.c: v0.25:USB Abstract Control Model driver for USB modems and ISDN adapters
usbcore: registered new interface driver cdc_wdm
Initializing USB Mass Storage driver...
usbcore: registered new interface driver usb-storage
USB Mass Storage support registered.
usbcore: registered new interface driver usbserial
drivers/usb/serial/usb-serial.c: USB Serial support registered for generic
usbcore: registered new interface driver usbserial_generic
drivers/usb/serial/usb-serial.c: USB Serial Driver core
drivers/usb/serial/usb-serial.c: USB Serial support registered for IPWireless converter
usbcore: registered new interface driver ipwtty
drivers/usb/serial/ipw.c: IPWireless tty driver v0.3
drivers/usb/serial/usb-serial.c: USB Serial support registered for GSM modem (1-port)
drivers/usb/serial/usb-serial.c: USB Serial support registered for GSM modem (1-port) generic
usbcore: registered new interface driver option
usbcore: registered new interface driver option_generic
drivers/usb/serial/option.c: USB Driver for GSM modems: v0.7.2
pktgen v2.68: Packet Generator for packet performance testing.
nf_conntrack version 0.5.0 (256 buckets, 2048 max)
nf_conntrack_rtsp v0.6.21 loading
nf_nat_rtsp v0.6.21 loading
ip_tables: (C) 2000-2006 Netfilter Core Team, Type=Restricted Cone
TCP cubic registered
NET: Registered protocol family 1
NET: Registered protocol family 10
NET: Registered protocol family 17
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;
All bugs added by David S. Miller &lt;davem@redhat.com&gt;
Freeing unused kernel memory: 2088k freed
init started: BusyBox v1.12.1 (2014-02-28 13:33:53 MSK)
startAlgorithmics/MIPS FPU Emulator v1.5
ing pid 660, tty &#039;&#039;: &#039;/etc_ro/rcS&#039;
devpts: called with bogus options
Welcome to UPVEL Router
tar: can&#039;t open &#039;/dev/mtdblock7&#039;: No such device or address
Unlocking RW_FS ...
Writing from /etc/config.tar.bz2 to RW_FS ...  [w]
starting pid 677, tty &#039;/dev/ttyS1&#039;: &#039;/bin/sh&#039;


BusyBox v1.12.1 (2014-02-28 13:33:53 MSK) built-in shell (ash)
Enter &#039;help&#039; for a list of built-in commands.

# internet.sh&amp;
led=13, on=4000, off=1, blinks,=1, reset=1, time=4000
killall rt2860apd 1&gt;/dev/null 2&gt;&amp;1
iptables -F -t filter 1&gt;/dev/null 2&gt;&amp;1
iptables -D FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -F macipport_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -D FORWARD -j web_filter  1&gt;/dev/null 2&gt;&amp;1
iptables -F web_filter  1&gt;/dev/null 2&gt;&amp;1
iptables -D FORWARD -j malicious_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -F malicious_filter  1&gt;/dev/null 2&gt;&amp;1
iptables -D INPUT -j malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -F malicious_input_filter  1&gt;/dev/null 2&gt;&amp;1
iptables -P INPUT ACCEPT
iptables -P OUTPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -t filter -N web_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -N macipport_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -N malicious_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -N synflood_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -N malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -N synflood_input_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -A FORWARD -j web_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -A FORWARD -j macipport_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -A FORWARD -j malicious_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -A malicious_filter -p tcp --syn -j synflood_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -A INPUT -j malicious_input_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -t filter -A malicious_input_filter -p tcp --syn -j synflood_input_filter 1&gt;/dev/null 2&gt;&amp;1
iptables -A FORWARD -p tcp --tcp-flags SYN,RST SYN -j TCPMSS --clamp-mss-to-pmtu 1&gt;/dev/null 2&gt;&amp;1
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/dev/nvram: No such file or directory
/bin/super_dmz -f
sh: /bin/super_dmz: not found
iptables -t nat -D PREROUTING -j port_forward 1&gt;/dev/null 2&gt;&amp;1
iptables -t nat -F port_forward  1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X port_forward  1&gt;/dev/null 2&gt;&amp;1
iptables -t nat -D PREROUTING -j DMZ 1&gt;/dev/null 2&gt;&amp;1
iptables -t nat -F DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -X DMZ  1&gt;/dev/null 2&gt;&amp;1
cat /proc/sys/net/netfilter/nf_conntrack_udp_timeout &gt; /var/.udpbackup
echo 0 &gt; /proc/sys/net/netfilter/nf_conntrack_udp_timeout
cat /var/.udpbackup &gt; /proc/sys/net/netfilter/nf_conntrack_udp_timeout; rm -f /var/.udpbackup
cat /proc/sys/net/netfilter/nf_conntrack_tcp_timeout_established &gt; /var/.tcpbackup
echo 0 &gt; /proc/sys/net/netfilter/nf_conntrack_tcp_timeout_established
cat /var/.tcpbackup &gt; /proc/sys/net/netfilter/nf_conntrack_tcp_timeout_established; rm -f /var/.tcpbackup
iptables -t nat -N port_forward 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 1 -j port_forward 1&gt;/dev/null 2&gt;&amp;1
Password for &#039;admin&#039; changed
iptables -t nat -N DMZ 1&gt;/dev/null 2&gt;&amp;1; iptables -t nat -I PREROUTING 2 -j DMZ 1&gt;/dev/null 2&gt;&amp;1
ntp.sh
ddns.sh
rmmod: ralink_wdt: No such file or directory
rmmod: cls: No such file or directory
rmmod: hw_nat: No such file or directory
rmmod: raeth: No such file or directory
insmod: bridge.ko: module not found
insmod: mii.ko: module not found
kill -9 `cat /var/run/wscd.pid.ra0`
cat: can&#039;t open &#039;/var/run/wscd.pid.ra0&#039;: No such file or directory
insmod: raeth.ko: module not found
kill: you need to specify whom to kill
iwpriv ra0 set WscConfMode=0 1&gt;/dev/null 2&gt;&amp;1
route delete 239.255.255.250 1&gt;/dev/null 2&gt;&amp;1
killall -q klogd
killall -q syslogd
syslogd -C8 1&gt;/dev/null 2&gt;&amp;1
klogd 1&gt;/dev/null 2&gt;&amp;1
killall -q zebra
killall -q ripd
echo 0 &gt; /proc/sys/net/ipv6/conf/all/forwarding
webs: Listening for HTTP requests at address 192.168.10.1
torrent enable  

##### disable 1st wireless interface #####
rmmod: rt2860v2_ap_net: No such file or directory
rmmod: rt2860v2_ap: No such file or directory
rmmod: rt2860v2_ap_util: No such file or directory
insmod: rt2860v2_ap_util.ko: module not found
insmod: rt2860v2_ap.ko: module not found
insmod: rt2860v2_ap_net.ko: module not found
RX DESC a04f8000  size = 2048
&lt;-- RTMPAllocTxRxRingMemory, Status=0
Key1Str is Invalid key length(0) or Type(0)
Key2Str is Invalid key length(0) or Type(0)
Key3Str is Invalid key length(0) or Type(0)
Key4Str is Invalid key length(0) or Type(0)
1. Phy Mode = 9
2. Phy Mode = 9
3. Phy Mode = 9
MCS Set = ff 00 00 00 01
Main bssid = d4:bf:7f:38:37:e4
&lt;==== rt28xx_init, Status=0
0x1300 = 00064380
ifconfig: ioctl 0x8913 failed: No such device
brctl: bridge br0: No such device or address
iptables v1.3.5: can&#039;t initialize iptables table `mangle&#039;: Table does not exist (do you need to insmod?)
Perhaps iptables or your kernel needs to be upgraded.
Raeth v3.0 (Tasklet,SkbRecycle)

phy_tx_ring = 0x01691000, tx_ring = 0xa1691000

phy_rx_ring0 = 0x01692000, rx_ring0 = 0xa1692000
GMAC1_MAC_ADRH -- : 0x0000d4bf
GMAC1_MAC_ADRL -- : 0x7f3837e5
RT305x_ESW: Link Status Changed
vconfig: ioctl error for rem: Invalid argument
vconfig: ioctl error for rem: Invalid argument
rmmod: 8021q: No such file or directory
insmod: 8021q.ko: module not found
eth2.2: Setting MAC address to  d4 bf 7f 38 37 e6.
device eth2 entered promiscuous mode
VLAN (eth2.2):  Setting underlying device (eth2) to promiscious mode.
##### config Ralink ESW vlan partition (LLLLW) #####
switch reg write offset=14, value=405555
switch reg write offset=50, value=2001
switch reg write offset=98, value=7f3f
switch reg write offset=e4, value=3f
switch reg write offset=40, value=1001
switch reg write offset=44, value=1001
switch reg write offset=48, value=1002
switch reg write offset=70, value=ffff506f
done.
device ra0 entered promiscuous mode
eth2.1: dev_set_promiscuity(master, 1)
device eth2.1 entered promiscuous mode
udhcpc (v1.12.1) started
br0: port 2(eth2.1) entering learning state
br0: port 1(ra0) entering learning state
ifconfig: ioctl 0x8914 failed: Cannot assign requested address
ifconfig: ioctl 0x8914 failed: Cannot assign requested address
br0: topology change detected, propagating
br0: port 2(eth2.1) entering forwarding state
br0: topology change detected, propagating
br0: port 1(ra0) entering forwarding state
usage: config-udhcpd.sh [option]...
options:
  -h              : print this help
  -s ipaddr       : set ipaddr as start of the IP lease block
  -e ipaddr       : set ipaddr as end of the IP lease block
  -i ifc          : set ifc as the interface that udhcpd will use
  -d dns1 [dns2]  : set dns1 and dns2 as DNS
  -m mask         : set mask as subnet netmask
  -g gateway      : set gateway as router&#039;s IP address
  -t time         : set time seconds as the IP life time
  -r [sleep_time] : run dhcp server
  -k              : kill the running dhcp server
  -S [mac ipaddr] : statically assign IP to given MAC address
led=12, on=4000, off=1, blinks,=1, reset=1, time=4000
iptables v1.3.5: Unknown arg `--set-tos&#039;
Try `iptables -h&#039; or &#039;iptables --help&#039; for more information.
iptables v1.3.5: Unknown arg `--set-tos&#039;
Try `iptables -h&#039; or &#039;iptables --help&#039; for more information.
iptables v1.3.5: Unknown arg `--set-tos&#039;
Try `iptables -h&#039; or &#039;iptables --help&#039; for more information.
iptables v1.3.5: Unknown arg `--set-tos&#039;
Try `iptables -h&#039; or &#039;iptables --help&#039; for more information.</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229007">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						2 Apr 2014, 00:53					</div>
				</div>
				<div class="post-content content">
					<p>first attempt<br /></p><div class="codebox"><pre><code>Automatic boot of image at addr 0x80800000 ...
## Booting image at 80800000 ...
   Image Name:   MIPS OpenWrt Linux-3.10.34
   Created:      2014-04-01  21:46:59 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    982187 Bytes = 959.2 kB
   Load Address: 80000000
   Entry Point:  80000000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80000000) ...
## Giving linux memsize in MB, 32

Starting kernel ...

[    0.000000] Linux version 3.10.34 (openwrt@eri-macro) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40352) ) #6 Tue Apr 1 21:46:51 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] DTB has bad magic, ignoring builtin OF DTB
[    0.000000] Linux version 3.10.34 (openwrt@eri-macro) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40352) ) #6 Tue Apr 1 21:46:51 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] DTB has bad magic, ignoring builtin OF DTB



.... repeated continuously .....




[    0.000000] Linux version 3.10.34 (openwrt@eri-macro) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40352) ) #6 Tue Apr 1 21:46:51 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] DTB has bad magic, ignoring builtin OF DTB</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229009">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						2 Apr 2014, 01:10					</div>
				</div>
				<div class="post-content content">
					<p>second <br /></p><div class="codebox"><pre><code>Automatic boot of image at addr 0x80800000 ...
## Booting image at 80800000 ...
   Image Name:   MIPS OpenWrt Linux-3.10.34
   Created:      2014-04-01  22:05:07 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    983378 Bytes = 960.3 kB
   Load Address: 80000000
   Entry Point:  80000000
   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80000000) ...
## Giving linux memsize in MB, 32

Starting kernel ...

[    0.000000] Linux version 3.10.34 (openwrt@eri-macro) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40352) ) #7 Tue Apr 1 22:04:57 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is UR-312N4G Wireless N router
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=0001864e
[    0.000000] Readback ErrCtl register=0001864e
[    0.000000] Memory: 29356k/32768k available (2135k kernel code, 3412k reserved, 549k data, 192k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.000000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.080000] pinctrl core: initialized pinctrl subsystem
[    0.090000] NET: Registered protocol family 16
[    0.140000] bio: create slab &lt;bio-0&gt; at 0
[    0.140000] rt2880_gpio 10000600.gpio: registering 24 gpios
[    0.150000] rt2880_gpio 10000600.gpio: registering 24 irq handlers
[    0.160000] Switching to clocksource MIPS
[    0.170000] NET: Registered protocol family 2
[    0.180000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.200000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.210000] TCP: Hash tables configured (established 512 bind 512)
[    0.220000] TCP: reno registered
[    0.230000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.240000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.250000] NET: Registered protocol family 1
[    0.260000] rt-timer 10000100.timer: maximum frequncy is 7324Hz
[    0.310000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.320000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.350000] msgmni has been set to 57
[    0.360000] io scheduler noop registered
[    0.360000] io scheduler deadline registered (default)
[    0.380000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    0.390000] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.410000] console [ttyS0] enabled, bootconsole disabled
[    0.410000] console [ttyS0] enabled, bootconsole disabled
[    0.450000] eth0: done loading
[    0.450000] rt3xxx-usbphy ubsphy.3: loaded
[    0.460000] rt2880_wdt 10000120.watchdog: Initialized
[    0.480000] TCP: cubic registered
[    0.480000] NET: Registered protocol family 17
[    0.490000] 8021q: 802.1Q VLAN Support v1.8
[    0.500000] VFS: Cannot open root device &quot;(null)&quot; or unknown-block(0,0): error -6
[    0.520000] Please append a correct &quot;root=&quot; boot option; here are the available partitions:
[    0.530000] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0)</code></pre></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229014">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						2 Apr 2014, 02:08					</div>
				</div>
				<div class="post-content content">
					<p>It BOOTS</p><div class="codebox"><pre><code>2: System Load Linux Kernel then write to Flash via TFTP. 
 Warning!! Erase Linux in Flash then burn new one. Are you sure?(Y/N)
 Please Input new ones /or Ctrl-C to discard
    Input device IP (10.10.10.123) ==:10.10.10.123
    Input server IP (10.10.10.3) ==:10.10.10.3
    Input Linux Kernel filename (openwrt-ramips-rt305x-ur-312n4g-squashfs-sysupgrade.bin) ==:openwrt-ramips-rt305x-ur-312n4g-squashfs-sysupgrade.bin

 netboot_common, argc= 3 

 NetTxPacket = 0x81FE59C0 

 KSEG1ADDR(NetTxPacket) = 0xA1FE59C0 

 NetLoop,call eth_halt ! 

 NetLoop,call eth_init ! 
Trying Eth0 (10/100-M)

 Waitting for RX_DMA_BUSY status Start... done


 Header Payload scatter function is Disable !! 

 ETH_STATE_ACTIVE!! 
Using Eth0 (10/100-M) device
TFTP from server 10.10.10.3; our IP address is 10.10.10.123
Filename &#039;openwrt-ramips-rt305x-ur-312n4g-squashfs-sysupgrade.bin&#039;.

 TIMEOUT_COUNT=10,Load address: 0x80100000
Loading: *
ArpTimeoutCheck 
T T T T Got ARP REPLY, set server/gtwy eth addr (08:60:6e:82:78:54)
Got it
#################################################################
     #################################################################
     #################################################################
     #################################################################
     #################################################################
     #################################################################
     #################################################################
     #################################################################
     ############################################
done
Bytes transferred = 2883588 (2c0004 hex)
NetBootFileXferSize= 002c0004
raspi_erase_write: offs:50000, count:2c0004
raspi_erase: offs:50000 len:2c0000
............................................
raspi_write: to:50000 len:2c0000 
............................................
raspi_read: from:50000 len:10000 
.raspi_read: from:60000 len:10000 
.raspi_read: from:70000 len:10000 
.raspi_read: from:80000 len:10000 
.raspi_read: from:90000 len:10000 
.raspi_read: from:a0000 len:10000 
.raspi_read: from:b0000 len:10000 
.raspi_read: from:c0000 len:10000 
.raspi_read: from:d0000 len:10000 
.raspi_read: from:e0000 len:10000 
.raspi_read: from:f0000 len:10000 
.raspi_read: from:100000 len:10000 
.raspi_read: from:110000 len:10000 
.raspi_read: from:120000 len:10000 
.raspi_read: from:130000 len:10000 
.raspi_read: from:140000 len:10000 
.raspi_read: from:150000 len:10000 
.raspi_read: from:160000 len:10000 
.raspi_read: from:170000 len:10000 
.raspi_read: from:180000 len:10000 
.raspi_read: from:190000 len:10000 
.raspi_read: from:1a0000 len:10000 
.raspi_read: from:1b0000 len:10000 
.raspi_read: from:1c0000 len:10000 
.raspi_read: from:1d0000 len:10000 
.raspi_read: from:1e0000 len:10000 
.raspi_read: from:1f0000 len:10000 
.raspi_read: from:200000 len:10000 
.raspi_read: from:210000 len:10000 
.raspi_read: from:220000 len:10000 
.raspi_read: from:230000 len:10000 
.raspi_read: from:240000 len:10000 
.raspi_read: from:250000 len:10000 
.raspi_read: from:260000 len:10000 
.raspi_read: from:270000 len:10000 
.raspi_read: from:280000 len:10000 
.raspi_read: from:290000 len:10000 
.raspi_read: from:2a0000 len:10000 
.raspi_read: from:2b0000 len:10000 
.raspi_read: from:2c0000 len:10000 
.raspi_read: from:2d0000 len:10000 
.raspi_read: from:2e0000 len:10000 
.raspi_read: from:2f0000 len:10000 
.raspi_read: from:300000 len:10000 
.raspi_read: from:310000 len:10000 
.raspi_erase: offs:310000 len:10000
.
raspi_write: to:310000 len:10000 
.
raspi_read: from:310000 len:10000 
.Done!
## Booting image at bc050000 ...
raspi_read: from:50000 len:40 
.   Image Name:   MIPS OpenWrt Linux-3.10.34
   Created:      2014-04-01  23:01:46 UTC
   Image Type:   MIPS Linux Kernel Image (lzma compressed)
   Data Size:    983579 Bytes = 960.5 kB
   Load Address: 80000000
   Entry Point:  80000000
raspi_read: from:50040 len:f021b 
................   Verifying Checksum ... OK
   Uncompressing Kernel Image ... OK
No initrd
## Transferring control to Linux (at address 80000000) ...
## Giving linux memsize in MB, 32

Starting kernel ...

[    0.000000] Linux version 3.10.34 (openwrt@eri-macro) (gcc version 4.8.3 (OpenWrt/Linaro GCC 4.8-2014.01 r40352) ) #8 Tue Apr 1 23:01:36 UTC 2014
[    0.000000] SoC Type: Ralink RT5350 id:1 rev:3
[    0.000000] bootconsole [early0] enabled
[    0.000000] CPU revision is: 0001964c (MIPS 24KEc)
[    0.000000] MIPS: machine is UR-312N4G Wireless N router
[    0.000000] Determined physical RAM map:
[    0.000000]  memory: 02000000 @ 00000000 (usable)
[    0.000000] Initrd not found or empty - disabling initrd
[    0.000000] Zone ranges:
[    0.000000]   Normal   [mem 0x00000000-0x01ffffff]
[    0.000000] Movable zone start for each node
[    0.000000] Early memory node ranges
[    0.000000]   node   0: [mem 0x00000000-0x01ffffff]
[    0.000000] Primary instruction cache 32kB, VIPT, 4-way, linesize 32 bytes.
[    0.000000] Primary data cache 16kB, 4-way, VIPT, no aliases, linesize 32 bytes
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 8128
[    0.000000] Kernel command line: console=ttyS0,57600 rootfstype=squashfs,jffs2
[    0.000000] PID hash table entries: 128 (order: -3, 512 bytes)
[    0.000000] Dentry cache hash table entries: 4096 (order: 2, 16384 bytes)
[    0.000000] Inode-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.000000] Writing ErrCtl register=0004864e
[    0.000000] Readback ErrCtl register=0004864e
[    0.000000] Memory: 29352k/32768k available (2135k kernel code, 3416k reserved, 549k data, 192k init, 0k highmem)
[    0.000000] SLUB: HWalign=32, Order=0-3, MinObjects=0, CPUs=1, Nodes=1
[    0.000000] NR_IRQS:256
[    0.000000] CPU Clock: 360MHz
[    0.000000] Calibrating delay loop... 239.61 BogoMIPS (lpj=1198080)
[    0.070000] pid_max: default: 32768 minimum: 301
[    0.070000] Mount-cache hash table entries: 512
[    0.080000] pinctrl core: initialized pinctrl subsystem
[    0.090000] NET: Registered protocol family 16
[    0.140000] bio: create slab &lt;bio-0&gt; at 0
[    0.150000] rt2880_gpio 10000600.gpio: registering 24 gpios
[    0.160000] rt2880_gpio 10000600.gpio: registering 24 irq handlers
[    0.170000] Switching to clocksource MIPS
[    0.180000] NET: Registered protocol family 2
[    0.190000] TCP established hash table entries: 512 (order: 0, 4096 bytes)
[    0.210000] TCP bind hash table entries: 512 (order: -1, 2048 bytes)
[    0.220000] TCP: Hash tables configured (established 512 bind 512)
[    0.230000] TCP: reno registered
[    0.240000] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.250000] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.260000] NET: Registered protocol family 1
[    0.270000] rt-timer 10000100.timer: maximum frequncy is 7324Hz
[    0.320000] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.330000] jffs2: version 2.2 (NAND) (SUMMARY) (LZMA) (RTIME) (CMODE_PRIORITY) (c) 2001-2006 Red Hat, Inc.
[    0.360000] msgmni has been set to 57
[    0.370000] io scheduler noop registered
[    0.370000] io scheduler deadline registered (default)
[    0.390000] Serial: 8250/16550 driver, 2 ports, IRQ sharing disabled
[    0.400000] 10000c00.uartlite: ttyS0 at MMIO 0x10000c00 (irq = 20) is a 16550A
[    0.420000] console [ttyS0] enabled, bootconsole disabled
[    0.420000] console [ttyS0] enabled, bootconsole disabled
[    0.450000] m25p80 spi32766.0: found gd25q32, expected pm25lq032
[    0.460000] m25p80 spi32766.0: gd25q32 (4096 Kbytes)
[    0.470000] 4 ofpart partitions found on MTD device spi32766.0
[    0.480000] Creating 4 MTD partitions on &quot;spi32766.0&quot;:
[    0.490000] 0x000000000000-0x000000030000 : &quot;u-boot&quot;
[    0.510000] 0x000000030000-0x000000040000 : &quot;config&quot;
[    0.520000] 0x000000040000-0x000000050000 : &quot;factory&quot;
[    0.540000] 0x000000050000-0x000000400000 : &quot;firmware&quot;
[    0.550000] 0x00000014025b-0x000000400000 : &quot;rootfs&quot;
[    0.560000] mtd: partition &quot;rootfs&quot; must either start or end on erase block boundary or be smaller than an erase block -- forcing read-only
[    0.590000] mtd: device 4 (rootfs) set to be root filesystem
[    0.600000] mtd: partition &quot;rootfs_data&quot; created automatically, ofs=0x2e0000, len=0x120000
[    0.620000] 0x0000002e0000-0x000000400000 : &quot;rootfs_data&quot;
[    0.640000] eth0: done loading
[    0.650000] rt3xxx-usbphy ubsphy.3: loaded
[    0.660000] rt2880_wdt 10000120.watchdog: Initialized
[    0.670000] TCP: cubic registered
[    0.680000] NET: Registered protocol family 17
[    0.690000] 8021q: 802.1Q VLAN Support v1.8
[    0.720000] VFS: Mounted root (squashfs filesystem) readonly on device 31:4.
[    0.730000] Freeing unused kernel memory: 192K (802a0000 - 802d0000)
procd: Console is alive
procd: - watchdog -
procd: - preinit -
[    5.300000] rt305x-esw 10110000.esw: link changed 0x00
ifconfig: SIOCSIFFLAGS: Cannot assign requested address
sendto(): Network is unreachable
Press the [f] key and hit [enter] to enter failsafe mode
Press the [1], [2], [3] or [4] key and hit [enter] to select the debug level
[    7.020000] rt305x-esw 10110000.esw: link changed 0x08
[    7.360000] usbcore: registered new interface driver usbfs
[    7.370000] usbcore: registered new interface driver hub
[    7.390000] usbcore: registered new device driver usb
[    7.410000] dwc_otg: version 2.72a 24-JUN-2008
[    7.420000] leds-gpio gpio-leds.4: pins are not configured from the driver
jffs2 is not ready - marker found
ifconfig: SIOCSIFFLAGS: Cannot assign requested address
procd: - early -
procd: - watchdog -
procd: - ubus -
procd: - init -
Please press Enter to activate this console.
[   10.740000] NET: Registered protocol family 10
[   10.770000] nf_conntrack version 0.5.0 (461 buckets, 1844 max)
[   10.790000] ip6_tables: (C) 2000-2006 Netfilter Core Team
[   10.830000] Loading modules backported from Linux version master-2014-01-23-0-g62c147d
[   10.850000] Backport generated by backports.git backports-20140124-0-g1256d3e
[   10.870000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   10.950000] xt_time: kernel timezone is -0000
[   10.990000] cfg80211: Calling CRDA to update world regulatory domain
[   11.000000] cfg80211: World regulatory domain updated:
[   11.010000] cfg80211:  DFS Master region: unset
[   11.020000] cfg80211:   (start_freq - end_freq @ bandwidth), (max_antenna_gain, max_eirp)
[   11.040000] cfg80211:   (2402000 KHz - 2472000 KHz @ 40000 KHz), (N/A, 2000 mBm)
[   11.050000] cfg80211:   (2457000 KHz - 2482000 KHz @ 40000 KHz), (N/A, 2000 mBm)
[   11.070000] cfg80211:   (2474000 KHz - 2494000 KHz @ 20000 KHz), (N/A, 2000 mBm)
[   11.080000] cfg80211:   (5170000 KHz - 5250000 KHz @ 80000 KHz), (N/A, 2000 mBm)
[   11.100000] cfg80211:   (5735000 KHz - 5835000 KHz @ 80000 KHz), (N/A, 2000 mBm)
[   11.110000] cfg80211:   (57240000 KHz - 63720000 KHz @ 2160000 KHz), (N/A, 0 mBm)
[   11.230000] PPP generic driver version 2.4.2
[   11.240000] NET: Registered protocol family 24
[   11.310000] rt2800_wmac 10180000.wmac: failed to load eeprom property
[   11.320000] ieee80211 phy0: rt2x00lib_request_eeprom_file: Info - Loading EEPROM data from &#039;soc_wmac.eeprom&#039;.
[   11.520000] ieee80211 phy0: rt2x00_set_rt: Info - RT chipset 5350, rev 0500 detected
[   11.540000] ieee80211 phy0: rt2x00_set_rf: Info - RF chipset 5350 detected
[   19.650000] jffs2_scan_eraseblock(): End of filesystem marker found at 0x0
[   19.680000] jffs2_build_filesystem(): unlocking the mtd device... done.
[   19.690000] jffs2_build_filesystem(): erasing all blocks after the end marker... </code></pre></div><p>Help me with MAC address pls.... and USB support <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>											<p class="post-edited">(Last edited by <strong>eri</strong> on 2 Apr 2014, 03:01)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229153">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						4 Apr 2014, 00:18					</div>
				</div>
				<div class="post-content content">
					<p><a href="http://pastebin.com/tPyggiC7">http://pastebin.com/tPyggiC7</a></p><p>no usb works <img src="https://forum.openwrt.org/img/smilies/sad.png" width="15" height="15" alt="sad" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229157">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						4 Apr 2014, 02:32					</div>
				</div>
				<div class="post-content content">
					<p>usb works! ethernet works ! wifi gone ((</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229970">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">kyokyowin</div>
					<div class="post-datetime">
						12 Apr 2014, 03:54					</div>
				</div>
				<div class="post-content content">
					<p>how can you may usb works ,I have the same problem for it,GPIO for leds and buttons not work~</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p229985">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						12 Apr 2014, 11:32					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>kyokyowin wrote:</cite><blockquote><p>how can you may usb works ,I have the same problem for it,GPIO for leds and buttons not work~</p></blockquote></div><p>Сложно понять can и may в одном предложении. Смотри мой код и конфиг. Правда конфиг у меня заточен под вебку.</p><p>Now wifi, ethernet, usb works. Problems with it was&nbsp; dot config related, need&nbsp; right packages set. Yellow led works. Source with my config pushed to github <a href="https://github.com/alex-eri/openwrt-ur-312n4g">https://github.com/alex-eri/openwrt-ur-312n4g</a> waiting for your patches;)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p230144">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">kyokyowin</div>
					<div class="post-datetime">
						14 Apr 2014, 09:46					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>eri wrote:</cite><blockquote><div class="quotebox"><cite>kyokyowin wrote:</cite><blockquote><p>how can you may usb works ,I have the same problem for it,GPIO for leds and buttons not work~</p></blockquote></div><p>Сложно понять can и may в одном предложении. Смотри мой код и конфиг. Правда конфиг у меня заточен под вебку.</p><p>Now wifi, ethernet, usb works. Problems with it was&nbsp; dot config related, need&nbsp; right packages set. Yellow led works. Source with my config pushed to github <a href="https://github.com/alex-eri/openwrt-ur-312n4g">https://github.com/alex-eri/openwrt-ur-312n4g</a> waiting for your patches;)</p></blockquote></div><br /><p>thx for you help,I will test as soon~</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233208">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">cyberax31337</div>
					<div class="post-datetime">
						13 May 2014, 06:25					</div>
				</div>
				<div class="post-content content">
					<p>Залил openwrt-ramips-rt305x-uImage.bin в web морде как прошивку в upvel 312 похоже файл был не тот(не судите строго, недавно начал знакомство с openwrt). В итоге роутер превратился в кирпич, постоянно горит wifi, порты правда реагируют на подключение кабеля. Войти на роутер не могу (192.168.1.1) Подскажите, что делать, как восстановить? Есть ли у него recovery mode?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233210">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						13 May 2014, 06:38					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>Залил openwrt-ramips-rt305x-uImage.bin в web морде как прошивку в upvel 312 похоже файл был не тот(не судите строго, недавно начал знакомство с openwrt). В итоге роутер превратился в кирпич, постоянно горит wifi, порты правда реагируют на подключение кабеля. Войти на роутер не могу (192.168.1.1) Подскажите, что делать, как восстановить? Есть ли у него recovery mode?</p></blockquote></div><p>Какой конфиг использовал для сборки прошивки? если ничего не менял в моем то попробуй установить адрес компа 192.168.1.2 и телнетом зайти на роутер . </p><p>хотя смотрю название файла - похоже ты залил не полную прошивку. полная называется *-sysupgrade.bin скинь мне этот файлик - посмотрю что там такое ты зашил. начинай искать уарт с уровнями ттл или кабель от старой нокии</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233211">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">cyberax31337</div>
					<div class="post-datetime">
						13 May 2014, 06:47					</div>
				</div>
				<div class="post-content content">
					<p>конфиг дефолтный, не стал ничего мудрить при сборке. telnetом не заходит. </p><div class="quotebox"><cite>eri wrote:</cite><blockquote><div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>Залил openwrt-ramips-rt305x-uImage.bin в web морде как прошивку в upvel 312 похоже файл был не тот(не судите строго, недавно начал знакомство с openwrt). В итоге роутер превратился в кирпич, постоянно горит wifi, порты правда реагируют на подключение кабеля. Войти на роутер не могу (192.168.1.1) Подскажите, что делать, как восстановить? Есть ли у него recovery mode?</p></blockquote></div><p>Какой конфиг использовал для сборки прошивки? если ничего не менял в моем то попробуй установить адрес компа 192.168.1.2 и телнетом зайти на роутер . </p><p>хотя смотрю название файла - похоже ты залил не полную прошивку. полная называется *-sysupgrade.bin скинь мне этот файлик - посмотрю что там такое ты зашил. начинай искать уарт с уровнями ттл или кабель от старой нокии</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233212">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">cyberax31337</div>
					<div class="post-datetime">
						13 May 2014, 06:53					</div>
				</div>
				<div class="post-content content">
					<p>А файл на какой адрес то скидывать?</p><div class="quotebox"><cite>eri wrote:</cite><blockquote><div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>Залил openwrt-ramips-rt305x-uImage.bin в web морде как прошивку в upvel 312 похоже файл был не тот(не судите строго, недавно начал знакомство с openwrt). В итоге роутер превратился в кирпич, постоянно горит wifi, порты правда реагируют на подключение кабеля. Войти на роутер не могу (192.168.1.1) Подскажите, что делать, как восстановить? Есть ли у него recovery mode?</p></blockquote></div><p>Какой конфиг использовал для сборки прошивки? если ничего не менял в моем то попробуй установить адрес компа 192.168.1.2 и телнетом зайти на роутер . </p><p>хотя смотрю название файла - похоже ты залил не полную прошивку. полная называется *-sysupgrade.bin скинь мне этот файлик - посмотрю что там такое ты зашил. начинай искать уарт с уровнями ттл или кабель от старой нокии</p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233215">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						13 May 2014, 08:05					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>А файл на какой адрес то скидывать?</p></blockquote></div><p>какой в роутер скинул тот и пришли..</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233216">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">cyberax31337</div>
					<div class="post-datetime">
						13 May 2014, 08:16					</div>
				</div>
				<div class="post-content content">
					<p>Файл выложил. Держи: <a href="http://yadi.sk/d/FsHxQ-YOQ3c63">http://yadi.sk/d/FsHxQ-YOQ3c63</a></p>											<p class="post-edited">(Last edited by <strong>cyberax31337</strong> on 13 May 2014, 10:30)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233231">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						13 May 2014, 13:19					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>Файл выложил. Держи: <a href="http://yadi.sk/d/FsHxQ-YOQ3c63">http://yadi.sk/d/FsHxQ-YOQ3c63</a></p></blockquote></div><p>там только ядро. самой системы нет - поздравляю с кирпичом)</p><p>можно восстановить: ищи шнурок от нокии, бельевую прещепку и кабель сата) </p><p>ну если шнурок жалко резать, то что-то вроде этого нужно</p><p><a href="http://ru.aliexpress.com/item/1PCS-CP2102-Serial-Converter-USB-2-0-To-TTL-UART-6PIN-Module/869646764.html?af=ppc&amp;isdl=y&amp;src=Google&amp;albch=Google&amp;albcp=Search_Search-ALL-PLA&amp;albkw=None_Shopping-Search-Product-AliExpress_none_none&amp;albag=home_none_Search-All-PLA-RU_1013999999864&amp;albmt=broad&amp;albst=search-text&amp;albom=OTHERS_None_20130807_Aliexpress&amp;creative=37661488801&amp;ptsid=1013999999864&amp;gclid=CNTRxrbWqL4CFSLbcgodSbYAuQ">http://ru.aliexpress.com/item/1PCS-CP21 … cgodSbYAuQ</a></p>											<p class="post-edited">(Last edited by <strong>eri</strong> on 13 May 2014, 13:20)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233238">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">cyberax31337</div>
					<div class="post-datetime">
						13 May 2014, 14:31					</div>
				</div>
				<div class="post-content content">
					<p>Заказал уже на ebay. А схему подключения подскажите плз</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p233313">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">cyberax31337</div>
					<div class="post-datetime">
						14 May 2014, 08:16					</div>
				</div>
				<div class="post-content content">
					<p>Скиньте пожалуйста схему подключения роутера к com порту, если не сложно, и процесс восстановления</p><div class="quotebox"><cite>eri wrote:</cite><blockquote><div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>Файл выложил. Держи: <a href="http://yadi.sk/d/FsHxQ-YOQ3c63">http://yadi.sk/d/FsHxQ-YOQ3c63</a></p></blockquote></div><p>там только ядро. самой системы нет - поздравляю с кирпичом)</p><p>можно восстановить: ищи шнурок от нокии, бельевую прещепку и кабель сата) </p><p>ну если шнурок жалко резать, то что-то вроде этого нужно</p><p><a href="http://ru.aliexpress.com/item/1PCS-CP2102-Serial-Converter-USB-2-0-To-TTL-UART-6PIN-Module/869646764.html?af=ppc&amp;isdl=y&amp;src=Google&amp;albch=Google&amp;albcp=Search_Search-ALL-PLA&amp;albkw=None_Shopping-Search-Product-AliExpress_none_none&amp;albag=home_none_Search-All-PLA-RU_1013999999864&amp;albmt=broad&amp;albst=search-text&amp;albom=OTHERS_None_20130807_Aliexpress&amp;creative=37661488801&amp;ptsid=1013999999864&amp;gclid=CNTRxrbWqL4CFSLbcgodSbYAuQ">http://ru.aliexpress.com/item/1PCS-CP21 … cgodSbYAuQ</a></p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p235405">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">cyberax31337</div>
					<div class="post-datetime">
						2 Jun 2014, 13:55					</div>
				</div>
				<div class="post-content content">
					<p>Помогите пожалуйста со схемой подключения к TTL адаптеру</p><div class="quotebox"><cite>eri wrote:</cite><blockquote><div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>Файл выложил. Держи: <a href="http://yadi.sk/d/FsHxQ-YOQ3c63">http://yadi.sk/d/FsHxQ-YOQ3c63</a></p></blockquote></div><p>там только ядро. самой системы нет - поздравляю с кирпичом)</p><p>можно восстановить: ищи шнурок от нокии, бельевую прещепку и кабель сата) </p><p>ну если шнурок жалко резать, то что-то вроде этого нужно</p><p><a href="http://ru.aliexpress.com/item/1PCS-CP2102-Serial-Converter-USB-2-0-To-TTL-UART-6PIN-Module/869646764.html?af=ppc&amp;isdl=y&amp;src=Google&amp;albch=Google&amp;albcp=Search_Search-ALL-PLA&amp;albkw=None_Shopping-Search-Product-AliExpress_none_none&amp;albag=home_none_Search-All-PLA-RU_1013999999864&amp;albmt=broad&amp;albst=search-text&amp;albom=OTHERS_None_20130807_Aliexpress&amp;creative=37661488801&amp;ptsid=1013999999864&amp;gclid=CNTRxrbWqL4CFSLbcgodSbYAuQ">http://ru.aliexpress.com/item/1PCS-CP21 … cgodSbYAuQ</a></p></blockquote></div>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249697">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						8 Oct 2014, 11:13					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>cyberax31337 wrote:</cite><blockquote><p>Помогите пожалуйста со схемой подключения к TTL адаптеру</p></blockquote></div><p>около проца две точки меньше пол милиметра - это tx и rx</p><p>паять к ним не советую - очень хрупкие.</p><p>берешь кабель от сата, с одной стороны разделываешь под провода, с другой разбиваешь его, чтоб контакты разъема оголились - интервал от них подходит под интервал тестпоинтов. отгибай и прижимай прищепкой.</p><p>землю я брал с корпуса усб, плюсовой можешь не подключать</p><p>если связи нет, то поменяй рх - тх местами, я уже не помню как правильно ставить...</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249699">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">nuclon</div>
					<div class="post-datetime">
						8 Oct 2014, 11:37					</div>
				</div>
				<div class="post-content content">
					<p>eri, а дай, пожалуйста. какой-нибудь контакт, чтобы не на форуме. я пытаюсь один роутер запилить для openwrt, нужна помощь. верней - просто идея - куда двигаться дальше.</p><p>спасибо.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p249701">
				<div class="post-metadata">
					<div class="post-num">Post #25</div>
					<div class="post-author">eri</div>
					<div class="post-datetime">
						8 Oct 2014, 11:40					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>nuclon wrote:</cite><blockquote><p>eri, а дай, пожалуйста. какой-нибудь контакт, чтобы не на форуме. я пытаюсь один роутер запилить для openwrt, нужна помощь. верней - просто идея - куда двигаться дальше.</p><p>спасибо.</p></blockquote></div><p> alex-eri@ya.ru пиши</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>