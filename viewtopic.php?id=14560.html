<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> WL500GP 128MB RAM Upgrade</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 7 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p63601">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">trucki</div>
					<div class="post-datetime">
						18 Feb 2008, 08:21					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>I upgraded my Asus WL-500gp to 128MB RAM.<br /><a href="http://www.wl500g.info/showthread.php?t=12381&amp;page=2">http://www.wl500g.info/showthread.php?t … amp;page=2</a><br /><a href="http://www.wl500g.info/showthread.php?t=12962">http://www.wl500g.info/showthread.php?t=12962</a></p><p>The Oleg Firmware is running fine with 128MB RAM.</p><p>X-Wrt not. The router doesn&#039;t start.</p><p>Only if I install the oleg firmware before and disable all RAM &gt; 32MB with:</p><p>nvram set sdram_init=0x000b<br />nvram set sdram_config=0x0032<br />nvram commit</p><p>The X-Wrt Wl500gp PPPoE image boots.</p><br /><p>If I try to enable 128MB RAM with:</p><p>nvram set sdram_init=0x0011<br />nvram set sdram_ncdl=0<br />nvram commit</p><br /><p>X-Wrt doesn&#039;t boot anymore and I have to install the Oleg Firmware again.</p><p>How can I fix this?</p><p>Trucki</p><p>PS: I also posted this question on the x-wrt forum: <a href="http://forum.x-wrt.org/index.php/topic,657.0.html">http://forum.x-wrt.org/index.php/topic,657.0.html</a></p>											<p class="post-edited">(Last edited by <strong>trucki</strong> on 18 Feb 2008, 08:22)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63624">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						18 Feb 2008, 16:35					</div>
				</div>
				<div class="post-content content">
					<p>What error do you get on the serial console?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63634">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">trucki</div>
					<div class="post-datetime">
						18 Feb 2008, 19:24					</div>
				</div>
				<div class="post-content content">
					<p>At the moment I wasn&#039;t able to get data from the serial console.<br />Do I have to connect the Max232 Chip to TX0 or TX1 ? What is the right speed? 115kbps ?</p><p>Trucki</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63925">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">Wurlitzer</div>
					<div class="post-datetime">
						23 Feb 2008, 03:10					</div>
				</div>
				<div class="post-content content">
					<p>Hi trucki,<br />I was able to get serial data from the WL-500GP, using <a href="http://sodoityourself.com/max232-serial-level-converter/">this schematic</a>. You have to use TX0 and RX0. Baud rate is 115200bit/s, with 8 data bits, no parity, 1 stop bit, and no flow control.<br />Cheers</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63930">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">trucki</div>
					<div class="post-datetime">
						23 Feb 2008, 10:48					</div>
				</div>
				<div class="post-content content">
					<p>Hi,<br />thanks for your answers.</p><p>I logged the CFE Output. Here is what it gives:</p><p>First I installed the lastest Oleg Firmware with 128MB support:<br />CFE_Output_Oleg_128MB:<br /></p><div class="codebox"><pre><code>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)                                             
Build Date: Â¥| 10Â¤Ã« 12 22:21:19 CST 2006 (root@localhost.localdomain)                                                                     
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.                                                       

Initializing Arena                  
Initializing Devices.                     
et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.7.0                                                              
rndis0: Broadcom USB RNDIS Network Adapter (P-t-P)                                                  
CPU type 0x29006: 264MHz                        
Total memory: 134217728 KBytes                              

Total memory used by CFE:  0x80800000 - 0x8089AF40 (634688)                                                           
Initialized Data:          0x808313D0 - 0x80833790 (9152)                                                         
BSS Area:                  0x80833790 - 0x80834F40 (6064)                                                         
Local Heap:                0x80834F40 - 0x80898F40 (409600)                                                           
Stack Area:                0x80898F40 - 0x8089AF40 (8192)                                                         
Text (code) segment:       0x80800000 - 0x808313D0 (201680)                                                           
Boot area (physical):      0x0089B000 - 0x008DB000                                                  
Relocation Factor:         I:00000000 - D:00000000                                                  

Device eth0:  hwaddr 00-1B-FC-57-AB-6E, ipaddr 192.168.178.1, mask 255.255.255.0                                                                                

        gateway not set, nameserver not set                                           
Null Rescue Flag.                 
Loader:raw Filesys:raw Dev:flash0.o                                 
Loading: .. 3560 bytes read                           
Entry at 0x80001000                   
Closing network.                
Starting program at 0x80001000                              
cpu probe         
prom init         
cpu report          
CPU revision is: 00029006                         
Primary instruction cache 16kb, linesize 16 bytes (2 ways)                                                          
Primary data cache 16kb, linesize 16 bytes (2 ways)                                                   
Linux version 2.4.20 (root@omnibook) (gcc version 3.2.3 with Broadcom modificati                                                                                
ons) #75 Fri Apr 6 00:12:23 MSD 2007                                    
Setting the PFC value as 0x15                             
Determined physical RAM map:                            
 memory: 08000000 @ 00000000 (usable)                                     
On node 0 totalpages: 32768                           
zone(0): 3276            
zone(1): 0 pages.                 
zone(2): 0 pages.                 
Kernel command line: root=/dev/mtdblock2 noinitrd init=/linuxrc console=ttyS0,11                                                                                
5200    
CPU: BCM4704 rev 9 at 264 MHz                             
Calibrating delay loop... 263.78 BogoMIPS                                         
Memory: 127292k/131072k available (1799k kernel code, 3780k reserved, 248k data,                                                                                
 68k init, 0k highmem)                      
Dentry cache hash table entries: 16384 (order: 5, 131072 bytes)                                                               
Inode cache hash table entries: 8192 (order: 4, 65536 bytes)                                                            
Mount-cache hash table entries: 2048 (order: 2, 16384 bytes)                                                            
Buffer-cache hash table entries: 8                                
Page-cache hash table entries: 32768 (order: 5, 131072 bytes)                                                             
Checking for &#039;wait&#039; instruction...  unavailable.                                                
POSIX conformance testing by UNIFIX                                   
PCI: Fixing up bus 0                    
PCI: Fixing up bridge                     
PCI: Fixing up bus 1                    
Linux NET4.0 for Linux 2.4                          
Based upon Swansea University Computer Society NET3.039                                                       
Initializing RT netlink socket                              
Starting kswapd               
Journalled Block Device driver loaded                                     
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)                                                             
devfs: boot_options: 0x1                        
NTFS driver v1.1.22 [Flags: R/O]                                
pty: 256 Unix98 ptys                   
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI en                                                                                
abled     
ttyS00 at 0xb8000300 (irq = 3) is a 16550A                                          
ttyS01 at 0xb8000400 (irq = 3) is a 16550A                                          
HDLC line discipline: version $Revision$, maxframe=4096                                                       
N_HDLC line discipline registered.                                  
loop: loaded (max 8 devices)                            
PPP generic driver version 2.4.2                                
PPP Deflate Compression module registered                                         
PPP BSD Compression module registered                                     
MPPE/MPPC encryption/compression module registered                                                  
 Amd/Fujitsu Extended Query Table v1.3 at 0x0040                                                
 Flash Id: Vendor: 0x0001 Device: 0x007e                                        
number of CFI chips: 1                      
Flash device: 0x800000 at 0x1c000000                                    
Physically mapped flash: squashfs filesystem found at block 941                                                               
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:                                                       
0x00000000-0x00040000 : &quot;pmon&quot;                              
0x00040000-0x007f0000 : &quot;linux&quot;                               
0x000eb714-0x007f0000 : &quot;rootfs&quot;                                
0x007f0000-0x00800000 : &quot;nvram&quot;                               
0x003e0000-0x007f0000 : &quot;flashfs&quot;                                 
sflash: found no supported devices                                  
NET4: Linux TCP/IP 1.0 for NET4.0                                 
IP Protocols: ICMP, UDP, TCP, IGMP                                  
IP: routing cache hash table of                               
TCP: Hash tables configured (established 8192 bind 16384)                                                         
Linux IP multicast router 0.06 plus PIM-SM                                          
ip_conntrack version 2.1 (1024 buckets, 8192 max) - 352 bytes per conntrack                                                                           
ip_conntrack_pptp version 1.9 loaded                                    
ip_nat_pptp version 1.5 loaded                              
ip_tables: (C) 2000-2002 Netfilter core team                                            
ipt_time loading                
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.                                                   
IPv6 v0.8 for NET4.0                    
IPv6 over IPv4 tunneling driver                               
NET4: Ethernet Bridge 008 for NET4.0                                    
802.1Q VLAN Support v1.7 Ben Greear &lt;greearb@candelatech.com&gt;                                                             
All bugs added by David S. Miller &lt;davem@redhat.com&gt;                                                    
FAT: bogus logical sector size 58624                                    
FAT: bogus logical sector size 58624                                    
NTFS: Unable to set blocksize 512.                                  
VFS: Mounted root (squashfs filesystem) readonly.                                                 
Mounted devfs on /dev                     
Freeing unused kernel memory: 68k freed                                       
Algorithmics/MIPS FPU Emulator v1.5                                   
eth0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.37.0                                                                
PCI: Enabling device 01:02.0 (0004 -&gt; 0006)                                           
eth1: Broadcom BCM4318 802.11 Wireless Controller 3.90.38.0                                                           
vlan0: add 33:33:00:00:00:01 mcast addr                                     
vlan0: add 33:33:ff:57:ab:6e mcast address to master interface                                                              
vlan0: dev_set_promiscuity(master, 1)                                     
device eth0 entered promiscuous mode                                    
device vlan0 entered promiscuous mode                                     
device eth1 entered promiscuous mode                                    
br0: port 2(eth1) entering listening state                                          
br0: port 1(vlan0) entering listening state                                           
br0: port 2(eth1) entering learning state                                         
br0: port 1(vlan0) entering learning state                                          
br0: port 2(eth1) entering forwarding state                                           
br0: topology change detected, propagating                                          
br0: port 1(vlan0) entering forwarding state                                            
br0: topology change detected, propagating                                          
usb.c: registered new driver usbdevfs                                     
usb.c: registered new driver hub                                
usb-uhci.c: $Revision: 1.275 $ time 10:25:12 Jun 17 2006                                                        
usb-uhci.c: High bandwidth mode enabled                                       
PCI: Enabling device 01:03.0 (0000 -&gt; 0001)                                           
ECHI PCI device 30381106 found.                               
UCHI reg 0x41 = 10                  
UCHI reg 0x41 changed to = 0                            
usb-uhci.c: USB UHCI at I/O 0x100, IRQ 2                                        
usb-uhci.c: Detected 2 ports                            
usb.c: new USB bus registered, assigned bus number 1                                                    
hub.c: USB hub found                    
hub.c: 2 ports detected                       
PCI: Enabling device 01:03.1 (0000 -&gt; 0001)                                           
ECHI PCI device 30381106 found.                               
UCHI reg 0x41 = 10                  
UCHI reg 0x41 changed to = 0                            
usb-uhci.c: USB UHCI at I/O 0x120, IRQ 2                                        
usb-uhci.c: Detected 2 ports                            
usb.c: new USB bus registered, assigned bus number 2                                                    
hub.c: USB hub found                    
hub.c: 2 ports detected                       
usb-uhci.c: v1.275:USB Universal Host Controller Interface driver                                                                 
PCI: Enabling device 01:03.2 (0000 -&gt; 0002)                                           
ehci_hcd 01:03.2: PCI device 1106:3104                                      
ehci_hcd 01:03.2: irq 2, pci mem c00b0000                                         
usb.c: new USB bus registered, assig                                  
ECHI PCI device 31041106 found.                               
ECHI reg 0x49 = 80010f20                        
ECHI reg 0x49 changed to = 80010f00                                   
ECHI reg 0x4b = 80010f09                        
ECHI reg 0x4b changed to = 80010f29                                   
PCI: 01:03.2 PCI cache line size set incorrectly (0 bytes) by BIOS/FW, correctin                                                                                
g to 32       
ehci_hcd 01:03.2: USB 2.0 enabled, EHCI 1.00, driver 2003-Dec-29/2.4                                                                    
hub.c: USB hub found                    
hub.c: 4 ports detected                       
usb.c: registered new driver usblp                                  
printer.c: v0.13: USB Printer Device Class driver                                                 
usb.c: registered new driver audio                                  
audio.c: v1.0.0:USB Audio Class driver                                      
Linux video capture interface: v1.00                                    
SCSI subsystem driver Revision: 1.00                                    
Initializing USB Mass Storage driver...                                       
usb.c: registered new driver usb-storage                                        
USB Mass Storage support registered.
vlan1: Setting MAC address to  00 1b fc 57 ab 6e.
VLAN (vlan1):  Underlying device (eth0) has same MAC, not checking promiscious m
ode.
vlan1: add 33:33:00:00:00:01 mcast address to master interface
vlan1: add 33:33:ff:57:ab:6e mcast address to master interface
vlan1: Invalid argument
PCI devices found:
    Class 0501: PCI device 14e4:0800 (rev 9).
    Class 0200: PCI device 14e4:4713 (rev 9).
    Class 0200: PCI device 14e4:4713 (rev 9).
    Class 0c03: PCI device 14e4:4715 (rev 9).
    Class 0604: PCI device 14e4:0804 (rev 9).
    Class 0b30: PCI device 14e4:0816 (rev 9).
    Class 0703: PCI device 14e4:4712 (rev 9).
    Class 1000: PCI device 14e4:4718 (rev 9).
    Class 0500: PCI device 14e4:080f (rev 9).
    Class 0600: PCI device 14e4:4704 (rev 9).
    Class 0280: PCI device 14e4:4318 (rev 2).
    Class 0c03: PCI device 1106:3038 (rev 98).
    Class 0c03: PCI device 1106:3038 (rev 98).
    Class 0c03: PCI device 1106:3104 (rev 101).
echo for PaN ::: &amp;&amp;&amp;PaN</code></pre></div><p>Then I enabled only 32MB of ram with<br /></p><div class="codebox"><pre><code>nvram set sdram_init=0x000b
nvram set sdram_config=0x0032
nvram commit</code></pre></div><p>And installed the lastest X-Wrt Image for WL-500gp PPPoE Support. <br />CFE Output X-WRT_32MB:<br /></p><div class="codebox"><pre><code>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)le (default=/var/log/messages)               
Build Date: Â¥| 10Â¤Ã« 12 22:21:19 CST 2006 (root@localhost.localdomain) -l n            Sets the local log l                                
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.. jffs2.bbc: SIZE compression mode ac                  

Initializing Arena                  
Initializing Devices.  
tivated.        
P
et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.7.0                      

                                      
rndis0: Broadcom USB RNDIS Network Adapter (P-t-P)                                                  
CPU type 0x29006: 264MHz                        
Total memory: 33554432 KBytes                             

Total memory used by CFE:  0x80800000 - 0x8089AF40 (634688)                                                           
Initialized Data:          0x808313D0 - 0x80833790 (9152)                                                         
Boot area (physical):      0x0089B000 - 0x008DB000                                                  
Relocation Factor:         I:00000000 - D:00000000                                                  

Device eth0:  hwaddr 00-1B-FC-57-AB-6E, ipaddr 192.168.178.1, mask 255.255.255.0                                                                                

        gateway not set, nameserver not set                                           
Null Rescue Flag.                 
Loader:raw Filesys:raw Dev:flash0.o                                 
Loading: .. 3704 bytes read                           
Entry at 0x80001000                   
Closing network.                
Starting program at 0x80001000                              
CPU revision is: 00029006                         
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.                                                                            
Primary data cache 16kB, 2-way, linesize 16 bytes.                                                  
Linux version 2.4.30 (travis@localhost.localdomain) (gcc version 3.4.4 (OpenWrt-                                                                                
1.0)) #1 Wed Aug 8 08:21:33 CDT 2007                                    
Setting the PFC value as 0x15                             
Determined physical RAM map:                            
 memory: 02000000 @ 00000000 (usable)                                     
On node 0 totalpages: 8192                          
zone(0): 8192 pages.                    
zone(1): 0 pages.                 
zone(2): 0 pages.                 
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/pre                                                                                
init noinitrd console=ttyS0,115200                                  
CPU: BCM4704 rev 9 at 264 MHz                             
Using 132.000 MHz high precision timer.                                       
Calibrating delay loop... 263.78 BogoMIPS                                         
Memory: 30436k/32768k available (1455k kernel code, 2332k reserved, 104k data, 8                                                                                
0k init, 0k highmem)                    
Dentry cache hash table entries: 4096 (order: 3, 32768 bytes)                                                             
Inode cache hash table entries: 2048 (order: 2, 16384 bytes)                                                            
Mount cache hash table entries: 512 (order: 0, 4096 bytes)                                                          
Buffer cache hash table entries: 1024 (order: 0, 4096 bytes)                                                            
Page-cache hash table entries: 8192 (order: 3, 32768 bytes)                                                           
Checking for &#039;wait&#039; instruction...  unavailable.                                                
POSIX conformance testing by UNIFIX                                   
PCI: Fixing up bus 0                    
PCI: Fixing up bridge                     
PCI: Fixing up bus 1                    
Linux NET4.0 for Linux 2.4                          
Based upon Swansea University Computer Society NET3.039                                                       
Initializing RT netlink socket                              
Starting kswapd               
Registering mini_fo version $Id$                                
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)                                                             
devfs: boot_options: 0x1                        
JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.                                                                              
Squashfs 2.1-r2 (released 2004/12/15) (C) 2002-2004 Phillip Lougher                                                                   
pty: 256 Unix98 ptys configured                               
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI en                                                                                
abled     
ttyS00 at 0xb8000300 (irq = 3) is a 16550A                                          
ttyS01 at 0xb8000400 (irq = 0) is a 16550A                                          
b44.c:v0.93 (Mar, 2004)                       
eth0: Broadcom 47xx 10/100BaseT Ethernet 00:1b:fc:57:a                                                     
eth1: Broadcom 47xx 10/100BaseT Ethernet 40:10:18:00:00:2d                                                          
 Amd/Fujitsu Extended Query Table v1.3 at 0x0040                                                
number of CFI chips: 1                      
cfi_cmdset_0002: Disabling fast programming due to code brokenness.                                                                   
Flash device: 0x800000 at 0x1c000000                                    
bootloader size: 262144                       
Physically mapped flash: Filesystem type: squashfs, size=0x11e737                                                                 
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:                                                       
0x00000000-0x00040000 : &quot;cfe&quot;                             
0x00040000-0x007f0000 : &quot;linux&quot;                               
0x000be400-0x001e0000 : &quot;rootfs&quot;                                
mtd: partition &quot;rootfs&quot; doesn&#039;t start on                                        
nly   
0x007f0000-0x00800000 : &quot;nvram&quot;                               
0x001e0000-0x007f0000 : &quot;OpenWrt&quot;                                 
Initializing Cryptographic API                              
NET4: Linux TCP/IP 1.0 for NET4.0                                 
IP Protocols: ICMP, UDP, TCP, IGMP                                  
IP: routing cache hash table of 512 buckets, 4Kbytes                                                    
TCP: Hash tables configured (established 2048 bind 4096)                                                        
ip_conntrack version 2.1 (5953 buckets, 5953 max) - 332 bytes per conntrack                                                                           
ip_tables: (C) 2000-2002 Netfilter core team                                            
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.                                                   
NET4: Ethernet Bridge 008 for NET4.0                                    
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;                                                             
All bugs added by David S. Miller &lt;davem@redhat.com&gt;                                                    
VFS: Mounted root (squashfs filesystem) readonly.                                                 
Mounted devfs on /dev                     
Freeing unused kernel memory: 80k freed                                       
Algorithmics/MIPS FPU Emulator v1.5                                   
diag: Detected &#039;ASUS WL-500g Premium&#039;                                     
Probing device eth0: found!                           
b44: eth0: Link is up at 100 Mbps, full duplex.                                               
b44: eth0: Flow control is off for TX and off for RX.                                                     
Unlocking linux ...                   
switching to jffs2                  
mini_fo: using base directory: /                                
mini_fo: using storage directory: /jffs                                       
init started:  BusyBox v1.4.2 (2007-08-08 08:29:39 CDT) multi-call binary                                                                         
BusyBox v1.4.2 (2007-08-08 08:29:39 CDT) multi-call binary                                                          

Usage: syslogd [OPTION]...                          

System logging utility.                       
Note that this version of syslogd ignores /etc/syslog.conf.                                                           

Options:        
        -m MIN          Minutes between MARK lines (default=20, 0=off)                                                                      
        -n              Run as foreground process                                                 
        -O FILE         Use an alternate log file (default=/var/log/messages)   
        -l n            Sets the loca
Please press Enter to activate this console. jffs2.bbc: SIZE compression mode ac
tivated.
PCI: Enabling device 01:02.0 (0004 -&gt; 0006)
eth2: Broadcom BCM4318 802.11 Wireless Controller 3.90.37.0
CSLIP: code copyright 1989 Regents of the University of California
PPP generic driver version 2.4.2
BFL_ENETADM not set in boardflags. Use force=1 to ignore.
device eth0 entered promiscuous mode
b44: eth0: Link is up at 100 Mbps, full duplex.
b44: eth0: Flow control is off for TX and off for RX.
vlan0: dev_set_promiscuity(master, 1)
vlan0: dev_set_allmulti(master, 1)
device eth2 entered promiscuous mode
eth2: attempt to add interface with same source address.
br0: port 2(eth2) entering listening state
br0: port 1(vlan0) entering listening state
br0: port 2(eth2) entering learning state
br0: port 2(eth2) entering forwarding state
br0: topology change detected, propagating
br0: port 1(vlan0) entering learning state
br0: port 1(vlan0) entering forwarding state
br0: topology change detected, propagating</code></pre></div><p>After installing X-Wrt I logged in with putty and enabled 128MB Ram with<br /></p><div class="codebox"><pre><code>nvram set sdram_init=0x0011
nvram set sdram_config=0x0062
nvram commit</code></pre></div><p>CFE_Output after reboot.<br />CFE_Output_X-Wrt_128MB:<br /></p><div class="codebox"><pre><code>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)                               
init started:
Build Date: Â¥| 10Â¤Ã« 12 22:21:19 CST 2006 (root@localhost.localdomain)                                                               
BusyB
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.                                                       

et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.7.0
rndis0: Broadcom USB RNDIS Network Adapter (P-t-P)
CPU type 0x29006: 264MHz
Total memory: 134217728 KBytes

Total memory used by CFE:  0x80800000 - 0x8089AF40 (634688)
Initialized Data:          0x808313D0 - 0x80833790 (9152)
BSS Area:                  0x80833790 - 0x80834F40 (6064)
Local Heap:                0x80834F40 - 0x80898F40 (409600)
Stack Area:                0x80898F40 - 0x8089AF40 (8192)
Text (code) segment:       0x80800000 - 0x808313D0 (201680)
Boot area (physical):      0x0089B000 - 0x008DB000
Relocation Factor:         I:00000000 - D:00000000

Device eth0:  hwaddr 00-1B-FC-57-AB-6E, ipaddr 192.168.178.1, mask 255.255.255.0

        gateway not set, nameserver not set
Null Rescue Flag.
Loader:raw Filesys:raw Dev:flash0.os File: Options:(null)
Loading: .. 3704 bytes read
Entry at 0x80001000
Closing network.
Starting program at 0x80001000</code></pre></div><p>That&#039;s all. I waited for about 3 minutes, but the router doesn&#039;t start.</p><p>Any ideas?</p><p>Trucki</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63934">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						23 Feb 2008, 12:20					</div>
				</div>
				<div class="post-content content">
					<p>I don&#039;t know.&nbsp; Maybe you should open a ticket with all of this information.</p><p>I see Oleg&#039;s firmware is based on kernel version 2.4.20, while the X-Wrt firmware is using 2.4.30.&nbsp; Of course I don&#039;t know what the differences are between Oleg&#039;s 2.4.20 and a vanilla 2.4.20.&nbsp; You could perhaps get a vanilla 2.4.20 tarball and diff it with the one in Oleg&#039;s image to see what the differences are.&nbsp; Maybe Asus included some patch that allows 128MB to work?</p><p>Whatever it is, the problem seems to happen very early in the boot sequence.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p63957">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">trucki</div>
					<div class="post-datetime">
						24 Feb 2008, 00:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>oleg wrote that there is a patch to solve the problem. Until now I haven&#039;t tested it.</p><p><a href="http://oleg.wl500g.info/wl500gp/kernel-mvista-mem.patch">http://oleg.wl500g.info/wl500gp/kernel-mvista-mem.patch</a></p><p>Trucki</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64080">
				<div class="post-metadata">
					<div class="post-num">Post #8</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						26 Feb 2008, 12:15					</div>
				</div>
				<div class="post-content content">
					<p>Can you build and try latest trunk from OpenWrt subversion (not X-Wrt) and see if it detect all RAM? Maybe it&#039;s already fixed.</p><p>The prom.c file from brcm-2.4 and brcm47xx targets (trunk). Seems it looks like that it should detect the RAM size automatically:<br /> - <a href="https://dev.openwrt.org/browser/trunk/target/linux/brcm47xx/files/arch/mips/bcm947xx/prom.c">trunk/target/linux/brcm47xx/files/arch/mips/bcm947xx/prom.c</a><br /> - <a href="https://dev.openwrt.org/browser/trunk/target/linux/brcm-2.4/files/arch/mips/bcm947xx/prom.c">trunk/target/linux/brcm-2.4/files/arch/mips/bcm947xx/prom.c</a></p><p>The kernel-mvista-mem.patch patch only modifies the prom.c file.</p><p>If it&#039;s not fixed in latest trunk I&#039;ll try to create a clean patch from the above to patch prom.c file.</p>											<p class="post-edited">(Last edited by <strong>forum2008</strong> on 26 Feb 2008, 12:58)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64089">
				<div class="post-metadata">
					<div class="post-num">Post #9</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						26 Feb 2008, 14:18					</div>
				</div>
				<div class="post-content content">
					<p>Please compile a image with OpenWrt trunk, the patch and test (please test with Kernel 2.4 and 2.6):</p><div class="codebox"><pre><code>cd ~
svn checkout https://svn.openwrt.org/openwrt/trunk/ ~/trunk/
cd ~/trunk/
wget --no-check-certificate -q -m -nd -O - &quot;https://dev.openwrt.org/attachment/ticket/3177/detect-128mb-ram.diff?format=raw&quot; | patch -p0
make menuconfig # select your target in menuconfig
make world</code></pre></div><p>After a while, ready to use images (with the patch) for flashing are in the ~/trunk/bin/ directory.</p>											<p class="post-edited">(Last edited by <strong>forum2008</strong> on 26 Feb 2008, 14:27)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64380">
				<div class="post-metadata">
					<div class="post-num">Post #10</div>
					<div class="post-author">trucki</div>
					<div class="post-datetime">
						1 Mar 2008, 19:50					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>thank you for the patch.<br />I think it works:</p><p>CFE_OUTPUT_OPENWRT_128MB_PATCH<br /></p><div class="codebox"><pre><code>CFE version 1.0.37 for BCM947XX (32bit,SP,LE)                                             
Build Date: Â¥| 10Â¤Ã« 12 22:21:19 CST 2006 (root@localhost.localdomain)                                                                     
Copyright (C) 2000,2001,2002,2003 Broadcom Corporation.                                                       

Initializing Arena                  
Initializing Devices.                     
et0: Broadcom BCM47xx 10/100 Mbps Ethernet Controller 3.90.7.0                                                              
rndis0: Broadcom USB RNDIS Network Adapter (P-t-P)                                                  
CPU type 0x29006: 264MHz                        
Total memory: 134217728 KBytes                              

Total memory used by CFE:  0x80800000 - 0x8089AF40 (634688)                                                           
Initialized Data:          0x808313D0 - 0x80833790 (9152)                                                         
BSS Area:                  0x80833790 - 0x80834F40 (6064)                                                         
Local Heap:                0x80834F40 - 0x80898F40 (409600)                                                           
Stack Area:                0x80898F40 - 0x8089AF40 (8192)                                                         
Text (code) segment:       0x80800000 - 0x808313D0 (201680)                                                           
Boot area (physical):      0x0089B000 - 0x008DB000                                                  
Relocation Factor:         I:00000000 - D:00000000                                                  

Device eth0:  hwaddr 00-1B-FC-57-AB-6E, ipaddr 192.168.178.1, mask 255.255.255.0                                                                                

        gateway not set, nameserver not set                                           
Null Rescue Flag.                 
Loader:raw Filesys:raw Dev:flash0.o                                 
Loading: .. 3732 bytes read                           
Entry at 0x80001000                   
Closing network.                
Starting program at 0x80001000                              
CPU revision is: 00029006                         
Primary instruction cache 16kB, physically tagged, 2-way, linesize 16 bytes.                                                                            
Primary data cache 16kB, 2-way, linesize 16 bytes.                                                  
Linux version 2.4.35.4 (trucki@trucki-ubuntu) (gcc version 3.4.6 (OpenWrt-2.0))                                                                               
#2 Sat Mar 1 12:36:54 CET 2008                              
Setting the PFC to its default value                                    
Determined physical RAM map:                            
 memory: 08000000 @ 00000000 (usable)                                     
On node 0 totalpages: 32768                           
zone(0): 32768 pages.                     
zone(1): 0 pages.                 
zone(2): 0 pages.                 
Kernel command line: root=/dev/mtdblock2 rootfstype=squashfs,jffs2 init=/etc/pre                                                                                
init noinitrd console=ttyS0,115200                                  
CPU: BCM4704 rev 9 at 264 MHz                             
Using 132.000 MHz high precision timer.                                       
Calibrating delay loop... 263.78 BogoMIPS                                         
Memory: 127660k/131072k available (1474k kernel code, 3412k reserved, 100k data,                                                                                
 88k init, 0k highmem)                      
Dentry cache hash table entries: 16384 (order: 5, 131072 bytes)                                                               
Inode cache hash table entries: 8192 (order: 4, 65536 bytes)                                                            
Mount cache hash table entries: 512 (order: 0, 4096 bytes)                                                          
Buffer cache hash table entries: 8192 (order: 3, 32768 bytes)                                                             
Page-cache hash table entries: 32768 (order: 5, 131072 bytes)                                                             
Checking for &#039;wait&#039; instruction...  unavailable.                                                
POSIX conformance testing by UNIFIX                                   
PCI: Initializing host                      
PCI: Fixing up bus 0                    
PCI: Fixing up bridge                     
PCI: Fixing up bus 1                    
Linux NET4.0 for Linux 2.4                          
Based upon Swansea University Computer Society NET3.039                                                       
Initializing RT netlink socket                              
Starting kswapd               
Registering mini_fo version $Id$                                
devfs: v1.12c (20020818) Richard Gooch (rgooch@atnf.csiro.au)                                                             
devfs: boot_options: 0x1                        
JFFS2 version 2.1. (C) 2001 Red Hat, Inc., designed by Axis Communications AB.                                                                              
squashfs: version 3.0 (2006/03/15) Phillip Lougher                                                  
pty: 256 Unix98 ptys configured                               
Serial driver version 5.05c (2001-07-08) with MANY_PORTS SHARE_IRQ SERIAL_PCI en                                                                                
abled     
ttyS00 at 0xb8000300 (irq = 3) is a 16550A                                          
ttyS01 at 0xb8000400 (irq = 3) is a 16550A                                          
b44.c:v0.93 (Mar, 2004)                       
eth0: Broadcom 47xx 10/100BaseT Ethernet 00:1b:fc:57:ab:6e                                                          
eth1: Broadcom 47xx 10/100BaseT Ethernet 40:10:18:00:00:2d                                                          
 Amd/Fujitsu Extended Query Table v1.3 at 0x0040                                                
number of CFI chips: 1                      
cfi_cmdset_0002: Disabling fast programming due to code brokenness.                                                                   
Flash device: 0x800000 at 0x1c000000                                    
bootloader size: 262144                       
Physically mapped flash: Filesystem type: squashfs, size=0x13dee7                                                                 
Creating 5 MTD partitions on &quot;Physically mapped flash&quot;:                                                       
0x00000000-0x00040000 : &quot;cfe&quot;                             
0x00040000-0x007f0000 : &quot;linux&quot;                               
0x000bec00-0x00200000 : &quot;rootfs&quot;                                
mtd: partition &quot;rootfs&quot; doesn&#039;t start on                                        
nly   
0x007f0000-0x00800000 : &quot;nvram&quot;                               
0x00200000-0x007f0000 : &quot;rootfs_data&quot;                                     
Initializing Cryptographic API                              
NET4: Linux TCP/IP 1.0 for NET4.0                                 
IP Protocols: ICMP, UDP, TCP, IGMP                                  
IP: routing cache hash table of 1024 buckets, 8Kbytes                                                     
TCP: Hash tables configured (established 8192 bind 16384)                                                         
ip_conntrack version 2.1 (5953 buckets, 5953 max) - 344 bytes per conntrack                                                                           
ip_tables: (C) 2000-2002 Netfilter core team                                            
NET4: Unix domain sockets 1.0/SMP for Linux NET4.0.                                                   
NET4: Ethernet Bridge 008 for NET4.0                                    
802.1Q VLAN Support v1.8 Ben Greear &lt;greearb@candelatech.com&gt;                                                             
All bugs added by David S. Miller &lt;davem@redhat.com&gt;                                                    
VFS: Mounted root (squashfs filesystem) readonly.                                                 
Mounted devfs on /dev                     
Freeing unused kernel memory: 88k freed                                       
Algorithmics/MIPS FPU Emulator v1.5                                   
mount: mounting none on /sys failed: No such device                                                   
mount: mounting none on /dev failed: Device or resource busy                                                            
- preinit -           
diag: Detected &#039;ASUS WL-500g Premium&#039;                                     
b44: eth0: Link is up at 100 Mbps, full duplex.                                               
b44: eth0: Flow control is off for TX and of                                          
Probing device eth0: found!                           
switching to jffs2                  
mini_fo: using base directory: /                                
mini_fo: using storage directory: /jffs                                       
- init -        

Please press Enter to activate this console. jffs2.bbc: SIZE compression mode ac                                                                                
tivated.        
b44: eth0: Link is up at 100 Mbps, full duplex.                                               
b44: eth0: Flow control is off for TX and off for RX.                                                     
device eth0.0 entered promiscuous mode                                      
eth0.0: dev_set_promiscuity(master, 1)                                      
device eth0 entered promiscuous mode                                    
br-lan: port 1(eth0.0) entering learning state                                              
br-lan: port 1(eth0.0) entering for                                  
br-lan: topology change detected, propagating                                             
BFL_ENETADM not set in boardflags. Use force=1 to ignore.                                                         
usb.c: registered new driver usbdevfs                                     
usb.c: registered new driver hub                                
PCI: Enabling device 01:02.0 (0004 -&gt; 0006)                                           
PCI/DMA       
wl0: wlc_attach: chiprev 2 coreunit 0 corerev 9 cccap 0x640009 maccap 0x0 band 2
.4G, phy_type 2 phy_rev 7 ana_rev 3
wl0: Broadcom BCM4318 802.11 Wireless Controller 4.150.10.5
CSLIP: code copyright 1989 Regents of the University of California
PPP generic driver version 2.4.2
uhci.c: USB Universal Host Controller Interface driver v1.1
PCI: Enabling device 01:03.0 (0000 -&gt; 0001)
uhci.c: USB UHCI at I/O 0x100, IRQ 2
usb.c: new USB bus registered, assigned bus number 1
hub.c: USB hub found
hub.c: 2 ports detected
PCI: Enabling device 01:03.1 (0000 -&gt; 0001)
uhci.c: USB UHCI at I/O 0x120, IRQ 2
usb.c: new USB bus registered, assigned bus number 2
hub.c: USB hub found
hub.c: 2 ports detected
PCI: Enabling device 01:03.2 (0000 -&gt; 0002)
ehci_hcd 01:03.2: PCI device 1106:3104
ehci_hcd 01:03.2: irq 2, pci mem c01b8000
usb.c: new USB bus registered, assigned bus number 3
EHCI: Enabling VIA 6212 workarounds
ehci_hcd 01:03.2: USB 2.0 enabled, EHCI 1.00, driver 2003-Dec-29/2.4
hub.c: USB hub found
hub.c: 4 ports detected</code></pre></div><p>How can I compile X-Wrt with the patch?</p><p>Just by replacing the line:<br /></p><div class="codebox"><pre><code>svn checkout https://svn.openwrt.org/openwrt/trunk/ ~/trunk/</code></pre></div><p>with<br /></p><div class="codebox"><pre><code>svn checkout svn://svn.berlios.de/xwrt/whiterussian</code></pre></div><p>???</p><p>Trucki</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64386">
				<div class="post-metadata">
					<div class="post-num">Post #11</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						1 Mar 2008, 20:27					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>trucki wrote:</cite><blockquote><p>How can I compile X-Wrt with the patch?</p><p>Just by replacing the line:<br /></p><div class="codebox"><pre><code>svn checkout https://svn.openwrt.org/openwrt/trunk/ ~/trunk/</code></pre></div><p>with<br /></p><div class="codebox"><pre><code>svn checkout svn://svn.berlios.de/xwrt/whiterussian</code></pre></div><p>???</p><p>Trucki</p></blockquote></div><p>The first one will give you Kamikaze.&nbsp; White Russian is the older version of OpenWrt.&nbsp; If Kamikaze works for you, stick with it.</p><p>Follow the instructions here:<br /><a href="http://wiki.openwrt.org/OpenWrtDocs/BuildingKamikazeHowTo">http://wiki.openwrt.org/OpenWrtDocs/Bui … ikazeHowTo</a></p><p>(don&#039;t forget to apply the patch, of course)</p><p>but just before &quot;make menuconfig&quot; do:<br />scripts/feeds search webif</p><p>Note which packages you want and then do:<br />for i in webif webif-applications webif-hotspot; do scripts/feeds install $i; done</p><p>Then in the &quot;make menuconfig&quot; step, look in Administration|webif</p><p>At least that seems to have worked for me <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64408">
				<div class="post-metadata">
					<div class="post-num">Post #12</div>
					<div class="post-author">forum2008</div>
					<div class="post-datetime">
						2 Mar 2008, 13:11					</div>
				</div>
				<div class="post-content content">
					<p>To build OpenWrt Trunk with the memory detection patch and XWrt you have to do this:</p><div class="codebox"><pre><code>cd ~; rm -rf ~/trunk/
svn checkout https://svn.openwrt.org/openwrt/trunk/ ~/trunk/
cd ~/trunk/
wget --no-check-certificate -q -m -nd -O - &quot;https://dev.openwrt.org/attachment/ticket/3177/detect-128mb-ram.diff?format=raw&quot; | patch -p0

./scripts/feeds update
svn delete feeds/packages/XOrg/
./scripts/feeds install -a
./scripts/feeds uninstall webif-batman webif-olsr

make menuconfig # Select your Target System and Administration &gt; webif &gt; &lt;M&gt; webif and the other packages/features you need in menuconfig
make world</code></pre></div>											<p class="post-edited">(Last edited by <strong>forum2008</strong> on 2 Mar 2008, 16:52)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64413">
				<div class="post-metadata">
					<div class="post-num">Post #13</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						2 Mar 2008, 14:49					</div>
				</div>
				<div class="post-content content">
					<div class="quotebox"><cite>forum2008 wrote:</cite><blockquote><p>cd ~/trunk/package; ln -sf ../feeds/xwrt xwrt-packages; cd ~/trunk/</p></blockquote></div><p>scripts/feeds install ...<br />creates the symlinks from feeds/xxx for you, so of course either method will work.<br />scripts/feeds install -a<br />should install links for all packages under feeds.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64465">
				<div class="post-metadata">
					<div class="post-num">Post #14</div>
					<div class="post-author">trucki</div>
					<div class="post-datetime">
						3 Mar 2008, 07:43					</div>
				</div>
				<div class="post-content content">
					<p>HI,</p><p>which packages do I need? My PPPoE Connection doesn&#039;t really work. A Ping from the router to google.de works, but a ping from my PC not.</p><p>In &quot;make menuconfig&quot; I chose:</p><p> - &quot;Target Profile&quot; | WL500gp<br /> - &quot;Administration&quot; | WebIF | WefIf, lang_de, X-Wrt Theme</p><p>That&#039;s all.</p><p>Then I compiled with &quot;make world&quot; and installed the image on the router.</p><p>What did I do wrong?</p><p>THX Trucki</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p64467">
				<div class="post-metadata">
					<div class="post-num">Post #15</div>
					<div class="post-author">Wodin</div>
					<div class="post-datetime">
						3 Mar 2008, 08:15					</div>
				</div>
				<div class="post-content content">
					<p>The firewall/NAT rules probably have eth0.1 as the WAN interface instead of ppp0.</p><p>See this thread for other people experiencing the same problem:<br /><a href="http://forum.openwrt.org/viewtopic.php?id=14526">http://forum.openwrt.org/viewtopic.php?id=14526</a></p><p>EDIT: See also this ticket:<br /><a href="https://dev.openwrt.org/ticket/2515">https://dev.openwrt.org/ticket/2515</a></p>											<p class="post-edited">(Last edited by <strong>Wodin</strong> on 3 Mar 2008, 08:47)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p79693">
				<div class="post-metadata">
					<div class="post-num">Post #16</div>
					<div class="post-author">miguipda</div>
					<div class="post-datetime">
						16 Jan 2009, 10:59					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>can somebody tell me if the standard OpenWRT Kamikaze 8.09 RC1 for brcmxxx (ASUS WL-500g Premium V1) works on a hacked to 128Mb ?</p><p>Sincerely thanks.</p><p>Miguipda ;-)</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83087">
				<div class="post-metadata">
					<div class="post-num">Post #17</div>
					<div class="post-author">LaySoft</div>
					<div class="post-datetime">
						3 Mar 2009, 11:43					</div>
				</div>
				<div class="post-content content">
					<p>Hello!</p><p>Anybody knows, the Kamikaze presently works with 128 MB upgraded Asus WL-500Gp?</p><p>Thank you!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83089">
				<div class="post-metadata">
					<div class="post-num">Post #18</div>
					<div class="post-author">Yanira</div>
					<div class="post-datetime">
						3 Mar 2009, 12:04					</div>
				</div>
				<div class="post-content content">
					<p>No. The patch attached to the ticket is still not applied.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83091">
				<div class="post-metadata">
					<div class="post-num">Post #19</div>
					<div class="post-author">LaySoft</div>
					<div class="post-datetime">
						3 Mar 2009, 12:14					</div>
				</div>
				<div class="post-content content">
					<p>I see. Then the only (OpenWRT) solution is White Russian (with xwrt) latest build?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p83960">
				<div class="post-metadata">
					<div class="post-num">Post #20</div>
					<div class="post-author">LaySoft</div>
					<div class="post-datetime">
						16 Mar 2009, 10:28					</div>
				</div>
				<div class="post-content content">
					<p>Anybody used 128MB upgraded router with 2.6 kernel?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p105952">
				<div class="post-metadata">
					<div class="post-num">Post #21</div>
					<div class="post-author">LaySoft</div>
					<div class="post-datetime">
						3 Apr 2010, 14:19					</div>
				</div>
				<div class="post-content content">
					<p>And after long time:</p><p><a href="https://dev.openwrt.org/milestone/Backfire%2010.03-rc3">https://dev.openwrt.org/milestone/Backfire%2010.03-rc3</a></p><p>&quot;brcm-2.4: fix 128MB ram detection&quot;</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115175">
				<div class="post-metadata">
					<div class="post-num">Post #22</div>
					<div class="post-author">opensys</div>
					<div class="post-datetime">
						14 Aug 2010, 13:24					</div>
				</div>
				<div class="post-content content">
					<p>Hello,</p><p>I do this ram upgrade for my wl500GP v1 any works fine the 1º time. after i reboot it all led&#039;s start blinking like crazy and i power off it, then power on again and he never starts.<br />When power on all lead blink on then off, is ok but seams stopped in same stage. I replaced the 64M ram ic&#039;s with the original ones 16M and remove the 33ohm resistor, but no lucky.<br />I also connect to the serial port the see if has same output, but no, none has display but serial port.<br />REEEE!</p><br /><p>The to this to enable the 128M</p><p>nvram set sdram_init=0x0011<br />nvram set sdram_config=0x0062<br />nvram commit<br />reboot</p><br /><p>root@OpenWrt:~# free<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />&nbsp; Mem:&nbsp; &nbsp; &nbsp; &nbsp;127124&nbsp; &nbsp; &nbsp; &nbsp; 17072&nbsp; &nbsp; &nbsp; &nbsp;110052&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1424<br /> Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />Total:&nbsp; &nbsp; &nbsp; &nbsp;127124&nbsp; &nbsp; &nbsp; &nbsp; 17072&nbsp; &nbsp; &nbsp; &nbsp;110052</p><p>I also check and have 2.45v in the sdram, and yes.<br />Seams all ic&#039;s has the correct power.</p><p>Can some one help to diagnostic the problem ?</p><p>MY i try JTAG it. have some pic&#039;s around with the pin&#039;s and software to do it ?</p><p>VS</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115354">
				<div class="post-metadata">
					<div class="post-num">Post #23</div>
					<div class="post-author">opensys</div>
					<div class="post-datetime">
						17 Aug 2010, 01:57					</div>
				</div>
				<div class="post-content content">
					<p>Hey!</p><p>just recover it after the secret of pin 9 to gnd reset&#039;s the nvram.<br />yes this is just the problem. bad nvram settings.</p><p>what is the correct settings to active 128MB of ram ?</p><p>some useful info: <a href="http://code.google.com/p/wl500g/wiki/MemoryController">http://code.google.com/p/wl500g/wiki/MemoryController</a></p><p>nvram set sdram_init=0x0011</p><br /><p>VS</p>											<p class="post-edited">(Last edited by <strong>opensys</strong> on 17 Aug 2010, 15:32)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p115474">
				<div class="post-metadata">
					<div class="post-num">Post #24</div>
					<div class="post-author">opensys</div>
					<div class="post-datetime">
						18 Aug 2010, 15:24					</div>
				</div>
				<div class="post-content content">
					<p>fixed!</p><p>in&nbsp; Backfire (10.03.1-rc1, r22556)</p><p>nvram set sdram_init=0x0011<br />nvram set sdram_config=0x0062<br />nvram set sdram_ncdl=0x0000<br />nvram commit<br />reboot</p><br /><br /><p>Memory: 126788k/131072k available (2327k kernel code, 4108k reserved, 359k data, 136k init, 0k highmem)</p><p>root@OpenWrt:/# free<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; total&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;used&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;free&nbsp; &nbsp; &nbsp; &nbsp;shared&nbsp; &nbsp; &nbsp; buffers<br />&nbsp; Mem:&nbsp; &nbsp; &nbsp; &nbsp;127100&nbsp; &nbsp; &nbsp; &nbsp; 15344&nbsp; &nbsp; &nbsp; &nbsp;111756&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1432<br /> Swap:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 0<br />Total:&nbsp; &nbsp; &nbsp; &nbsp;127100&nbsp; &nbsp; &nbsp; &nbsp; 15344&nbsp; &nbsp; &nbsp; &nbsp;111756</p><br /><br /><p>VS</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>