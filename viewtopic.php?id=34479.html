<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> [?] No /dev detected 4 perfectly installed webcam driver - video cor</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 22 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p156195">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">miguipda</div>
					<div class="post-datetime">
						3 Feb 2012, 22:34					</div>
				</div>
				<div class="post-content content">
					<p>Hi,</p><p>How to know which videodevice t use in the next /etc/motion.conf if no one appears when I connect my USB Webcam (following all explained here) ?</p><br /><br /><p>I just perfectly installed motion 3.2.11.1-1 (and ffmpeg 0.5.4-2) on my linux (OpenWRT Backfire 10.03.1 firmware) routeur (ASUS WL-500g Premium).</p><p>For my USB Webcam Pixart Orite (0x093a : 0x2468) (a snake like) I compared the /dev before and after connecting this webcam and no device name appears. Then I used the default videodevice /dev/video0 setting in the /etc/motion.conf but it does not take any pictures.</p><p>Note I perfectly installed this webcam driver (pac207) and required video tool on this firmware :</p><p>kmod-video-core</p><p>kmod-video-gspca-pac207 (known driver precised at number 174 on this web page <a href="http://mxhaard.free.fr/spca5xx.html)">http://mxhaard.free.fr/spca5xx.html)</a>.</p><br /><br /><p>Confirmation that this driver is well known :</p><p>root@XXXXX:~# dmesg|grep usb</p><p>usbcore: registered new interface driver pac207</p><br /><br /><br /><p>Existing /dev with and without having this webcam connected :</p><p>root@XXXXXX:~# ls -al /dev</p><p>root@XXXXXX:~# ls /dev<br />1-1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mtd0&nbsp; &nbsp; &nbsp;mtd3ro&nbsp; &nbsp; &nbsp; &nbsp;mtdblock4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; random&nbsp; &nbsp;ttyS1<br />console&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mtd0ro&nbsp; mtd4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; network_latency&nbsp; &nbsp; &nbsp; &nbsp;root&nbsp; &nbsp; &nbsp; &nbsp; urandom<br />cpu_dma_latency&nbsp; mtd1&nbsp; &nbsp; mtd4ro&nbsp; &nbsp; &nbsp; &nbsp; network_throughput&nbsp; sda&nbsp; &nbsp; &nbsp; &nbsp; usb1<br />full&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mtd1ro mtdblock0&nbsp; &nbsp;null&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sda3&nbsp; &nbsp; &nbsp; &nbsp;watchdog<br />kmsg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mtd2&nbsp; &nbsp; &nbsp;mtdblock1&nbsp; &nbsp;port&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;shm&nbsp; &nbsp; &nbsp; &nbsp; zero<br />log&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mtd2ro&nbsp; mtdblock2&nbsp; &nbsp;ptmx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tty<br />mem&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mtd3&nbsp; &nbsp; &nbsp;mtdblock3&nbsp; &nbsp;pts&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ttyS0</p><br /><p>root@XXXXXX:~# ls /dev/video<br />ls: /dev/video: No such file or directory</p><p>root@XXXXXX:~# dmesg |grep gspca<br />gspca: main v2.7.0 registered</p><p>root@XXXXXX:~# dmesg |grep video<br />Linux video capture interface: v2.00</p><p>root@XXXXXX:~# dmesg |grep pac207<br />usbcore: registered new interface driver pac207<br />pac207: registered</p><br /><br /><br /><br /><p>I just set those settings off and commented the sql insert like this :<br />because I though it can store mpeg files on my destination HDD<br />/mnt/sda3/Videosurveillance/cam1 without using sql (mysql could<br />not be installed on this small memory router<br />=============================================<br />sql_log_image off<br />sql_log_snapshot off<br />#sql_query insert into security(...</p><br /><br /><p>Error displayed when test motion with this command :<br />=====================================<br />root@BigMama:~# motion -c motion.conf<br />[0] Configfile motion.conf not found - trying defaults.: No such file or directory<br />[0] Processing thread 0 - config file /etc/motion.conf<br />[0] Unknown config option &quot;ffmpeg_cap_new&quot;<br />[0] Unknown config option &quot;ffmpeg_cap_motion&quot;<br />[0] Unknown config option &quot;ffmpeg_timelapse&quot;<br />[0] Unknown config option &quot;ffmpeg_timelapse_mode&quot;<br />[0] Unknown config option &quot;ffmpeg_bps&quot;<br />[0] Unknown config option &quot;ffmpeg_variable_bitrate&quot;<br />[0] Unknown config option &quot;ffmpeg_video_codec&quot;<br />[0] Unknown config option &quot;ffmpeg_deinterlace&quot;<br />[0] Unknown config option &quot;movie_filename&quot;<br />[0] Unknown config option &quot;timelapse_filename&quot;<br />[0] Unknown config option &quot;sql_log_image&quot;<br />[0] Unknown config option &quot;sql_log_snapshot&quot;<br />[0] Unknown config option &quot;sql_log_mpeg&quot;<br />[0] Unknown config option &quot;sql_log_timelapse&quot;<br />[0] Motion 3.2.11.1 Started<br />[0] Motion going to daemon mode</p><br /><br /><br /><p>Config of /etc/motion.conf (where the destination path exist and is writable) but no known /dev when USB Webcam connected :<br />======================================================================================<br /># Rename this distribution example file to motion.conf<br />#<br /># This config file was generated by motion &quot;3.2.11.1&quot;</p><br /><p>############################################################<br /># Daemon<br />############################################################</p><p># Start in daemon (background) mode and release terminal (default: off)<br />daemon on</p><p># File to store the process ID, also called pid file. (default: not defined)<br />process_id_file /var/run/motion/motion.pid </p><p>############################################################<br /># Basic Setup Mode<br />############################################################</p><p># Start in Setup-Mode, daemon disabled. (default: off)<br />setup_mode off</p><p>###########################################################<br /># Capture device options<br />############################################################</p><p># Videodevice to be used for capturing&nbsp; (default /dev/video0)<br /># for FreeBSD default is /dev/bktr0<br />videodevice /dev/video0</p><p># v4l2_palette allows to choose preferable palette to be use by motion<br /># to capture from those supported by your videodevice. (default: 8)<br /># E.g. if your videodevice supports both V4L2_PIX_FMT_SBGGR8 and<br /># V4L2_PIX_FMT_MJPEG then motion will by default use V4L2_PIX_FMT_MJPEG.<br /># Setting v4l2_palette to 1 forces motion to use V4L2_PIX_FMT_SBGGR8<br /># instead.<br />#<br /># Values :<br /># V4L2_PIX_FMT_SN9C10X : 0&nbsp; &#039;S910&#039;<br /># V4L2_PIX_FMT_SBGGR8&nbsp; : 1&nbsp; &#039;BA81&#039;<br /># V4L2_PIX_FMT_MJPEG&nbsp; &nbsp;: 2&nbsp; &#039;MJPEG&#039;<br /># V4L2_PIX_FMT_JPEG&nbsp; &nbsp; : 3&nbsp; &#039;JPEG&#039;<br /># V4L2_PIX_FMT_RGB24&nbsp; &nbsp;: 4&nbsp; &#039;RGB3&#039;<br /># V4L2_PIX_FMT_UYVY&nbsp; &nbsp; : 5&nbsp; &#039;UYVY&#039;<br /># V4L2_PIX_FMT_YUYV&nbsp; &nbsp; : 6&nbsp; &#039;YUYV&#039;<br /># V4L2_PIX_FMT_YUV422P : 7&nbsp; &#039;422P&#039;<br /># V4L2_PIX_FMT_YUV420&nbsp; : 8&nbsp; &#039;YU12&#039;<br />v4l2_palette 8</p><p># Tuner device to be used for capturing using tuner as source (default /dev/tuner0)<br /># This is ONLY used for FreeBSD. Leave it commented out for Linux<br />; tunerdevice /dev/tuner0</p><p># The video input to be used (default: 8)<br /># Should normally be set to 0 or 1 for video/TV cards, and 8 for USB cameras<br />input 8</p><p># The video norm to use (only for video capture and TV tuner cards)<br /># Values: 0 (PAL), 1 (NTSC), 2 (SECAM), 3 (PAL NC no colour). Default: 0 (PAL)<br />norm 0</p><p># The frequency to set the tuner to (kHz) (only for TV tuner cards) (default: 0)<br />frequency 0</p><p># Rotate image this number of degrees. The rotation affects all saved images as<br /># well as mpeg movies. Valid values: 0 (default = no rotation), 90, 180 and 270.<br />rotate 0</p><p># Image width (pixels). Valid range: Camera dependent, default: 352<br />width 320</p><p># Image height (pixels). Valid range: Camera dependent, default: 288<br />height 240</p><p># Maximum number of frames to be captured per second.<br /># Valid range: 2-100. Default: 100 (almost no limit).<br />framerate 2</p><p># Minimum time in seconds between capturing picture frames from the camera.<br /># Default: 0 = disabled - the capture rate is given by the camera framerate.<br /># This option is used when you want to capture images at a rate lower than 2 per second.<br />minimum_frame_time 0</p><p># URL to use if you are using a network camera, size will be autodetected (incl http:// ftp:// or file:///)<br /># Must be a URL that returns single jpeg pictures or a raw mjpeg stream. Default: Not defined<br />; netcam_url value</p><p># Username and password for network camera (only if required). Default: not defined<br /># Syntax is user:password<br />; netcam_userpass value</p><p># The setting for keep-alive of network socket, should improve performance on compatible net cameras.<br /># 1.0:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The historical implementation using HTTP/1.0, closing the socket after each http request.<br /># keep_alive:&nbsp; Use HTTP/1.0 requests with keep alive header to reuse the same connection.<br /># 1.1:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Use HTTP/1.1 requests that support keep alive as default.<br /># Default: 1.0<br />; netcam_http 1.0</p><p># URL to use for a netcam proxy server, if required, e.g. &quot;http://myproxy&quot;.<br /># If a port number other than 80 is needed, use &quot;http://myproxy:1234&quot;.<br /># Default: not defined<br />; netcam_proxy value </p><p># Set less strict jpeg checks for network cameras with a poor/buggy firmware.<br /># Default: off<br />netcam_tolerant_check off</p><p># Let motion regulate the brightness of a video device (default: off).<br /># The auto_brightness feature uses the brightness option as its target value.<br /># If brightness is zero auto_brightness will adjust to average brightness value 128.<br /># Only recommended for cameras without auto brightness<br />auto_brightness off</p><p># Set the initial brightness of a video device.<br /># If auto_brightness is enabled, this value defines the average brightness level<br /># which Motion will try and adjust to.<br /># Valid range 0-255, default 0 = disabled<br />brightness 0</p><p># Set the contrast of a video device.<br /># Valid range 0-255, default 0 = disabled<br />contrast 0</p><p># Set the saturation of a video device.<br /># Valid range 0-255, default 0 = disabled<br />saturation 0</p><p># Set the hue of a video device (NTSC feature).<br /># Valid range 0-255, default 0 = disabled<br />hue 0</p><br /><p>############################################################<br /># Round Robin (multiple inputs on same video device name)<br />############################################################</p><p># Number of frames to capture in each roundrobin step (default: 1)<br />roundrobin_frames 1</p><p># Number of frames to skip before each roundrobin step (default: 1)<br />roundrobin_skip 1</p><p># Try to filter out noise generated by roundrobin (default: off)<br />switchfilter off</p><br /><p>############################################################<br /># Motion Detection Settings:<br />############################################################</p><p># Threshold for number of changed pixels in an image that<br /># triggers motion detection (default: 1500)<br />threshold 1500</p><p># Automatically tune the threshold down if possible (default: off)<br />threshold_tune off</p><p># Noise threshold for the motion detection (default: 32)<br />noise_level 32</p><p># Automatically tune the noise threshold (default: on)<br />noise_tune on</p><p># Despeckle motion image using (e)rode or (d)ilate or (l)abel (Default: not defined)<br /># Recommended value is EedDl. Any combination (and number of) of E, e, d, and D is valid.<br /># (l)abeling must only be used once and the &#039;l&#039; must be the last letter.<br /># Comment out to disable<br />despeckle EedDl</p><p># Detect motion in predefined areas (1 - 9). Areas are numbered like that:&nbsp; 1 2 3<br /># A script (on_area_detected) is started immediately when motion is&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;4 5 6<br /># detected in one of the given areas, but only once during an event.&nbsp; &nbsp; &nbsp; &nbsp; 7 8 9<br /># One or more areas can be specified with this option. (Default: not defined)<br />; area_detect value</p><p># PGM file to use as a sensitivity mask.<br /># Full path name to. (Default: not defined)<br />; mask_file value</p><p># Dynamically create a mask file during operation (default: 0)<br /># Adjust speed of mask changes from 0 (off) to 10 (fast)<br />smart_mask_speed 0</p><p># Ignore sudden massive light intensity changes given as a percentage of the picture<br /># area that changed intensity. Valid range: 0 - 100 , default: 0 = disabled<br />lightswitch 0</p><p># Picture frames must contain motion at least the specified number of frames<br /># in a row before they are detected as true motion. At the default of 1, all<br /># motion is detected. Valid range: 1 to thousands, recommended 1-5<br />minimum_motion_frames 1</p><p># Specifies the number of pre-captured (buffered) pictures from before motion<br /># was detected that will be output at motion detection.<br /># Recommended range: 0 to 5 (default: 0)<br /># Do not use large values! Large values will cause Motion to skip video frames and<br /># cause unsmooth mpegs. To smooth mpegs use larger values of post_capture instead.<br />pre_capture 0</p><p># Number of frames to capture after motion is no longer detected (default: 0)<br />post_capture 0</p><p># Gap is the seconds of no motion detection that triggers the end of an event<br /># An event is defined as a series of motion images taken within a short timeframe.<br /># Recommended value is 60 seconds (Default). The value 0 is allowed and disables<br /># events causing all Motion to be written to one single mpeg file and no pre_capture.<br />gap 60</p><p># Maximum length in seconds of an mpeg movie<br /># When value is exceeded a new mpeg file is created. (Default: 0 = infinite)<br />max_mpeg_time 0</p><p># Always save images even if there was no motion (default: off)<br />output_all off</p><br /><p>############################################################<br /># Image File Output<br />############################################################</p><p># Output &#039;normal&#039; pictures when motion is detected (default: on)<br /># Valid values: on, off, first, best, center<br /># When set to &#039;first&#039;, only the first picture of an event is saved.<br /># Picture with most motion of an event is saved when set to &#039;best&#039;.<br /># Picture with motion nearest center of picture is saved when set to &#039;center&#039;.<br /># Can be used as preview shot for the corresponding movie.<br />output_normal on</p><p># Output pictures with only the pixels moving object (ghost images) (default: off)<br />output_motion off</p><p># The quality (in percent) to be used by the jpeg compression (default: 75)<br />quality 75</p><p># Output ppm images instead of jpeg (default: off)<br />ppm off</p><br /><p>############################################################<br /># FFMPEG related options<br /># Film (mpeg) file output, and deinterlacing of the video input<br /># The options movie_filename and timelapse_filename are also used<br /># by the ffmpeg feature<br />############################################################</p><p># Use ffmpeg to encode mpeg movies in realtime (default: off)<br />ffmpeg_cap_new on</p><p># Use ffmpeg to make movies with only the pixels moving<br /># object (ghost images) (default: off)<br />ffmpeg_cap_motion off</p><p># Use ffmpeg to encode a timelapse movie <br /># Default value 0 = off - else save frame every Nth second<br />ffmpeg_timelapse 0</p><p># The file rollover mode of the timelapse video<br /># Valid values: hourly, daily (default), weekly-sunday, weekly-monday, monthly, manual<br />ffmpeg_timelapse_mode daily</p><p># Bitrate to be used by the ffmpeg encoder (default: 400000)<br /># This option is ignored if ffmpeg_variable_bitrate is not 0 (disabled)<br />ffmpeg_bps 500000</p><p># Enables and defines variable bitrate for the ffmpeg encoder.<br /># ffmpeg_bps is ignored if variable bitrate is enabled.<br /># Valid values: 0 (default) = fixed bitrate defined by ffmpeg_bps,<br /># or the range 2 - 31 where 2 means best quality and 31 is worst.<br />ffmpeg_variable_bitrate 0</p><p># Codec to used by ffmpeg for the video compression.<br /># Timelapse mpegs are always made in mpeg1 format independent from this option.<br /># Supported formats are: mpeg1 (ffmpeg-0.4.8 only), mpeg4 (default), and msmpeg4.<br /># mpeg1 - gives you files with extension .mpg<br /># mpeg4 or msmpeg4 - gives you files with extension .avi<br /># msmpeg4 is recommended for use with Windows Media Player because<br /># it requires no installation of codec on the Windows client.<br /># swf - gives you a flash film with extension .swf<br /># flv - gives you a flash video with extension .flv<br /># ffv1 - FF video codec 1 for Lossless Encoding ( experimental )<br /># mov - QuickTime ( testing )<br />ffmpeg_video_codec mpeg4</p><p># Use ffmpeg to deinterlace video. Necessary if you use an analog camera<br /># and see horizontal combing on moving objects in video or pictures.<br /># (default: off)<br />ffmpeg_deinterlace off</p><br /><p>############################################################<br /># Snapshots (Traditional Periodic Webcam File Output)<br />############################################################</p><p># Make automated snapshot every N seconds (default: 0 = disabled)<br />snapshot_interval 0</p><br /><p>############################################################<br /># Text Display<br /># %Y = year, %m = month, %d = date,<br /># %H = hour, %M = minute, %S = second, %T = HH:MM:SS,<br /># %v = event, %q = frame number, %t = thread (camera) number,<br /># %D = changed pixels, %N = noise level, \n = new line,<br /># %i and %J = width and height of motion area,<br /># %K and %L = X and Y coordinates of motion center<br /># %C = value defined by text_event - do not use with text_event!<br /># You can put quotation marks around the text to allow<br /># leading spaces<br />############################################################</p><p># Locate and draw a box around the moving object.<br /># Valid values: on, off and preview (default: off)<br /># Set to &#039;preview&#039; will only draw a box in preview_shot pictures.<br />locate off</p><p># Draws the timestamp using same options as C function strftime(3)<br /># Default: %Y-%m-%d\n%T = date in ISO format and time in 24 hour clock<br /># Text is placed in lower right corner<br />text_right %Y-%m-%d\n%T-%q</p><p># Draw a user defined text on the images using same options as C function strftime(3)<br /># Default: Not defined = no text<br /># Text is placed in lower left corner<br />; text_left CAMERA %t</p><p># Draw the number of changed pixed on the images (default: off)<br /># Will normally be set to off except when you setup and adjust the motion settings<br /># Text is placed in upper right corner<br />text_changes off</p><p># This option defines the value of the special event conversion specifier %C<br /># You can use any conversion specifier in this option except %C. Date and time<br /># values are from the timestamp of the first image in the current event.<br /># Default: %Y%m%d%H%M%S<br /># The idea is that %C can be used filenames and text_left/right for creating<br /># a unique identifier for each event.<br />text_event %Y%m%d%H%M%S</p><p># Draw characters at twice normal size on images. (default: off)<br />text_double off</p><br /><p>############################################################<br /># Target Directories and filenames For Images And Films<br /># For the options snapshot_, jpeg_, mpeg_ and timelapse_filename<br /># you can use conversion specifiers<br /># %Y = year, %m = month, %d = date,<br /># %H = hour, %M = minute, %S = second,<br /># %v = event, %q = frame number, %t = thread (camera) number,<br /># %D = changed pixels, %N = noise level,<br /># %i and %J = width and height of motion area,<br /># %K and %L = X and Y coordinates of motion center<br /># %C = value defined by text_event<br /># Quotation marks round string are allowed.<br />############################################################</p><p># Target base directory for pictures and films<br /># Recommended to use absolute path. (Default: current working directory)<br />#target_dir /usr/local/apache2/htdocs/cam1<br />target_dir /mnt/sda3/Videosurveillance/cam1</p><p># File path for snapshots (jpeg or ppm) relative to target_dir<br /># Default: %v-%Y%m%d%H%M%S-snapshot<br /># Default value is equivalent to legacy oldlayout option<br /># For Motion 3.0 compatible mode choose: %Y/%m/%d/%H/%M/%S-snapshot<br /># File extension .jpg or .ppm is automatically added so do not include this.<br /># Note: A symbolic link called lastsnap.jpg created in the target_dir will always<br /># point to the latest snapshot, unless snapshot_filename is exactly &#039;lastsnap&#039;<br />snapshot_filename %v-%Y%m%d%H%M%S-snapshot</p><p># File path for motion triggered images (jpeg or ppm) relative to target_dir<br /># Default: %v-%Y%m%d%H%M%S-%q<br /># Default value is equivalent to legacy oldlayout option<br /># For Motion 3.0 compatible mode choose: %Y/%m/%d/%H/%M/%S-%q<br /># File extension .jpg or .ppm is automatically added so do not include this<br /># Set to &#039;preview&#039; together with best-preview feature enables special naming<br /># convention for preview shots. See motion guide for details<br />jpeg_filename %v-%Y%m%d%H%M%S-%q</p><p># File path for motion triggered ffmpeg films (mpeg) relative to target_dir<br /># Default: %v-%Y%m%d%H%M%S<br /># Default value is equivalent to legacy oldlayout option<br /># For Motion 3.0 compatible mode choose: %Y/%m/%d/%H%M%S<br /># File extension .mpg or .avi is automatically added so do not include this<br /># This option was previously called ffmpeg_filename<br />movie_filename %v-%Y%m%d%H%M%S</p><p># File path for timelapse mpegs relative to target_dir<br /># Default: %Y%m%d-timelapse<br /># Default value is near equivalent to legacy oldlayout option<br /># For Motion 3.0 compatible mode choose: %Y/%m/%d-timelapse<br /># File extension .mpg is automatically added so do not include this<br />timelapse_filename %Y%m%d-timelapse</p><br /><p>############################################################<br /># Live Webcam Server<br />############################################################</p><p># The mini-http server listens to this port for requests (default: 0 = disabled)<br />webcam_port 8081</p><p># Quality of the jpeg images produced (default: 50)<br />webcam_quality 50</p><p># Output frames at 1 fps when no motion is detected and increase to the<br /># rate given by webcam_maxrate when motion is detected (default: off)<br />webcam_motion off</p><p># Maximum framerate for webcam streams (default: 1)<br />webcam_maxrate 1</p><p># Restrict webcam connections to localhost only (default: on)<br />webcam_localhost on</p><p># Limits the number of images per connection (default: 0 = unlimited)<br /># Number can be defined by multiplying actual webcam rate by desired number of seconds<br /># Actual webcam rate is the smallest of the numbers framerate and webcam_maxrate<br />webcam_limit 0</p><br /><p>############################################################<br /># HTTP Based Control<br />############################################################</p><p># TCP/IP port for the http server to listen on (default: 0 = disabled)<br />control_port 8080</p><p># Restrict control connections to localhost only (default: on)<br />control_localhost on</p><p># Output for http server, select off to choose raw text plain (default: on)<br />control_html_output on</p><p># Authentication for the http based control. Syntax username:password<br /># Default: not defined (Disabled)<br />; control_authentication username:password</p><br /><p>############################################################<br /># Tracking (Pan/Tilt)<br />############################################################</p><p># Type of tracker (0=none (default), 1=stepper, 2=iomojo, 3=pwc, 4=generic, 5=uvcvideo)<br /># The generic type enables the definition of motion center and motion size to<br /># be used with the conversion specifiers for options like on_motion_detected<br />track_type 0</p><p># Enable auto tracking (default: off)<br />track_auto off</p><p># Serial port of motor (default: none)<br />; track_port value</p><p># Motor number for x-axis (default: 0)<br />track_motorx 0</p><p># Motor number for y-axis (default: 0)<br />track_motory 0</p><p># Maximum value on x-axis (default: 0)<br />track_maxx 0</p><p># Maximum value on y-axis (default: 0)<br />track_maxy 0</p><p># ID of an iomojo camera if used (default: 0)<br />track_iomojo_id 0</p><p># Angle in degrees the camera moves per step on the X-axis<br /># with auto-track (default: 10)<br /># Currently only used with pwc type cameras<br />track_step_angle_x 10</p><p># Angle in degrees the camera moves per step on the Y-axis<br /># with auto-track (default: 10)<br /># Currently only used with pwc type cameras<br />track_step_angle_y 10</p><p># Delay to wait for after tracking movement as number<br /># of picture frames (default: 10)<br />track_move_wait 10</p><p># Speed to set the motor to (stepper motor option) (default: 255)<br />track_speed 255</p><p># Number of steps to make (stepper motor option) (default: 40)<br />track_stepsize 40</p><br /><p>############################################################<br /># External Commands, Warnings and Logging:<br /># You can use conversion specifiers for the on_xxxx commands<br /># %Y = year, %m = month, %d = date,<br /># %H = hour, %M = minute, %S = second,<br /># %v = event, %q = frame number, %t = thread (camera) number,<br /># %D = changed pixels, %N = noise level,<br /># %i and %J = width and height of motion area,<br /># %K and %L = X and Y coordinates of motion center<br /># %C = value defined by text_event<br /># %f = filename with full path<br /># %n = number indicating filetype<br /># Both %f and %n are only defined for on_picture_save,<br /># on_movie_start and on_movie_end<br /># Quotation marks round string are allowed.<br />############################################################</p><p># Do not sound beeps when detecting motion (default: on)<br /># Note: Motion never beeps when running in daemon mode.<br />quiet on</p><p># Command to be executed when an event starts. (default: none)<br /># An event starts at first motion detected after a period of no motion defined by gap <br />; on_event_start value</p><p># Command to be executed when an event ends after a period of no motion<br /># (default: none). The period of no motion is defined by option gap.<br />; on_event_end value</p><p># Command to be executed when a picture (.ppm|.jpg) is saved (default: none)<br /># To give the filename as an argument to a command append it with %f<br />; on_picture_save value</p><p># Command to be executed when a motion frame is detected (default: none)<br />; on_motion_detected value</p><p># Command to be executed when motion in a predefined area is detected<br /># Check option &#039;area_detect&#039;.&nbsp; &nbsp;(default: none)<br />; on_area_detected value</p><p># Command to be executed when a movie file (.mpg|.avi) is created. (default: none)<br /># To give the filename as an argument to a command append it with %f<br />; on_movie_start value</p><p># Command to be executed when a movie file (.mpg|.avi) is closed. (default: none)<br /># To give the filename as an argument to a command append it with %f<br />; on_movie_end value</p><p># Command to be executed when a camera can&#039;t be opened or if it is lost<br /># NOTE: There is situations when motion doesn&#039;t detect a lost camera!<br /># It depends on the driver, some drivers don&#039;t detect a lost camera at all<br /># Some hang the motion thread. Some even hang the PC! (default: none)<br />; on_camera_lost value</p><p>############################################################<br /># Common Options For MySQL and PostgreSQL database features.<br /># Options require the MySQL/PostgreSQL options to be active also.<br />############################################################</p><p># Log to the database when creating motion triggered image file&nbsp; (default: on)<br />sql_log_image off</p><p># Log to the database when creating a snapshot image file (default: on)<br />sql_log_snapshot off</p><p># Log to the database when creating motion triggered mpeg file (default: off)<br />sql_log_mpeg off</p><p># Log to the database when creating timelapse mpeg file (default: off)<br />sql_log_timelapse off</p><p># SQL query string that is sent to the database<br /># Use same conversion specifiers has for text features<br /># Additional special conversion specifiers are<br /># %n = the number representing the file_type<br /># %f = filename with full path<br /># Default value:<br /># insert into security(camera, filename, frame, file_type, time_stamp, text_event) values(&#039;%t&#039;, &#039;%f&#039;, &#039;%q&#039;, &#039;%n&#039;, &#039;%Y-%m-%d %T&#039;, &#039;%C&#039;)<br />#sql_query insert into security(camera, filename, frame, file_type, time_stamp, event_time_stamp) values(&#039;%t&#039;, &#039;%f&#039;, &#039;%q&#039;, &#039;%n&#039;, &#039;%Y-%m-%d %T&#039;, &#039;%C&#039;)</p><br /><p>############################################################<br /># Database Options For MySQL<br />############################################################</p><p># Mysql database to log to (default: not defined)<br />; mysql_db value</p><p># The host on which the database is located (default: localhost)<br />; mysql_host value</p><p># User account name for MySQL database (default: not defined)<br />; mysql_user value</p><p># User password for MySQL database (default: not defined)<br />; mysql_password value</p><br /><p>############################################################<br /># Database Options For PostgreSQL<br />############################################################</p><p># PostgreSQL database to log to (default: not defined)<br />; pgsql_db value</p><p># The host on which the database is located (default: localhost)<br />; pgsql_host value</p><p># User account name for PostgreSQL database (default: not defined)<br />; pgsql_user value</p><p># User password for PostgreSQL database (default: not defined)<br />; pgsql_password value</p><p># Port on which the PostgreSQL database is located (default: 5432)<br />; pgsql_port 5432</p><br /><p>############################################################<br /># Video Loopback Device (vloopback project)<br />############################################################</p><p># Output images to a video4linux loopback device<br /># The value &#039;-&#039; means next available (default: not defined)<br />; video_pipe value</p><p># Output motion images to a video4linux loopback device<br /># The value &#039;-&#039; means next available (default: not defined)<br />; motion_video_pipe value</p><br /><p>##############################################################<br /># Thread config files - One for each camera.<br /># Except if only one camera - You only need this config file.<br /># If you have more than one camera you MUST define one thread<br /># config file for each camera in addition to this config file.<br />##############################################################</p><p># Remember: If you have more than one camera you must have one<br /># thread file for each camera. E.g. 2 cameras requires 3 files:<br /># This motion.conf file AND thread1.conf and thread2.conf.<br /># Only put the options that are unique to each camera in the<br /># thread config files. <br />; thread /usr/local/etc/thread1.conf<br />; thread /usr/local/etc/thread2.conf<br />; thread /usr/local/etc/thread3.conf<br />; thread /usr/local/etc/thread4.conf</p>											<p class="post-edited">(Last edited by <strong>miguipda</strong> on 3 Feb 2012, 23:04)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p157405">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">miguipda</div>
					<div class="post-datetime">
						14 Feb 2012, 22:01					</div>
				</div>
				<div class="post-content content">
					<p>Hi everybody,</p><p>I finally found why my router did not recognized three of my USB webcams.</p><p>Buze told it on this post by saying :<br />&quot;I had a webcam that wouldn&#039;t work before, and worked afterward, I suspect some devices make the 5V &quot;dip&quot; too much at startup.&quot;<br /><a href="https://forum.openwrt.org/viewtopic.php?id=34188">https://forum.openwrt.org/viewtopic.php?id=34188</a></p><p>In his router case he solved it by :<br />&quot;BTW guys, speaking of USB, I managed to improve the compatibility with &quot;bigger&quot; devices by adding a 100uF on the USB rail itself&quot;</p><p>Now I need to find how to solve it on our ASUS WL-500g Premium.</p><p>If somebody can help it would be appreciated.</p><p>Miguipda ;-)</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>