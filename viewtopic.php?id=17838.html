<!DOCTYPE html>
<html lang="en-US">
<head>

	<title>OpenWrt Forum Archive</title>

	<meta charset="UTF-8">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="assets/css/common.css">

</head>
<body>

<div class="container">

<header class="main-header">
	<h1 class="logo"><a href="index.html"><img src="assets/img/logo.png" width="376" height="88" alt="OpenWrt Forum Archive"></a></h1>
</header>

<aside>
	<p>This is a read-only archive of the old OpenWrt forum. The current OpenWrt forum resides at <a href="https://forum.openwrt.org/">https://forum.openwrt.org/</a>.</p>
	<p class="minor">In May 2018, the OpenWrt forum suffered a total data loss. This archive is an effort to restore and make available as much content as possible. Content may be missing or not representing the latest edited version.</p>
</aside>

<main>
	<header>
		<h1><span class="minor">Topic:</span> How to change your subnet to something other than 192.168.1.1?</h1>
	</header>
	<div class="notice minor">
		<p>
			The content of this topic has been archived
							on 6 Apr 2018.
										There are no obvious gaps in this topic, but there may still be some posts missing at the end.
					</p>
	</div>

	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
			
		
		
			<article class="post" id="p77124">
				<div class="post-metadata">
					<div class="post-num">Post #1</div>
					<div class="post-author">sandman2211</div>
					<div class="post-datetime">
						26 Nov 2008, 18:09					</div>
				</div>
				<div class="post-content content">
					<p>Is there a guide anywhere on how to do this the right way?&nbsp; I looked around but I couldn&#039;t find it.&nbsp; I don&#039;t think I&#039;m using the correct terminology to search for it.&nbsp; I don&#039;t need to change the subnet anymore but this is really bugging me.</p><p>Software: Kamikaze 7.09 with Webif<br />Hardware: Linksys WRT54GL v1.1</p><p>I was trying to change my network over to 192.168.2.x.&nbsp; I&#039;ve done this before on the original Linksys UI, the Dlink UI, and the Webif UI for White Russian RC5.&nbsp; I changed the LAN IP and gateway to be 192.168.2.1 same as always, but when the settings were applied I was locked out.&nbsp; Couldn&#039;t ping the router from my PC so I tried setting a static IP on the new settings and with the old ones, no luck.&nbsp; I couldn&#039;t telnet or SSH to the router since my client couldn&#039;t communicate with it.&nbsp; So I went into failsafe and edited the config back to how it should be.&nbsp; I repeated this process 3 more times trying various options to change the subnet but kept getting the same results.&nbsp; Sorry I can&#039;t be more specific but I don&#039;t have access to it at this moment.</p><p>Also a big thanks to all the devs - I appreciate all the work you&#039;ve put into this!</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77212">
				<div class="post-metadata">
					<div class="post-num">Post #2</div>
					<div class="post-author">yves</div>
					<div class="post-datetime">
						28 Nov 2008, 21:45					</div>
				</div>
				<div class="post-content content">
					<p>I have a very similar issue. </p><p>received my WRT54GL V1.1 yesterday, configured it with linksys standard firmware and moved to 192.168.2.1 without issues. </p><p>Then this morning i flashed the routeur with downloads.x-wrt.org/xwrt/kamikaze/8.09_RC1/brcm-2.4/default/openwrt-wrt54g-squashfs.bin </p><p>Lovely interface with much more elements than the one of linksys. </p><p>But then&nbsp; i tried to moved to 192.168.2.1....... <br />Also configured the wireless and DHCP for WAN in the same timeframe. <br />I saved , and then never got back the router. Now it doesn&#039;t allocate an IP in DHCP, and when fixing IP address on computer i can&#039;t see the router in 192.168.2.1 and only see it during a few seconds in 192.168.1.1 just after power down/up. </p><p>As a consequence i&#039;m wondering is there a bug around that ?? </p><p>What is the accurate and safe way to recover the situation, while reading wiki and news it seams easy to definitively break the router . <br />failsafe ... but then what should i do ? <br />Hard reset clean the NVRAM, but the i take the risk to also loose the boot_wait<br />tftp and reflash it ?&nbsp; </p><p> makes 24H hours the router is at home and i broke it already so not sure of the safe way to do it. <br />Also if this is really a bug , i would appreciate to know as normally i need to move to this config and when i recover would like to set it up if of course it doesn&#039;t break the router</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77214">
				<div class="post-metadata">
					<div class="post-num">Post #3</div>
					<div class="post-author">JimWright</div>
					<div class="post-datetime">
						28 Nov 2008, 23:55					</div>
				</div>
				<div class="post-content content">
					<p>If you were using the Luci web interface, all you would need to do is change the IPv4 Address from 192.168.1.1 to 192.168.2.1.&nbsp; If you changed this value some other way, then there may have been some issue with how you changed it that may have caused an error.&nbsp; Subnet address should be 255.255.255.0.</p><p>If you have a machine attached to the router, set it to use DHCP addressing, and then note what is shown for the router/gateway address, that would be what your router is set to...</p><p>It may help to know exactly how you changed the settings.</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77226">
				<div class="post-metadata">
					<div class="post-num">Post #4</div>
					<div class="post-author">yves</div>
					<div class="post-datetime">
						29 Nov 2008, 06:46					</div>
				</div>
				<div class="post-content content">
					<p>changed through the web interface. </p><p>Now if the question is the full exact set of changes..... humm to tell you that i would need to have access to the router. <br />Just wanted to changed the LAN router IP to 192.168.2.1 and set the wifi. <br />Also does the softare backup previous configuration to compoare elements ?</p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77265">
				<div class="post-metadata">
					<div class="post-num">Post #5</div>
					<div class="post-author">yves</div>
					<div class="post-datetime">
						29 Nov 2008, 22:04					</div>
				</div>
				<div class="post-content content">
					<p>Help yourself <img src="https://forum.openwrt.org/img/smilies/smile.png" width="15" height="15" alt="smile" /> </p><p>So the solution if others get into same kind of problems. ( the router considered that a DHCP server was supposed to provide the configuration on the LAN portion and no default is available in case no DHCP exist ( a way of improvment) )</p><p>As mention the router didn&#039;t respond at all after i made some modifications. ( trying to move to 192.168.2.1 anda ctivating wifi) <br />As such the first thing to do is to try to understand what the router is really doing . To do that just use a network sniffer . tcpdump or wireshark could be of use here. <br />Manually setup a fixed ip on your computer network cable card (like 192.168.1.101 mask 255.255.255.0) <br />plug network cable to the lan of linksys or your router <br />launch those tools on the interface of the cable lan. <br />Power up the router <br />You might see at beginning some elements and broadcast explained in other articles. <br />Wait 2 or 3 minutes and check what goes on this network. </p><p>If same issue as me you should see :<br />0.0.0.0&nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.255&nbsp; DHCP&nbsp; &nbsp; &nbsp;DHCP Request&nbsp; - Transaction ID 0xnnnnnn</p><p>This means that the router is broadcasting a DHCP request, in other words the router rather than being a DHCP server is waiting for a dhcp server to provide him an ip and config. </p><p>As a consequence you need to setup a DHCP server on your desktop to be able to get the router to have an ip and recover from the situation. <br />If you are on windows you might consider using tftpd32.exe&nbsp; worked fine for me. The router succeeded to get an ip and then i was able to connect to the web interface easily and fix it.</p><br /><p>Network Configuartion / Lan configuration / Connection Type / <br />Don&#039;t put DHCP, but rahter Static IP </p><br /><p>Hope it helps others .<br />y.</p>											<p class="post-edited">(Last edited by <strong>yves</strong> on 29 Nov 2008, 22:08)</p>
									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77316">
				<div class="post-metadata">
					<div class="post-num">Post #6</div>
					<div class="post-author">JimWright</div>
					<div class="post-datetime">
						1 Dec 2008, 00:25					</div>
				</div>
				<div class="post-content content">
					<p>My next suggestion was going to be to communicate with the router directly through the console port (assuming you&#039;ve added a serial interface if the router didn&#039;t have one originally) and edit the /etc/config/network file...</p><p>Having serial access to the console port has saved me more than a few times.&nbsp; <img src="https://forum.openwrt.org/img/smilies/wink.png" width="15" height="15" alt="wink" /></p>									</div>
			</article>

			
		
			
		
		
			<article class="post" id="p77363">
				<div class="post-metadata">
					<div class="post-num">Post #7</div>
					<div class="post-author">sandman2211</div>
					<div class="post-datetime">
						1 Dec 2008, 16:22					</div>
				</div>
				<div class="post-content content">
					<p>Thanks a lot for the suggestions.&nbsp; I finally just gave up on this whole idea because it&#039;s just trying to treat a symptom, not fix the problem.&nbsp; My problem is my PC&#039;s network configuration is totally screwed up (was permanently stuck on a 192.168.2.x static IP) and I was trying to sidestep it by configuring the router to be compatible with it.&nbsp; I tried reinstalling my NIC driver and even TCP/IP but no luck.&nbsp; Now I can&#039;t even set it back to that static IP so it&#039;s time for the annual OS reinstall that Windows seems to be so fond of...</p>									</div>
			</article>

			
		
	
			<div class="notice minor">
			<p>The discussion might have continued from here.</p>
		</div>
	
	<div class="pagination"><div class="pagination-number">Page 1 of 1</div><nav><ul><li class="pagination-current"><span>1</span></li></ul></nav></div>
</main>

</div>


<!-- Created in a hurry and not indicative of usual code quality. Here's a number: 0 -->

</body>
</html>